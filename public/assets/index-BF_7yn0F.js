(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const M of document.querySelectorAll('link[rel="modulepreload"]'))P(M);new MutationObserver(M=>{for(const O of M)if(O.type==="childList")for(const v of O.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&P(v)}).observe(document,{childList:!0,subtree:!0});function y(M){const O={};return M.integrity&&(O.integrity=M.integrity),M.referrerPolicy&&(O.referrerPolicy=M.referrerPolicy),M.crossOrigin==="use-credentials"?O.credentials="include":M.crossOrigin==="anonymous"?O.credentials="omit":O.credentials="same-origin",O}function P(M){if(M.ep)return;M.ep=!0;const O=y(M);fetch(M.href,O)}})();const Vd=()=>{};var sh={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=function(A){const c=[];let y=0;for(let P=0;P<A.length;P++){let M=A.charCodeAt(P);M<128?c[y++]=M:M<2048?(c[y++]=M>>6|192,c[y++]=M&63|128):(M&64512)===55296&&P+1<A.length&&(A.charCodeAt(P+1)&64512)===56320?(M=65536+((M&1023)<<10)+(A.charCodeAt(++P)&1023),c[y++]=M>>18|240,c[y++]=M>>12&63|128,c[y++]=M>>6&63|128,c[y++]=M&63|128):(c[y++]=M>>12|224,c[y++]=M>>6&63|128,c[y++]=M&63|128)}return c},Gd=function(A){const c=[];let y=0,P=0;for(;y<A.length;){const M=A[y++];if(M<128)c[P++]=String.fromCharCode(M);else if(M>191&&M<224){const O=A[y++];c[P++]=String.fromCharCode((M&31)<<6|O&63)}else if(M>239&&M<365){const O=A[y++],v=A[y++],S=A[y++],t=((M&7)<<18|(O&63)<<12|(v&63)<<6|S&63)-65536;c[P++]=String.fromCharCode(55296+(t>>10)),c[P++]=String.fromCharCode(56320+(t&1023))}else{const O=A[y++],v=A[y++];c[P++]=String.fromCharCode((M&15)<<12|(O&63)<<6|v&63)}}return c.join("")},Vl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(A,c){if(!Array.isArray(A))throw Error("encodeByteArray takes an array as a parameter");this.init_();const y=c?this.byteToCharMapWebSafe_:this.byteToCharMap_,P=[];for(let M=0;M<A.length;M+=3){const O=A[M],v=M+1<A.length,S=v?A[M+1]:0,t=M+2<A.length,o=t?A[M+2]:0,m=O>>2,a=(O&3)<<4|S>>4;let r=(S&15)<<2|o>>6,n=o&63;t||(n=64,v||(r=64)),P.push(y[m],y[a],y[r],y[n])}return P.join("")},encodeString(A,c){return this.HAS_NATIVE_SUPPORT&&!c?btoa(A):this.encodeByteArray(bl(A),c)},decodeString(A,c){return this.HAS_NATIVE_SUPPORT&&!c?atob(A):Gd(this.decodeStringToByteArray(A,c))},decodeStringToByteArray(A,c){this.init_();const y=c?this.charToByteMapWebSafe_:this.charToByteMap_,P=[];for(let M=0;M<A.length;){const O=y[A.charAt(M++)],S=M<A.length?y[A.charAt(M)]:0;++M;const o=M<A.length?y[A.charAt(M)]:64;++M;const a=M<A.length?y[A.charAt(M)]:64;if(++M,O==null||S==null||o==null||a==null)throw new Ud;const r=O<<2|S>>4;if(P.push(r),o!==64){const n=S<<4&240|o>>2;if(P.push(n),a!==64){const e=o<<6&192|a;P.push(e)}}}return P},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let A=0;A<this.ENCODED_VALS.length;A++)this.byteToCharMap_[A]=this.ENCODED_VALS.charAt(A),this.charToByteMap_[this.byteToCharMap_[A]]=A,this.byteToCharMapWebSafe_[A]=this.ENCODED_VALS_WEBSAFE.charAt(A),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[A]]=A,A>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(A)]=A,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(A)]=A)}}};class Ud extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zd=function(A){const c=bl(A);return Vl.encodeByteArray(c,!0)},Bn=function(A){return zd(A).replace(/\./g,"")},Gl=function(A){try{return Vl.decodeString(A,!0)}catch(c){console.error("base64Decode failed: ",c)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd=()=>Xd().__FIREBASE_DEFAULTS__,Yd=()=>{if(typeof process>"u"||typeof sh>"u")return;const A=sh.__FIREBASE_DEFAULTS__;if(A)return JSON.parse(A)},Hd=()=>{if(typeof document>"u")return;let A;try{A=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const c=A&&Gl(A[1]);return c&&JSON.parse(c)},er=()=>{try{return Vd()||Wd()||Yd()||Hd()}catch(A){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${A}`);return}},Ul=A=>{var c,y;return(y=(c=er())===null||c===void 0?void 0:c.emulatorHosts)===null||y===void 0?void 0:y[A]},Kd=A=>{const c=Ul(A);if(!c)return;const y=c.lastIndexOf(":");if(y<=0||y+1===c.length)throw new Error(`Invalid host ${c} with no separate hostname and port!`);const P=parseInt(c.substring(y+1),10);return c[0]==="["?[c.substring(1,y-1),P]:[c.substring(0,y),P]},zl=()=>{var A;return(A=er())===null||A===void 0?void 0:A.config},Xl=A=>{var c;return(c=er())===null||c===void 0?void 0:c[`_${A}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((c,y)=>{this.resolve=c,this.reject=y})}wrapCallback(c){return(y,P)=>{y?this.reject(y):this.resolve(P),typeof c=="function"&&(this.promise.catch(()=>{}),c.length===1?c(y):c(y,P))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(A){return A.endsWith(".cloudworkstations.dev")}async function Wl(A){return(await fetch(A,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(A,c){if(A.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const y={alg:"none",type:"JWT"},P=c||"demo-project",M=A.iat||0,O=A.sub||A.user_id;if(!O)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const v=Object.assign({iss:`https://securetoken.google.com/${P}`,aud:P,iat:M,exp:M+3600,auth_time:M,sub:O,user_id:O,firebase:{sign_in_provider:"custom",identities:{}}},A);return[Bn(JSON.stringify(y)),Bn(JSON.stringify(v)),""].join(".")}const ws={};function Qd(){const A={prod:[],emulator:[]};for(const c of Object.keys(ws))ws[c]?A.emulator.push(c):A.prod.push(c);return A}function Jd(A){let c=document.getElementById(A),y=!1;return c||(c=document.createElement("div"),c.setAttribute("id",A),y=!0),{created:y,element:c}}let nh=!1;function Yl(A,c){if(typeof window>"u"||typeof document>"u"||!Ys(window.location.host)||ws[A]===c||ws[A]||nh)return;ws[A]=c;function y(r){return`__firebase__banner__${r}`}const P="__firebase__banner",O=Qd().prod.length>0;function v(){const r=document.getElementById(P);r&&r.remove()}function S(r){r.style.display="flex",r.style.background="#7faaf0",r.style.position="fixed",r.style.bottom="5px",r.style.left="5px",r.style.padding=".5em",r.style.borderRadius="5px",r.style.alignItems="center"}function t(r,n){r.setAttribute("width","24"),r.setAttribute("id",n),r.setAttribute("height","24"),r.setAttribute("viewBox","0 0 24 24"),r.setAttribute("fill","none"),r.style.marginLeft="-6px"}function o(){const r=document.createElement("span");return r.style.cursor="pointer",r.style.marginLeft="16px",r.style.fontSize="24px",r.innerHTML=" &times;",r.onclick=()=>{nh=!0,v()},r}function m(r,n){r.setAttribute("id",n),r.innerText="Learn more",r.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",r.setAttribute("target","__blank"),r.style.paddingLeft="5px",r.style.textDecoration="underline"}function a(){const r=Jd(P),n=y("text"),e=document.getElementById(n)||document.createElement("span"),s=y("learnmore"),h=document.getElementById(s)||document.createElement("a"),i=y("preprendIcon"),l=document.getElementById(i)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(r.created){const u=r.element;S(u),m(h,s);const d=o();t(l,i),u.append(l,e,h,d),document.body.appendChild(u)}O?(e.innerText="Preview backend disconnected.",l.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(l.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,e.innerText="Preview backend running in this workspace."),e.setAttribute("id",n)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jd(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(he())}function Zd(){var A;const c=(A=er())===null||A===void 0?void 0:A.forceEnvironment;if(c==="node")return!0;if(c==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qd(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _d(){const A=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof A=="object"&&A.id!==void 0}function tc(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ec(){const A=he();return A.indexOf("MSIE ")>=0||A.indexOf("Trident/")>=0}function ic(){return!Zd()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sc(){try{return typeof indexedDB=="object"}catch{return!1}}function nc(){return new Promise((A,c)=>{try{let y=!0;const P="validate-browser-context-for-indexeddb-analytics-module",M=self.indexedDB.open(P);M.onsuccess=()=>{M.result.close(),y||self.indexedDB.deleteDatabase(P),A(!0)},M.onupgradeneeded=()=>{y=!1},M.onerror=()=>{var O;c(((O=M.error)===null||O===void 0?void 0:O.message)||"")}}catch(y){c(y)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc="FirebaseError";class ke extends Error{constructor(c,y,P){super(y),this.code=c,this.customData=P,this.name=rc,Object.setPrototypeOf(this,ke.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hs.prototype.create)}}class Hs{constructor(c,y,P){this.service=c,this.serviceName=y,this.errors=P}create(c,...y){const P=y[0]||{},M=`${this.service}/${c}`,O=this.errors[c],v=O?ac(O,P):"Error",S=`${this.serviceName}: ${v} (${M}).`;return new ke(M,S,P)}}function ac(A,c){return A.replace(oc,(y,P)=>{const M=c[P];return M!=null?String(M):`<${P}?>`})}const oc=/\{\$([^}]+)}/g;function hc(A){for(const c in A)if(Object.prototype.hasOwnProperty.call(A,c))return!1;return!0}function Si(A,c){if(A===c)return!0;const y=Object.keys(A),P=Object.keys(c);for(const M of y){if(!P.includes(M))return!1;const O=A[M],v=c[M];if(rh(O)&&rh(v)){if(!Si(O,v))return!1}else if(O!==v)return!1}for(const M of P)if(!y.includes(M))return!1;return!0}function rh(A){return A!==null&&typeof A=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(A){const c=[];for(const[y,P]of Object.entries(A))Array.isArray(P)?P.forEach(M=>{c.push(encodeURIComponent(y)+"="+encodeURIComponent(M))}):c.push(encodeURIComponent(y)+"="+encodeURIComponent(P));return c.length?"&"+c.join("&"):""}function Ss(A){const c={};return A.replace(/^\?/,"").split("&").forEach(P=>{if(P){const[M,O]=P.split("=");c[decodeURIComponent(M)]=decodeURIComponent(O)}}),c}function Es(A){const c=A.indexOf("?");if(!c)return"";const y=A.indexOf("#",c);return A.substring(c,y>0?y:void 0)}function lc(A,c){const y=new uc(A,c);return y.subscribe.bind(y)}class uc{constructor(c,y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=y,this.task.then(()=>{c(this)}).catch(P=>{this.error(P)})}next(c){this.forEachObserver(y=>{y.next(c)})}error(c){this.forEachObserver(y=>{y.error(c)}),this.close(c)}complete(){this.forEachObserver(c=>{c.complete()}),this.close()}subscribe(c,y,P){let M;if(c===void 0&&y===void 0&&P===void 0)throw new Error("Missing Observer.");fc(c,["next","error","complete"])?M=c:M={next:c,error:y,complete:P},M.next===void 0&&(M.next=Br),M.error===void 0&&(M.error=Br),M.complete===void 0&&(M.complete=Br);const O=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?M.error(this.finalError):M.complete()}catch{}}),this.observers.push(M),O}unsubscribeOne(c){this.observers===void 0||this.observers[c]===void 0||(delete this.observers[c],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(c){if(!this.finalized)for(let y=0;y<this.observers.length;y++)this.sendOne(y,c)}sendOne(c,y){this.task.then(()=>{if(this.observers!==void 0&&this.observers[c]!==void 0)try{y(this.observers[c])}catch(P){typeof console<"u"&&console.error&&console.error(P)}})}close(c){this.finalized||(this.finalized=!0,c!==void 0&&(this.finalError=c),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fc(A,c){if(typeof A!="object"||A===null)return!1;for(const y of c)if(y in A&&typeof A[y]=="function")return!0;return!1}function Br(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ue(A){return A&&A._delegate?A._delegate:A}class Ei{constructor(c,y,P){this.name=c,this.instanceFactory=y,this.type=P,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(c){return this.instantiationMode=c,this}setMultipleInstances(c){return this.multipleInstances=c,this}setServiceProps(c){return this.serviceProps=c,this}setInstanceCreatedCallback(c){return this.onInstanceCreated=c,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(c,y){this.name=c,this.container=y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(c){const y=this.normalizeInstanceIdentifier(c);if(!this.instancesDeferred.has(y)){const P=new kd;if(this.instancesDeferred.set(y,P),this.isInitialized(y)||this.shouldAutoInitialize())try{const M=this.getOrInitializeService({instanceIdentifier:y});M&&P.resolve(M)}catch{}}return this.instancesDeferred.get(y).promise}getImmediate(c){var y;const P=this.normalizeInstanceIdentifier(c==null?void 0:c.identifier),M=(y=c==null?void 0:c.optional)!==null&&y!==void 0?y:!1;if(this.isInitialized(P)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:P})}catch(O){if(M)return null;throw O}else{if(M)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(c){if(c.name!==this.name)throw Error(`Mismatching Component ${c.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=c,!!this.shouldAutoInitialize()){if(vc(c))try{this.getOrInitializeService({instanceIdentifier:xi})}catch{}for(const[y,P]of this.instancesDeferred.entries()){const M=this.normalizeInstanceIdentifier(y);try{const O=this.getOrInitializeService({instanceIdentifier:M});P.resolve(O)}catch{}}}}clearInstance(c=xi){this.instancesDeferred.delete(c),this.instancesOptions.delete(c),this.instances.delete(c)}async delete(){const c=Array.from(this.instances.values());await Promise.all([...c.filter(y=>"INTERNAL"in y).map(y=>y.INTERNAL.delete()),...c.filter(y=>"_delete"in y).map(y=>y._delete())])}isComponentSet(){return this.component!=null}isInitialized(c=xi){return this.instances.has(c)}getOptions(c=xi){return this.instancesOptions.get(c)||{}}initialize(c={}){const{options:y={}}=c,P=this.normalizeInstanceIdentifier(c.instanceIdentifier);if(this.isInitialized(P))throw Error(`${this.name}(${P}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const M=this.getOrInitializeService({instanceIdentifier:P,options:y});for(const[O,v]of this.instancesDeferred.entries()){const S=this.normalizeInstanceIdentifier(O);P===S&&v.resolve(M)}return M}onInit(c,y){var P;const M=this.normalizeInstanceIdentifier(y),O=(P=this.onInitCallbacks.get(M))!==null&&P!==void 0?P:new Set;O.add(c),this.onInitCallbacks.set(M,O);const v=this.instances.get(M);return v&&c(v,M),()=>{O.delete(c)}}invokeOnInitCallbacks(c,y){const P=this.onInitCallbacks.get(y);if(P)for(const M of P)try{M(c,y)}catch{}}getOrInitializeService({instanceIdentifier:c,options:y={}}){let P=this.instances.get(c);if(!P&&this.component&&(P=this.component.instanceFactory(this.container,{instanceIdentifier:cc(c),options:y}),this.instances.set(c,P),this.instancesOptions.set(c,y),this.invokeOnInitCallbacks(P,c),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,c,P)}catch{}return P||null}normalizeInstanceIdentifier(c=xi){return this.component?this.component.multipleInstances?c:xi:c}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cc(A){return A===xi?void 0:A}function vc(A){return A.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(c){this.name=c,this.providers=new Map}addComponent(c){const y=this.getProvider(c.name);if(y.isComponentSet())throw new Error(`Component ${c.name} has already been registered with ${this.name}`);y.setComponent(c)}addOrOverwriteComponent(c){this.getProvider(c.name).isComponentSet()&&this.providers.delete(c.name),this.addComponent(c)}getProvider(c){if(this.providers.has(c))return this.providers.get(c);const y=new dc(c,this);return this.providers.set(c,y),y}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft;(function(A){A[A.DEBUG=0]="DEBUG",A[A.VERBOSE=1]="VERBOSE",A[A.INFO=2]="INFO",A[A.WARN=3]="WARN",A[A.ERROR=4]="ERROR",A[A.SILENT=5]="SILENT"})(Ft||(Ft={}));const mc={debug:Ft.DEBUG,verbose:Ft.VERBOSE,info:Ft.INFO,warn:Ft.WARN,error:Ft.ERROR,silent:Ft.SILENT},gc=Ft.INFO,yc={[Ft.DEBUG]:"log",[Ft.VERBOSE]:"log",[Ft.INFO]:"info",[Ft.WARN]:"warn",[Ft.ERROR]:"error"},xc=(A,c,...y)=>{if(c<A.logLevel)return;const P=new Date().toISOString(),M=yc[c];if(M)console[M](`[${P}]  ${A.name}:`,...y);else throw new Error(`Attempted to log a message with an invalid logType (value: ${c})`)};class ya{constructor(c){this.name=c,this._logLevel=gc,this._logHandler=xc,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(c){if(!(c in Ft))throw new TypeError(`Invalid value "${c}" assigned to \`logLevel\``);this._logLevel=c}setLogLevel(c){this._logLevel=typeof c=="string"?mc[c]:c}get logHandler(){return this._logHandler}set logHandler(c){if(typeof c!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=c}get userLogHandler(){return this._userLogHandler}set userLogHandler(c){this._userLogHandler=c}debug(...c){this._userLogHandler&&this._userLogHandler(this,Ft.DEBUG,...c),this._logHandler(this,Ft.DEBUG,...c)}log(...c){this._userLogHandler&&this._userLogHandler(this,Ft.VERBOSE,...c),this._logHandler(this,Ft.VERBOSE,...c)}info(...c){this._userLogHandler&&this._userLogHandler(this,Ft.INFO,...c),this._logHandler(this,Ft.INFO,...c)}warn(...c){this._userLogHandler&&this._userLogHandler(this,Ft.WARN,...c),this._logHandler(this,Ft.WARN,...c)}error(...c){this._userLogHandler&&this._userLogHandler(this,Ft.ERROR,...c),this._logHandler(this,Ft.ERROR,...c)}}const Tc=(A,c)=>c.some(y=>A instanceof y);let ah,oh;function Sc(){return ah||(ah=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ec(){return oh||(oh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Hl=new WeakMap,kr=new WeakMap,Kl=new WeakMap,br=new WeakMap,xa=new WeakMap;function Cc(A){const c=new Promise((y,P)=>{const M=()=>{A.removeEventListener("success",O),A.removeEventListener("error",v)},O=()=>{y(ii(A.result)),M()},v=()=>{P(A.error),M()};A.addEventListener("success",O),A.addEventListener("error",v)});return c.then(y=>{y instanceof IDBCursor&&Hl.set(y,A)}).catch(()=>{}),xa.set(c,A),c}function Ac(A){if(kr.has(A))return;const c=new Promise((y,P)=>{const M=()=>{A.removeEventListener("complete",O),A.removeEventListener("error",v),A.removeEventListener("abort",v)},O=()=>{y(),M()},v=()=>{P(A.error||new DOMException("AbortError","AbortError")),M()};A.addEventListener("complete",O),A.addEventListener("error",v),A.addEventListener("abort",v)});kr.set(A,c)}let $r={get(A,c,y){if(A instanceof IDBTransaction){if(c==="done")return kr.get(A);if(c==="objectStoreNames")return A.objectStoreNames||Kl.get(A);if(c==="store")return y.objectStoreNames[1]?void 0:y.objectStore(y.objectStoreNames[0])}return ii(A[c])},set(A,c,y){return A[c]=y,!0},has(A,c){return A instanceof IDBTransaction&&(c==="done"||c==="store")?!0:c in A}};function Pc(A){$r=A($r)}function Rc(A){return A===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(c,...y){const P=A.call(Vr(this),c,...y);return Kl.set(P,c.sort?c.sort():[c]),ii(P)}:Ec().includes(A)?function(...c){return A.apply(Vr(this),c),ii(Hl.get(this))}:function(...c){return ii(A.apply(Vr(this),c))}}function wc(A){return typeof A=="function"?Rc(A):(A instanceof IDBTransaction&&Ac(A),Tc(A,Sc())?new Proxy(A,$r):A)}function ii(A){if(A instanceof IDBRequest)return Cc(A);if(br.has(A))return br.get(A);const c=wc(A);return c!==A&&(br.set(A,c),xa.set(c,A)),c}const Vr=A=>xa.get(A);function Mc(A,c,{blocked:y,upgrade:P,blocking:M,terminated:O}={}){const v=indexedDB.open(A,c),S=ii(v);return P&&v.addEventListener("upgradeneeded",t=>{P(ii(v.result),t.oldVersion,t.newVersion,ii(v.transaction),t)}),y&&v.addEventListener("blocked",t=>y(t.oldVersion,t.newVersion,t)),S.then(t=>{O&&t.addEventListener("close",()=>O()),M&&t.addEventListener("versionchange",o=>M(o.oldVersion,o.newVersion,o))}).catch(()=>{}),S}const Ic=["get","getKey","getAll","getAllKeys","count"],Lc=["put","add","delete","clear"],Gr=new Map;function hh(A,c){if(!(A instanceof IDBDatabase&&!(c in A)&&typeof c=="string"))return;if(Gr.get(c))return Gr.get(c);const y=c.replace(/FromIndex$/,""),P=c!==y,M=Lc.includes(y);if(!(y in(P?IDBIndex:IDBObjectStore).prototype)||!(M||Ic.includes(y)))return;const O=async function(v,...S){const t=this.transaction(v,M?"readwrite":"readonly");let o=t.store;return P&&(o=o.index(S.shift())),(await Promise.all([o[y](...S),M&&t.done]))[0]};return Gr.set(c,O),O}Pc(A=>({...A,get:(c,y,P)=>hh(c,y)||A.get(c,y,P),has:(c,y)=>!!hh(c,y)||A.has(c,y)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(c){this.container=c}getPlatformInfoString(){return this.container.getProviders().map(y=>{if(Oc(y)){const P=y.getImmediate();return`${P.library}/${P.version}`}else return null}).filter(y=>y).join(" ")}}function Oc(A){const c=A.getComponent();return(c==null?void 0:c.type)==="VERSION"}const Qr="@firebase/app",lh="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const We=new ya("@firebase/app"),Dc="@firebase/app-compat",Nc="@firebase/analytics-compat",Bc="@firebase/analytics",bc="@firebase/app-check-compat",Vc="@firebase/app-check",Gc="@firebase/auth",Uc="@firebase/auth-compat",zc="@firebase/database",Xc="@firebase/data-connect",Wc="@firebase/database-compat",Yc="@firebase/functions",Hc="@firebase/functions-compat",Kc="@firebase/installations",kc="@firebase/installations-compat",$c="@firebase/messaging",Qc="@firebase/messaging-compat",Jc="@firebase/performance",jc="@firebase/performance-compat",Zc="@firebase/remote-config",qc="@firebase/remote-config-compat",_c="@firebase/storage",tv="@firebase/storage-compat",ev="@firebase/firestore",iv="@firebase/ai",sv="@firebase/firestore-compat",nv="firebase",rv="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr="[DEFAULT]",av={[Qr]:"fire-core",[Dc]:"fire-core-compat",[Bc]:"fire-analytics",[Nc]:"fire-analytics-compat",[Vc]:"fire-app-check",[bc]:"fire-app-check-compat",[Gc]:"fire-auth",[Uc]:"fire-auth-compat",[zc]:"fire-rtdb",[Xc]:"fire-data-connect",[Wc]:"fire-rtdb-compat",[Yc]:"fire-fn",[Hc]:"fire-fn-compat",[Kc]:"fire-iid",[kc]:"fire-iid-compat",[$c]:"fire-fcm",[Qc]:"fire-fcm-compat",[Jc]:"fire-perf",[jc]:"fire-perf-compat",[Zc]:"fire-rc",[qc]:"fire-rc-compat",[_c]:"fire-gcs",[tv]:"fire-gcs-compat",[ev]:"fire-fst",[sv]:"fire-fst-compat",[iv]:"fire-vertex","fire-js":"fire-js",[nv]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn=new Map,ov=new Map,jr=new Map;function uh(A,c){try{A.container.addComponent(c)}catch(y){We.debug(`Component ${c.name} failed to register with FirebaseApp ${A.name}`,y)}}function Qi(A){const c=A.name;if(jr.has(c))return We.debug(`There were multiple attempts to register component ${c}.`),!1;jr.set(c,A);for(const y of bn.values())uh(y,A);for(const y of ov.values())uh(y,A);return!0}function Ta(A,c){const y=A.container.getProvider("heartbeat").getImmediate({optional:!0});return y&&y.triggerHeartbeat(),A.container.getProvider(c)}function ve(A){return A==null?!1:A.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},si=new Hs("app","Firebase",hv);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(c,y,P){this._isDeleted=!1,this._options=Object.assign({},c),this._config=Object.assign({},y),this._name=y.name,this._automaticDataCollectionEnabled=y.automaticDataCollectionEnabled,this._container=P,this.container.addComponent(new Ei("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(c){this.checkDestroyed(),this._automaticDataCollectionEnabled=c}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(c){this._isDeleted=c}checkDestroyed(){if(this.isDeleted)throw si.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=rv;function kl(A,c={}){let y=A;typeof c!="object"&&(c={name:c});const P=Object.assign({name:Jr,automaticDataCollectionEnabled:!0},c),M=P.name;if(typeof M!="string"||!M)throw si.create("bad-app-name",{appName:String(M)});if(y||(y=zl()),!y)throw si.create("no-options");const O=bn.get(M);if(O){if(Si(y,O.options)&&Si(P,O.config))return O;throw si.create("duplicate-app",{appName:M})}const v=new pc(M);for(const t of jr.values())v.addComponent(t);const S=new lv(y,P,v);return bn.set(M,S),S}function $l(A=Jr){const c=bn.get(A);if(!c&&A===Jr&&zl())return kl();if(!c)throw si.create("no-app",{appName:A});return c}function ni(A,c,y){var P;let M=(P=av[A])!==null&&P!==void 0?P:A;y&&(M+=`-${y}`);const O=M.match(/\s|\//),v=c.match(/\s|\//);if(O||v){const S=[`Unable to register library "${M}" with version "${c}":`];O&&S.push(`library name "${M}" contains illegal characters (whitespace or "/")`),O&&v&&S.push("and"),v&&S.push(`version name "${c}" contains illegal characters (whitespace or "/")`),We.warn(S.join(" "));return}Qi(new Ei(`${M}-version`,()=>({library:M,version:c}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="firebase-heartbeat-database",fv=1,Ds="firebase-heartbeat-store";let Ur=null;function Ql(){return Ur||(Ur=Mc(uv,fv,{upgrade:(A,c)=>{switch(c){case 0:try{A.createObjectStore(Ds)}catch(y){console.warn(y)}}}}).catch(A=>{throw si.create("idb-open",{originalErrorMessage:A.message})})),Ur}async function dv(A){try{const y=(await Ql()).transaction(Ds),P=await y.objectStore(Ds).get(Jl(A));return await y.done,P}catch(c){if(c instanceof ke)We.warn(c.message);else{const y=si.create("idb-get",{originalErrorMessage:c==null?void 0:c.message});We.warn(y.message)}}}async function fh(A,c){try{const P=(await Ql()).transaction(Ds,"readwrite");await P.objectStore(Ds).put(c,Jl(A)),await P.done}catch(y){if(y instanceof ke)We.warn(y.message);else{const P=si.create("idb-set",{originalErrorMessage:y==null?void 0:y.message});We.warn(P.message)}}}function Jl(A){return`${A.name}!${A.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv=1024,vv=30;class pv{constructor(c){this.container=c,this._heartbeatsCache=null;const y=this.container.getProvider("app").getImmediate();this._storage=new gv(y),this._heartbeatsCachePromise=this._storage.read().then(P=>(this._heartbeatsCache=P,P))}async triggerHeartbeat(){var c,y;try{const M=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),O=dh();if(((c=this._heartbeatsCache)===null||c===void 0?void 0:c.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((y=this._heartbeatsCache)===null||y===void 0?void 0:y.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===O||this._heartbeatsCache.heartbeats.some(v=>v.date===O))return;if(this._heartbeatsCache.heartbeats.push({date:O,agent:M}),this._heartbeatsCache.heartbeats.length>vv){const v=yv(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(v,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(P){We.warn(P)}}async getHeartbeatsHeader(){var c;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((c=this._heartbeatsCache)===null||c===void 0?void 0:c.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const y=dh(),{heartbeatsToSend:P,unsentEntries:M}=mv(this._heartbeatsCache.heartbeats),O=Bn(JSON.stringify({version:2,heartbeats:P}));return this._heartbeatsCache.lastSentHeartbeatDate=y,M.length>0?(this._heartbeatsCache.heartbeats=M,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),O}catch(y){return We.warn(y),""}}}function dh(){return new Date().toISOString().substring(0,10)}function mv(A,c=cv){const y=[];let P=A.slice();for(const M of A){const O=y.find(v=>v.agent===M.agent);if(O){if(O.dates.push(M.date),ch(y)>c){O.dates.pop();break}}else if(y.push({agent:M.agent,dates:[M.date]}),ch(y)>c){y.pop();break}P=P.slice(1)}return{heartbeatsToSend:y,unsentEntries:P}}class gv{constructor(c){this.app=c,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sc()?nc().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const y=await dv(this.app);return y!=null&&y.heartbeats?y:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(c){var y;if(await this._canUseIndexedDBPromise){const M=await this.read();return fh(this.app,{lastSentHeartbeatDate:(y=c.lastSentHeartbeatDate)!==null&&y!==void 0?y:M.lastSentHeartbeatDate,heartbeats:c.heartbeats})}else return}async add(c){var y;if(await this._canUseIndexedDBPromise){const M=await this.read();return fh(this.app,{lastSentHeartbeatDate:(y=c.lastSentHeartbeatDate)!==null&&y!==void 0?y:M.lastSentHeartbeatDate,heartbeats:[...M.heartbeats,...c.heartbeats]})}else return}}function ch(A){return Bn(JSON.stringify({version:2,heartbeats:A})).length}function yv(A){if(A.length===0)return-1;let c=0,y=A[0].date;for(let P=1;P<A.length;P++)A[P].date<y&&(y=A[P].date,c=P);return c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(A){Qi(new Ei("platform-logger",c=>new Fc(c),"PRIVATE")),Qi(new Ei("heartbeat",c=>new pv(c),"PRIVATE")),ni(Qr,lh,A),ni(Qr,lh,"esm2017"),ni("fire-js","")}xv("");function Sa(A,c){var y={};for(var P in A)Object.prototype.hasOwnProperty.call(A,P)&&c.indexOf(P)<0&&(y[P]=A[P]);if(A!=null&&typeof Object.getOwnPropertySymbols=="function")for(var M=0,P=Object.getOwnPropertySymbols(A);M<P.length;M++)c.indexOf(P[M])<0&&Object.prototype.propertyIsEnumerable.call(A,P[M])&&(y[P[M]]=A[P[M]]);return y}function jl(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Tv=jl,Zl=new Hs("auth","Firebase",jl());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn=new ya("@firebase/auth");function Sv(A,...c){Vn.logLevel<=Ft.WARN&&Vn.warn(`Auth (${is}): ${A}`,...c)}function An(A,...c){Vn.logLevel<=Ft.ERROR&&Vn.error(`Auth (${is}): ${A}`,...c)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(A,...c){throw Ea(A,...c)}function we(A,...c){return Ea(A,...c)}function ql(A,c,y){const P=Object.assign(Object.assign({},Tv()),{[c]:y});return new Hs("auth","Firebase",P).create(c,{appName:A.name})}function Ue(A){return ql(A,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ea(A,...c){if(typeof A!="string"){const y=c[0],P=[...c.slice(1)];return P[0]&&(P[0].appName=A.name),A._errorFactory.create(y,...P)}return Zl.create(A,...c)}function Et(A,c,...y){if(!A)throw Ea(c,...y)}function be(A){const c="INTERNAL ASSERTION FAILED: "+A;throw An(c),new Error(c)}function Ye(A,c){A||be(c)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(){var A;return typeof self<"u"&&((A=self.location)===null||A===void 0?void 0:A.href)||""}function Ev(){return vh()==="http:"||vh()==="https:"}function vh(){var A;return typeof self<"u"&&((A=self.location)===null||A===void 0?void 0:A.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ev()||_d()||"connection"in navigator)?navigator.onLine:!0}function Av(){if(typeof navigator>"u")return null;const A=navigator;return A.languages&&A.languages[0]||A.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(c,y){this.shortDelay=c,this.longDelay=y,Ye(y>c,"Short delay should be less than long delay!"),this.isMobile=jd()||tc()}get(){return Cv()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(A,c){Ye(A.emulator,"Emulator should always be set here");const{url:y}=A.emulator;return c?`${y}${c.startsWith("/")?c.slice(1):c}`:y}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{static initialize(c,y,P){this.fetchImpl=c,y&&(this.headersImpl=y),P&&(this.responseImpl=P)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;be("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;be("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;be("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wv=new ks(3e4,6e4);function ci(A,c){return A.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:A.tenantId}):c}async function vi(A,c,y,P,M={}){return tu(A,M,async()=>{let O={},v={};P&&(c==="GET"?v=P:O={body:JSON.stringify(P)});const S=Ks(Object.assign({key:A.config.apiKey},v)).slice(1),t=await A._getAdditionalHeaders();t["Content-Type"]="application/json",A.languageCode&&(t["X-Firebase-Locale"]=A.languageCode);const o=Object.assign({method:c,headers:t},O);return qd()||(o.referrerPolicy="no-referrer"),A.emulatorConfig&&Ys(A.emulatorConfig.host)&&(o.credentials="include"),_l.fetch()(await eu(A,A.config.apiHost,y,S),o)})}async function tu(A,c,y){A._canInitEmulator=!1;const P=Object.assign(Object.assign({},Pv),c);try{const M=new Iv(A),O=await Promise.race([y(),M.promise]);M.clearNetworkTimeout();const v=await O.json();if("needConfirmation"in v)throw yn(A,"account-exists-with-different-credential",v);if(O.ok&&!("errorMessage"in v))return v;{const S=O.ok?v.errorMessage:v.error.message,[t,o]=S.split(" : ");if(t==="FEDERATED_USER_ID_ALREADY_LINKED")throw yn(A,"credential-already-in-use",v);if(t==="EMAIL_EXISTS")throw yn(A,"email-already-in-use",v);if(t==="USER_DISABLED")throw yn(A,"user-disabled",v);const m=P[t]||t.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw ql(A,m,o);Se(A,m)}}catch(M){if(M instanceof ke)throw M;Se(A,"network-request-failed",{message:String(M)})}}async function $s(A,c,y,P,M={}){const O=await vi(A,c,y,P,M);return"mfaPendingCredential"in O&&Se(A,"multi-factor-auth-required",{_serverResponse:O}),O}async function eu(A,c,y,P){const M=`${c}${y}?${P}`,O=A,v=O.config.emulator?Ca(A.config,M):`${A.config.apiScheme}://${M}`;return Rv.includes(y)&&(await O._persistenceManagerAvailable,O._getPersistenceType()==="COOKIE")?O._getPersistence()._getFinalTarget(v).toString():v}function Mv(A){switch(A){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Iv{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((y,P)=>{this.timer=setTimeout(()=>P(we(this.auth,"network-request-failed")),wv.get())})}}function yn(A,c,y){const P={appName:A.name};y.email&&(P.email=y.email),y.phoneNumber&&(P.phoneNumber=y.phoneNumber);const M=we(A,c,P);return M.customData._tokenResponse=y,M}function ph(A){return A!==void 0&&A.enterprise!==void 0}class Lv{constructor(c){if(this.siteKey="",this.recaptchaEnforcementState=[],c.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=c.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=c.recaptchaEnforcementState}getProviderEnforcementState(c){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const y of this.recaptchaEnforcementState)if(y.provider&&y.provider===c)return Mv(y.enforcementState);return null}isProviderEnabled(c){return this.getProviderEnforcementState(c)==="ENFORCE"||this.getProviderEnforcementState(c)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Fv(A,c){return vi(A,"GET","/v2/recaptchaConfig",ci(A,c))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ov(A,c){return vi(A,"POST","/v1/accounts:delete",c)}async function Gn(A,c){return vi(A,"POST","/v1/accounts:lookup",c)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(A){if(A)try{const c=new Date(Number(A));if(!isNaN(c.getTime()))return c.toUTCString()}catch{}}async function Dv(A,c=!1){const y=ue(A),P=await y.getIdToken(c),M=Aa(P);Et(M&&M.exp&&M.auth_time&&M.iat,y.auth,"internal-error");const O=typeof M.firebase=="object"?M.firebase:void 0,v=O==null?void 0:O.sign_in_provider;return{claims:M,token:P,authTime:Ms(zr(M.auth_time)),issuedAtTime:Ms(zr(M.iat)),expirationTime:Ms(zr(M.exp)),signInProvider:v||null,signInSecondFactor:(O==null?void 0:O.sign_in_second_factor)||null}}function zr(A){return Number(A)*1e3}function Aa(A){const[c,y,P]=A.split(".");if(c===void 0||y===void 0||P===void 0)return An("JWT malformed, contained fewer than 3 sections"),null;try{const M=Gl(y);return M?JSON.parse(M):(An("Failed to decode base64 JWT payload"),null)}catch(M){return An("Caught error parsing JWT payload as JSON",M==null?void 0:M.toString()),null}}function mh(A){const c=Aa(A);return Et(c,"internal-error"),Et(typeof c.exp<"u","internal-error"),Et(typeof c.iat<"u","internal-error"),Number(c.exp)-Number(c.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ns(A,c,y=!1){if(y)return c;try{return await c}catch(P){throw P instanceof ke&&Nv(P)&&A.auth.currentUser===A&&await A.auth.signOut(),P}}function Nv({code:A}){return A==="auth/user-disabled"||A==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(c){var y;if(c){const P=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),P}else{this.errorBackoff=3e4;const M=((y=this.user.stsTokenManager.expirationTime)!==null&&y!==void 0?y:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(c=!1){if(!this.isRunning)return;const y=this.getInterval(c);this.timerId=setTimeout(async()=>{await this.iteration()},y)}async iteration(){try{await this.user.getIdToken(!0)}catch(c){(c==null?void 0:c.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(c,y){this.createdAt=c,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ms(this.lastLoginAt),this.creationTime=Ms(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Un(A){var c;const y=A.auth,P=await A.getIdToken(),M=await Ns(A,Gn(y,{idToken:P}));Et(M==null?void 0:M.users.length,y,"internal-error");const O=M.users[0];A._notifyReloadListener(O);const v=!((c=O.providerUserInfo)===null||c===void 0)&&c.length?iu(O.providerUserInfo):[],S=Vv(A.providerData,v),t=A.isAnonymous,o=!(A.email&&O.passwordHash)&&!(S!=null&&S.length),m=t?o:!1,a={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:S,metadata:new qr(O.createdAt,O.lastLoginAt),isAnonymous:m};Object.assign(A,a)}async function bv(A){const c=ue(A);await Un(c),await c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)}function Vv(A,c){return[...A.filter(P=>!c.some(M=>M.providerId===P.providerId)),...c]}function iu(A){return A.map(c=>{var{providerId:y}=c,P=Sa(c,["providerId"]);return{providerId:y,uid:P.rawId||"",displayName:P.displayName||null,email:P.email||null,phoneNumber:P.phoneNumber||null,photoURL:P.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gv(A,c){const y=await tu(A,{},async()=>{const P=Ks({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:M,apiKey:O}=A.config,v=await eu(A,M,"/v1/token",`key=${O}`),S=await A._getAdditionalHeaders();return S["Content-Type"]="application/x-www-form-urlencoded",_l.fetch()(v,{method:"POST",headers:S,body:P})});return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}}async function Uv(A,c){return vi(A,"POST","/v2/accounts:revokeToken",ci(A,c))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){Et(c.idToken,"internal-error"),Et(typeof c.idToken<"u","internal-error"),Et(typeof c.refreshToken<"u","internal-error");const y="expiresIn"in c&&typeof c.expiresIn<"u"?Number(c.expiresIn):mh(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,y)}updateFromIdToken(c){Et(c.length!==0,"internal-error");const y=mh(c);this.updateTokensAndExpiration(c,null,y)}async getToken(c,y=!1){return!y&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,c,"user-token-expired"),this.refreshToken?(await this.refresh(c,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(c,y){const{accessToken:P,refreshToken:M,expiresIn:O}=await Gv(c,y);this.updateTokensAndExpiration(P,M,Number(O))}updateTokensAndExpiration(c,y,P){this.refreshToken=y||null,this.accessToken=c||null,this.expirationTime=Date.now()+P*1e3}static fromJSON(c,y){const{refreshToken:P,accessToken:M,expirationTime:O}=y,v=new Yi;return P&&(Et(typeof P=="string","internal-error",{appName:c}),v.refreshToken=P),M&&(Et(typeof M=="string","internal-error",{appName:c}),v.accessToken=M),O&&(Et(typeof O=="number","internal-error",{appName:c}),v.expirationTime=O),v}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new Yi,this.toJSON())}_performRefresh(){return be("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(A,c){Et(typeof A=="string"||typeof A>"u","internal-error",{appName:c})}class ye{constructor(c){var{uid:y,auth:P,stsTokenManager:M}=c,O=Sa(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Bv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=P,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new qr(O.createdAt||void 0,O.lastLoginAt||void 0)}async getIdToken(c){const y=await Ns(this,this.stsTokenManager.getToken(this.auth,c));return Et(y,this.auth,"internal-error"),this.accessToken!==y&&(this.accessToken=y,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),y}getIdTokenResult(c){return Dv(this,c)}reload(){return bv(this)}_assign(c){this!==c&&(Et(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(y=>Object.assign({},y)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){const y=new ye(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}));return y.metadata._copy(this.metadata),y}_onReload(c){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(c,y=!1){let P=!1;c.idToken&&c.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(c),P=!0),y&&await Un(this),await this.auth._persistUserIfCurrent(this),P&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ve(this.auth.app))return Promise.reject(Ue(this.auth));const c=await this.getIdToken();return await Ns(this,Ov(this.auth,{idToken:c})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,y){var P,M,O,v,S,t,o,m;const a=(P=y.displayName)!==null&&P!==void 0?P:void 0,r=(M=y.email)!==null&&M!==void 0?M:void 0,n=(O=y.phoneNumber)!==null&&O!==void 0?O:void 0,e=(v=y.photoURL)!==null&&v!==void 0?v:void 0,s=(S=y.tenantId)!==null&&S!==void 0?S:void 0,h=(t=y._redirectEventId)!==null&&t!==void 0?t:void 0,i=(o=y.createdAt)!==null&&o!==void 0?o:void 0,l=(m=y.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:u,emailVerified:d,isAnonymous:f,providerData:p,stsTokenManager:g}=y;Et(u&&g,c,"internal-error");const x=Yi.fromJSON(this.name,g);Et(typeof u=="string",c,"internal-error"),je(a,c.name),je(r,c.name),Et(typeof d=="boolean",c,"internal-error"),Et(typeof f=="boolean",c,"internal-error"),je(n,c.name),je(e,c.name),je(s,c.name),je(h,c.name),je(i,c.name),je(l,c.name);const T=new ye({uid:u,auth:c,email:r,emailVerified:d,displayName:a,isAnonymous:f,photoURL:e,phoneNumber:n,tenantId:s,stsTokenManager:x,createdAt:i,lastLoginAt:l});return p&&Array.isArray(p)&&(T.providerData=p.map(E=>Object.assign({},E))),h&&(T._redirectEventId=h),T}static async _fromIdTokenResponse(c,y,P=!1){const M=new Yi;M.updateFromServerResponse(y);const O=new ye({uid:y.localId,auth:c,stsTokenManager:M,isAnonymous:P});return await Un(O),O}static async _fromGetAccountInfoResponse(c,y,P){const M=y.users[0];Et(M.localId!==void 0,"internal-error");const O=M.providerUserInfo!==void 0?iu(M.providerUserInfo):[],v=!(M.email&&M.passwordHash)&&!(O!=null&&O.length),S=new Yi;S.updateFromIdToken(P);const t=new ye({uid:M.localId,auth:c,stsTokenManager:S,isAnonymous:v}),o={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:O,metadata:new qr(M.createdAt,M.lastLoginAt),isAnonymous:!(M.email&&M.passwordHash)&&!(O!=null&&O.length)};return Object.assign(t,o),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new Map;function Ve(A){Ye(A instanceof Function,"Expected a class definition");let c=gh.get(A);return c?(Ye(c instanceof A,"Instance stored in cache mismatched with class"),c):(c=new A,gh.set(A,c),c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(c,y){this.storage[c]=y}async _get(c){const y=this.storage[c];return y===void 0?null:y}async _remove(c){delete this.storage[c]}_addListener(c,y){}_removeListener(c,y){}}su.type="NONE";const yh=su;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(A,c,y){return`firebase:${A}:${c}:${y}`}class Hi{constructor(c,y,P){this.persistence=c,this.auth=y,this.userKey=P;const{config:M,name:O}=this.auth;this.fullUserKey=Pn(this.userKey,M.apiKey,O),this.fullPersistenceKey=Pn("persistence",M.apiKey,O),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}async getCurrentUser(){const c=await this.persistence._get(this.fullUserKey);if(!c)return null;if(typeof c=="string"){const y=await Gn(this.auth,{idToken:c}).catch(()=>{});return y?ye._fromGetAccountInfoResponse(this.auth,y,c):null}return ye._fromJSON(this.auth,c)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(c){if(this.persistence===c)return;const y=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=c,y)return this.setCurrentUser(y)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(c,y,P="authUser"){if(!y.length)return new Hi(Ve(yh),c,P);const M=(await Promise.all(y.map(async o=>{if(await o._isAvailable())return o}))).filter(o=>o);let O=M[0]||Ve(yh);const v=Pn(P,c.config.apiKey,c.name);let S=null;for(const o of y)try{const m=await o._get(v);if(m){let a;if(typeof m=="string"){const r=await Gn(c,{idToken:m}).catch(()=>{});if(!r)break;a=await ye._fromGetAccountInfoResponse(c,r,m)}else a=ye._fromJSON(c,m);o!==O&&(S=a),O=o;break}}catch{}const t=M.filter(o=>o._shouldAllowMigration);return!O._shouldAllowMigration||!t.length?new Hi(O,c,P):(O=t[0],S&&await O._set(v,S.toJSON()),await Promise.all(y.map(async o=>{if(o!==O)try{await o._remove(v)}catch{}})),new Hi(O,c,P))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(A){const c=A.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(ou(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(nu(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(lu(c))return"Blackberry";if(uu(c))return"Webos";if(ru(c))return"Safari";if((c.includes("chrome/")||au(c))&&!c.includes("edge/"))return"Chrome";if(hu(c))return"Android";{const y=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,P=A.match(y);if((P==null?void 0:P.length)===2)return P[1]}return"Other"}function nu(A=he()){return/firefox\//i.test(A)}function ru(A=he()){const c=A.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function au(A=he()){return/crios\//i.test(A)}function ou(A=he()){return/iemobile/i.test(A)}function hu(A=he()){return/android/i.test(A)}function lu(A=he()){return/blackberry/i.test(A)}function uu(A=he()){return/webos/i.test(A)}function Pa(A=he()){return/iphone|ipad|ipod/i.test(A)||/macintosh/i.test(A)&&/mobile/i.test(A)}function zv(A=he()){var c;return Pa(A)&&!!(!((c=window.navigator)===null||c===void 0)&&c.standalone)}function Xv(){return ec()&&document.documentMode===10}function fu(A=he()){return Pa(A)||hu(A)||uu(A)||lu(A)||/windows phone/i.test(A)||ou(A)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(A,c=[]){let y;switch(A){case"Browser":y=xh(he());break;case"Worker":y=`${xh(he())}-${A}`;break;default:y=A}const P=c.length?c.join(","):"FirebaseCore-web";return`${y}/JsCore/${is}/${P}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,y){const P=O=>new Promise((v,S)=>{try{const t=c(O);v(t)}catch(t){S(t)}});P.onAbort=y,this.queue.push(P);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}async runMiddleware(c){if(this.auth.currentUser===c)return;const y=[];try{for(const P of this.queue)await P(c),P.onAbort&&y.push(P.onAbort)}catch(P){y.reverse();for(const M of y)try{M()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:P==null?void 0:P.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yv(A,c={}){return vi(A,"GET","/v2/passwordPolicy",ci(A,c))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv=6;class Kv{constructor(c){var y,P,M,O;const v=c.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(y=v.minPasswordLength)!==null&&y!==void 0?y:Hv,v.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=v.maxPasswordLength),v.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=v.containsLowercaseCharacter),v.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=v.containsUppercaseCharacter),v.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=v.containsNumericCharacter),v.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=v.containsNonAlphanumericCharacter),this.enforcementState=c.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(M=(P=c.allowedNonAlphanumericCharacters)===null||P===void 0?void 0:P.join(""))!==null&&M!==void 0?M:"",this.forceUpgradeOnSignin=(O=c.forceUpgradeOnSignin)!==null&&O!==void 0?O:!1,this.schemaVersion=c.schemaVersion}validatePassword(c){var y,P,M,O,v,S;const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(c,t),this.validatePasswordCharacterOptions(c,t),t.isValid&&(t.isValid=(y=t.meetsMinPasswordLength)!==null&&y!==void 0?y:!0),t.isValid&&(t.isValid=(P=t.meetsMaxPasswordLength)!==null&&P!==void 0?P:!0),t.isValid&&(t.isValid=(M=t.containsLowercaseLetter)!==null&&M!==void 0?M:!0),t.isValid&&(t.isValid=(O=t.containsUppercaseLetter)!==null&&O!==void 0?O:!0),t.isValid&&(t.isValid=(v=t.containsNumericCharacter)!==null&&v!==void 0?v:!0),t.isValid&&(t.isValid=(S=t.containsNonAlphanumericCharacter)!==null&&S!==void 0?S:!0),t}validatePasswordLengthOptions(c,y){const P=this.customStrengthOptions.minPasswordLength,M=this.customStrengthOptions.maxPasswordLength;P&&(y.meetsMinPasswordLength=c.length>=P),M&&(y.meetsMaxPasswordLength=c.length<=M)}validatePasswordCharacterOptions(c,y){this.updatePasswordCharacterOptionsStatuses(y,!1,!1,!1,!1);let P;for(let M=0;M<c.length;M++)P=c.charAt(M),this.updatePasswordCharacterOptionsStatuses(y,P>="a"&&P<="z",P>="A"&&P<="Z",P>="0"&&P<="9",this.allowedNonAlphanumericCharacters.includes(P))}updatePasswordCharacterOptionsStatuses(c,y,P,M,O){this.customStrengthOptions.containsLowercaseLetter&&(c.containsLowercaseLetter||(c.containsLowercaseLetter=y)),this.customStrengthOptions.containsUppercaseLetter&&(c.containsUppercaseLetter||(c.containsUppercaseLetter=P)),this.customStrengthOptions.containsNumericCharacter&&(c.containsNumericCharacter||(c.containsNumericCharacter=M)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(c.containsNonAlphanumericCharacter||(c.containsNonAlphanumericCharacter=O))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(c,y,P,M){this.app=c,this.heartbeatServiceProvider=y,this.appCheckServiceProvider=P,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Th(this),this.idTokenSubscription=new Th(this),this.beforeStateQueue=new Wv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zl,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=M.sdkClientVersion,this._persistenceManagerAvailable=new Promise(O=>this._resolvePersistenceManagerAvailable=O)}_initializeWithPersistence(c,y){return y&&(this._popupRedirectResolver=Ve(y)),this._initializationPromise=this.queue(async()=>{var P,M,O;if(!this._deleted&&(this.persistenceManager=await Hi.create(this,c),(P=this._resolvePersistenceManagerAvailable)===null||P===void 0||P.call(this),!this._deleted)){if(!((M=this._popupRedirectResolver)===null||M===void 0)&&M._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(y),this.lastNotifiedUid=((O=this.currentUser)===null||O===void 0?void 0:O.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const c=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!c)){if(this.currentUser&&c&&this.currentUser.uid===c.uid){this._currentUser._assign(c),await this.currentUser.getIdToken();return}await this._updateCurrentUser(c,!0)}}async initializeCurrentUserFromIdToken(c){try{const y=await Gn(this,{idToken:c}),P=await ye._fromGetAccountInfoResponse(this,y,c);await this.directlySetCurrentUser(P)}catch(y){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",y),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(c){var y;if(ve(this.app)){const v=this.app.settings.authIdToken;return v?new Promise(S=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(v).then(S,S))}):this.directlySetCurrentUser(null)}const P=await this.assertedPersistence.getCurrentUser();let M=P,O=!1;if(c&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const v=(y=this.redirectUser)===null||y===void 0?void 0:y._redirectEventId,S=M==null?void 0:M._redirectEventId,t=await this.tryRedirectSignIn(c);(!v||v===S)&&(t!=null&&t.user)&&(M=t.user,O=!0)}if(!M)return this.directlySetCurrentUser(null);if(!M._redirectEventId){if(O)try{await this.beforeStateQueue.runMiddleware(M)}catch(v){M=P,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(v))}return M?this.reloadAndSetCurrentUserOrClear(M):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===M._redirectEventId?this.directlySetCurrentUser(M):this.reloadAndSetCurrentUserOrClear(M)}async tryRedirectSignIn(c){let y=null;try{y=await this._popupRedirectResolver._completeRedirectFn(this,c,!0)}catch{await this._setRedirectUser(null)}return y}async reloadAndSetCurrentUserOrClear(c){try{await Un(c)}catch(y){if((y==null?void 0:y.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(c)}useDeviceLanguage(){this.languageCode=Av()}async _delete(){this._deleted=!0}async updateCurrentUser(c){if(ve(this.app))return Promise.reject(Ue(this));const y=c?ue(c):null;return y&&Et(y.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(y&&y._clone(this))}async _updateCurrentUser(c,y=!1){if(!this._deleted)return c&&Et(this.tenantId===c.tenantId,this,"tenant-id-mismatch"),y||await this.beforeStateQueue.runMiddleware(c),this.queue(async()=>{await this.directlySetCurrentUser(c),this.notifyAuthListeners()})}async signOut(){return ve(this.app)?Promise.reject(Ue(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(c){return ve(this.app)?Promise.reject(Ue(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ve(c))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(c){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const y=this._getPasswordPolicyInternal();return y.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):y.validatePassword(c)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const c=await Yv(this),y=new Kv(c);this.tenantId===null?this._projectPasswordPolicy=y:this._tenantPasswordPolicies[this.tenantId]=y}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(c){this._errorFactory=new Hs("auth","Firebase",c())}onAuthStateChanged(c,y,P){return this.registerStateListener(this.authStateSubscription,c,y,P)}beforeAuthStateChanged(c,y){return this.beforeStateQueue.pushCallback(c,y)}onIdTokenChanged(c,y,P){return this.registerStateListener(this.idTokenSubscription,c,y,P)}authStateReady(){return new Promise((c,y)=>{if(this.currentUser)c();else{const P=this.onAuthStateChanged(()=>{P(),c()},y)}})}async revokeAccessToken(c){if(this.currentUser){const y=await this.currentUser.getIdToken(),P={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:c,idToken:y};this.tenantId!=null&&(P.tenantId=this.tenantId),await Uv(this,P)}}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(c=this._currentUser)===null||c===void 0?void 0:c.toJSON()}}async _setRedirectUser(c,y){const P=await this.getOrInitRedirectPersistenceManager(y);return c===null?P.removeCurrentUser():P.setCurrentUser(c)}async getOrInitRedirectPersistenceManager(c){if(!this.redirectPersistenceManager){const y=c&&Ve(c)||this._popupRedirectResolver;Et(y,this,"argument-error"),this.redirectPersistenceManager=await Hi.create(this,[Ve(y._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(c){var y,P;return this._isInitialized&&await this.queue(async()=>{}),((y=this._currentUser)===null||y===void 0?void 0:y._redirectEventId)===c?this._currentUser:((P=this.redirectUser)===null||P===void 0?void 0:P._redirectEventId)===c?this.redirectUser:null}async _persistUserIfCurrent(c){if(c===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(c))}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const P=(y=(c=this.currentUser)===null||c===void 0?void 0:c.uid)!==null&&y!==void 0?y:null;this.lastNotifiedUid!==P&&(this.lastNotifiedUid=P,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,y,P,M){if(this._deleted)return()=>{};const O=typeof y=="function"?y:y.next.bind(y);let v=!1;const S=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(S,this,"internal-error"),S.then(()=>{v||O(this.currentUser)}),typeof y=="function"){const t=c.addObserver(y,P,M);return()=>{v=!0,t()}}else{const t=c.addObserver(y);return()=>{v=!0,t()}}}async directlySetCurrentUser(c){this.currentUser&&this.currentUser!==c&&this._currentUser._stopProactiveRefresh(),c&&this.isProactiveRefreshEnabled&&c._startProactiveRefresh(),this.currentUser=c,c?await this.assertedPersistence.setCurrentUser(c):await this.assertedPersistence.removeCurrentUser()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=du(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var c;const y={"X-Client-Version":this.clientVersion};this.app.options.appId&&(y["X-Firebase-gmpid"]=this.app.options.appId);const P=await((c=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||c===void 0?void 0:c.getHeartbeatsHeader());P&&(y["X-Firebase-Client"]=P);const M=await this._getAppCheckToken();return M&&(y["X-Firebase-AppCheck"]=M),y}async _getAppCheckToken(){var c;if(ve(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const y=await((c=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||c===void 0?void 0:c.getToken());return y!=null&&y.error&&Sv(`Error while retrieving App Check token: ${y.error}`),y==null?void 0:y.token}}function Mi(A){return ue(A)}class Th{constructor(c){this.auth=c,this.observer=null,this.addObserver=lc(y=>this.observer=y)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ir={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $v(A){ir=A}function cu(A){return ir.loadJS(A)}function Qv(){return ir.recaptchaEnterpriseScript}function Jv(){return ir.gapiScript}function jv(A){return`__${A}${Math.floor(Math.random()*1e6)}`}class Zv{constructor(){this.enterprise=new qv}ready(c){c()}execute(c,y){return Promise.resolve("token")}render(c,y){return""}}class qv{ready(c){c()}execute(c,y){return Promise.resolve("token")}render(c,y){return""}}const _v="recaptcha-enterprise",vu="NO_RECAPTCHA";class tp{constructor(c){this.type=_v,this.auth=Mi(c)}async verify(c="verify",y=!1){async function P(O){if(!y){if(O.tenantId==null&&O._agentRecaptchaConfig!=null)return O._agentRecaptchaConfig.siteKey;if(O.tenantId!=null&&O._tenantRecaptchaConfigs[O.tenantId]!==void 0)return O._tenantRecaptchaConfigs[O.tenantId].siteKey}return new Promise(async(v,S)=>{Fv(O,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(t=>{if(t.recaptchaKey===void 0)S(new Error("recaptcha Enterprise site key undefined"));else{const o=new Lv(t);return O.tenantId==null?O._agentRecaptchaConfig=o:O._tenantRecaptchaConfigs[O.tenantId]=o,v(o.siteKey)}}).catch(t=>{S(t)})})}function M(O,v,S){const t=window.grecaptcha;ph(t)?t.enterprise.ready(()=>{t.enterprise.execute(O,{action:c}).then(o=>{v(o)}).catch(()=>{v(vu)})}):S(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Zv().execute("siteKey",{action:"verify"}):new Promise((O,v)=>{P(this.auth).then(S=>{if(!y&&ph(window.grecaptcha))M(S,O,v);else{if(typeof window>"u"){v(new Error("RecaptchaVerifier is only supported in browser"));return}let t=Qv();t.length!==0&&(t+=S),cu(t).then(()=>{M(S,O,v)}).catch(o=>{v(o)})}}).catch(S=>{v(S)})})}}async function Sh(A,c,y,P=!1,M=!1){const O=new tp(A);let v;if(M)v=vu;else try{v=await O.verify(y)}catch{v=await O.verify(y,!0)}const S=Object.assign({},c);if(y==="mfaSmsEnrollment"||y==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in S){const t=S.phoneEnrollmentInfo.phoneNumber,o=S.phoneEnrollmentInfo.recaptchaToken;Object.assign(S,{phoneEnrollmentInfo:{phoneNumber:t,recaptchaToken:o,captchaResponse:v,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in S){const t=S.phoneSignInInfo.recaptchaToken;Object.assign(S,{phoneSignInInfo:{recaptchaToken:t,captchaResponse:v,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return S}return P?Object.assign(S,{captchaResp:v}):Object.assign(S,{captchaResponse:v}),Object.assign(S,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(S,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),S}async function _r(A,c,y,P,M){var O;if(!((O=A._getRecaptchaConfig())===null||O===void 0)&&O.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const v=await Sh(A,c,y,y==="getOobCode");return P(A,v)}else return P(A,c).catch(async v=>{if(v.code==="auth/missing-recaptcha-token"){console.log(`${y} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const S=await Sh(A,c,y,y==="getOobCode");return P(A,S)}else return Promise.reject(v)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(A,c){const y=Ta(A,"auth");if(y.isInitialized()){const M=y.getImmediate(),O=y.getOptions();if(Si(O,c??{}))return M;Se(M,"already-initialized")}return y.initialize({options:c})}function ip(A,c){const y=(c==null?void 0:c.persistence)||[],P=(Array.isArray(y)?y:[y]).map(Ve);c!=null&&c.errorMap&&A._updateErrorMap(c.errorMap),A._initializeWithPersistence(P,c==null?void 0:c.popupRedirectResolver)}function sp(A,c,y){const P=Mi(A);Et(/^https?:\/\//.test(c),P,"invalid-emulator-scheme");const M=!1,O=pu(c),{host:v,port:S}=np(c),t=S===null?"":`:${S}`,o={url:`${O}//${v}${t}/`},m=Object.freeze({host:v,port:S,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:M})});if(!P._canInitEmulator){Et(P.config.emulator&&P.emulatorConfig,P,"emulator-config-failed"),Et(Si(o,P.config.emulator)&&Si(m,P.emulatorConfig),P,"emulator-config-failed");return}P.config.emulator=o,P.emulatorConfig=m,P.settings.appVerificationDisabledForTesting=!0,Ys(v)?(Wl(`${O}//${v}${t}`),Yl("Auth",!0)):rp()}function pu(A){const c=A.indexOf(":");return c<0?"":A.substr(0,c+1)}function np(A){const c=pu(A),y=/(\/\/)?([^?#/]+)/.exec(A.substr(c.length));if(!y)return{host:"",port:null};const P=y[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(P);if(M){const O=M[1];return{host:O,port:Eh(P.substr(O.length+1))}}else{const[O,v]=P.split(":");return{host:O,port:Eh(v)}}}function Eh(A){if(!A)return null;const c=Number(A);return isNaN(c)?null:c}function rp(){function A(){const c=document.createElement("p"),y=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(c,y){this.providerId=c,this.signInMethod=y}toJSON(){return be("not implemented")}_getIdTokenResponse(c){return be("not implemented")}_linkToIdToken(c,y){return be("not implemented")}_getReauthenticationResolver(c){return be("not implemented")}}async function ap(A,c){return vi(A,"POST","/v1/accounts:signUp",c)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function op(A,c){return $s(A,"POST","/v1/accounts:signInWithPassword",ci(A,c))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hp(A,c){return $s(A,"POST","/v1/accounts:signInWithEmailLink",ci(A,c))}async function lp(A,c){return $s(A,"POST","/v1/accounts:signInWithEmailLink",ci(A,c))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Ra{constructor(c,y,P,M=null){super("password",P),this._email=c,this._password=y,this._tenantId=M}static _fromEmailAndPassword(c,y){return new Bs(c,y,"password")}static _fromEmailAndCode(c,y,P=null){return new Bs(c,y,"emailLink",P)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const y=typeof c=="string"?JSON.parse(c):c;if(y!=null&&y.email&&(y!=null&&y.password)){if(y.signInMethod==="password")return this._fromEmailAndPassword(y.email,y.password);if(y.signInMethod==="emailLink")return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}async _getIdTokenResponse(c){switch(this.signInMethod){case"password":const y={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _r(c,y,"signInWithPassword",op);case"emailLink":return hp(c,{email:this._email,oobCode:this._password});default:Se(c,"internal-error")}}async _linkToIdToken(c,y){switch(this.signInMethod){case"password":const P={idToken:y,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _r(c,P,"signUpPassword",ap);case"emailLink":return lp(c,{idToken:y,email:this._email,oobCode:this._password});default:Se(c,"internal-error")}}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ki(A,c){return $s(A,"POST","/v1/accounts:signInWithIdp",ci(A,c))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up="http://localhost";class Ci extends Ra{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const y=new Ci(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(y.idToken=c.idToken),c.accessToken&&(y.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(y.nonce=c.nonce),c.pendingToken&&(y.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(y.accessToken=c.oauthToken,y.secret=c.oauthTokenSecret):Se("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const y=typeof c=="string"?JSON.parse(c):c,{providerId:P,signInMethod:M}=y,O=Sa(y,["providerId","signInMethod"]);if(!P||!M)return null;const v=new Ci(P,M);return v.idToken=O.idToken||void 0,v.accessToken=O.accessToken||void 0,v.secret=O.secret,v.nonce=O.nonce,v.pendingToken=O.pendingToken||null,v}_getIdTokenResponse(c){const y=this.buildRequest();return Ki(c,y)}_linkToIdToken(c,y){const P=this.buildRequest();return P.idToken=y,Ki(c,P)}_getReauthenticationResolver(c){const y=this.buildRequest();return y.autoCreate=!1,Ki(c,y)}buildRequest(){const c={requestUri:up,returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),c.postBody=Ks(y)}return c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(A){switch(A){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dp(A){const c=Ss(Es(A)).link,y=c?Ss(Es(c)).deep_link_id:null,P=Ss(Es(A)).deep_link_id;return(P?Ss(Es(P)).link:null)||P||y||c||A}class wa{constructor(c){var y,P,M,O,v,S;const t=Ss(Es(c)),o=(y=t.apiKey)!==null&&y!==void 0?y:null,m=(P=t.oobCode)!==null&&P!==void 0?P:null,a=fp((M=t.mode)!==null&&M!==void 0?M:null);Et(o&&m&&a,"argument-error"),this.apiKey=o,this.operation=a,this.code=m,this.continueUrl=(O=t.continueUrl)!==null&&O!==void 0?O:null,this.languageCode=(v=t.lang)!==null&&v!==void 0?v:null,this.tenantId=(S=t.tenantId)!==null&&S!==void 0?S:null}static parseLink(c){const y=dp(c);try{return new wa(y)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(){this.providerId=ss.PROVIDER_ID}static credential(c,y){return Bs._fromEmailAndPassword(c,y)}static credentialWithLink(c,y){const P=wa.parseLink(y);return Et(P,"argument-error"),Bs._fromEmailAndCode(c,P.code,P.tenantId)}}ss.PROVIDER_ID="password";ss.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ss.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends mu{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze extends Qs{constructor(){super("facebook.com")}static credential(c){return Ci._fromParams({providerId:Ze.PROVIDER_ID,signInMethod:Ze.FACEBOOK_SIGN_IN_METHOD,accessToken:c})}static credentialFromResult(c){return Ze.credentialFromTaggedObject(c)}static credentialFromError(c){return Ze.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c||!("oauthAccessToken"in c)||!c.oauthAccessToken)return null;try{return Ze.credential(c.oauthAccessToken)}catch{return null}}}Ze.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ze.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe extends Qs{constructor(){super("google.com"),this.addScope("profile")}static credential(c,y){return Ci._fromParams({providerId:qe.PROVIDER_ID,signInMethod:qe.GOOGLE_SIGN_IN_METHOD,idToken:c,accessToken:y})}static credentialFromResult(c){return qe.credentialFromTaggedObject(c)}static credentialFromError(c){return qe.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:y,oauthAccessToken:P}=c;if(!y&&!P)return null;try{return qe.credential(y,P)}catch{return null}}}qe.GOOGLE_SIGN_IN_METHOD="google.com";qe.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e extends Qs{constructor(){super("github.com")}static credential(c){return Ci._fromParams({providerId:_e.PROVIDER_ID,signInMethod:_e.GITHUB_SIGN_IN_METHOD,accessToken:c})}static credentialFromResult(c){return _e.credentialFromTaggedObject(c)}static credentialFromError(c){return _e.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c||!("oauthAccessToken"in c)||!c.oauthAccessToken)return null;try{return _e.credential(c.oauthAccessToken)}catch{return null}}}_e.GITHUB_SIGN_IN_METHOD="github.com";_e.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends Qs{constructor(){super("twitter.com")}static credential(c,y){return Ci._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.TWITTER_SIGN_IN_METHOD,oauthToken:c,oauthTokenSecret:y})}static credentialFromResult(c){return ti.credentialFromTaggedObject(c)}static credentialFromError(c){return ti.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthAccessToken:y,oauthTokenSecret:P}=c;if(!y||!P)return null;try{return ti.credential(y,P)}catch{return null}}}ti.TWITTER_SIGN_IN_METHOD="twitter.com";ti.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cp(A,c){return $s(A,"POST","/v1/accounts:signUp",ci(A,c))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static async _fromIdTokenResponse(c,y,P,M=!1){const O=await ye._fromIdTokenResponse(c,P,M),v=Ch(P);return new Ai({user:O,providerId:v,_tokenResponse:P,operationType:y})}static async _forOperation(c,y,P){await c._updateTokensIfNecessary(P,!0);const M=Ch(P);return new Ai({user:c,providerId:M,_tokenResponse:P,operationType:y})}}function Ch(A){return A.providerId?A.providerId:"phoneNumber"in A?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn extends ke{constructor(c,y,P,M){var O;super(y.code,y.message),this.operationType=P,this.user=M,Object.setPrototypeOf(this,zn.prototype),this.customData={appName:c.name,tenantId:(O=c.tenantId)!==null&&O!==void 0?O:void 0,_serverResponse:y.customData._serverResponse,operationType:P}}static _fromErrorAndOperation(c,y,P,M){return new zn(c,y,P,M)}}function gu(A,c,y,P){return(c==="reauthenticate"?y._getReauthenticationResolver(A):y._getIdTokenResponse(A)).catch(O=>{throw O.code==="auth/multi-factor-auth-required"?zn._fromErrorAndOperation(A,O,c,P):O})}async function vp(A,c,y=!1){const P=await Ns(A,c._linkToIdToken(A.auth,await A.getIdToken()),y);return Ai._forOperation(A,"link",P)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pp(A,c,y=!1){const{auth:P}=A;if(ve(P.app))return Promise.reject(Ue(P));const M="reauthenticate";try{const O=await Ns(A,gu(P,M,c,A),y);Et(O.idToken,P,"internal-error");const v=Aa(O.idToken);Et(v,P,"internal-error");const{sub:S}=v;return Et(A.uid===S,P,"user-mismatch"),Ai._forOperation(A,M,O)}catch(O){throw(O==null?void 0:O.code)==="auth/user-not-found"&&Se(P,"user-mismatch"),O}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(A,c,y=!1){if(ve(A.app))return Promise.reject(Ue(A));const P="signIn",M=await gu(A,P,c),O=await Ai._fromIdTokenResponse(A,P,M);return y||await A._updateCurrentUser(O.user),O}async function mp(A,c){return yu(Mi(A),c)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xu(A){const c=Mi(A);c._getPasswordPolicyInternal()&&await c._updatePasswordPolicy()}async function gp(A,c,y){if(ve(A.app))return Promise.reject(Ue(A));const P=Mi(A),v=await _r(P,{returnSecureToken:!0,email:c,password:y,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cp).catch(t=>{throw t.code==="auth/password-does-not-meet-requirements"&&xu(A),t}),S=await Ai._fromIdTokenResponse(P,"signIn",v);return await P._updateCurrentUser(S.user),S}function yp(A,c,y){return ve(A.app)?Promise.reject(Ue(A)):mp(ue(A),ss.credential(c,y)).catch(async P=>{throw P.code==="auth/password-does-not-meet-requirements"&&xu(A),P})}function xp(A,c,y,P){return ue(A).onIdTokenChanged(c,y,P)}function Tp(A,c,y){return ue(A).beforeAuthStateChanged(c,y)}function Sp(A,c,y,P){return ue(A).onAuthStateChanged(c,y,P)}function Ep(A){return ue(A).signOut()}const Xn="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(c,y){this.storageRetriever=c,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(Xn,"1"),this.storage.removeItem(Xn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(c,y){return this.storage.setItem(c,JSON.stringify(y)),Promise.resolve()}_get(c){const y=this.storage.getItem(c);return Promise.resolve(y?JSON.parse(y):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp=1e3,Ap=10;class Su extends Tu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(c,y)=>this.onStorageEvent(c,y),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fu(),this._shouldAllowMigration=!0}forAllChangedKeys(c){for(const y of Object.keys(this.listeners)){const P=this.storage.getItem(y),M=this.localCache[y];P!==M&&c(y,M,P)}}onStorageEvent(c,y=!1){if(!c.key){this.forAllChangedKeys((v,S,t)=>{this.notifyListeners(v,t)});return}const P=c.key;y?this.detachListener():this.stopPolling();const M=()=>{const v=this.storage.getItem(P);!y&&this.localCache[P]===v||this.notifyListeners(P,v)},O=this.storage.getItem(P);Xv()&&O!==c.newValue&&c.newValue!==c.oldValue?setTimeout(M,Ap):M()}notifyListeners(c,y){this.localCache[c]=y;const P=this.listeners[c];if(P)for(const M of Array.from(P))M(y&&JSON.parse(y))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((c,y,P)=>{this.onStorageEvent(new StorageEvent("storage",{key:c,oldValue:y,newValue:P}),!0)})},Cp)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(c,y){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[c]||(this.listeners[c]=new Set,this.localCache[c]=this.storage.getItem(c)),this.listeners[c].add(y)}_removeListener(c,y){this.listeners[c]&&(this.listeners[c].delete(y),this.listeners[c].size===0&&delete this.listeners[c]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(c,y){await super._set(c,y),this.localCache[c]=JSON.stringify(y)}async _get(c){const y=await super._get(c);return this.localCache[c]=JSON.stringify(y),y}async _remove(c){await super._remove(c),delete this.localCache[c]}}Su.type="LOCAL";const Pp=Su;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends Tu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(c,y){}_removeListener(c,y){}}Eu.type="SESSION";const Cu=Eu;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(A){return Promise.all(A.map(async c=>{try{return{fulfilled:!0,value:await c}}catch(y){return{fulfilled:!1,reason:y}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(c){this.eventTarget=c,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(c){const y=this.receivers.find(M=>M.isListeningto(c));if(y)return y;const P=new sr(c);return this.receivers.push(P),P}isListeningto(c){return this.eventTarget===c}async handleEvent(c){const y=c,{eventId:P,eventType:M,data:O}=y.data,v=this.handlersMap[M];if(!(v!=null&&v.size))return;y.ports[0].postMessage({status:"ack",eventId:P,eventType:M});const S=Array.from(v).map(async o=>o(y.origin,O)),t=await Rp(S);y.ports[0].postMessage({status:"done",eventId:P,eventType:M,response:t})}_subscribe(c,y){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[c]||(this.handlersMap[c]=new Set),this.handlersMap[c].add(y)}_unsubscribe(c,y){this.handlersMap[c]&&y&&this.handlersMap[c].delete(y),(!y||this.handlersMap[c].size===0)&&delete this.handlersMap[c],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sr.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(A="",c=10){let y="";for(let P=0;P<c;P++)y+=Math.floor(Math.random()*10);return A+y}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}async _send(c,y,P=50){const M=typeof MessageChannel<"u"?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let O,v;return new Promise((S,t)=>{const o=Ma("",20);M.port1.start();const m=setTimeout(()=>{t(new Error("unsupported_event"))},P);v={messageChannel:M,onMessage(a){const r=a;if(r.data.eventId===o)switch(r.data.status){case"ack":clearTimeout(m),O=setTimeout(()=>{t(new Error("timeout"))},3e3);break;case"done":clearTimeout(O),S(r.data.response);break;default:clearTimeout(m),clearTimeout(O),t(new Error("invalid_response"));break}}},this.handlers.add(v),M.port1.addEventListener("message",v.onMessage),this.target.postMessage({eventType:c,eventId:o,data:y},[M.port2])}).finally(()=>{v&&this.removeMessageHandler(v)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(){return window}function Mp(A){Me().location.href=A}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(){return typeof Me().WorkerGlobalScope<"u"&&typeof Me().importScripts=="function"}async function Ip(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Lp(){var A;return((A=navigator==null?void 0:navigator.serviceWorker)===null||A===void 0?void 0:A.controller)||null}function Fp(){return Au()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu="firebaseLocalStorageDb",Op=1,Wn="firebaseLocalStorage",Ru="fbase_key";class Js{constructor(c){this.request=c}toPromise(){return new Promise((c,y)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function nr(A,c){return A.transaction([Wn],c?"readwrite":"readonly").objectStore(Wn)}function Dp(){const A=indexedDB.deleteDatabase(Pu);return new Js(A).toPromise()}function ta(){const A=indexedDB.open(Pu,Op);return new Promise((c,y)=>{A.addEventListener("error",()=>{y(A.error)}),A.addEventListener("upgradeneeded",()=>{const P=A.result;try{P.createObjectStore(Wn,{keyPath:Ru})}catch(M){y(M)}}),A.addEventListener("success",async()=>{const P=A.result;P.objectStoreNames.contains(Wn)?c(P):(P.close(),await Dp(),c(await ta()))})})}async function Ah(A,c,y){const P=nr(A,!0).put({[Ru]:c,value:y});return new Js(P).toPromise()}async function Np(A,c){const y=nr(A,!1).get(c),P=await new Js(y).toPromise();return P===void 0?null:P.value}function Ph(A,c){const y=nr(A,!0).delete(c);return new Js(y).toPromise()}const Bp=800,bp=3;class wu{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ta(),this.db)}async _withRetries(c){let y=0;for(;;)try{const P=await this._openDb();return await c(P)}catch(P){if(y++>bp)throw P;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Au()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sr._getInstance(Fp()),this.receiver._subscribe("keyChanged",async(c,y)=>({keyProcessed:(await this._poll()).includes(y.key)})),this.receiver._subscribe("ping",async(c,y)=>["keyChanged"])}async initializeSender(){var c,y;if(this.activeServiceWorker=await Ip(),!this.activeServiceWorker)return;this.sender=new wp(this.activeServiceWorker);const P=await this.sender._send("ping",{},800);P&&!((c=P[0])===null||c===void 0)&&c.fulfilled&&!((y=P[0])===null||y===void 0)&&y.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(c){if(!(!this.sender||!this.activeServiceWorker||Lp()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:c},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const c=await ta();return await Ah(c,Xn,"1"),await Ph(c,Xn),!0}catch{}return!1}async _withPendingWrite(c){this.pendingWrites++;try{await c()}finally{this.pendingWrites--}}async _set(c,y){return this._withPendingWrite(async()=>(await this._withRetries(P=>Ah(P,c,y)),this.localCache[c]=y,this.notifyServiceWorker(c)))}async _get(c){const y=await this._withRetries(P=>Np(P,c));return this.localCache[c]=y,y}async _remove(c){return this._withPendingWrite(async()=>(await this._withRetries(y=>Ph(y,c)),delete this.localCache[c],this.notifyServiceWorker(c)))}async _poll(){const c=await this._withRetries(M=>{const O=nr(M,!1).getAll();return new Js(O).toPromise()});if(!c)return[];if(this.pendingWrites!==0)return[];const y=[],P=new Set;if(c.length!==0)for(const{fbase_key:M,value:O}of c)P.add(M),JSON.stringify(this.localCache[M])!==JSON.stringify(O)&&(this.notifyListeners(M,O),y.push(M));for(const M of Object.keys(this.localCache))this.localCache[M]&&!P.has(M)&&(this.notifyListeners(M,null),y.push(M));return y}notifyListeners(c,y){this.localCache[c]=y;const P=this.listeners[c];if(P)for(const M of Array.from(P))M(y)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Bp)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(c,y){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[c]||(this.listeners[c]=new Set,this._get(c)),this.listeners[c].add(y)}_removeListener(c,y){this.listeners[c]&&(this.listeners[c].delete(y),this.listeners[c].size===0&&delete this.listeners[c]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wu.type="LOCAL";const Vp=wu;new ks(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(A,c){return c?Ve(c):(Et(A._popupRedirectResolver,A,"argument-error"),A._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends Ra{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return Ki(c,this._buildIdpRequest())}_linkToIdToken(c,y){return Ki(c,this._buildIdpRequest(y))}_getReauthenticationResolver(c){return Ki(c,this._buildIdpRequest())}_buildIdpRequest(c){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(y.idToken=c),y}}function Up(A){return yu(A.auth,new Ia(A),A.bypassAuthState)}function zp(A){const{auth:c,user:y}=A;return Et(y,c,"internal-error"),pp(y,new Ia(A),A.bypassAuthState)}async function Xp(A){const{auth:c,user:y}=A;return Et(y,c,"internal-error"),vp(y,new Ia(A),A.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(c,y,P,M,O=!1){this.auth=c,this.resolver=P,this.user=M,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){return new Promise(async(c,y)=>{this.pendingPromise={resolve:c,reject:y};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(P){this.reject(P)}})}async onAuthEvent(c){const{urlResponse:y,sessionId:P,postBody:M,tenantId:O,error:v,type:S}=c;if(v){this.reject(v);return}const t={auth:this.auth,requestUri:y,sessionId:P,tenantId:O||void 0,postBody:M||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(S)(t))}catch(o){this.reject(o)}}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return Up;case"linkViaPopup":case"linkViaRedirect":return Xp;case"reauthViaPopup":case"reauthViaRedirect":return zp;default:Se(this.auth,"internal-error")}}resolve(c){Ye(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){Ye(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp=new ks(2e3,1e4);class Xi extends Mu{constructor(c,y,P,M,O){super(c,y,M,O),this.provider=P,this.authWindow=null,this.pollId=null,Xi.currentPopupAction&&Xi.currentPopupAction.cancel(),Xi.currentPopupAction=this}async executeNotNull(){const c=await this.execute();return Et(c,this.auth,"internal-error"),c}async onExecution(){Ye(this.filter.length===1,"Popup operations only handle one event");const c=Ma();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],c),this.authWindow.associatedEvent=c,this.resolver._originValidation(this.auth).catch(y=>{this.reject(y)}),this.resolver._isIframeWebStorageSupported(this.auth,y=>{y||this.reject(we(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var c;return((c=this.authWindow)===null||c===void 0?void 0:c.associatedEvent)||null}cancel(){this.reject(we(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xi.currentPopupAction=null}pollUserCancellation(){const c=()=>{var y,P;if(!((P=(y=this.authWindow)===null||y===void 0?void 0:y.window)===null||P===void 0)&&P.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(we(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(c,Wp.get())};c()}}Xi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp="pendingRedirect",Rn=new Map;class Hp extends Mu{constructor(c,y,P=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,P),this.eventId=null}async execute(){let c=Rn.get(this.auth._key());if(!c){try{const P=await Kp(this.resolver,this.auth)?await super.execute():null;c=()=>Promise.resolve(P)}catch(y){c=()=>Promise.reject(y)}Rn.set(this.auth._key(),c)}return this.bypassAuthState||Rn.set(this.auth._key(),()=>Promise.resolve(null)),c()}async onAuthEvent(c){if(c.type==="signInViaRedirect")return super.onAuthEvent(c);if(c.type==="unknown"){this.resolve(null);return}if(c.eventId){const y=await this.auth._redirectUserForId(c.eventId);if(y)return this.user=y,super.onAuthEvent(c);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Kp(A,c){const y=Qp(c),P=$p(A);if(!await P._isAvailable())return!1;const M=await P._get(y)==="true";return await P._remove(y),M}function kp(A,c){Rn.set(A._key(),c)}function $p(A){return Ve(A._redirectPersistence)}function Qp(A){return Pn(Yp,A.config.apiKey,A.name)}async function Jp(A,c,y=!1){if(ve(A.app))return Promise.reject(Ue(A));const P=Mi(A),M=Gp(P,c),v=await new Hp(P,M,y).execute();return v&&!y&&(delete v.user._redirectEventId,await P._persistUserIfCurrent(v.user),await P._setRedirectUser(null,c)),v}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp=10*60*1e3;class Zp{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let y=!1;return this.consumers.forEach(P=>{this.isEventForConsumer(c,P)&&(y=!0,this.sendToConsumer(c,P),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!qp(c)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=c,y=!0)),y}sendToConsumer(c,y){var P;if(c.error&&!Iu(c)){const M=((P=c.error.code)===null||P===void 0?void 0:P.split("auth/")[1])||"internal-error";y.onError(we(this.auth,M))}else y.onAuthEvent(c)}isEventForConsumer(c,y){const P=y.eventId===null||!!c.eventId&&c.eventId===y.eventId;return y.filter.includes(c.type)&&P}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=jp&&this.cachedEventUids.clear(),this.cachedEventUids.has(Rh(c))}saveEventToCache(c){this.cachedEventUids.add(Rh(c)),this.lastProcessedEventTime=Date.now()}}function Rh(A){return[A.type,A.eventId,A.sessionId,A.tenantId].filter(c=>c).join("-")}function Iu({type:A,error:c}){return A==="unknown"&&(c==null?void 0:c.code)==="auth/no-auth-event"}function qp(A){switch(A.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Iu(A);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _p(A,c={}){return vi(A,"GET","/v1/projects",c)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,em=/^https?/;async function im(A){if(A.config.emulator)return;const{authorizedDomains:c}=await _p(A);for(const y of c)try{if(sm(y))return}catch{}Se(A,"unauthorized-domain")}function sm(A){const c=Zr(),{protocol:y,hostname:P}=new URL(c);if(A.startsWith("chrome-extension://")){const v=new URL(A);return v.hostname===""&&P===""?y==="chrome-extension:"&&A.replace("chrome-extension://","")===c.replace("chrome-extension://",""):y==="chrome-extension:"&&v.hostname===P}if(!em.test(y))return!1;if(tm.test(A))return P===A;const M=A.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(P)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm=new ks(3e4,6e4);function wh(){const A=Me().___jsl;if(A!=null&&A.H){for(const c of Object.keys(A.H))if(A.H[c].r=A.H[c].r||[],A.H[c].L=A.H[c].L||[],A.H[c].r=[...A.H[c].L],A.CP)for(let y=0;y<A.CP.length;y++)A.CP[y]=null}}function rm(A){return new Promise((c,y)=>{var P,M,O;function v(){wh(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{wh(),y(we(A,"network-request-failed"))},timeout:nm.get()})}if(!((M=(P=Me().gapi)===null||P===void 0?void 0:P.iframes)===null||M===void 0)&&M.Iframe)c(gapi.iframes.getContext());else if(!((O=Me().gapi)===null||O===void 0)&&O.load)v();else{const S=jv("iframefcb");return Me()[S]=()=>{gapi.load?v():y(we(A,"network-request-failed"))},cu(`${Jv()}?onload=${S}`).catch(t=>y(t))}}).catch(c=>{throw wn=null,c})}let wn=null;function am(A){return wn=wn||rm(A),wn}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om=new ks(5e3,15e3),hm="__/auth/iframe",lm="emulator/auth/iframe",um={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fm=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dm(A){const c=A.config;Et(c.authDomain,A,"auth-domain-config-required");const y=c.emulator?Ca(c,lm):`https://${A.config.authDomain}/${hm}`,P={apiKey:c.apiKey,appName:A.name,v:is},M=fm.get(A.config.apiHost);M&&(P.eid=M);const O=A._getFrameworks();return O.length&&(P.fw=O.join(",")),`${y}?${Ks(P).slice(1)}`}async function cm(A){const c=await am(A),y=Me().gapi;return Et(y,A,"internal-error"),c.open({where:document.body,url:dm(A),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:um,dontclear:!0},P=>new Promise(async(M,O)=>{await P.restyle({setHideOnLeave:!1});const v=we(A,"network-request-failed"),S=Me().setTimeout(()=>{O(v)},om.get());function t(){Me().clearTimeout(S),M(P)}P.ping(t).then(t,()=>{O(v)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pm=500,mm=600,gm="_blank",ym="http://localhost";class Mh{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xm(A,c,y,P=pm,M=mm){const O=Math.max((window.screen.availHeight-M)/2,0).toString(),v=Math.max((window.screen.availWidth-P)/2,0).toString();let S="";const t=Object.assign(Object.assign({},vm),{width:P.toString(),height:M.toString(),top:O,left:v}),o=he().toLowerCase();y&&(S=au(o)?gm:y),nu(o)&&(c=c||ym,t.scrollbars="yes");const m=Object.entries(t).reduce((r,[n,e])=>`${r}${n}=${e},`,"");if(zv(o)&&S!=="_self")return Tm(c||"",S),new Mh(null);const a=window.open(c||"",S,m);Et(a,A,"popup-blocked");try{a.focus()}catch{}return new Mh(a)}function Tm(A,c){const y=document.createElement("a");y.href=A,y.target=c;const P=document.createEvent("MouseEvent");P.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(P)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="__/auth/handler",Em="emulator/auth/handler",Cm=encodeURIComponent("fac");async function Ih(A,c,y,P,M,O){Et(A.config.authDomain,A,"auth-domain-config-required"),Et(A.config.apiKey,A,"invalid-api-key");const v={apiKey:A.config.apiKey,appName:A.name,authType:y,redirectUrl:P,v:is,eventId:M};if(c instanceof mu){c.setDefaultLanguage(A.languageCode),v.providerId=c.providerId||"",hc(c.getCustomParameters())||(v.customParameters=JSON.stringify(c.getCustomParameters()));for(const[m,a]of Object.entries({}))v[m]=a}if(c instanceof Qs){const m=c.getScopes().filter(a=>a!=="");m.length>0&&(v.scopes=m.join(","))}A.tenantId&&(v.tid=A.tenantId);const S=v;for(const m of Object.keys(S))S[m]===void 0&&delete S[m];const t=await A._getAppCheckToken(),o=t?`#${Cm}=${encodeURIComponent(t)}`:"";return`${Am(A)}?${Ks(S).slice(1)}${o}`}function Am({config:A}){return A.emulator?Ca(A,Em):`https://${A.authDomain}/${Sm}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr="webStorageSupport";class Pm{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cu,this._completeRedirectFn=Jp,this._overrideRedirectResult=kp}async _openPopup(c,y,P,M){var O;Ye((O=this.eventManagers[c._key()])===null||O===void 0?void 0:O.manager,"_initialize() not called before _openPopup()");const v=await Ih(c,y,P,Zr(),M);return xm(c,v,Ma())}async _openRedirect(c,y,P,M){await this._originValidation(c);const O=await Ih(c,y,P,Zr(),M);return Mp(O),new Promise(()=>{})}_initialize(c){const y=c._key();if(this.eventManagers[y]){const{manager:M,promise:O}=this.eventManagers[y];return M?Promise.resolve(M):(Ye(O,"If manager is not set, promise should be"),O)}const P=this.initAndGetManager(c);return this.eventManagers[y]={promise:P},P.catch(()=>{delete this.eventManagers[y]}),P}async initAndGetManager(c){const y=await cm(c),P=new Zp(c);return y.register("authEvent",M=>(Et(M==null?void 0:M.authEvent,c,"invalid-auth-event"),{status:P.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[c._key()]={manager:P},this.iframes[c._key()]=y,P}_isIframeWebStorageSupported(c,y){this.iframes[c._key()].send(Xr,{type:Xr},M=>{var O;const v=(O=M==null?void 0:M[0])===null||O===void 0?void 0:O[Xr];v!==void 0&&y(!!v),Se(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const y=c._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=im(c)),this.originValidationPromises[y]}get _shouldInitProactively(){return fu()||ru()||Pa()}}const Rm=Pm;var Lh="@firebase/auth",Fh="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),((c=this.auth.currentUser)===null||c===void 0?void 0:c.uid)||null}async getToken(c){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(c)}:null}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const y=this.auth.onIdTokenChanged(P=>{c((P==null?void 0:P.stsTokenManager.accessToken)||null)});this.internalListeners.set(c,y),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const y=this.internalListeners.get(c);y&&(this.internalListeners.delete(c),y(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(A){switch(A){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Im(A){Qi(new Ei("auth",(c,{options:y})=>{const P=c.getProvider("app").getImmediate(),M=c.getProvider("heartbeat"),O=c.getProvider("app-check-internal"),{apiKey:v,authDomain:S}=P.options;Et(v&&!v.includes(":"),"invalid-api-key",{appName:P.name});const t={apiKey:v,authDomain:S,clientPlatform:A,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:du(A)},o=new kv(P,M,O,t);return ip(o,y),o},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,y,P)=>{c.getProvider("auth-internal").initialize()})),Qi(new Ei("auth-internal",c=>{const y=Mi(c.getProvider("auth").getImmediate());return(P=>new wm(P))(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),ni(Lh,Fh,Mm(A)),ni(Lh,Fh,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm=5*60,Fm=Xl("authIdTokenMaxAge")||Lm;let Oh=null;const Om=A=>async c=>{const y=c&&await c.getIdTokenResult(),P=y&&(new Date().getTime()-Date.parse(y.issuedAtTime))/1e3;if(P&&P>Fm)return;const M=y==null?void 0:y.token;Oh!==M&&(Oh=M,await fetch(A,{method:M?"POST":"DELETE",headers:M?{Authorization:`Bearer ${M}`}:{}}))};function Dm(A=$l()){const c=Ta(A,"auth");if(c.isInitialized())return c.getImmediate();const y=ep(A,{popupRedirectResolver:Rm,persistence:[Vp,Pp,Cu]}),P=Xl("authTokenSyncURL");if(P&&typeof isSecureContext=="boolean"&&isSecureContext){const O=new URL(P,location.origin);if(location.origin===O.origin){const v=Om(O.toString());Tp(y,v,()=>v(y.currentUser)),xp(y,S=>v(S))}}const M=Ul("auth");return M&&sp(y,`http://${M}`),y}function Nm(){var A,c;return(c=(A=document.getElementsByTagName("head"))===null||A===void 0?void 0:A[0])!==null&&c!==void 0?c:document}$v({loadJS(A){return new Promise((c,y)=>{const P=document.createElement("script");P.setAttribute("src",A),P.onload=c,P.onerror=M=>{const O=we("internal-error");O.customData=M,y(O)},P.type="text/javascript",P.charset="UTF-8",Nm().appendChild(P)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Im("Browser");var Bm="firebase",bm="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ni(Bm,bm,"app");var Dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ri,Lu;(function(){var A;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function c(g,x){function T(){}T.prototype=x.prototype,g.D=x.prototype,g.prototype=new T,g.prototype.constructor=g,g.C=function(E,C,R){for(var w=Array(arguments.length-2),F=2;F<arguments.length;F++)w[F-2]=arguments[F];return x.prototype[C].apply(E,w)}}function y(){this.blockSize=-1}function P(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}c(P,y),P.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function M(g,x,T){T||(T=0);var E=Array(16);if(typeof x=="string")for(var C=0;16>C;++C)E[C]=x.charCodeAt(T++)|x.charCodeAt(T++)<<8|x.charCodeAt(T++)<<16|x.charCodeAt(T++)<<24;else for(C=0;16>C;++C)E[C]=x[T++]|x[T++]<<8|x[T++]<<16|x[T++]<<24;x=g.g[0],T=g.g[1],C=g.g[2];var R=g.g[3],w=x+(R^T&(C^R))+E[0]+3614090360&4294967295;x=T+(w<<7&4294967295|w>>>25),w=R+(C^x&(T^C))+E[1]+3905402710&4294967295,R=x+(w<<12&4294967295|w>>>20),w=C+(T^R&(x^T))+E[2]+606105819&4294967295,C=R+(w<<17&4294967295|w>>>15),w=T+(x^C&(R^x))+E[3]+3250441966&4294967295,T=C+(w<<22&4294967295|w>>>10),w=x+(R^T&(C^R))+E[4]+4118548399&4294967295,x=T+(w<<7&4294967295|w>>>25),w=R+(C^x&(T^C))+E[5]+1200080426&4294967295,R=x+(w<<12&4294967295|w>>>20),w=C+(T^R&(x^T))+E[6]+2821735955&4294967295,C=R+(w<<17&4294967295|w>>>15),w=T+(x^C&(R^x))+E[7]+4249261313&4294967295,T=C+(w<<22&4294967295|w>>>10),w=x+(R^T&(C^R))+E[8]+1770035416&4294967295,x=T+(w<<7&4294967295|w>>>25),w=R+(C^x&(T^C))+E[9]+2336552879&4294967295,R=x+(w<<12&4294967295|w>>>20),w=C+(T^R&(x^T))+E[10]+4294925233&4294967295,C=R+(w<<17&4294967295|w>>>15),w=T+(x^C&(R^x))+E[11]+2304563134&4294967295,T=C+(w<<22&4294967295|w>>>10),w=x+(R^T&(C^R))+E[12]+1804603682&4294967295,x=T+(w<<7&4294967295|w>>>25),w=R+(C^x&(T^C))+E[13]+4254626195&4294967295,R=x+(w<<12&4294967295|w>>>20),w=C+(T^R&(x^T))+E[14]+2792965006&4294967295,C=R+(w<<17&4294967295|w>>>15),w=T+(x^C&(R^x))+E[15]+1236535329&4294967295,T=C+(w<<22&4294967295|w>>>10),w=x+(C^R&(T^C))+E[1]+4129170786&4294967295,x=T+(w<<5&4294967295|w>>>27),w=R+(T^C&(x^T))+E[6]+3225465664&4294967295,R=x+(w<<9&4294967295|w>>>23),w=C+(x^T&(R^x))+E[11]+643717713&4294967295,C=R+(w<<14&4294967295|w>>>18),w=T+(R^x&(C^R))+E[0]+3921069994&4294967295,T=C+(w<<20&4294967295|w>>>12),w=x+(C^R&(T^C))+E[5]+3593408605&4294967295,x=T+(w<<5&4294967295|w>>>27),w=R+(T^C&(x^T))+E[10]+38016083&4294967295,R=x+(w<<9&4294967295|w>>>23),w=C+(x^T&(R^x))+E[15]+3634488961&4294967295,C=R+(w<<14&4294967295|w>>>18),w=T+(R^x&(C^R))+E[4]+3889429448&4294967295,T=C+(w<<20&4294967295|w>>>12),w=x+(C^R&(T^C))+E[9]+568446438&4294967295,x=T+(w<<5&4294967295|w>>>27),w=R+(T^C&(x^T))+E[14]+3275163606&4294967295,R=x+(w<<9&4294967295|w>>>23),w=C+(x^T&(R^x))+E[3]+4107603335&4294967295,C=R+(w<<14&4294967295|w>>>18),w=T+(R^x&(C^R))+E[8]+1163531501&4294967295,T=C+(w<<20&4294967295|w>>>12),w=x+(C^R&(T^C))+E[13]+2850285829&4294967295,x=T+(w<<5&4294967295|w>>>27),w=R+(T^C&(x^T))+E[2]+4243563512&4294967295,R=x+(w<<9&4294967295|w>>>23),w=C+(x^T&(R^x))+E[7]+1735328473&4294967295,C=R+(w<<14&4294967295|w>>>18),w=T+(R^x&(C^R))+E[12]+2368359562&4294967295,T=C+(w<<20&4294967295|w>>>12),w=x+(T^C^R)+E[5]+4294588738&4294967295,x=T+(w<<4&4294967295|w>>>28),w=R+(x^T^C)+E[8]+2272392833&4294967295,R=x+(w<<11&4294967295|w>>>21),w=C+(R^x^T)+E[11]+1839030562&4294967295,C=R+(w<<16&4294967295|w>>>16),w=T+(C^R^x)+E[14]+4259657740&4294967295,T=C+(w<<23&4294967295|w>>>9),w=x+(T^C^R)+E[1]+2763975236&4294967295,x=T+(w<<4&4294967295|w>>>28),w=R+(x^T^C)+E[4]+1272893353&4294967295,R=x+(w<<11&4294967295|w>>>21),w=C+(R^x^T)+E[7]+4139469664&4294967295,C=R+(w<<16&4294967295|w>>>16),w=T+(C^R^x)+E[10]+3200236656&4294967295,T=C+(w<<23&4294967295|w>>>9),w=x+(T^C^R)+E[13]+681279174&4294967295,x=T+(w<<4&4294967295|w>>>28),w=R+(x^T^C)+E[0]+3936430074&4294967295,R=x+(w<<11&4294967295|w>>>21),w=C+(R^x^T)+E[3]+3572445317&4294967295,C=R+(w<<16&4294967295|w>>>16),w=T+(C^R^x)+E[6]+76029189&4294967295,T=C+(w<<23&4294967295|w>>>9),w=x+(T^C^R)+E[9]+3654602809&4294967295,x=T+(w<<4&4294967295|w>>>28),w=R+(x^T^C)+E[12]+3873151461&4294967295,R=x+(w<<11&4294967295|w>>>21),w=C+(R^x^T)+E[15]+530742520&4294967295,C=R+(w<<16&4294967295|w>>>16),w=T+(C^R^x)+E[2]+3299628645&4294967295,T=C+(w<<23&4294967295|w>>>9),w=x+(C^(T|~R))+E[0]+4096336452&4294967295,x=T+(w<<6&4294967295|w>>>26),w=R+(T^(x|~C))+E[7]+1126891415&4294967295,R=x+(w<<10&4294967295|w>>>22),w=C+(x^(R|~T))+E[14]+2878612391&4294967295,C=R+(w<<15&4294967295|w>>>17),w=T+(R^(C|~x))+E[5]+4237533241&4294967295,T=C+(w<<21&4294967295|w>>>11),w=x+(C^(T|~R))+E[12]+1700485571&4294967295,x=T+(w<<6&4294967295|w>>>26),w=R+(T^(x|~C))+E[3]+2399980690&4294967295,R=x+(w<<10&4294967295|w>>>22),w=C+(x^(R|~T))+E[10]+4293915773&4294967295,C=R+(w<<15&4294967295|w>>>17),w=T+(R^(C|~x))+E[1]+2240044497&4294967295,T=C+(w<<21&4294967295|w>>>11),w=x+(C^(T|~R))+E[8]+1873313359&4294967295,x=T+(w<<6&4294967295|w>>>26),w=R+(T^(x|~C))+E[15]+4264355552&4294967295,R=x+(w<<10&4294967295|w>>>22),w=C+(x^(R|~T))+E[6]+2734768916&4294967295,C=R+(w<<15&4294967295|w>>>17),w=T+(R^(C|~x))+E[13]+1309151649&4294967295,T=C+(w<<21&4294967295|w>>>11),w=x+(C^(T|~R))+E[4]+4149444226&4294967295,x=T+(w<<6&4294967295|w>>>26),w=R+(T^(x|~C))+E[11]+3174756917&4294967295,R=x+(w<<10&4294967295|w>>>22),w=C+(x^(R|~T))+E[2]+718787259&4294967295,C=R+(w<<15&4294967295|w>>>17),w=T+(R^(C|~x))+E[9]+3951481745&4294967295,g.g[0]=g.g[0]+x&4294967295,g.g[1]=g.g[1]+(C+(w<<21&4294967295|w>>>11))&4294967295,g.g[2]=g.g[2]+C&4294967295,g.g[3]=g.g[3]+R&4294967295}P.prototype.u=function(g,x){x===void 0&&(x=g.length);for(var T=x-this.blockSize,E=this.B,C=this.h,R=0;R<x;){if(C==0)for(;R<=T;)M(this,g,R),R+=this.blockSize;if(typeof g=="string"){for(;R<x;)if(E[C++]=g.charCodeAt(R++),C==this.blockSize){M(this,E),C=0;break}}else for(;R<x;)if(E[C++]=g[R++],C==this.blockSize){M(this,E),C=0;break}}this.h=C,this.o+=x},P.prototype.v=function(){var g=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);g[0]=128;for(var x=1;x<g.length-8;++x)g[x]=0;var T=8*this.o;for(x=g.length-8;x<g.length;++x)g[x]=T&255,T/=256;for(this.u(g),g=Array(16),x=T=0;4>x;++x)for(var E=0;32>E;E+=8)g[T++]=this.g[x]>>>E&255;return g};function O(g,x){var T=S;return Object.prototype.hasOwnProperty.call(T,g)?T[g]:T[g]=x(g)}function v(g,x){this.h=x;for(var T=[],E=!0,C=g.length-1;0<=C;C--){var R=g[C]|0;E&&R==x||(T[C]=R,E=!1)}this.g=T}var S={};function t(g){return-128<=g&&128>g?O(g,function(x){return new v([x|0],0>x?-1:0)}):new v([g|0],0>g?-1:0)}function o(g){if(isNaN(g)||!isFinite(g))return a;if(0>g)return h(o(-g));for(var x=[],T=1,E=0;g>=T;E++)x[E]=g/T|0,T*=4294967296;return new v(x,0)}function m(g,x){if(g.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(g.charAt(0)=="-")return h(m(g.substring(1),x));if(0<=g.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=o(Math.pow(x,8)),E=a,C=0;C<g.length;C+=8){var R=Math.min(8,g.length-C),w=parseInt(g.substring(C,C+R),x);8>R?(R=o(Math.pow(x,R)),E=E.j(R).add(o(w))):(E=E.j(T),E=E.add(o(w)))}return E}var a=t(0),r=t(1),n=t(16777216);A=v.prototype,A.m=function(){if(s(this))return-h(this).m();for(var g=0,x=1,T=0;T<this.g.length;T++){var E=this.i(T);g+=(0<=E?E:4294967296+E)*x,x*=4294967296}return g},A.toString=function(g){if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(e(this))return"0";if(s(this))return"-"+h(this).toString(g);for(var x=o(Math.pow(g,6)),T=this,E="";;){var C=d(T,x).g;T=i(T,C.j(x));var R=((0<T.g.length?T.g[0]:T.h)>>>0).toString(g);if(T=C,e(T))return R+E;for(;6>R.length;)R="0"+R;E=R+E}},A.i=function(g){return 0>g?0:g<this.g.length?this.g[g]:this.h};function e(g){if(g.h!=0)return!1;for(var x=0;x<g.g.length;x++)if(g.g[x]!=0)return!1;return!0}function s(g){return g.h==-1}A.l=function(g){return g=i(this,g),s(g)?-1:e(g)?0:1};function h(g){for(var x=g.g.length,T=[],E=0;E<x;E++)T[E]=~g.g[E];return new v(T,~g.h).add(r)}A.abs=function(){return s(this)?h(this):this},A.add=function(g){for(var x=Math.max(this.g.length,g.g.length),T=[],E=0,C=0;C<=x;C++){var R=E+(this.i(C)&65535)+(g.i(C)&65535),w=(R>>>16)+(this.i(C)>>>16)+(g.i(C)>>>16);E=w>>>16,R&=65535,w&=65535,T[C]=w<<16|R}return new v(T,T[T.length-1]&-2147483648?-1:0)};function i(g,x){return g.add(h(x))}A.j=function(g){if(e(this)||e(g))return a;if(s(this))return s(g)?h(this).j(h(g)):h(h(this).j(g));if(s(g))return h(this.j(h(g)));if(0>this.l(n)&&0>g.l(n))return o(this.m()*g.m());for(var x=this.g.length+g.g.length,T=[],E=0;E<2*x;E++)T[E]=0;for(E=0;E<this.g.length;E++)for(var C=0;C<g.g.length;C++){var R=this.i(E)>>>16,w=this.i(E)&65535,F=g.i(C)>>>16,I=g.i(C)&65535;T[2*E+2*C]+=w*I,l(T,2*E+2*C),T[2*E+2*C+1]+=R*I,l(T,2*E+2*C+1),T[2*E+2*C+1]+=w*F,l(T,2*E+2*C+1),T[2*E+2*C+2]+=R*F,l(T,2*E+2*C+2)}for(E=0;E<x;E++)T[E]=T[2*E+1]<<16|T[2*E];for(E=x;E<2*x;E++)T[E]=0;return new v(T,0)};function l(g,x){for(;(g[x]&65535)!=g[x];)g[x+1]+=g[x]>>>16,g[x]&=65535,x++}function u(g,x){this.g=g,this.h=x}function d(g,x){if(e(x))throw Error("division by zero");if(e(g))return new u(a,a);if(s(g))return x=d(h(g),x),new u(h(x.g),h(x.h));if(s(x))return x=d(g,h(x)),new u(h(x.g),x.h);if(30<g.g.length){if(s(g)||s(x))throw Error("slowDivide_ only works with positive integers.");for(var T=r,E=x;0>=E.l(g);)T=f(T),E=f(E);var C=p(T,1),R=p(E,1);for(E=p(E,2),T=p(T,2);!e(E);){var w=R.add(E);0>=w.l(g)&&(C=C.add(T),R=w),E=p(E,1),T=p(T,1)}return x=i(g,C.j(x)),new u(C,x)}for(C=a;0<=g.l(x);){for(T=Math.max(1,Math.floor(g.m()/x.m())),E=Math.ceil(Math.log(T)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),R=o(T),w=R.j(x);s(w)||0<w.l(g);)T-=E,R=o(T),w=R.j(x);e(R)&&(R=r),C=C.add(R),g=i(g,w)}return new u(C,g)}A.A=function(g){return d(this,g).h},A.and=function(g){for(var x=Math.max(this.g.length,g.g.length),T=[],E=0;E<x;E++)T[E]=this.i(E)&g.i(E);return new v(T,this.h&g.h)},A.or=function(g){for(var x=Math.max(this.g.length,g.g.length),T=[],E=0;E<x;E++)T[E]=this.i(E)|g.i(E);return new v(T,this.h|g.h)},A.xor=function(g){for(var x=Math.max(this.g.length,g.g.length),T=[],E=0;E<x;E++)T[E]=this.i(E)^g.i(E);return new v(T,this.h^g.h)};function f(g){for(var x=g.g.length+1,T=[],E=0;E<x;E++)T[E]=g.i(E)<<1|g.i(E-1)>>>31;return new v(T,g.h)}function p(g,x){var T=x>>5;x%=32;for(var E=g.g.length-T,C=[],R=0;R<E;R++)C[R]=0<x?g.i(R+T)>>>x|g.i(R+T+1)<<32-x:g.i(R+T);return new v(C,g.h)}P.prototype.digest=P.prototype.v,P.prototype.reset=P.prototype.s,P.prototype.update=P.prototype.u,Lu=P,v.prototype.add=v.prototype.add,v.prototype.multiply=v.prototype.j,v.prototype.modulo=v.prototype.A,v.prototype.compare=v.prototype.l,v.prototype.toNumber=v.prototype.m,v.prototype.toString=v.prototype.toString,v.prototype.getBits=v.prototype.i,v.fromNumber=o,v.fromString=m,ri=v}).apply(typeof Dh<"u"?Dh:typeof self<"u"?self:typeof window<"u"?window:{});var xn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fu,Cs,Ou,Mn,ea,Du,Nu,Bu;(function(){var A,c=typeof Object.defineProperties=="function"?Object.defineProperty:function(N,H,Q){return N==Array.prototype||N==Object.prototype||(N[H]=Q.value),N};function y(N){N=[typeof globalThis=="object"&&globalThis,N,typeof window=="object"&&window,typeof self=="object"&&self,typeof xn=="object"&&xn];for(var H=0;H<N.length;++H){var Q=N[H];if(Q&&Q.Math==Math)return Q}throw Error("Cannot find global object")}var P=y(this);function M(N,H){if(H)t:{var Q=P;N=N.split(".");for(var Z=0;Z<N.length-1;Z++){var it=N[Z];if(!(it in Q))break t;Q=Q[it]}N=N[N.length-1],Z=Q[N],H=H(Z),H!=Z&&H!=null&&c(Q,N,{configurable:!0,writable:!0,value:H})}}function O(N,H){N instanceof String&&(N+="");var Q=0,Z=!1,it={next:function(){if(!Z&&Q<N.length){var st=Q++;return{value:H(st,N[st]),done:!1}}return Z=!0,{done:!0,value:void 0}}};return it[Symbol.iterator]=function(){return it},it}M("Array.prototype.values",function(N){return N||function(){return O(this,function(H,Q){return Q})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var v=v||{},S=this||self;function t(N){var H=typeof N;return H=H!="object"?H:N?Array.isArray(N)?"array":H:"null",H=="array"||H=="object"&&typeof N.length=="number"}function o(N){var H=typeof N;return H=="object"&&N!=null||H=="function"}function m(N,H,Q){return N.call.apply(N.bind,arguments)}function a(N,H,Q){if(!N)throw Error();if(2<arguments.length){var Z=Array.prototype.slice.call(arguments,2);return function(){var it=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(it,Z),N.apply(H,it)}}return function(){return N.apply(H,arguments)}}function r(N,H,Q){return r=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:a,r.apply(null,arguments)}function n(N,H){var Q=Array.prototype.slice.call(arguments,1);return function(){var Z=Q.slice();return Z.push.apply(Z,arguments),N.apply(this,Z)}}function e(N,H){function Q(){}Q.prototype=H.prototype,N.aa=H.prototype,N.prototype=new Q,N.prototype.constructor=N,N.Qb=function(Z,it,st){for(var dt=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)dt[Gt-2]=arguments[Gt];return H.prototype[it].apply(Z,dt)}}function s(N){const H=N.length;if(0<H){const Q=Array(H);for(let Z=0;Z<H;Z++)Q[Z]=N[Z];return Q}return[]}function h(N,H){for(let Q=1;Q<arguments.length;Q++){const Z=arguments[Q];if(t(Z)){const it=N.length||0,st=Z.length||0;N.length=it+st;for(let dt=0;dt<st;dt++)N[it+dt]=Z[dt]}else N.push(Z)}}class i{constructor(H,Q){this.i=H,this.j=Q,this.h=0,this.g=null}get(){let H;return 0<this.h?(this.h--,H=this.g,this.g=H.next,H.next=null):H=this.i(),H}}function l(N){return/^[\s\xa0]*$/.test(N)}function u(){var N=S.navigator;return N&&(N=N.userAgent)?N:""}function d(N){return d[" "](N),N}d[" "]=function(){};var f=u().indexOf("Gecko")!=-1&&!(u().toLowerCase().indexOf("webkit")!=-1&&u().indexOf("Edge")==-1)&&!(u().indexOf("Trident")!=-1||u().indexOf("MSIE")!=-1)&&u().indexOf("Edge")==-1;function p(N,H,Q){for(const Z in N)H.call(Q,N[Z],Z,N)}function g(N,H){for(const Q in N)H.call(void 0,N[Q],Q,N)}function x(N){const H={};for(const Q in N)H[Q]=N[Q];return H}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(N,H){let Q,Z;for(let it=1;it<arguments.length;it++){Z=arguments[it];for(Q in Z)N[Q]=Z[Q];for(let st=0;st<T.length;st++)Q=T[st],Object.prototype.hasOwnProperty.call(Z,Q)&&(N[Q]=Z[Q])}}function C(N){var H=1;N=N.split(":");const Q=[];for(;0<H&&N.length;)Q.push(N.shift()),H--;return N.length&&Q.push(N.join(":")),Q}function R(N){S.setTimeout(()=>{throw N},0)}function w(){var N=U;let H=null;return N.g&&(H=N.g,N.g=N.g.next,N.g||(N.h=null),H.next=null),H}class F{constructor(){this.h=this.g=null}add(H,Q){const Z=I.get();Z.set(H,Q),this.h?this.h.next=Z:this.g=Z,this.h=Z}}var I=new i(()=>new L,N=>N.reset());class L{constructor(){this.next=this.g=this.h=null}set(H,Q){this.h=H,this.g=Q,this.next=null}reset(){this.next=this.g=this.h=null}}let D,B=!1,U=new F,W=()=>{const N=S.Promise.resolve(void 0);D=()=>{N.then(K)}};var K=()=>{for(var N;N=w();){try{N.h.call(N.g)}catch(Q){R(Q)}var H=I;H.j(N),100>H.h&&(H.h++,N.next=H.g,H.g=N)}B=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(N,H){this.type=N,this.g=this.target=H,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var X=function(){if(!S.addEventListener||!Object.defineProperty)return!1;var N=!1,H=Object.defineProperty({},"passive",{get:function(){N=!0}});try{const Q=()=>{};S.addEventListener("test",Q,H),S.removeEventListener("test",Q,H)}catch{}return N}();function V(N,H){if(G.call(this,N?N.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,N){var Q=this.type=N.type,Z=N.changedTouches&&N.changedTouches.length?N.changedTouches[0]:null;if(this.target=N.target||N.srcElement,this.g=H,H=N.relatedTarget){if(f){t:{try{d(H.nodeName);var it=!0;break t}catch{}it=!1}it||(H=null)}}else Q=="mouseover"?H=N.fromElement:Q=="mouseout"&&(H=N.toElement);this.relatedTarget=H,Z?(this.clientX=Z.clientX!==void 0?Z.clientX:Z.pageX,this.clientY=Z.clientY!==void 0?Z.clientY:Z.pageY,this.screenX=Z.screenX||0,this.screenY=Z.screenY||0):(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0),this.button=N.button,this.key=N.key||"",this.ctrlKey=N.ctrlKey,this.altKey=N.altKey,this.shiftKey=N.shiftKey,this.metaKey=N.metaKey,this.pointerId=N.pointerId||0,this.pointerType=typeof N.pointerType=="string"?N.pointerType:b[N.pointerType]||"",this.state=N.state,this.i=N,N.defaultPrevented&&V.aa.h.call(this)}}e(V,G);var b={2:"touch",3:"pen",4:"mouse"};V.prototype.h=function(){V.aa.h.call(this);var N=this.i;N.preventDefault?N.preventDefault():N.returnValue=!1};var z="closure_listenable_"+(1e6*Math.random()|0),k=0;function $(N,H,Q,Z,it){this.listener=N,this.proxy=null,this.src=H,this.type=Q,this.capture=!!Z,this.ha=it,this.key=++k,this.da=this.fa=!1}function J(N){N.da=!0,N.listener=null,N.proxy=null,N.src=null,N.ha=null}function j(N){this.src=N,this.g={},this.h=0}j.prototype.add=function(N,H,Q,Z,it){var st=N.toString();N=this.g[st],N||(N=this.g[st]=[],this.h++);var dt=_(N,H,Z,it);return-1<dt?(H=N[dt],Q||(H.fa=!1)):(H=new $(H,this.src,st,!!Z,it),H.fa=Q,N.push(H)),H};function q(N,H){var Q=H.type;if(Q in N.g){var Z=N.g[Q],it=Array.prototype.indexOf.call(Z,H,void 0),st;(st=0<=it)&&Array.prototype.splice.call(Z,it,1),st&&(J(H),N.g[Q].length==0&&(delete N.g[Q],N.h--))}}function _(N,H,Q,Z){for(var it=0;it<N.length;++it){var st=N[it];if(!st.da&&st.listener==H&&st.capture==!!Q&&st.ha==Z)return it}return-1}var tt="closure_lm_"+(1e6*Math.random()|0),et={};function at(N,H,Q,Z,it){if(Array.isArray(H)){for(var st=0;st<H.length;st++)at(N,H[st],Q,Z,it);return null}return Q=St(Q),N&&N[z]?N.K(H,Q,o(Z)?!!Z.capture:!1,it):ot(N,H,Q,!1,Z,it)}function ot(N,H,Q,Z,it,st){if(!H)throw Error("Invalid event type");var dt=o(it)?!!it.capture:!!it,Gt=ut(N);if(Gt||(N[tt]=Gt=new j(N)),Q=Gt.add(H,Q,Z,dt,st),Q.proxy)return Q;if(Z=nt(),Q.proxy=Z,Z.src=N,Z.listener=Q,N.addEventListener)X||(it=dt),it===void 0&&(it=!1),N.addEventListener(H.toString(),Z,it);else if(N.attachEvent)N.attachEvent(gt(H.toString()),Z);else if(N.addListener&&N.removeListener)N.addListener(Z);else throw Error("addEventListener and attachEvent are unavailable.");return Q}function nt(){function N(Q){return H.call(N.src,N.listener,Q)}const H=rt;return N}function vt(N,H,Q,Z,it){if(Array.isArray(H))for(var st=0;st<H.length;st++)vt(N,H[st],Q,Z,it);else Z=o(Z)?!!Z.capture:!!Z,Q=St(Q),N&&N[z]?(N=N.i,H=String(H).toString(),H in N.g&&(st=N.g[H],Q=_(st,Q,Z,it),-1<Q&&(J(st[Q]),Array.prototype.splice.call(st,Q,1),st.length==0&&(delete N.g[H],N.h--)))):N&&(N=ut(N))&&(H=N.g[H.toString()],N=-1,H&&(N=_(H,Q,Z,it)),(Q=-1<N?H[N]:null)&&pt(Q))}function pt(N){if(typeof N!="number"&&N&&!N.da){var H=N.src;if(H&&H[z])q(H.i,N);else{var Q=N.type,Z=N.proxy;H.removeEventListener?H.removeEventListener(Q,Z,N.capture):H.detachEvent?H.detachEvent(gt(Q),Z):H.addListener&&H.removeListener&&H.removeListener(Z),(Q=ut(H))?(q(Q,N),Q.h==0&&(Q.src=null,H[tt]=null)):J(N)}}}function gt(N){return N in et?et[N]:et[N]="on"+N}function rt(N,H){if(N.da)N=!0;else{H=new V(H,this);var Q=N.listener,Z=N.ha||N.src;N.fa&&pt(N),N=Q.call(Z,H)}return N}function ut(N){return N=N[tt],N instanceof j?N:null}var ft="__closure_events_fn_"+(1e9*Math.random()>>>0);function St(N){return typeof N=="function"?N:(N[ft]||(N[ft]=function(H){return N.handleEvent(H)}),N[ft])}function Tt(){Y.call(this),this.i=new j(this),this.M=this,this.F=null}e(Tt,Y),Tt.prototype[z]=!0,Tt.prototype.removeEventListener=function(N,H,Q,Z){vt(this,N,H,Q,Z)};function wt(N,H){var Q,Z=N.F;if(Z)for(Q=[];Z;Z=Z.F)Q.push(Z);if(N=N.M,Z=H.type||H,typeof H=="string")H=new G(H,N);else if(H instanceof G)H.target=H.target||N;else{var it=H;H=new G(Z,N),E(H,it)}if(it=!0,Q)for(var st=Q.length-1;0<=st;st--){var dt=H.g=Q[st];it=Pt(dt,Z,!0,H)&&it}if(dt=H.g=N,it=Pt(dt,Z,!0,H)&&it,it=Pt(dt,Z,!1,H)&&it,Q)for(st=0;st<Q.length;st++)dt=H.g=Q[st],it=Pt(dt,Z,!1,H)&&it}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var N=this.i,H;for(H in N.g){for(var Q=N.g[H],Z=0;Z<Q.length;Z++)J(Q[Z]);delete N.g[H],N.h--}}this.F=null},Tt.prototype.K=function(N,H,Q,Z){return this.i.add(String(N),H,!1,Q,Z)},Tt.prototype.L=function(N,H,Q,Z){return this.i.add(String(N),H,!0,Q,Z)};function Pt(N,H,Q,Z){if(H=N.i.g[String(H)],!H)return!0;H=H.concat();for(var it=!0,st=0;st<H.length;++st){var dt=H[st];if(dt&&!dt.da&&dt.capture==Q){var Gt=dt.listener,_t=dt.ha||dt.src;dt.fa&&q(N.i,dt),it=Gt.call(_t,Z)!==!1&&it}}return it&&!Z.defaultPrevented}function Mt(N,H,Q){if(typeof N=="function")Q&&(N=r(N,Q));else if(N&&typeof N.handleEvent=="function")N=r(N.handleEvent,N);else throw Error("Invalid listener argument");return 2147483647<Number(H)?-1:S.setTimeout(N,H||0)}function bt(N){N.g=Mt(()=>{N.g=null,N.i&&(N.i=!1,bt(N))},N.l);const H=N.h;N.h=null,N.m.apply(null,H)}class Kt extends Y{constructor(H,Q){super(),this.m=H,this.l=Q,this.h=null,this.i=!1,this.g=null}j(H){this.h=arguments,this.g?this.i=!0:bt(this)}N(){super.N(),this.g&&(S.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lt(N){Y.call(this),this.h=N,this.g={}}e(Lt,Y);var Vt=[];function Ut(N){p(N.g,function(H,Q){this.g.hasOwnProperty(Q)&&pt(H)},N),N.g={}}Lt.prototype.N=function(){Lt.aa.N.call(this),Ut(this)},Lt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $t=S.JSON.stringify,Oe=S.JSON.parse,De=class{stringify(N){return S.JSON.stringify(N,void 0)}parse(N){return S.JSON.parse(N,void 0)}};function me(){}me.prototype.h=null;function Ae(N){return N.h||(N.h=N.i())}function Pe(){}var ls={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Sr(){G.call(this,"d")}e(Sr,G);function Er(){G.call(this,"c")}e(Er,G);var pi={},vo=null;function sn(){return vo=vo||new Tt}pi.La="serverreachability";function po(N){G.call(this,pi.La,N)}e(po,G);function us(N){const H=sn();wt(H,new po(H))}pi.STAT_EVENT="statevent";function mo(N,H){G.call(this,pi.STAT_EVENT,N),this.stat=H}e(mo,G);function le(N){const H=sn();wt(H,new mo(H,N))}pi.Ma="timingevent";function go(N,H){G.call(this,pi.Ma,N),this.size=H}e(go,G);function fs(N,H){if(typeof N!="function")throw Error("Fn must not be null and must be a function");return S.setTimeout(function(){N()},H)}function ds(){this.g=!0}ds.prototype.xa=function(){this.g=!1};function vd(N,H,Q,Z,it,st){N.info(function(){if(N.g)if(st)for(var dt="",Gt=st.split("&"),_t=0;_t<Gt.length;_t++){var Nt=Gt[_t].split("=");if(1<Nt.length){var se=Nt[0];Nt=Nt[1];var ne=se.split("_");dt=2<=ne.length&&ne[1]=="type"?dt+(se+"="+Nt+"&"):dt+(se+"=redacted&")}}else dt=null;else dt=st;return"XMLHTTP REQ ("+Z+") [attempt "+it+"]: "+H+`
`+Q+`
`+dt})}function pd(N,H,Q,Z,it,st,dt){N.info(function(){return"XMLHTTP RESP ("+Z+") [ attempt "+it+"]: "+H+`
`+Q+`
`+st+" "+dt})}function Di(N,H,Q,Z){N.info(function(){return"XMLHTTP TEXT ("+H+"): "+gd(N,Q)+(Z?" "+Z:"")})}function md(N,H){N.info(function(){return"TIMEOUT: "+H})}ds.prototype.info=function(){};function gd(N,H){if(!N.g)return H;if(!H)return null;try{var Q=JSON.parse(H);if(Q){for(N=0;N<Q.length;N++)if(Array.isArray(Q[N])){var Z=Q[N];if(!(2>Z.length)){var it=Z[1];if(Array.isArray(it)&&!(1>it.length)){var st=it[0];if(st!="noop"&&st!="stop"&&st!="close")for(var dt=1;dt<it.length;dt++)it[dt]=""}}}}return $t(Q)}catch{return H}}var nn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Cr;function rn(){}e(rn,me),rn.prototype.g=function(){return new XMLHttpRequest},rn.prototype.i=function(){return{}},Cr=new rn;function $e(N,H,Q,Z){this.j=N,this.i=H,this.l=Q,this.R=Z||1,this.U=new Lt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xo}function xo(){this.i=null,this.g="",this.h=!1}var To={},Ar={};function Pr(N,H,Q){N.L=1,N.v=ln(Ne(H)),N.m=Q,N.P=!0,So(N,null)}function So(N,H){N.F=Date.now(),an(N),N.A=Ne(N.v);var Q=N.A,Z=N.R;Array.isArray(Z)||(Z=[String(Z)]),Bo(Q.i,"t",Z),N.C=0,Q=N.j.J,N.h=new xo,N.g=_o(N.j,Q?H:null,!N.m),0<N.O&&(N.M=new Kt(r(N.Y,N,N.g),N.O)),H=N.U,Q=N.g,Z=N.ca;var it="readystatechange";Array.isArray(it)||(it&&(Vt[0]=it.toString()),it=Vt);for(var st=0;st<it.length;st++){var dt=at(Q,it[st],Z||H.handleEvent,!1,H.h||H);if(!dt)break;H.g[dt.key]=dt}H=N.H?x(N.H):{},N.m?(N.u||(N.u="POST"),H["Content-Type"]="application/x-www-form-urlencoded",N.g.ea(N.A,N.u,N.m,H)):(N.u="GET",N.g.ea(N.A,N.u,null,H)),us(),vd(N.i,N.u,N.A,N.l,N.R,N.m)}$e.prototype.ca=function(N){N=N.target;const H=this.M;H&&Be(N)==3?H.j():this.Y(N)},$e.prototype.Y=function(N){try{if(N==this.g)t:{const ne=Be(this.g);var H=this.g.Ba();const bi=this.g.Z();if(!(3>ne)&&(ne!=3||this.g&&(this.h.h||this.g.oa()||Wo(this.g)))){this.J||ne!=4||H==7||(H==8||0>=bi?us(3):us(2)),Rr(this);var Q=this.g.Z();this.X=Q;e:if(Eo(this)){var Z=Wo(this.g);N="";var it=Z.length,st=Be(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mi(this),cs(this);var dt="";break e}this.h.i=new S.TextDecoder}for(H=0;H<it;H++)this.h.h=!0,N+=this.h.i.decode(Z[H],{stream:!(st&&H==it-1)});Z.length=0,this.h.g+=N,this.C=0,dt=this.h.g}else dt=this.g.oa();if(this.o=Q==200,pd(this.i,this.u,this.A,this.l,this.R,ne,Q),this.o){if(this.T&&!this.K){e:{if(this.g){var Gt,_t=this.g;if((Gt=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!l(Gt)){var Nt=Gt;break e}}Nt=null}if(Q=Nt)Di(this.i,this.l,Q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wr(this,Q);else{this.o=!1,this.s=3,le(12),mi(this),cs(this);break t}}if(this.P){Q=!0;let ge;for(;!this.J&&this.C<dt.length;)if(ge=yd(this,dt),ge==Ar){ne==4&&(this.s=4,le(14),Q=!1),Di(this.i,this.l,null,"[Incomplete Response]");break}else if(ge==To){this.s=4,le(15),Di(this.i,this.l,dt,"[Invalid Chunk]"),Q=!1;break}else Di(this.i,this.l,ge,null),wr(this,ge);if(Eo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ne!=4||dt.length!=0||this.h.h||(this.s=1,le(16),Q=!1),this.o=this.o&&Q,!Q)Di(this.i,this.l,dt,"[Invalid Chunked Response]"),mi(this),cs(this);else if(0<dt.length&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.ba&&!se.M&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+dt.length),Dr(se),se.M=!0,le(11))}}else Di(this.i,this.l,dt,null),wr(this,dt);ne==4&&mi(this),this.o&&!this.J&&(ne==4?Jo(this.j,this):(this.o=!1,an(this)))}else Bd(this.g),Q==400&&0<dt.indexOf("Unknown SID")?(this.s=3,le(12)):(this.s=0,le(13)),mi(this),cs(this)}}}catch{}finally{}};function Eo(N){return N.g?N.u=="GET"&&N.L!=2&&N.j.Ca:!1}function yd(N,H){var Q=N.C,Z=H.indexOf(`
`,Q);return Z==-1?Ar:(Q=Number(H.substring(Q,Z)),isNaN(Q)?To:(Z+=1,Z+Q>H.length?Ar:(H=H.slice(Z,Z+Q),N.C=Z+Q,H)))}$e.prototype.cancel=function(){this.J=!0,mi(this)};function an(N){N.S=Date.now()+N.I,Co(N,N.I)}function Co(N,H){if(N.B!=null)throw Error("WatchDog timer not null");N.B=fs(r(N.ba,N),H)}function Rr(N){N.B&&(S.clearTimeout(N.B),N.B=null)}$e.prototype.ba=function(){this.B=null;const N=Date.now();0<=N-this.S?(md(this.i,this.A),this.L!=2&&(us(),le(17)),mi(this),this.s=2,cs(this)):Co(this,this.S-N)};function cs(N){N.j.G==0||N.J||Jo(N.j,N)}function mi(N){Rr(N);var H=N.M;H&&typeof H.ma=="function"&&H.ma(),N.M=null,Ut(N.U),N.g&&(H=N.g,N.g=null,H.abort(),H.ma())}function wr(N,H){try{var Q=N.j;if(Q.G!=0&&(Q.g==N||Mr(Q.h,N))){if(!N.K&&Mr(Q.h,N)&&Q.G==3){try{var Z=Q.Da.g.parse(H)}catch{Z=null}if(Array.isArray(Z)&&Z.length==3){var it=Z;if(it[0]==0){t:if(!Q.u){if(Q.g)if(Q.g.F+3e3<N.F)pn(Q),cn(Q);else break t;Or(Q),le(18)}}else Q.za=it[1],0<Q.za-Q.T&&37500>it[2]&&Q.F&&Q.v==0&&!Q.C&&(Q.C=fs(r(Q.Za,Q),6e3));if(1>=Ro(Q.h)&&Q.ca){try{Q.ca()}catch{}Q.ca=void 0}}else yi(Q,11)}else if((N.K||Q.g==N)&&pn(Q),!l(H))for(it=Q.Da.g.parse(H),H=0;H<it.length;H++){let Nt=it[H];if(Q.T=Nt[0],Nt=Nt[1],Q.G==2)if(Nt[0]=="c"){Q.K=Nt[1],Q.ia=Nt[2];const se=Nt[3];se!=null&&(Q.la=se,Q.j.info("VER="+Q.la));const ne=Nt[4];ne!=null&&(Q.Aa=ne,Q.j.info("SVER="+Q.Aa));const bi=Nt[5];bi!=null&&typeof bi=="number"&&0<bi&&(Z=1.5*bi,Q.L=Z,Q.j.info("backChannelRequestTimeoutMs_="+Z)),Z=Q;const ge=N.g;if(ge){const gn=ge.g?ge.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gn){var st=Z.h;st.g||gn.indexOf("spdy")==-1&&gn.indexOf("quic")==-1&&gn.indexOf("h2")==-1||(st.j=st.l,st.g=new Set,st.h&&(Ir(st,st.h),st.h=null))}if(Z.D){const Nr=ge.g?ge.g.getResponseHeader("X-HTTP-Session-Id"):null;Nr&&(Z.ya=Nr,zt(Z.I,Z.D,Nr))}}Q.G=3,Q.l&&Q.l.ua(),Q.ba&&(Q.R=Date.now()-N.F,Q.j.info("Handshake RTT: "+Q.R+"ms")),Z=Q;var dt=N;if(Z.qa=qo(Z,Z.J?Z.ia:null,Z.W),dt.K){wo(Z.h,dt);var Gt=dt,_t=Z.L;_t&&(Gt.I=_t),Gt.B&&(Rr(Gt),an(Gt)),Z.g=dt}else $o(Z);0<Q.i.length&&vn(Q)}else Nt[0]!="stop"&&Nt[0]!="close"||yi(Q,7);else Q.G==3&&(Nt[0]=="stop"||Nt[0]=="close"?Nt[0]=="stop"?yi(Q,7):Fr(Q):Nt[0]!="noop"&&Q.l&&Q.l.ta(Nt),Q.v=0)}}us(4)}catch{}}var xd=class{constructor(N,H){this.g=N,this.map=H}};function Ao(N){this.l=N||10,S.PerformanceNavigationTiming?(N=S.performance.getEntriesByType("navigation"),N=0<N.length&&(N[0].nextHopProtocol=="hq"||N[0].nextHopProtocol=="h2")):N=!!(S.chrome&&S.chrome.loadTimes&&S.chrome.loadTimes()&&S.chrome.loadTimes().wasFetchedViaSpdy),this.j=N?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Po(N){return N.h?!0:N.g?N.g.size>=N.j:!1}function Ro(N){return N.h?1:N.g?N.g.size:0}function Mr(N,H){return N.h?N.h==H:N.g?N.g.has(H):!1}function Ir(N,H){N.g?N.g.add(H):N.h=H}function wo(N,H){N.h&&N.h==H?N.h=null:N.g&&N.g.has(H)&&N.g.delete(H)}Ao.prototype.cancel=function(){if(this.i=Mo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const N of this.g.values())N.cancel();this.g.clear()}};function Mo(N){if(N.h!=null)return N.i.concat(N.h.D);if(N.g!=null&&N.g.size!==0){let H=N.i;for(const Q of N.g.values())H=H.concat(Q.D);return H}return s(N.i)}function Td(N){if(N.V&&typeof N.V=="function")return N.V();if(typeof Map<"u"&&N instanceof Map||typeof Set<"u"&&N instanceof Set)return Array.from(N.values());if(typeof N=="string")return N.split("");if(t(N)){for(var H=[],Q=N.length,Z=0;Z<Q;Z++)H.push(N[Z]);return H}H=[],Q=0;for(Z in N)H[Q++]=N[Z];return H}function Sd(N){if(N.na&&typeof N.na=="function")return N.na();if(!N.V||typeof N.V!="function"){if(typeof Map<"u"&&N instanceof Map)return Array.from(N.keys());if(!(typeof Set<"u"&&N instanceof Set)){if(t(N)||typeof N=="string"){var H=[];N=N.length;for(var Q=0;Q<N;Q++)H.push(Q);return H}H=[],Q=0;for(const Z in N)H[Q++]=Z;return H}}}function Io(N,H){if(N.forEach&&typeof N.forEach=="function")N.forEach(H,void 0);else if(t(N)||typeof N=="string")Array.prototype.forEach.call(N,H,void 0);else for(var Q=Sd(N),Z=Td(N),it=Z.length,st=0;st<it;st++)H.call(void 0,Z[st],Q&&Q[st],N)}var Lo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ed(N,H){if(N){N=N.split("&");for(var Q=0;Q<N.length;Q++){var Z=N[Q].indexOf("="),it=null;if(0<=Z){var st=N[Q].substring(0,Z);it=N[Q].substring(Z+1)}else st=N[Q];H(st,it?decodeURIComponent(it.replace(/\+/g," ")):"")}}}function gi(N){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,N instanceof gi){this.h=N.h,on(this,N.j),this.o=N.o,this.g=N.g,hn(this,N.s),this.l=N.l;var H=N.i,Q=new ms;Q.i=H.i,H.g&&(Q.g=new Map(H.g),Q.h=H.h),Fo(this,Q),this.m=N.m}else N&&(H=String(N).match(Lo))?(this.h=!1,on(this,H[1]||"",!0),this.o=vs(H[2]||""),this.g=vs(H[3]||"",!0),hn(this,H[4]),this.l=vs(H[5]||"",!0),Fo(this,H[6]||"",!0),this.m=vs(H[7]||"")):(this.h=!1,this.i=new ms(null,this.h))}gi.prototype.toString=function(){var N=[],H=this.j;H&&N.push(ps(H,Oo,!0),":");var Q=this.g;return(Q||H=="file")&&(N.push("//"),(H=this.o)&&N.push(ps(H,Oo,!0),"@"),N.push(encodeURIComponent(String(Q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Q=this.s,Q!=null&&N.push(":",String(Q))),(Q=this.l)&&(this.g&&Q.charAt(0)!="/"&&N.push("/"),N.push(ps(Q,Q.charAt(0)=="/"?Pd:Ad,!0))),(Q=this.i.toString())&&N.push("?",Q),(Q=this.m)&&N.push("#",ps(Q,wd)),N.join("")};function Ne(N){return new gi(N)}function on(N,H,Q){N.j=Q?vs(H,!0):H,N.j&&(N.j=N.j.replace(/:$/,""))}function hn(N,H){if(H){if(H=Number(H),isNaN(H)||0>H)throw Error("Bad port number "+H);N.s=H}else N.s=null}function Fo(N,H,Q){H instanceof ms?(N.i=H,Md(N.i,N.h)):(Q||(H=ps(H,Rd)),N.i=new ms(H,N.h))}function zt(N,H,Q){N.i.set(H,Q)}function ln(N){return zt(N,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),N}function vs(N,H){return N?H?decodeURI(N.replace(/%25/g,"%2525")):decodeURIComponent(N):""}function ps(N,H,Q){return typeof N=="string"?(N=encodeURI(N).replace(H,Cd),Q&&(N=N.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N):null}function Cd(N){return N=N.charCodeAt(0),"%"+(N>>4&15).toString(16)+(N&15).toString(16)}var Oo=/[#\/\?@]/g,Ad=/[#\?:]/g,Pd=/[#\?]/g,Rd=/[#\?@]/g,wd=/#/g;function ms(N,H){this.h=this.g=null,this.i=N||null,this.j=!!H}function Qe(N){N.g||(N.g=new Map,N.h=0,N.i&&Ed(N.i,function(H,Q){N.add(decodeURIComponent(H.replace(/\+/g," ")),Q)}))}A=ms.prototype,A.add=function(N,H){Qe(this),this.i=null,N=Ni(this,N);var Q=this.g.get(N);return Q||this.g.set(N,Q=[]),Q.push(H),this.h+=1,this};function Do(N,H){Qe(N),H=Ni(N,H),N.g.has(H)&&(N.i=null,N.h-=N.g.get(H).length,N.g.delete(H))}function No(N,H){return Qe(N),H=Ni(N,H),N.g.has(H)}A.forEach=function(N,H){Qe(this),this.g.forEach(function(Q,Z){Q.forEach(function(it){N.call(H,it,Z,this)},this)},this)},A.na=function(){Qe(this);const N=Array.from(this.g.values()),H=Array.from(this.g.keys()),Q=[];for(let Z=0;Z<H.length;Z++){const it=N[Z];for(let st=0;st<it.length;st++)Q.push(H[Z])}return Q},A.V=function(N){Qe(this);let H=[];if(typeof N=="string")No(this,N)&&(H=H.concat(this.g.get(Ni(this,N))));else{N=Array.from(this.g.values());for(let Q=0;Q<N.length;Q++)H=H.concat(N[Q])}return H},A.set=function(N,H){return Qe(this),this.i=null,N=Ni(this,N),No(this,N)&&(this.h-=this.g.get(N).length),this.g.set(N,[H]),this.h+=1,this},A.get=function(N,H){return N?(N=this.V(N),0<N.length?String(N[0]):H):H};function Bo(N,H,Q){Do(N,H),0<Q.length&&(N.i=null,N.g.set(Ni(N,H),s(Q)),N.h+=Q.length)}A.toString=function(){if(this.i)return this.i;if(!this.g)return"";const N=[],H=Array.from(this.g.keys());for(var Q=0;Q<H.length;Q++){var Z=H[Q];const st=encodeURIComponent(String(Z)),dt=this.V(Z);for(Z=0;Z<dt.length;Z++){var it=st;dt[Z]!==""&&(it+="="+encodeURIComponent(String(dt[Z]))),N.push(it)}}return this.i=N.join("&")};function Ni(N,H){return H=String(H),N.j&&(H=H.toLowerCase()),H}function Md(N,H){H&&!N.j&&(Qe(N),N.i=null,N.g.forEach(function(Q,Z){var it=Z.toLowerCase();Z!=it&&(Do(this,Z),Bo(this,it,Q))},N)),N.j=H}function Id(N,H){const Q=new ds;if(S.Image){const Z=new Image;Z.onload=n(Je,Q,"TestLoadImage: loaded",!0,H,Z),Z.onerror=n(Je,Q,"TestLoadImage: error",!1,H,Z),Z.onabort=n(Je,Q,"TestLoadImage: abort",!1,H,Z),Z.ontimeout=n(Je,Q,"TestLoadImage: timeout",!1,H,Z),S.setTimeout(function(){Z.ontimeout&&Z.ontimeout()},1e4),Z.src=N}else H(!1)}function Ld(N,H){const Q=new ds,Z=new AbortController,it=setTimeout(()=>{Z.abort(),Je(Q,"TestPingServer: timeout",!1,H)},1e4);fetch(N,{signal:Z.signal}).then(st=>{clearTimeout(it),st.ok?Je(Q,"TestPingServer: ok",!0,H):Je(Q,"TestPingServer: server error",!1,H)}).catch(()=>{clearTimeout(it),Je(Q,"TestPingServer: error",!1,H)})}function Je(N,H,Q,Z,it){try{it&&(it.onload=null,it.onerror=null,it.onabort=null,it.ontimeout=null),Z(Q)}catch{}}function Fd(){this.g=new De}function Od(N,H,Q){const Z=Q||"";try{Io(N,function(it,st){let dt=it;o(it)&&(dt=$t(it)),H.push(Z+st+"="+encodeURIComponent(dt))})}catch(it){throw H.push(Z+"type="+encodeURIComponent("_badmap")),it}}function un(N){this.l=N.Ub||null,this.j=N.eb||!1}e(un,me),un.prototype.g=function(){return new fn(this.l,this.j)},un.prototype.i=function(N){return function(){return N}}({});function fn(N,H){Tt.call(this),this.D=N,this.o=H,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}e(fn,Tt),A=fn.prototype,A.open=function(N,H){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=N,this.A=H,this.readyState=1,ys(this)},A.send=function(N){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const H={headers:this.u,method:this.B,credentials:this.m,cache:void 0};N&&(H.body=N),(this.D||S).fetch(new Request(this.A,H)).then(this.Sa.bind(this),this.ga.bind(this))},A.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gs(this)),this.readyState=0},A.Sa=function(N){if(this.g&&(this.l=N,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=N.headers,this.readyState=2,ys(this)),this.g&&(this.readyState=3,ys(this),this.g)))if(this.responseType==="arraybuffer")N.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof S.ReadableStream<"u"&&"body"in N){if(this.j=N.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bo(this)}else N.text().then(this.Ra.bind(this),this.ga.bind(this))};function bo(N){N.j.read().then(N.Pa.bind(N)).catch(N.ga.bind(N))}A.Pa=function(N){if(this.g){if(this.o&&N.value)this.response.push(N.value);else if(!this.o){var H=N.value?N.value:new Uint8Array(0);(H=this.v.decode(H,{stream:!N.done}))&&(this.response=this.responseText+=H)}N.done?gs(this):ys(this),this.readyState==3&&bo(this)}},A.Ra=function(N){this.g&&(this.response=this.responseText=N,gs(this))},A.Qa=function(N){this.g&&(this.response=N,gs(this))},A.ga=function(){this.g&&gs(this)};function gs(N){N.readyState=4,N.l=null,N.j=null,N.v=null,ys(N)}A.setRequestHeader=function(N,H){this.u.append(N,H)},A.getResponseHeader=function(N){return this.h&&this.h.get(N.toLowerCase())||""},A.getAllResponseHeaders=function(){if(!this.h)return"";const N=[],H=this.h.entries();for(var Q=H.next();!Q.done;)Q=Q.value,N.push(Q[0]+": "+Q[1]),Q=H.next();return N.join(`\r
`)};function ys(N){N.onreadystatechange&&N.onreadystatechange.call(N)}Object.defineProperty(fn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(N){this.m=N?"include":"same-origin"}});function Vo(N){let H="";return p(N,function(Q,Z){H+=Z,H+=":",H+=Q,H+=`\r
`}),H}function Lr(N,H,Q){t:{for(Z in Q){var Z=!1;break t}Z=!0}Z||(Q=Vo(Q),typeof N=="string"?Q!=null&&encodeURIComponent(String(Q)):zt(N,H,Q))}function Ht(N){Tt.call(this),this.headers=new Map,this.o=N||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}e(Ht,Tt);var Dd=/^https?$/i,Nd=["POST","PUT"];A=Ht.prototype,A.Ha=function(N){this.J=N},A.ea=function(N,H,Q,Z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+N);H=H?H.toUpperCase():"GET",this.D=N,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Cr.g(),this.v=this.o?Ae(this.o):Ae(Cr),this.g.onreadystatechange=r(this.Ea,this);try{this.B=!0,this.g.open(H,String(N),!0),this.B=!1}catch(st){Go(this,st);return}if(N=Q||"",Q=new Map(this.headers),Z)if(Object.getPrototypeOf(Z)===Object.prototype)for(var it in Z)Q.set(it,Z[it]);else if(typeof Z.keys=="function"&&typeof Z.get=="function")for(const st of Z.keys())Q.set(st,Z.get(st));else throw Error("Unknown input type for opt_headers: "+String(Z));Z=Array.from(Q.keys()).find(st=>st.toLowerCase()=="content-type"),it=S.FormData&&N instanceof S.FormData,!(0<=Array.prototype.indexOf.call(Nd,H,void 0))||Z||it||Q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[st,dt]of Q)this.g.setRequestHeader(st,dt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xo(this),this.u=!0,this.g.send(N),this.u=!1}catch(st){Go(this,st)}};function Go(N,H){N.h=!1,N.g&&(N.j=!0,N.g.abort(),N.j=!1),N.l=H,N.m=5,Uo(N),dn(N)}function Uo(N){N.A||(N.A=!0,wt(N,"complete"),wt(N,"error"))}A.abort=function(N){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=N||7,wt(this,"complete"),wt(this,"abort"),dn(this))},A.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dn(this,!0)),Ht.aa.N.call(this)},A.Ea=function(){this.s||(this.B||this.u||this.j?zo(this):this.bb())},A.bb=function(){zo(this)};function zo(N){if(N.h&&typeof v<"u"&&(!N.v[1]||Be(N)!=4||N.Z()!=2)){if(N.u&&Be(N)==4)Mt(N.Ea,0,N);else if(wt(N,"readystatechange"),Be(N)==4){N.h=!1;try{const dt=N.Z();t:switch(dt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var H=!0;break t;default:H=!1}var Q;if(!(Q=H)){var Z;if(Z=dt===0){var it=String(N.D).match(Lo)[1]||null;!it&&S.self&&S.self.location&&(it=S.self.location.protocol.slice(0,-1)),Z=!Dd.test(it?it.toLowerCase():"")}Q=Z}if(Q)wt(N,"complete"),wt(N,"success");else{N.m=6;try{var st=2<Be(N)?N.g.statusText:""}catch{st=""}N.l=st+" ["+N.Z()+"]",Uo(N)}}finally{dn(N)}}}}function dn(N,H){if(N.g){Xo(N);const Q=N.g,Z=N.v[0]?()=>{}:null;N.g=null,N.v=null,H||wt(N,"ready");try{Q.onreadystatechange=Z}catch{}}}function Xo(N){N.I&&(S.clearTimeout(N.I),N.I=null)}A.isActive=function(){return!!this.g};function Be(N){return N.g?N.g.readyState:0}A.Z=function(){try{return 2<Be(this)?this.g.status:-1}catch{return-1}},A.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},A.Oa=function(N){if(this.g){var H=this.g.responseText;return N&&H.indexOf(N)==0&&(H=H.substring(N.length)),Oe(H)}};function Wo(N){try{if(!N.g)return null;if("response"in N.g)return N.g.response;switch(N.H){case"":case"text":return N.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in N.g)return N.g.mozResponseArrayBuffer}return null}catch{return null}}function Bd(N){const H={};N=(N.g&&2<=Be(N)&&N.g.getAllResponseHeaders()||"").split(`\r
`);for(let Z=0;Z<N.length;Z++){if(l(N[Z]))continue;var Q=C(N[Z]);const it=Q[0];if(Q=Q[1],typeof Q!="string")continue;Q=Q.trim();const st=H[it]||[];H[it]=st,st.push(Q)}g(H,function(Z){return Z.join(", ")})}A.Ba=function(){return this.m},A.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xs(N,H,Q){return Q&&Q.internalChannelParams&&Q.internalChannelParams[N]||H}function Yo(N){this.Aa=0,this.i=[],this.j=new ds,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xs("failFast",!1,N),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xs("baseRetryDelayMs",5e3,N),this.cb=xs("retryDelaySeedMs",1e4,N),this.Wa=xs("forwardChannelMaxRetries",2,N),this.wa=xs("forwardChannelRequestTimeoutMs",2e4,N),this.pa=N&&N.xmlHttpFactory||void 0,this.Xa=N&&N.Tb||void 0,this.Ca=N&&N.useFetchStreams||!1,this.L=void 0,this.J=N&&N.supportsCrossDomainXhr||!1,this.K="",this.h=new Ao(N&&N.concurrentRequestLimit),this.Da=new Fd,this.P=N&&N.fastHandshake||!1,this.O=N&&N.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=N&&N.Rb||!1,N&&N.xa&&this.j.xa(),N&&N.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&N&&N.detectBufferingProxy||!1,this.ja=void 0,N&&N.longPollingTimeout&&0<N.longPollingTimeout&&(this.ja=N.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}A=Yo.prototype,A.la=8,A.G=1,A.connect=function(N,H,Q,Z){le(0),this.W=N,this.H=H||{},Q&&Z!==void 0&&(this.H.OSID=Q,this.H.OAID=Z),this.F=this.X,this.I=qo(this,null,this.W),vn(this)};function Fr(N){if(Ho(N),N.G==3){var H=N.U++,Q=Ne(N.I);if(zt(Q,"SID",N.K),zt(Q,"RID",H),zt(Q,"TYPE","terminate"),Ts(N,Q),H=new $e(N,N.j,H),H.L=2,H.v=ln(Ne(Q)),Q=!1,S.navigator&&S.navigator.sendBeacon)try{Q=S.navigator.sendBeacon(H.v.toString(),"")}catch{}!Q&&S.Image&&(new Image().src=H.v,Q=!0),Q||(H.g=_o(H.j,null),H.g.ea(H.v)),H.F=Date.now(),an(H)}Zo(N)}function cn(N){N.g&&(Dr(N),N.g.cancel(),N.g=null)}function Ho(N){cn(N),N.u&&(S.clearTimeout(N.u),N.u=null),pn(N),N.h.cancel(),N.s&&(typeof N.s=="number"&&S.clearTimeout(N.s),N.s=null)}function vn(N){if(!Po(N.h)&&!N.s){N.s=!0;var H=N.Ga;D||W(),B||(D(),B=!0),U.add(H,N),N.B=0}}function bd(N,H){return Ro(N.h)>=N.h.j-(N.s?1:0)?!1:N.s?(N.i=H.D.concat(N.i),!0):N.G==1||N.G==2||N.B>=(N.Va?0:N.Wa)?!1:(N.s=fs(r(N.Ga,N,H),jo(N,N.B)),N.B++,!0)}A.Ga=function(N){if(this.s)if(this.s=null,this.G==1){if(!N){this.U=Math.floor(1e5*Math.random()),N=this.U++;const it=new $e(this,this.j,N);let st=this.o;if(this.S&&(st?(st=x(st),E(st,this.S)):st=this.S),this.m!==null||this.O||(it.H=st,st=null),this.P)t:{for(var H=0,Q=0;Q<this.i.length;Q++){e:{var Z=this.i[Q];if("__data__"in Z.map&&(Z=Z.map.__data__,typeof Z=="string")){Z=Z.length;break e}Z=void 0}if(Z===void 0)break;if(H+=Z,4096<H){H=Q;break t}if(H===4096||Q===this.i.length-1){H=Q+1;break t}}H=1e3}else H=1e3;H=ko(this,it,H),Q=Ne(this.I),zt(Q,"RID",N),zt(Q,"CVER",22),this.D&&zt(Q,"X-HTTP-Session-Id",this.D),Ts(this,Q),st&&(this.O?H="headers="+encodeURIComponent(String(Vo(st)))+"&"+H:this.m&&Lr(Q,this.m,st)),Ir(this.h,it),this.Ua&&zt(Q,"TYPE","init"),this.P?(zt(Q,"$req",H),zt(Q,"SID","null"),it.T=!0,Pr(it,Q,null)):Pr(it,Q,H),this.G=2}}else this.G==3&&(N?Ko(this,N):this.i.length==0||Po(this.h)||Ko(this))};function Ko(N,H){var Q;H?Q=H.l:Q=N.U++;const Z=Ne(N.I);zt(Z,"SID",N.K),zt(Z,"RID",Q),zt(Z,"AID",N.T),Ts(N,Z),N.m&&N.o&&Lr(Z,N.m,N.o),Q=new $e(N,N.j,Q,N.B+1),N.m===null&&(Q.H=N.o),H&&(N.i=H.D.concat(N.i)),H=ko(N,Q,1e3),Q.I=Math.round(.5*N.wa)+Math.round(.5*N.wa*Math.random()),Ir(N.h,Q),Pr(Q,Z,H)}function Ts(N,H){N.H&&p(N.H,function(Q,Z){zt(H,Z,Q)}),N.l&&Io({},function(Q,Z){zt(H,Z,Q)})}function ko(N,H,Q){Q=Math.min(N.i.length,Q);var Z=N.l?r(N.l.Na,N.l,N):null;t:{var it=N.i;let st=-1;for(;;){const dt=["count="+Q];st==-1?0<Q?(st=it[0].g,dt.push("ofs="+st)):st=0:dt.push("ofs="+st);let Gt=!0;for(let _t=0;_t<Q;_t++){let Nt=it[_t].g;const se=it[_t].map;if(Nt-=st,0>Nt)st=Math.max(0,it[_t].g-100),Gt=!1;else try{Od(se,dt,"req"+Nt+"_")}catch{Z&&Z(se)}}if(Gt){Z=dt.join("&");break t}}}return N=N.i.splice(0,Q),H.D=N,Z}function $o(N){if(!N.g&&!N.u){N.Y=1;var H=N.Fa;D||W(),B||(D(),B=!0),U.add(H,N),N.v=0}}function Or(N){return N.g||N.u||3<=N.v?!1:(N.Y++,N.u=fs(r(N.Fa,N),jo(N,N.v)),N.v++,!0)}A.Fa=function(){if(this.u=null,Qo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var N=2*this.R;this.j.info("BP detection timer enabled: "+N),this.A=fs(r(this.ab,this),N)}},A.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,le(10),cn(this),Qo(this))};function Dr(N){N.A!=null&&(S.clearTimeout(N.A),N.A=null)}function Qo(N){N.g=new $e(N,N.j,"rpc",N.Y),N.m===null&&(N.g.H=N.o),N.g.O=0;var H=Ne(N.qa);zt(H,"RID","rpc"),zt(H,"SID",N.K),zt(H,"AID",N.T),zt(H,"CI",N.F?"0":"1"),!N.F&&N.ja&&zt(H,"TO",N.ja),zt(H,"TYPE","xmlhttp"),Ts(N,H),N.m&&N.o&&Lr(H,N.m,N.o),N.L&&(N.g.I=N.L);var Q=N.g;N=N.ia,Q.L=1,Q.v=ln(Ne(H)),Q.m=null,Q.P=!0,So(Q,N)}A.Za=function(){this.C!=null&&(this.C=null,cn(this),Or(this),le(19))};function pn(N){N.C!=null&&(S.clearTimeout(N.C),N.C=null)}function Jo(N,H){var Q=null;if(N.g==H){pn(N),Dr(N),N.g=null;var Z=2}else if(Mr(N.h,H))Q=H.D,wo(N.h,H),Z=1;else return;if(N.G!=0){if(H.o)if(Z==1){Q=H.m?H.m.length:0,H=Date.now()-H.F;var it=N.B;Z=sn(),wt(Z,new go(Z,Q)),vn(N)}else $o(N);else if(it=H.s,it==3||it==0&&0<H.X||!(Z==1&&bd(N,H)||Z==2&&Or(N)))switch(Q&&0<Q.length&&(H=N.h,H.i=H.i.concat(Q)),it){case 1:yi(N,5);break;case 4:yi(N,10);break;case 3:yi(N,6);break;default:yi(N,2)}}}function jo(N,H){let Q=N.Ta+Math.floor(Math.random()*N.cb);return N.isActive()||(Q*=2),Q*H}function yi(N,H){if(N.j.info("Error code "+H),H==2){var Q=r(N.fb,N),Z=N.Xa;const it=!Z;Z=new gi(Z||"//www.google.com/images/cleardot.gif"),S.location&&S.location.protocol=="http"||on(Z,"https"),ln(Z),it?Id(Z.toString(),Q):Ld(Z.toString(),Q)}else le(2);N.G=0,N.l&&N.l.sa(H),Zo(N),Ho(N)}A.fb=function(N){N?(this.j.info("Successfully pinged google.com"),le(2)):(this.j.info("Failed to ping google.com"),le(1))};function Zo(N){if(N.G=0,N.ka=[],N.l){const H=Mo(N.h);(H.length!=0||N.i.length!=0)&&(h(N.ka,H),h(N.ka,N.i),N.h.i.length=0,s(N.i),N.i.length=0),N.l.ra()}}function qo(N,H,Q){var Z=Q instanceof gi?Ne(Q):new gi(Q);if(Z.g!="")H&&(Z.g=H+"."+Z.g),hn(Z,Z.s);else{var it=S.location;Z=it.protocol,H=H?H+"."+it.hostname:it.hostname,it=+it.port;var st=new gi(null);Z&&on(st,Z),H&&(st.g=H),it&&hn(st,it),Q&&(st.l=Q),Z=st}return Q=N.D,H=N.ya,Q&&H&&zt(Z,Q,H),zt(Z,"VER",N.la),Ts(N,Z),Z}function _o(N,H,Q){if(H&&!N.J)throw Error("Can't create secondary domain capable XhrIo object.");return H=N.Ca&&!N.pa?new Ht(new un({eb:Q})):new Ht(N.pa),H.Ha(N.J),H}A.isActive=function(){return!!this.l&&this.l.isActive(this)};function th(){}A=th.prototype,A.ua=function(){},A.ta=function(){},A.sa=function(){},A.ra=function(){},A.isActive=function(){return!0},A.Na=function(){};function mn(){}mn.prototype.g=function(N,H){return new ce(N,H)};function ce(N,H){Tt.call(this),this.g=new Yo(H),this.l=N,this.h=H&&H.messageUrlParams||null,N=H&&H.messageHeaders||null,H&&H.clientProtocolHeaderRequired&&(N?N["X-Client-Protocol"]="webchannel":N={"X-Client-Protocol":"webchannel"}),this.g.o=N,N=H&&H.initMessageHeaders||null,H&&H.messageContentType&&(N?N["X-WebChannel-Content-Type"]=H.messageContentType:N={"X-WebChannel-Content-Type":H.messageContentType}),H&&H.va&&(N?N["X-WebChannel-Client-Profile"]=H.va:N={"X-WebChannel-Client-Profile":H.va}),this.g.S=N,(N=H&&H.Sb)&&!l(N)&&(this.g.m=N),this.v=H&&H.supportsCrossDomainXhr||!1,this.u=H&&H.sendRawJson||!1,(H=H&&H.httpSessionIdParam)&&!l(H)&&(this.g.D=H,N=this.h,N!==null&&H in N&&(N=this.h,H in N&&delete N[H])),this.j=new Bi(this)}e(ce,Tt),ce.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ce.prototype.close=function(){Fr(this.g)},ce.prototype.o=function(N){var H=this.g;if(typeof N=="string"){var Q={};Q.__data__=N,N=Q}else this.u&&(Q={},Q.__data__=$t(N),N=Q);H.i.push(new xd(H.Ya++,N)),H.G==3&&vn(H)},ce.prototype.N=function(){this.g.l=null,delete this.j,Fr(this.g),delete this.g,ce.aa.N.call(this)};function eh(N){Sr.call(this),N.__headers__&&(this.headers=N.__headers__,this.statusCode=N.__status__,delete N.__headers__,delete N.__status__);var H=N.__sm__;if(H){t:{for(const Q in H){N=Q;break t}N=void 0}(this.i=N)&&(N=this.i,H=H!==null&&N in H?H[N]:void 0),this.data=H}else this.data=N}e(eh,Sr);function ih(){Er.call(this),this.status=1}e(ih,Er);function Bi(N){this.g=N}e(Bi,th),Bi.prototype.ua=function(){wt(this.g,"a")},Bi.prototype.ta=function(N){wt(this.g,new eh(N))},Bi.prototype.sa=function(N){wt(this.g,new ih)},Bi.prototype.ra=function(){wt(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,ce.prototype.send=ce.prototype.o,ce.prototype.open=ce.prototype.m,ce.prototype.close=ce.prototype.close,Bu=function(){return new mn},Nu=function(){return sn()},Du=pi,ea={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},nn.NO_ERROR=0,nn.TIMEOUT=8,nn.HTTP_ERROR=6,Mn=nn,yo.COMPLETE="complete",Ou=yo,Pe.EventType=ls,ls.OPEN="a",ls.CLOSE="b",ls.ERROR="c",ls.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,Cs=Pe,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,Fu=Ht}).apply(typeof xn<"u"?xn:typeof self<"u"?self:typeof window<"u"?window:{});const Nh="@firebase/firestore",Bh="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(c){this.uid=c}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(c){return c.uid===this.uid}}ae.UNAUTHENTICATED=new ae(null),ae.GOOGLE_CREDENTIALS=new ae("google-credentials-uid"),ae.FIRST_PARTY=new ae("first-party-uid"),ae.MOCK_USER=new ae("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ns="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=new ya("@firebase/firestore");function Vi(){return Pi.logLevel}function mt(A,...c){if(Pi.logLevel<=Ft.DEBUG){const y=c.map(La);Pi.debug(`Firestore (${ns}): ${A}`,...y)}}function He(A,...c){if(Pi.logLevel<=Ft.ERROR){const y=c.map(La);Pi.error(`Firestore (${ns}): ${A}`,...y)}}function Ji(A,...c){if(Pi.logLevel<=Ft.WARN){const y=c.map(La);Pi.warn(`Firestore (${ns}): ${A}`,...y)}}function La(A){if(typeof A=="string")return A;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(y){return JSON.stringify(y)}(A)}catch{return A}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(A,c,y){let P="Unexpected state";typeof c=="string"?P=c:y=c,bu(A,P,y)}function bu(A,c,y){let P=`FIRESTORE (${ns}) INTERNAL ASSERTION FAILED: ${c} (ID: ${A.toString(16)})`;if(y!==void 0)try{P+=" CONTEXT: "+JSON.stringify(y)}catch{P+=" CONTEXT: "+y}throw He(P),new Error(P)}function Bt(A,c,y,P){let M="Unexpected state";typeof y=="string"?M=y:P=y,A||bu(c,M,P)}function Rt(A,c){return A}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends ke{constructor(c,y){super(c,y),this.code=c,this.message=y,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(){this.promise=new Promise((c,y)=>{this.resolve=c,this.reject=y})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(c,y){this.user=y,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${c}`)}}class Vm{getToken(){return Promise.resolve(null)}invalidateToken(){}start(c,y){c.enqueueRetryable(()=>y(ae.UNAUTHENTICATED))}shutdown(){}}class Gm{constructor(c){this.token=c,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(c,y){this.changeListener=y,c.enqueueRetryable(()=>y(this.token.user))}shutdown(){this.changeListener=null}}class Um{constructor(c){this.t=c,this.currentUser=ae.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(c,y){Bt(this.o===void 0,42304);let P=this.i;const M=t=>this.i!==P?(P=this.i,y(t)):Promise.resolve();let O=new ze;this.o=()=>{this.i++,this.currentUser=this.u(),O.resolve(),O=new ze,c.enqueueRetryable(()=>M(this.currentUser))};const v=()=>{const t=O;c.enqueueRetryable(async()=>{await t.promise,await M(this.currentUser)})},S=t=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.o&&(this.auth.addAuthTokenListener(this.o),v())};this.t.onInit(t=>S(t)),setTimeout(()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?S(t):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),O.resolve(),O=new ze)}},0),v()}getToken(){const c=this.i,y=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(y).then(P=>this.i!==c?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):P?(Bt(typeof P.accessToken=="string",31837,{l:P}),new Vu(P.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const c=this.auth&&this.auth.getUid();return Bt(c===null||typeof c=="string",2055,{h:c}),new ae(c)}}class zm{constructor(c,y,P){this.P=c,this.T=y,this.I=P,this.type="FirstParty",this.user=ae.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const c=this.R();return c&&this.A.set("Authorization",c),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Xm{constructor(c,y,P){this.P=c,this.T=y,this.I=P}getToken(){return Promise.resolve(new zm(this.P,this.T,this.I))}start(c,y){c.enqueueRetryable(()=>y(ae.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bh{constructor(c){this.value=c,this.type="AppCheck",this.headers=new Map,c&&c.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Wm{constructor(c,y){this.V=y,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ve(c)&&c.settings.appCheckToken&&(this.p=c.settings.appCheckToken)}start(c,y){Bt(this.o===void 0,3512);const P=O=>{O.error!=null&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${O.error.message}`);const v=O.token!==this.m;return this.m=O.token,mt("FirebaseAppCheckTokenProvider",`Received ${v?"new":"existing"} token.`),v?y(O.token):Promise.resolve()};this.o=O=>{c.enqueueRetryable(()=>P(O))};const M=O=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=O,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(O=>M(O)),setTimeout(()=>{if(!this.appCheck){const O=this.V.getImmediate({optional:!0});O?M(O):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new bh(this.p));const c=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(c).then(y=>y?(Bt(typeof y.token=="string",44558,{tokenResult:y}),this.m=y.token,new bh(y.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(A){const c=typeof self<"u"&&(self.crypto||self.msCrypto),y=new Uint8Array(A);if(c&&typeof c.getRandomValues=="function")c.getRandomValues(y);else for(let P=0;P<A;P++)y[P]=Math.floor(256*Math.random());return y}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{static newId(){const c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",y=62*Math.floor(4.129032258064516);let P="";for(;P.length<20;){const M=Ym(40);for(let O=0;O<M.length;++O)P.length<20&&M[O]<y&&(P+=c.charAt(M[O]%62))}return P}}function It(A,c){return A<c?-1:A>c?1:0}function ia(A,c){let y=0;for(;y<A.length&&y<c.length;){const P=A.codePointAt(y),M=c.codePointAt(y);if(P!==M){if(P<128&&M<128)return It(P,M);{const O=Gu(),v=Hm(O.encode(Vh(A,y)),O.encode(Vh(c,y)));return v!==0?v:It(P,M)}}y+=P>65535?2:1}return It(A.length,c.length)}function Vh(A,c){return A.codePointAt(c)>65535?A.substring(c,c+2):A.substring(c,c+1)}function Hm(A,c){for(let y=0;y<A.length&&y<c.length;++y)if(A[y]!==c[y])return It(A[y],c[y]);return It(A.length,c.length)}function ji(A,c,y){return A.length===c.length&&A.every((P,M)=>y(P,c[M]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh=-62135596800,Uh=1e6;class jt{static now(){return jt.fromMillis(Date.now())}static fromDate(c){return jt.fromMillis(c.getTime())}static fromMillis(c){const y=Math.floor(c/1e3),P=Math.floor((c-1e3*y)*Uh);return new jt(y,P)}constructor(c,y){if(this.seconds=c,this.nanoseconds=y,y<0)throw new yt(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+y);if(y>=1e9)throw new yt(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+y);if(c<Gh)throw new yt(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+c);if(c>=253402300800)throw new yt(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+c)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Uh}_compareTo(c){return this.seconds===c.seconds?It(this.nanoseconds,c.nanoseconds):It(this.seconds,c.seconds)}isEqual(c){return c.seconds===this.seconds&&c.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const c=this.seconds-Gh;return String(c).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(c){return new At(c)}static min(){return new At(new jt(0,0))}static max(){return new At(new jt(253402300799,999999999))}constructor(c){this.timestamp=c}compareTo(c){return this.timestamp._compareTo(c.timestamp)}isEqual(c){return this.timestamp.isEqual(c.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh="__name__";class Re{constructor(c,y,P){y===void 0?y=0:y>c.length&&Ct(637,{offset:y,range:c.length}),P===void 0?P=c.length-y:P>c.length-y&&Ct(1746,{length:P,range:c.length-y}),this.segments=c,this.offset=y,this.len=P}get length(){return this.len}isEqual(c){return Re.comparator(this,c)===0}child(c){const y=this.segments.slice(this.offset,this.limit());return c instanceof Re?c.forEach(P=>{y.push(P)}):y.push(c),this.construct(y)}limit(){return this.offset+this.length}popFirst(c){return c=c===void 0?1:c,this.construct(this.segments,this.offset+c,this.length-c)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(c){return this.segments[this.offset+c]}isEmpty(){return this.length===0}isPrefixOf(c){if(c.length<this.length)return!1;for(let y=0;y<this.length;y++)if(this.get(y)!==c.get(y))return!1;return!0}isImmediateParentOf(c){if(this.length+1!==c.length)return!1;for(let y=0;y<this.length;y++)if(this.get(y)!==c.get(y))return!1;return!0}forEach(c){for(let y=this.offset,P=this.limit();y<P;y++)c(this.segments[y])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(c,y){const P=Math.min(c.length,y.length);for(let M=0;M<P;M++){const O=Re.compareSegments(c.get(M),y.get(M));if(O!==0)return O}return It(c.length,y.length)}static compareSegments(c,y){const P=Re.isNumericId(c),M=Re.isNumericId(y);return P&&!M?-1:!P&&M?1:P&&M?Re.extractNumericId(c).compare(Re.extractNumericId(y)):ia(c,y)}static isNumericId(c){return c.startsWith("__id")&&c.endsWith("__")}static extractNumericId(c){return ri.fromString(c.substring(4,c.length-2))}}class Xt extends Re{construct(c,y,P){return new Xt(c,y,P)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...c){const y=[];for(const P of c){if(P.indexOf("//")>=0)throw new yt(lt.INVALID_ARGUMENT,`Invalid segment (${P}). Paths must not contain // in them.`);y.push(...P.split("/").filter(M=>M.length>0))}return new Xt(y)}static emptyPath(){return new Xt([])}}const Km=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ee extends Re{construct(c,y,P){return new ee(c,y,P)}static isValidIdentifier(c){return Km.test(c)}canonicalString(){return this.toArray().map(c=>(c=c.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ee.isValidIdentifier(c)||(c="`"+c+"`"),c)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zh}static keyField(){return new ee([zh])}static fromServerFormat(c){const y=[];let P="",M=0;const O=()=>{if(P.length===0)throw new yt(lt.INVALID_ARGUMENT,`Invalid field path (${c}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);y.push(P),P=""};let v=!1;for(;M<c.length;){const S=c[M];if(S==="\\"){if(M+1===c.length)throw new yt(lt.INVALID_ARGUMENT,"Path has trailing escape character: "+c);const t=c[M+1];if(t!=="\\"&&t!=="."&&t!=="`")throw new yt(lt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+c);P+=t,M+=2}else S==="`"?(v=!v,M++):S!=="."||v?(P+=S,M++):(O(),M++)}if(O(),v)throw new yt(lt.INVALID_ARGUMENT,"Unterminated ` in path: "+c);return new ee(y)}static emptyPath(){return new ee([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(c){this.path=c}static fromPath(c){return new xt(Xt.fromString(c))}static fromName(c){return new xt(Xt.fromString(c).popFirst(5))}static empty(){return new xt(Xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(c){return this.path.length>=2&&this.path.get(this.path.length-2)===c}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(c){return c!==null&&Xt.comparator(this.path,c.path)===0}toString(){return this.path.toString()}static comparator(c,y){return Xt.comparator(c.path,y.path)}static isDocumentKey(c){return c.length%2==0}static fromSegments(c){return new xt(new Xt(c.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=-1;function km(A,c){const y=A.toTimestamp().seconds,P=A.toTimestamp().nanoseconds+1,M=At.fromTimestamp(P===1e9?new jt(y+1,0):new jt(y,P));return new oi(M,xt.empty(),c)}function $m(A){return new oi(A.readTime,A.key,bs)}class oi{constructor(c,y,P){this.readTime=c,this.documentKey=y,this.largestBatchId=P}static min(){return new oi(At.min(),xt.empty(),bs)}static max(){return new oi(At.max(),xt.empty(),bs)}}function Qm(A,c){let y=A.readTime.compareTo(c.readTime);return y!==0?y:(y=xt.comparator(A.documentKey,c.documentKey),y!==0?y:It(A.largestBatchId,c.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jm{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(c){this.onCommittedListeners.push(c)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(c=>c())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rs(A){if(A.code!==lt.FAILED_PRECONDITION||A.message!==Jm)throw A;mt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(c){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,c(y=>{this.isDone=!0,this.result=y,this.nextCallback&&this.nextCallback(y)},y=>{this.isDone=!0,this.error=y,this.catchCallback&&this.catchCallback(y)})}catch(c){return this.next(void 0,c)}next(c,y){return this.callbackAttached&&Ct(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(y,this.error):this.wrapSuccess(c,this.result):new ht((P,M)=>{this.nextCallback=O=>{this.wrapSuccess(c,O).next(P,M)},this.catchCallback=O=>{this.wrapFailure(y,O).next(P,M)}})}toPromise(){return new Promise((c,y)=>{this.next(c,y)})}wrapUserFunction(c){try{const y=c();return y instanceof ht?y:ht.resolve(y)}catch(y){return ht.reject(y)}}wrapSuccess(c,y){return c?this.wrapUserFunction(()=>c(y)):ht.resolve(y)}wrapFailure(c,y){return c?this.wrapUserFunction(()=>c(y)):ht.reject(y)}static resolve(c){return new ht((y,P)=>{y(c)})}static reject(c){return new ht((y,P)=>{P(c)})}static waitFor(c){return new ht((y,P)=>{let M=0,O=0,v=!1;c.forEach(S=>{++M,S.next(()=>{++O,v&&O===M&&y()},t=>P(t))}),v=!0,O===M&&y()})}static or(c){let y=ht.resolve(!1);for(const P of c)y=y.next(M=>M?ht.resolve(M):P());return y}static forEach(c,y){const P=[];return c.forEach((M,O)=>{P.push(y.call(this,M,O))}),this.waitFor(P)}static mapArray(c,y){return new ht((P,M)=>{const O=c.length,v=new Array(O);let S=0;for(let t=0;t<O;t++){const o=t;y(c[o]).next(m=>{v[o]=m,++S,S===O&&P(v)},m=>M(m))}})}static doWhile(c,y){return new ht((P,M)=>{const O=()=>{c()===!0?y().next(()=>{O()},M):P()};O()})}}function Zm(A){const c=A.match(/Android ([\d.]+)/i),y=c?c[1].split(".").slice(0,2).join("."):"-1";return Number(y)}function as(A){return A.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(c,y){this.previousValue=c,y&&(y.sequenceNumberHandler=P=>this.ue(P),this.ce=P=>y.writeSequenceNumber(P))}ue(c){return this.previousValue=Math.max(c,this.previousValue),this.previousValue}next(){const c=++this.previousValue;return this.ce&&this.ce(c),c}}rr.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa=-1;function ar(A){return A==null}function Yn(A){return A===0&&1/A==-1/0}function qm(A){return typeof A=="number"&&Number.isInteger(A)&&!Yn(A)&&A<=Number.MAX_SAFE_INTEGER&&A>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu="";function _m(A){let c="";for(let y=0;y<A.length;y++)c.length>0&&(c=Xh(c)),c=tg(A.get(y),c);return Xh(c)}function tg(A,c){let y=c;const P=A.length;for(let M=0;M<P;M++){const O=A.charAt(M);switch(O){case"\0":y+="";break;case zu:y+="";break;default:y+=O}}return y}function Xh(A){return A+zu+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(A){let c=0;for(const y in A)Object.prototype.hasOwnProperty.call(A,y)&&c++;return c}function Ii(A,c){for(const y in A)Object.prototype.hasOwnProperty.call(A,y)&&c(y,A[y])}function Xu(A){for(const c in A)if(Object.prototype.hasOwnProperty.call(A,c))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(c,y){this.comparator=c,this.root=y||te.EMPTY}insert(c,y){return new Yt(this.comparator,this.root.insert(c,y,this.comparator).copy(null,null,te.BLACK,null,null))}remove(c){return new Yt(this.comparator,this.root.remove(c,this.comparator).copy(null,null,te.BLACK,null,null))}get(c){let y=this.root;for(;!y.isEmpty();){const P=this.comparator(c,y.key);if(P===0)return y.value;P<0?y=y.left:P>0&&(y=y.right)}return null}indexOf(c){let y=0,P=this.root;for(;!P.isEmpty();){const M=this.comparator(c,P.key);if(M===0)return y+P.left.size;M<0?P=P.left:(y+=P.left.size+1,P=P.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(c){return this.root.inorderTraversal(c)}forEach(c){this.inorderTraversal((y,P)=>(c(y,P),!1))}toString(){const c=[];return this.inorderTraversal((y,P)=>(c.push(`${y}:${P}`),!1)),`{${c.join(", ")}}`}reverseTraversal(c){return this.root.reverseTraversal(c)}getIterator(){return new Tn(this.root,null,this.comparator,!1)}getIteratorFrom(c){return new Tn(this.root,c,this.comparator,!1)}getReverseIterator(){return new Tn(this.root,null,this.comparator,!0)}getReverseIteratorFrom(c){return new Tn(this.root,c,this.comparator,!0)}}class Tn{constructor(c,y,P,M){this.isReverse=M,this.nodeStack=[];let O=1;for(;!c.isEmpty();)if(O=y?P(c.key,y):1,y&&M&&(O*=-1),O<0)c=this.isReverse?c.left:c.right;else{if(O===0){this.nodeStack.push(c);break}this.nodeStack.push(c),c=this.isReverse?c.right:c.left}}getNext(){let c=this.nodeStack.pop();const y={key:c.key,value:c.value};if(this.isReverse)for(c=c.left;!c.isEmpty();)this.nodeStack.push(c),c=c.right;else for(c=c.right;!c.isEmpty();)this.nodeStack.push(c),c=c.left;return y}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const c=this.nodeStack[this.nodeStack.length-1];return{key:c.key,value:c.value}}}class te{constructor(c,y,P,M,O){this.key=c,this.value=y,this.color=P??te.RED,this.left=M??te.EMPTY,this.right=O??te.EMPTY,this.size=this.left.size+1+this.right.size}copy(c,y,P,M,O){return new te(c??this.key,y??this.value,P??this.color,M??this.left,O??this.right)}isEmpty(){return!1}inorderTraversal(c){return this.left.inorderTraversal(c)||c(this.key,this.value)||this.right.inorderTraversal(c)}reverseTraversal(c){return this.right.reverseTraversal(c)||c(this.key,this.value)||this.left.reverseTraversal(c)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(c,y,P){let M=this;const O=P(c,M.key);return M=O<0?M.copy(null,null,null,M.left.insert(c,y,P),null):O===0?M.copy(null,y,null,null,null):M.copy(null,null,null,null,M.right.insert(c,y,P)),M.fixUp()}removeMin(){if(this.left.isEmpty())return te.EMPTY;let c=this;return c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.removeMin(),null),c.fixUp()}remove(c,y){let P,M=this;if(y(c,M.key)<0)M.left.isEmpty()||M.left.isRed()||M.left.left.isRed()||(M=M.moveRedLeft()),M=M.copy(null,null,null,M.left.remove(c,y),null);else{if(M.left.isRed()&&(M=M.rotateRight()),M.right.isEmpty()||M.right.isRed()||M.right.left.isRed()||(M=M.moveRedRight()),y(c,M.key)===0){if(M.right.isEmpty())return te.EMPTY;P=M.right.min(),M=M.copy(P.key,P.value,null,null,M.right.removeMin())}M=M.copy(null,null,null,null,M.right.remove(c,y))}return M.fixUp()}isRed(){return this.color}fixUp(){let c=this;return c.right.isRed()&&!c.left.isRed()&&(c=c.rotateLeft()),c.left.isRed()&&c.left.left.isRed()&&(c=c.rotateRight()),c.left.isRed()&&c.right.isRed()&&(c=c.colorFlip()),c}moveRedLeft(){let c=this.colorFlip();return c.right.left.isRed()&&(c=c.copy(null,null,null,null,c.right.rotateRight()),c=c.rotateLeft(),c=c.colorFlip()),c}moveRedRight(){let c=this.colorFlip();return c.left.left.isRed()&&(c=c.rotateRight(),c=c.colorFlip()),c}rotateLeft(){const c=this.copy(null,null,te.RED,null,this.right.left);return this.right.copy(null,null,this.color,c,null)}rotateRight(){const c=this.copy(null,null,te.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,c)}colorFlip(){const c=this.left.copy(null,null,!this.left.color,null,null),y=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,c,y)}checkMaxDepth(){const c=this.check();return Math.pow(2,c)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ct(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ct(14113,{key:this.key,value:this.value});const c=this.left.check();if(c!==this.right.check())throw Ct(27949);return c+(this.isRed()?0:1)}}te.EMPTY=null,te.RED=!0,te.BLACK=!1;te.EMPTY=new class{constructor(){this.size=0}get key(){throw Ct(57766)}get value(){throw Ct(16141)}get color(){throw Ct(16727)}get left(){throw Ct(29726)}get right(){throw Ct(36894)}copy(c,y,P,M,O){return this}insert(c,y,P){return new te(c,y)}remove(c,y){return this}isEmpty(){return!0}inorderTraversal(c){return!1}reverseTraversal(c){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(c){this.comparator=c,this.data=new Yt(this.comparator)}has(c){return this.data.get(c)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(c){return this.data.indexOf(c)}forEach(c){this.data.inorderTraversal((y,P)=>(c(y),!1))}forEachInRange(c,y){const P=this.data.getIteratorFrom(c[0]);for(;P.hasNext();){const M=P.getNext();if(this.comparator(M.key,c[1])>=0)return;y(M.key)}}forEachWhile(c,y){let P;for(P=y!==void 0?this.data.getIteratorFrom(y):this.data.getIterator();P.hasNext();)if(!c(P.getNext().key))return}firstAfterOrEqual(c){const y=this.data.getIteratorFrom(c);return y.hasNext()?y.getNext().key:null}getIterator(){return new Yh(this.data.getIterator())}getIteratorFrom(c){return new Yh(this.data.getIteratorFrom(c))}add(c){return this.copy(this.data.remove(c).insert(c,!0))}delete(c){return this.has(c)?this.copy(this.data.remove(c)):this}isEmpty(){return this.data.isEmpty()}unionWith(c){let y=this;return y.size<c.size&&(y=c,c=this),c.forEach(P=>{y=y.add(P)}),y}isEqual(c){if(!(c instanceof Zt)||this.size!==c.size)return!1;const y=this.data.getIterator(),P=c.data.getIterator();for(;y.hasNext();){const M=y.getNext().key,O=P.getNext().key;if(this.comparator(M,O)!==0)return!1}return!0}toArray(){const c=[];return this.forEach(y=>{c.push(y)}),c}toString(){const c=[];return this.forEach(y=>c.push(y)),"SortedSet("+c.toString()+")"}copy(c){const y=new Zt(this.comparator);return y.data=c,y}}class Yh{constructor(c){this.iter=c}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(c){this.fields=c,c.sort(ee.comparator)}static empty(){return new xe([])}unionWith(c){let y=new Zt(ee.comparator);for(const P of this.fields)y=y.add(P);for(const P of c)y=y.add(P);return new xe(y.toArray())}covers(c){for(const y of this.fields)if(y.isPrefixOf(c))return!0;return!1}isEqual(c){return ji(this.fields,c.fields,(y,P)=>y.isEqual(P))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(c){this.binaryString=c}static fromBase64String(c){const y=function(M){try{return atob(M)}catch(O){throw typeof DOMException<"u"&&O instanceof DOMException?new Wu("Invalid base64 string: "+O):O}}(c);return new ie(y)}static fromUint8Array(c){const y=function(M){let O="";for(let v=0;v<M.length;++v)O+=String.fromCharCode(M[v]);return O}(c);return new ie(y)}[Symbol.iterator](){let c=0;return{next:()=>c<this.binaryString.length?{value:this.binaryString.charCodeAt(c++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(y){return btoa(y)}(this.binaryString)}toUint8Array(){return function(y){const P=new Uint8Array(y.length);for(let M=0;M<y.length;M++)P[M]=y.charCodeAt(M);return P}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(c){return It(this.binaryString,c.binaryString)}isEqual(c){return this.binaryString===c.binaryString}}ie.EMPTY_BYTE_STRING=new ie("");const eg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hi(A){if(Bt(!!A,39018),typeof A=="string"){let c=0;const y=eg.exec(A);if(Bt(!!y,46558,{timestamp:A}),y[1]){let M=y[1];M=(M+"000000000").substr(0,9),c=Number(M)}const P=new Date(A);return{seconds:Math.floor(P.getTime()/1e3),nanos:c}}return{seconds:kt(A.seconds),nanos:kt(A.nanos)}}function kt(A){return typeof A=="number"?A:typeof A=="string"?Number(A):0}function li(A){return typeof A=="string"?ie.fromBase64String(A):ie.fromUint8Array(A)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu="server_timestamp",Hu="__type__",Ku="__previous_value__",ku="__local_write_time__";function Oa(A){var c,y;return((y=(((c=A==null?void 0:A.mapValue)===null||c===void 0?void 0:c.fields)||{})[Hu])===null||y===void 0?void 0:y.stringValue)===Yu}function or(A){const c=A.mapValue.fields[Ku];return Oa(c)?or(c):c}function Vs(A){const c=hi(A.mapValue.fields[ku].timestampValue);return new jt(c.seconds,c.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(c,y,P,M,O,v,S,t,o,m){this.databaseId=c,this.appId=y,this.persistenceKey=P,this.host=M,this.ssl=O,this.forceLongPolling=v,this.autoDetectLongPolling=S,this.longPollingOptions=t,this.useFetchStreams=o,this.isUsingEmulator=m}}const Hn="(default)";class Gs{constructor(c,y){this.projectId=c,this.database=y||Hn}static empty(){return new Gs("","")}get isDefaultDatabase(){return this.database===Hn}isEqual(c){return c instanceof Gs&&c.projectId===this.projectId&&c.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u="__type__",sg="__max__",Sn={mapValue:{}},Qu="__vector__",Kn="value";function ui(A){return"nullValue"in A?0:"booleanValue"in A?1:"integerValue"in A||"doubleValue"in A?2:"timestampValue"in A?3:"stringValue"in A?5:"bytesValue"in A?6:"referenceValue"in A?7:"geoPointValue"in A?8:"arrayValue"in A?9:"mapValue"in A?Oa(A)?4:rg(A)?9007199254740991:ng(A)?10:11:Ct(28295,{value:A})}function Fe(A,c){if(A===c)return!0;const y=ui(A);if(y!==ui(c))return!1;switch(y){case 0:case 9007199254740991:return!0;case 1:return A.booleanValue===c.booleanValue;case 4:return Vs(A).isEqual(Vs(c));case 3:return function(M,O){if(typeof M.timestampValue=="string"&&typeof O.timestampValue=="string"&&M.timestampValue.length===O.timestampValue.length)return M.timestampValue===O.timestampValue;const v=hi(M.timestampValue),S=hi(O.timestampValue);return v.seconds===S.seconds&&v.nanos===S.nanos}(A,c);case 5:return A.stringValue===c.stringValue;case 6:return function(M,O){return li(M.bytesValue).isEqual(li(O.bytesValue))}(A,c);case 7:return A.referenceValue===c.referenceValue;case 8:return function(M,O){return kt(M.geoPointValue.latitude)===kt(O.geoPointValue.latitude)&&kt(M.geoPointValue.longitude)===kt(O.geoPointValue.longitude)}(A,c);case 2:return function(M,O){if("integerValue"in M&&"integerValue"in O)return kt(M.integerValue)===kt(O.integerValue);if("doubleValue"in M&&"doubleValue"in O){const v=kt(M.doubleValue),S=kt(O.doubleValue);return v===S?Yn(v)===Yn(S):isNaN(v)&&isNaN(S)}return!1}(A,c);case 9:return ji(A.arrayValue.values||[],c.arrayValue.values||[],Fe);case 10:case 11:return function(M,O){const v=M.mapValue.fields||{},S=O.mapValue.fields||{};if(Wh(v)!==Wh(S))return!1;for(const t in v)if(v.hasOwnProperty(t)&&(S[t]===void 0||!Fe(v[t],S[t])))return!1;return!0}(A,c);default:return Ct(52216,{left:A})}}function Us(A,c){return(A.values||[]).find(y=>Fe(y,c))!==void 0}function Zi(A,c){if(A===c)return 0;const y=ui(A),P=ui(c);if(y!==P)return It(y,P);switch(y){case 0:case 9007199254740991:return 0;case 1:return It(A.booleanValue,c.booleanValue);case 2:return function(O,v){const S=kt(O.integerValue||O.doubleValue),t=kt(v.integerValue||v.doubleValue);return S<t?-1:S>t?1:S===t?0:isNaN(S)?isNaN(t)?0:-1:1}(A,c);case 3:return Hh(A.timestampValue,c.timestampValue);case 4:return Hh(Vs(A),Vs(c));case 5:return ia(A.stringValue,c.stringValue);case 6:return function(O,v){const S=li(O),t=li(v);return S.compareTo(t)}(A.bytesValue,c.bytesValue);case 7:return function(O,v){const S=O.split("/"),t=v.split("/");for(let o=0;o<S.length&&o<t.length;o++){const m=It(S[o],t[o]);if(m!==0)return m}return It(S.length,t.length)}(A.referenceValue,c.referenceValue);case 8:return function(O,v){const S=It(kt(O.latitude),kt(v.latitude));return S!==0?S:It(kt(O.longitude),kt(v.longitude))}(A.geoPointValue,c.geoPointValue);case 9:return Kh(A.arrayValue,c.arrayValue);case 10:return function(O,v){var S,t,o,m;const a=O.fields||{},r=v.fields||{},n=(S=a[Kn])===null||S===void 0?void 0:S.arrayValue,e=(t=r[Kn])===null||t===void 0?void 0:t.arrayValue,s=It(((o=n==null?void 0:n.values)===null||o===void 0?void 0:o.length)||0,((m=e==null?void 0:e.values)===null||m===void 0?void 0:m.length)||0);return s!==0?s:Kh(n,e)}(A.mapValue,c.mapValue);case 11:return function(O,v){if(O===Sn.mapValue&&v===Sn.mapValue)return 0;if(O===Sn.mapValue)return 1;if(v===Sn.mapValue)return-1;const S=O.fields||{},t=Object.keys(S),o=v.fields||{},m=Object.keys(o);t.sort(),m.sort();for(let a=0;a<t.length&&a<m.length;++a){const r=ia(t[a],m[a]);if(r!==0)return r;const n=Zi(S[t[a]],o[m[a]]);if(n!==0)return n}return It(t.length,m.length)}(A.mapValue,c.mapValue);default:throw Ct(23264,{Pe:y})}}function Hh(A,c){if(typeof A=="string"&&typeof c=="string"&&A.length===c.length)return It(A,c);const y=hi(A),P=hi(c),M=It(y.seconds,P.seconds);return M!==0?M:It(y.nanos,P.nanos)}function Kh(A,c){const y=A.values||[],P=c.values||[];for(let M=0;M<y.length&&M<P.length;++M){const O=Zi(y[M],P[M]);if(O)return O}return It(y.length,P.length)}function qi(A){return sa(A)}function sa(A){return"nullValue"in A?"null":"booleanValue"in A?""+A.booleanValue:"integerValue"in A?""+A.integerValue:"doubleValue"in A?""+A.doubleValue:"timestampValue"in A?function(y){const P=hi(y);return`time(${P.seconds},${P.nanos})`}(A.timestampValue):"stringValue"in A?A.stringValue:"bytesValue"in A?function(y){return li(y).toBase64()}(A.bytesValue):"referenceValue"in A?function(y){return xt.fromName(y).toString()}(A.referenceValue):"geoPointValue"in A?function(y){return`geo(${y.latitude},${y.longitude})`}(A.geoPointValue):"arrayValue"in A?function(y){let P="[",M=!0;for(const O of y.values||[])M?M=!1:P+=",",P+=sa(O);return P+"]"}(A.arrayValue):"mapValue"in A?function(y){const P=Object.keys(y.fields||{}).sort();let M="{",O=!0;for(const v of P)O?O=!1:M+=",",M+=`${v}:${sa(y.fields[v])}`;return M+"}"}(A.mapValue):Ct(61005,{value:A})}function In(A){switch(ui(A)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const c=or(A);return c?16+In(c):16;case 5:return 2*A.stringValue.length;case 6:return li(A.bytesValue).approximateByteSize();case 7:return A.referenceValue.length;case 9:return function(P){return(P.values||[]).reduce((M,O)=>M+In(O),0)}(A.arrayValue);case 10:case 11:return function(P){let M=0;return Ii(P.fields,(O,v)=>{M+=O.length+In(v)}),M}(A.mapValue);default:throw Ct(13486,{value:A})}}function kh(A,c){return{referenceValue:`projects/${A.projectId}/databases/${A.database}/documents/${c.path.canonicalString()}`}}function na(A){return!!A&&"integerValue"in A}function Da(A){return!!A&&"arrayValue"in A}function $h(A){return!!A&&"nullValue"in A}function Qh(A){return!!A&&"doubleValue"in A&&isNaN(Number(A.doubleValue))}function Ln(A){return!!A&&"mapValue"in A}function ng(A){var c,y;return((y=(((c=A==null?void 0:A.mapValue)===null||c===void 0?void 0:c.fields)||{})[$u])===null||y===void 0?void 0:y.stringValue)===Qu}function Is(A){if(A.geoPointValue)return{geoPointValue:Object.assign({},A.geoPointValue)};if(A.timestampValue&&typeof A.timestampValue=="object")return{timestampValue:Object.assign({},A.timestampValue)};if(A.mapValue){const c={mapValue:{fields:{}}};return Ii(A.mapValue.fields,(y,P)=>c.mapValue.fields[y]=Is(P)),c}if(A.arrayValue){const c={arrayValue:{values:[]}};for(let y=0;y<(A.arrayValue.values||[]).length;++y)c.arrayValue.values[y]=Is(A.arrayValue.values[y]);return c}return Object.assign({},A)}function rg(A){return(((A.mapValue||{}).fields||{}).__type__||{}).stringValue===sg}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(c){this.value=c}static empty(){return new pe({mapValue:{}})}field(c){if(c.isEmpty())return this.value;{let y=this.value;for(let P=0;P<c.length-1;++P)if(y=(y.mapValue.fields||{})[c.get(P)],!Ln(y))return null;return y=(y.mapValue.fields||{})[c.lastSegment()],y||null}}set(c,y){this.getFieldsMap(c.popLast())[c.lastSegment()]=Is(y)}setAll(c){let y=ee.emptyPath(),P={},M=[];c.forEach((v,S)=>{if(!y.isImmediateParentOf(S)){const t=this.getFieldsMap(y);this.applyChanges(t,P,M),P={},M=[],y=S.popLast()}v?P[S.lastSegment()]=Is(v):M.push(S.lastSegment())});const O=this.getFieldsMap(y);this.applyChanges(O,P,M)}delete(c){const y=this.field(c.popLast());Ln(y)&&y.mapValue.fields&&delete y.mapValue.fields[c.lastSegment()]}isEqual(c){return Fe(this.value,c.value)}getFieldsMap(c){let y=this.value;y.mapValue.fields||(y.mapValue={fields:{}});for(let P=0;P<c.length;++P){let M=y.mapValue.fields[c.get(P)];Ln(M)&&M.mapValue.fields||(M={mapValue:{fields:{}}},y.mapValue.fields[c.get(P)]=M),y=M}return y.mapValue.fields}applyChanges(c,y,P){Ii(y,(M,O)=>c[M]=O);for(const M of P)delete c[M]}clone(){return new pe(Is(this.value))}}function Ju(A){const c=[];return Ii(A.fields,(y,P)=>{const M=new ee([y]);if(Ln(P)){const O=Ju(P.mapValue).fields;if(O.length===0)c.push(M);else for(const v of O)c.push(M.child(v))}else c.push(M)}),new xe(c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(c,y,P,M,O,v,S){this.key=c,this.documentType=y,this.version=P,this.readTime=M,this.createTime=O,this.data=v,this.documentState=S}static newInvalidDocument(c){return new oe(c,0,At.min(),At.min(),At.min(),pe.empty(),0)}static newFoundDocument(c,y,P,M){return new oe(c,1,y,At.min(),P,M,0)}static newNoDocument(c,y){return new oe(c,2,y,At.min(),At.min(),pe.empty(),0)}static newUnknownDocument(c,y){return new oe(c,3,y,At.min(),At.min(),pe.empty(),2)}convertToFoundDocument(c,y){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=c),this.version=c,this.documentType=1,this.data=y,this.documentState=0,this}convertToNoDocument(c){return this.version=c,this.documentType=2,this.data=pe.empty(),this.documentState=0,this}convertToUnknownDocument(c){return this.version=c,this.documentType=3,this.data=pe.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(c){return this.readTime=c,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(c){return c instanceof oe&&this.key.isEqual(c.key)&&this.version.isEqual(c.version)&&this.documentType===c.documentType&&this.documentState===c.documentState&&this.data.isEqual(c.data)}mutableCopy(){return new oe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(c,y){this.position=c,this.inclusive=y}}function Jh(A,c,y){let P=0;for(let M=0;M<A.position.length;M++){const O=c[M],v=A.position[M];if(O.field.isKeyField()?P=xt.comparator(xt.fromName(v.referenceValue),y.key):P=Zi(v,y.data.field(O.field)),O.dir==="desc"&&(P*=-1),P!==0)break}return P}function jh(A,c){if(A===null)return c===null;if(c===null||A.inclusive!==c.inclusive||A.position.length!==c.position.length)return!1;for(let y=0;y<A.position.length;y++)if(!Fe(A.position[y],c.position[y]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(c,y="asc"){this.field=c,this.dir=y}}function ag(A,c){return A.dir===c.dir&&A.field.isEqual(c.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{}class Jt extends ju{constructor(c,y,P){super(),this.field=c,this.op=y,this.value=P}static create(c,y,P){return c.isKeyField()?y==="in"||y==="not-in"?this.createKeyFieldInFilter(c,y,P):new hg(c,y,P):y==="array-contains"?new fg(c,P):y==="in"?new dg(c,P):y==="not-in"?new cg(c,P):y==="array-contains-any"?new vg(c,P):new Jt(c,y,P)}static createKeyFieldInFilter(c,y,P){return y==="in"?new lg(c,P):new ug(c,P)}matches(c){const y=c.data.field(this.field);return this.op==="!="?y!==null&&y.nullValue===void 0&&this.matchesComparison(Zi(y,this.value)):y!==null&&ui(this.value)===ui(y)&&this.matchesComparison(Zi(y,this.value))}matchesComparison(c){switch(this.op){case"<":return c<0;case"<=":return c<=0;case"==":return c===0;case"!=":return c!==0;case">":return c>0;case">=":return c>=0;default:return Ct(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ee extends ju{constructor(c,y){super(),this.filters=c,this.op=y,this.Te=null}static create(c,y){return new Ee(c,y)}matches(c){return Zu(this)?this.filters.find(y=>!y.matches(c))===void 0:this.filters.find(y=>y.matches(c))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((c,y)=>c.concat(y.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Zu(A){return A.op==="and"}function qu(A){return og(A)&&Zu(A)}function og(A){for(const c of A.filters)if(c instanceof Ee)return!1;return!0}function ra(A){if(A instanceof Jt)return A.field.canonicalString()+A.op.toString()+qi(A.value);if(qu(A))return A.filters.map(c=>ra(c)).join(",");{const c=A.filters.map(y=>ra(y)).join(",");return`${A.op}(${c})`}}function _u(A,c){return A instanceof Jt?function(P,M){return M instanceof Jt&&P.op===M.op&&P.field.isEqual(M.field)&&Fe(P.value,M.value)}(A,c):A instanceof Ee?function(P,M){return M instanceof Ee&&P.op===M.op&&P.filters.length===M.filters.length?P.filters.reduce((O,v,S)=>O&&_u(v,M.filters[S]),!0):!1}(A,c):void Ct(19439)}function tf(A){return A instanceof Jt?function(y){return`${y.field.canonicalString()} ${y.op} ${qi(y.value)}`}(A):A instanceof Ee?function(y){return y.op.toString()+" {"+y.getFilters().map(tf).join(" ,")+"}"}(A):"Filter"}class hg extends Jt{constructor(c,y,P){super(c,y,P),this.key=xt.fromName(P.referenceValue)}matches(c){const y=xt.comparator(c.key,this.key);return this.matchesComparison(y)}}class lg extends Jt{constructor(c,y){super(c,"in",y),this.keys=ef("in",y)}matches(c){return this.keys.some(y=>y.isEqual(c.key))}}class ug extends Jt{constructor(c,y){super(c,"not-in",y),this.keys=ef("not-in",y)}matches(c){return!this.keys.some(y=>y.isEqual(c.key))}}function ef(A,c){var y;return(((y=c.arrayValue)===null||y===void 0?void 0:y.values)||[]).map(P=>xt.fromName(P.referenceValue))}class fg extends Jt{constructor(c,y){super(c,"array-contains",y)}matches(c){const y=c.data.field(this.field);return Da(y)&&Us(y.arrayValue,this.value)}}class dg extends Jt{constructor(c,y){super(c,"in",y)}matches(c){const y=c.data.field(this.field);return y!==null&&Us(this.value.arrayValue,y)}}class cg extends Jt{constructor(c,y){super(c,"not-in",y)}matches(c){if(Us(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const y=c.data.field(this.field);return y!==null&&y.nullValue===void 0&&!Us(this.value.arrayValue,y)}}class vg extends Jt{constructor(c,y){super(c,"array-contains-any",y)}matches(c){const y=c.data.field(this.field);return!(!Da(y)||!y.arrayValue.values)&&y.arrayValue.values.some(P=>Us(this.value.arrayValue,P))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(c,y=null,P=[],M=[],O=null,v=null,S=null){this.path=c,this.collectionGroup=y,this.orderBy=P,this.filters=M,this.limit=O,this.startAt=v,this.endAt=S,this.Ie=null}}function Zh(A,c=null,y=[],P=[],M=null,O=null,v=null){return new pg(A,c,y,P,M,O,v)}function Na(A){const c=Rt(A);if(c.Ie===null){let y=c.path.canonicalString();c.collectionGroup!==null&&(y+="|cg:"+c.collectionGroup),y+="|f:",y+=c.filters.map(P=>ra(P)).join(","),y+="|ob:",y+=c.orderBy.map(P=>function(O){return O.field.canonicalString()+O.dir}(P)).join(","),ar(c.limit)||(y+="|l:",y+=c.limit),c.startAt&&(y+="|lb:",y+=c.startAt.inclusive?"b:":"a:",y+=c.startAt.position.map(P=>qi(P)).join(",")),c.endAt&&(y+="|ub:",y+=c.endAt.inclusive?"a:":"b:",y+=c.endAt.position.map(P=>qi(P)).join(",")),c.Ie=y}return c.Ie}function Ba(A,c){if(A.limit!==c.limit||A.orderBy.length!==c.orderBy.length)return!1;for(let y=0;y<A.orderBy.length;y++)if(!ag(A.orderBy[y],c.orderBy[y]))return!1;if(A.filters.length!==c.filters.length)return!1;for(let y=0;y<A.filters.length;y++)if(!_u(A.filters[y],c.filters[y]))return!1;return A.collectionGroup===c.collectionGroup&&!!A.path.isEqual(c.path)&&!!jh(A.startAt,c.startAt)&&jh(A.endAt,c.endAt)}function aa(A){return xt.isDocumentKey(A.path)&&A.collectionGroup===null&&A.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(c,y=null,P=[],M=[],O=null,v="F",S=null,t=null){this.path=c,this.collectionGroup=y,this.explicitOrderBy=P,this.filters=M,this.limit=O,this.limitType=v,this.startAt=S,this.endAt=t,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function mg(A,c,y,P,M,O,v,S){return new js(A,c,y,P,M,O,v,S)}function ba(A){return new js(A)}function qh(A){return A.filters.length===0&&A.limit===null&&A.startAt==null&&A.endAt==null&&(A.explicitOrderBy.length===0||A.explicitOrderBy.length===1&&A.explicitOrderBy[0].field.isKeyField())}function sf(A){return A.collectionGroup!==null}function Ls(A){const c=Rt(A);if(c.Ee===null){c.Ee=[];const y=new Set;for(const O of c.explicitOrderBy)c.Ee.push(O),y.add(O.field.canonicalString());const P=c.explicitOrderBy.length>0?c.explicitOrderBy[c.explicitOrderBy.length-1].dir:"asc";(function(v){let S=new Zt(ee.comparator);return v.filters.forEach(t=>{t.getFlattenedFilters().forEach(o=>{o.isInequality()&&(S=S.add(o.field))})}),S})(c).forEach(O=>{y.has(O.canonicalString())||O.isKeyField()||c.Ee.push(new $n(O,P))}),y.has(ee.keyField().canonicalString())||c.Ee.push(new $n(ee.keyField(),P))}return c.Ee}function Ie(A){const c=Rt(A);return c.de||(c.de=gg(c,Ls(A))),c.de}function gg(A,c){if(A.limitType==="F")return Zh(A.path,A.collectionGroup,c,A.filters,A.limit,A.startAt,A.endAt);{c=c.map(M=>{const O=M.dir==="desc"?"asc":"desc";return new $n(M.field,O)});const y=A.endAt?new kn(A.endAt.position,A.endAt.inclusive):null,P=A.startAt?new kn(A.startAt.position,A.startAt.inclusive):null;return Zh(A.path,A.collectionGroup,c,A.filters,A.limit,y,P)}}function oa(A,c){const y=A.filters.concat([c]);return new js(A.path,A.collectionGroup,A.explicitOrderBy.slice(),y,A.limit,A.limitType,A.startAt,A.endAt)}function ha(A,c,y){return new js(A.path,A.collectionGroup,A.explicitOrderBy.slice(),A.filters.slice(),c,y,A.startAt,A.endAt)}function hr(A,c){return Ba(Ie(A),Ie(c))&&A.limitType===c.limitType}function nf(A){return`${Na(Ie(A))}|lt:${A.limitType}`}function Gi(A){return`Query(target=${function(y){let P=y.path.canonicalString();return y.collectionGroup!==null&&(P+=" collectionGroup="+y.collectionGroup),y.filters.length>0&&(P+=`, filters: [${y.filters.map(M=>tf(M)).join(", ")}]`),ar(y.limit)||(P+=", limit: "+y.limit),y.orderBy.length>0&&(P+=`, orderBy: [${y.orderBy.map(M=>function(v){return`${v.field.canonicalString()} (${v.dir})`}(M)).join(", ")}]`),y.startAt&&(P+=", startAt: ",P+=y.startAt.inclusive?"b:":"a:",P+=y.startAt.position.map(M=>qi(M)).join(",")),y.endAt&&(P+=", endAt: ",P+=y.endAt.inclusive?"a:":"b:",P+=y.endAt.position.map(M=>qi(M)).join(",")),`Target(${P})`}(Ie(A))}; limitType=${A.limitType})`}function lr(A,c){return c.isFoundDocument()&&function(P,M){const O=M.key.path;return P.collectionGroup!==null?M.key.hasCollectionId(P.collectionGroup)&&P.path.isPrefixOf(O):xt.isDocumentKey(P.path)?P.path.isEqual(O):P.path.isImmediateParentOf(O)}(A,c)&&function(P,M){for(const O of Ls(P))if(!O.field.isKeyField()&&M.data.field(O.field)===null)return!1;return!0}(A,c)&&function(P,M){for(const O of P.filters)if(!O.matches(M))return!1;return!0}(A,c)&&function(P,M){return!(P.startAt&&!function(v,S,t){const o=Jh(v,S,t);return v.inclusive?o<=0:o<0}(P.startAt,Ls(P),M)||P.endAt&&!function(v,S,t){const o=Jh(v,S,t);return v.inclusive?o>=0:o>0}(P.endAt,Ls(P),M))}(A,c)}function yg(A){return A.collectionGroup||(A.path.length%2==1?A.path.lastSegment():A.path.get(A.path.length-2))}function rf(A){return(c,y)=>{let P=!1;for(const M of Ls(A)){const O=xg(M,c,y);if(O!==0)return O;P=P||M.field.isKeyField()}return 0}}function xg(A,c,y){const P=A.field.isKeyField()?xt.comparator(c.key,y.key):function(O,v,S){const t=v.data.field(O),o=S.data.field(O);return t!==null&&o!==null?Zi(t,o):Ct(42886)}(A.field,c,y);switch(A.dir){case"asc":return P;case"desc":return-1*P;default:return Ct(19790,{direction:A.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(c,y){this.mapKeyFn=c,this.equalsFn=y,this.inner={},this.innerSize=0}get(c){const y=this.mapKeyFn(c),P=this.inner[y];if(P!==void 0){for(const[M,O]of P)if(this.equalsFn(M,c))return O}}has(c){return this.get(c)!==void 0}set(c,y){const P=this.mapKeyFn(c),M=this.inner[P];if(M===void 0)return this.inner[P]=[[c,y]],void this.innerSize++;for(let O=0;O<M.length;O++)if(this.equalsFn(M[O][0],c))return void(M[O]=[c,y]);M.push([c,y]),this.innerSize++}delete(c){const y=this.mapKeyFn(c),P=this.inner[y];if(P===void 0)return!1;for(let M=0;M<P.length;M++)if(this.equalsFn(P[M][0],c))return P.length===1?delete this.inner[y]:P.splice(M,1),this.innerSize--,!0;return!1}forEach(c){Ii(this.inner,(y,P)=>{for(const[M,O]of P)c(M,O)})}isEmpty(){return Xu(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg=new Yt(xt.comparator);function Ke(){return Tg}const af=new Yt(xt.comparator);function As(...A){let c=af;for(const y of A)c=c.insert(y.key,y);return c}function of(A){let c=af;return A.forEach((y,P)=>c=c.insert(y,P.overlayedDocument)),c}function Ti(){return Fs()}function hf(){return Fs()}function Fs(){return new Li(A=>A.toString(),(A,c)=>A.isEqual(c))}const Sg=new Yt(xt.comparator),Eg=new Zt(xt.comparator);function Ot(...A){let c=Eg;for(const y of A)c=c.add(y);return c}const Cg=new Zt(It);function Ag(){return Cg}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(A,c){if(A.useProto3Json){if(isNaN(c))return{doubleValue:"NaN"};if(c===1/0)return{doubleValue:"Infinity"};if(c===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yn(c)?"-0":c}}function lf(A){return{integerValue:""+A}}function Pg(A,c){return qm(c)?lf(c):Va(A,c)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(){this._=void 0}}function Rg(A,c,y){return A instanceof zs?function(M,O){const v={fields:{[Hu]:{stringValue:Yu},[ku]:{timestampValue:{seconds:M.seconds,nanos:M.nanoseconds}}}};return O&&Oa(O)&&(O=or(O)),O&&(v.fields[Ku]=O),{mapValue:v}}(y,c):A instanceof Xs?ff(A,c):A instanceof Ws?df(A,c):function(M,O){const v=uf(M,O),S=_h(v)+_h(M.Re);return na(v)&&na(M.Re)?lf(S):Va(M.serializer,S)}(A,c)}function wg(A,c,y){return A instanceof Xs?ff(A,c):A instanceof Ws?df(A,c):y}function uf(A,c){return A instanceof Qn?function(P){return na(P)||function(O){return!!O&&"doubleValue"in O}(P)}(c)?c:{integerValue:0}:null}class zs extends ur{}class Xs extends ur{constructor(c){super(),this.elements=c}}function ff(A,c){const y=cf(c);for(const P of A.elements)y.some(M=>Fe(M,P))||y.push(P);return{arrayValue:{values:y}}}class Ws extends ur{constructor(c){super(),this.elements=c}}function df(A,c){let y=cf(c);for(const P of A.elements)y=y.filter(M=>!Fe(M,P));return{arrayValue:{values:y}}}class Qn extends ur{constructor(c,y){super(),this.serializer=c,this.Re=y}}function _h(A){return kt(A.integerValue||A.doubleValue)}function cf(A){return Da(A)&&A.arrayValue.values?A.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(c,y){this.field=c,this.transform=y}}function Ig(A,c){return A.field.isEqual(c.field)&&function(P,M){return P instanceof Xs&&M instanceof Xs||P instanceof Ws&&M instanceof Ws?ji(P.elements,M.elements,Fe):P instanceof Qn&&M instanceof Qn?Fe(P.Re,M.Re):P instanceof zs&&M instanceof zs}(A.transform,c.transform)}class Lg{constructor(c,y){this.version=c,this.transformResults=y}}class Xe{constructor(c,y){this.updateTime=c,this.exists=y}static none(){return new Xe}static exists(c){return new Xe(void 0,c)}static updateTime(c){return new Xe(c)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(c){return this.exists===c.exists&&(this.updateTime?!!c.updateTime&&this.updateTime.isEqual(c.updateTime):!c.updateTime)}}function Fn(A,c){return A.updateTime!==void 0?c.isFoundDocument()&&c.version.isEqual(A.updateTime):A.exists===void 0||A.exists===c.isFoundDocument()}class fr{}function vf(A,c){if(!A.hasLocalMutations||c&&c.fields.length===0)return null;if(c===null)return A.isNoDocument()?new mf(A.key,Xe.none()):new Zs(A.key,A.data,Xe.none());{const y=A.data,P=pe.empty();let M=new Zt(ee.comparator);for(let O of c.fields)if(!M.has(O)){let v=y.field(O);v===null&&O.length>1&&(O=O.popLast(),v=y.field(O)),v===null?P.delete(O):P.set(O,v),M=M.add(O)}return new Fi(A.key,P,new xe(M.toArray()),Xe.none())}}function Fg(A,c,y){A instanceof Zs?function(M,O,v){const S=M.value.clone(),t=el(M.fieldTransforms,O,v.transformResults);S.setAll(t),O.convertToFoundDocument(v.version,S).setHasCommittedMutations()}(A,c,y):A instanceof Fi?function(M,O,v){if(!Fn(M.precondition,O))return void O.convertToUnknownDocument(v.version);const S=el(M.fieldTransforms,O,v.transformResults),t=O.data;t.setAll(pf(M)),t.setAll(S),O.convertToFoundDocument(v.version,t).setHasCommittedMutations()}(A,c,y):function(M,O,v){O.convertToNoDocument(v.version).setHasCommittedMutations()}(0,c,y)}function Os(A,c,y,P){return A instanceof Zs?function(O,v,S,t){if(!Fn(O.precondition,v))return S;const o=O.value.clone(),m=il(O.fieldTransforms,t,v);return o.setAll(m),v.convertToFoundDocument(v.version,o).setHasLocalMutations(),null}(A,c,y,P):A instanceof Fi?function(O,v,S,t){if(!Fn(O.precondition,v))return S;const o=il(O.fieldTransforms,t,v),m=v.data;return m.setAll(pf(O)),m.setAll(o),v.convertToFoundDocument(v.version,m).setHasLocalMutations(),S===null?null:S.unionWith(O.fieldMask.fields).unionWith(O.fieldTransforms.map(a=>a.field))}(A,c,y,P):function(O,v,S){return Fn(O.precondition,v)?(v.convertToNoDocument(v.version).setHasLocalMutations(),null):S}(A,c,y)}function Og(A,c){let y=null;for(const P of A.fieldTransforms){const M=c.data.field(P.field),O=uf(P.transform,M||null);O!=null&&(y===null&&(y=pe.empty()),y.set(P.field,O))}return y||null}function tl(A,c){return A.type===c.type&&!!A.key.isEqual(c.key)&&!!A.precondition.isEqual(c.precondition)&&!!function(P,M){return P===void 0&&M===void 0||!(!P||!M)&&ji(P,M,(O,v)=>Ig(O,v))}(A.fieldTransforms,c.fieldTransforms)&&(A.type===0?A.value.isEqual(c.value):A.type!==1||A.data.isEqual(c.data)&&A.fieldMask.isEqual(c.fieldMask))}class Zs extends fr{constructor(c,y,P,M=[]){super(),this.key=c,this.value=y,this.precondition=P,this.fieldTransforms=M,this.type=0}getFieldMask(){return null}}class Fi extends fr{constructor(c,y,P,M,O=[]){super(),this.key=c,this.data=y,this.fieldMask=P,this.precondition=M,this.fieldTransforms=O,this.type=1}getFieldMask(){return this.fieldMask}}function pf(A){const c=new Map;return A.fieldMask.fields.forEach(y=>{if(!y.isEmpty()){const P=A.data.field(y);c.set(y,P)}}),c}function el(A,c,y){const P=new Map;Bt(A.length===y.length,32656,{Ve:y.length,me:A.length});for(let M=0;M<y.length;M++){const O=A[M],v=O.transform,S=c.data.field(O.field);P.set(O.field,wg(v,S,y[M]))}return P}function il(A,c,y){const P=new Map;for(const M of A){const O=M.transform,v=y.data.field(M.field);P.set(M.field,Rg(O,v,c))}return P}class mf extends fr{constructor(c,y){super(),this.key=c,this.precondition=y,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Dg extends fr{constructor(c,y){super(),this.key=c,this.precondition=y,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(c,y,P,M){this.batchId=c,this.localWriteTime=y,this.baseMutations=P,this.mutations=M}applyToRemoteDocument(c,y){const P=y.mutationResults;for(let M=0;M<this.mutations.length;M++){const O=this.mutations[M];O.key.isEqual(c.key)&&Fg(O,c,P[M])}}applyToLocalView(c,y){for(const P of this.baseMutations)P.key.isEqual(c.key)&&(y=Os(P,c,y,this.localWriteTime));for(const P of this.mutations)P.key.isEqual(c.key)&&(y=Os(P,c,y,this.localWriteTime));return y}applyToLocalDocumentSet(c,y){const P=hf();return this.mutations.forEach(M=>{const O=c.get(M.key),v=O.overlayedDocument;let S=this.applyToLocalView(v,O.mutatedFields);S=y.has(M.key)?null:S;const t=vf(v,S);t!==null&&P.set(M.key,t),v.isValidDocument()||v.convertToNoDocument(At.min())}),P}keys(){return this.mutations.reduce((c,y)=>c.add(y.key),Ot())}isEqual(c){return this.batchId===c.batchId&&ji(this.mutations,c.mutations,(y,P)=>tl(y,P))&&ji(this.baseMutations,c.baseMutations,(y,P)=>tl(y,P))}}class Ga{constructor(c,y,P,M){this.batch=c,this.commitVersion=y,this.mutationResults=P,this.docVersions=M}static from(c,y,P){Bt(c.mutations.length===P.length,58842,{fe:c.mutations.length,ge:P.length});let M=function(){return Sg}();const O=c.mutations;for(let v=0;v<O.length;v++)M=M.insert(O[v].key,P[v].version);return new Ga(c,y,P,M)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(c,y){this.largestBatchId=c,this.mutation=y}getKey(){return this.mutation.key}isEqual(c){return c!==null&&this.mutation===c.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(c,y){this.count=c,this.unchangedNames=y}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt,Dt;function Vg(A){switch(A){case lt.OK:return Ct(64938);case lt.CANCELLED:case lt.UNKNOWN:case lt.DEADLINE_EXCEEDED:case lt.RESOURCE_EXHAUSTED:case lt.INTERNAL:case lt.UNAVAILABLE:case lt.UNAUTHENTICATED:return!1;case lt.INVALID_ARGUMENT:case lt.NOT_FOUND:case lt.ALREADY_EXISTS:case lt.PERMISSION_DENIED:case lt.FAILED_PRECONDITION:case lt.ABORTED:case lt.OUT_OF_RANGE:case lt.UNIMPLEMENTED:case lt.DATA_LOSS:return!0;default:return Ct(15467,{code:A})}}function gf(A){if(A===void 0)return He("GRPC error has no .code"),lt.UNKNOWN;switch(A){case Qt.OK:return lt.OK;case Qt.CANCELLED:return lt.CANCELLED;case Qt.UNKNOWN:return lt.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return lt.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return lt.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return lt.INTERNAL;case Qt.UNAVAILABLE:return lt.UNAVAILABLE;case Qt.UNAUTHENTICATED:return lt.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return lt.INVALID_ARGUMENT;case Qt.NOT_FOUND:return lt.NOT_FOUND;case Qt.ALREADY_EXISTS:return lt.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return lt.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return lt.FAILED_PRECONDITION;case Qt.ABORTED:return lt.ABORTED;case Qt.OUT_OF_RANGE:return lt.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return lt.UNIMPLEMENTED;case Qt.DATA_LOSS:return lt.DATA_LOSS;default:return Ct(39323,{code:A})}}(Dt=Qt||(Qt={}))[Dt.OK=0]="OK",Dt[Dt.CANCELLED=1]="CANCELLED",Dt[Dt.UNKNOWN=2]="UNKNOWN",Dt[Dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dt[Dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dt[Dt.NOT_FOUND=5]="NOT_FOUND",Dt[Dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dt[Dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dt[Dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dt[Dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dt[Dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dt[Dt.ABORTED=10]="ABORTED",Dt[Dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dt[Dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dt[Dt.INTERNAL=13]="INTERNAL",Dt[Dt.UNAVAILABLE=14]="UNAVAILABLE",Dt[Dt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg=new ri([4294967295,4294967295],0);function sl(A){const c=Gu().encode(A),y=new Lu;return y.update(c),new Uint8Array(y.digest())}function nl(A){const c=new DataView(A.buffer),y=c.getUint32(0,!0),P=c.getUint32(4,!0),M=c.getUint32(8,!0),O=c.getUint32(12,!0);return[new ri([y,P],0),new ri([M,O],0)]}class Ua{constructor(c,y,P){if(this.bitmap=c,this.padding=y,this.hashCount=P,y<0||y>=8)throw new Ps(`Invalid padding: ${y}`);if(P<0)throw new Ps(`Invalid hash count: ${P}`);if(c.length>0&&this.hashCount===0)throw new Ps(`Invalid hash count: ${P}`);if(c.length===0&&y!==0)throw new Ps(`Invalid padding when bitmap length is 0: ${y}`);this.pe=8*c.length-y,this.ye=ri.fromNumber(this.pe)}we(c,y,P){let M=c.add(y.multiply(ri.fromNumber(P)));return M.compare(Gg)===1&&(M=new ri([M.getBits(0),M.getBits(1)],0)),M.modulo(this.ye).toNumber()}Se(c){return!!(this.bitmap[Math.floor(c/8)]&1<<c%8)}mightContain(c){if(this.pe===0)return!1;const y=sl(c),[P,M]=nl(y);for(let O=0;O<this.hashCount;O++){const v=this.we(P,M,O);if(!this.Se(v))return!1}return!0}static create(c,y,P){const M=c%8==0?0:8-c%8,O=new Uint8Array(Math.ceil(c/8)),v=new Ua(O,M,y);return P.forEach(S=>v.insert(S)),v}insert(c){if(this.pe===0)return;const y=sl(c),[P,M]=nl(y);for(let O=0;O<this.hashCount;O++){const v=this.we(P,M,O);this.be(v)}}be(c){const y=Math.floor(c/8),P=c%8;this.bitmap[y]|=1<<P}}class Ps extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(c,y,P,M,O){this.snapshotVersion=c,this.targetChanges=y,this.targetMismatches=P,this.documentUpdates=M,this.resolvedLimboDocuments=O}static createSynthesizedRemoteEventForCurrentChange(c,y,P){const M=new Map;return M.set(c,qs.createSynthesizedTargetChangeForCurrentChange(c,y,P)),new dr(At.min(),M,new Yt(It),Ke(),Ot())}}class qs{constructor(c,y,P,M,O){this.resumeToken=c,this.current=y,this.addedDocuments=P,this.modifiedDocuments=M,this.removedDocuments=O}static createSynthesizedTargetChangeForCurrentChange(c,y,P){return new qs(P,y,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(c,y,P,M){this.De=c,this.removedTargetIds=y,this.key=P,this.ve=M}}class yf{constructor(c,y){this.targetId=c,this.Ce=y}}class xf{constructor(c,y,P=ie.EMPTY_BYTE_STRING,M=null){this.state=c,this.targetIds=y,this.resumeToken=P,this.cause=M}}class rl{constructor(){this.Fe=0,this.Me=al(),this.xe=ie.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(c){c.approximateByteSize()>0&&(this.Ne=!0,this.xe=c)}qe(){let c=Ot(),y=Ot(),P=Ot();return this.Me.forEach((M,O)=>{switch(O){case 0:c=c.add(M);break;case 2:y=y.add(M);break;case 1:P=P.add(M);break;default:Ct(38017,{changeType:O})}}),new qs(this.xe,this.Oe,c,y,P)}Qe(){this.Ne=!1,this.Me=al()}$e(c,y){this.Ne=!0,this.Me=this.Me.insert(c,y)}Ue(c){this.Ne=!0,this.Me=this.Me.remove(c)}Ke(){this.Fe+=1}We(){this.Fe-=1,Bt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Ug{constructor(c){this.ze=c,this.je=new Map,this.He=Ke(),this.Je=En(),this.Ye=En(),this.Ze=new Yt(It)}Xe(c){for(const y of c.De)c.ve&&c.ve.isFoundDocument()?this.et(y,c.ve):this.tt(y,c.key,c.ve);for(const y of c.removedTargetIds)this.tt(y,c.key,c.ve)}nt(c){this.forEachTarget(c,y=>{const P=this.rt(y);switch(c.state){case 0:this.it(y)&&P.ke(c.resumeToken);break;case 1:P.We(),P.Be||P.Qe(),P.ke(c.resumeToken);break;case 2:P.We(),P.Be||this.removeTarget(y);break;case 3:this.it(y)&&(P.Ge(),P.ke(c.resumeToken));break;case 4:this.it(y)&&(this.st(y),P.ke(c.resumeToken));break;default:Ct(56790,{state:c.state})}})}forEachTarget(c,y){c.targetIds.length>0?c.targetIds.forEach(y):this.je.forEach((P,M)=>{this.it(M)&&y(M)})}ot(c){const y=c.targetId,P=c.Ce.count,M=this._t(y);if(M){const O=M.target;if(aa(O))if(P===0){const v=new xt(O.path);this.tt(y,v,oe.newNoDocument(v,At.min()))}else Bt(P===1,20013,{expectedCount:P});else{const v=this.ut(y);if(v!==P){const S=this.ct(c),t=S?this.lt(S,c,v):1;if(t!==0){this.st(y);const o=t===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(y,o)}}}}}ct(c){const y=c.Ce.unchangedNames;if(!y||!y.bits)return null;const{bits:{bitmap:P="",padding:M=0},hashCount:O=0}=y;let v,S;try{v=li(P).toUint8Array()}catch(t){if(t instanceof Wu)return Ji("Decoding the base64 bloom filter in existence filter failed ("+t.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw t}try{S=new Ua(v,M,O)}catch(t){return Ji(t instanceof Ps?"BloomFilter error: ":"Applying bloom filter failed: ",t),null}return S.pe===0?null:S}lt(c,y,P){return y.Ce.count===P-this.Tt(c,y.targetId)?0:2}Tt(c,y){const P=this.ze.getRemoteKeysForTarget(y);let M=0;return P.forEach(O=>{const v=this.ze.Pt(),S=`projects/${v.projectId}/databases/${v.database}/documents/${O.path.canonicalString()}`;c.mightContain(S)||(this.tt(y,O,null),M++)}),M}It(c){const y=new Map;this.je.forEach((O,v)=>{const S=this._t(v);if(S){if(O.current&&aa(S.target)){const t=new xt(S.target.path);this.Et(t).has(v)||this.dt(v,t)||this.tt(v,t,oe.newNoDocument(t,c))}O.Le&&(y.set(v,O.qe()),O.Qe())}});let P=Ot();this.Ye.forEach((O,v)=>{let S=!0;v.forEachWhile(t=>{const o=this._t(t);return!o||o.purpose==="TargetPurposeLimboResolution"||(S=!1,!1)}),S&&(P=P.add(O))}),this.He.forEach((O,v)=>v.setReadTime(c));const M=new dr(c,y,this.Ze,this.He,P);return this.He=Ke(),this.Je=En(),this.Ye=En(),this.Ze=new Yt(It),M}et(c,y){if(!this.it(c))return;const P=this.dt(c,y.key)?2:0;this.rt(c).$e(y.key,P),this.He=this.He.insert(y.key,y),this.Je=this.Je.insert(y.key,this.Et(y.key).add(c)),this.Ye=this.Ye.insert(y.key,this.At(y.key).add(c))}tt(c,y,P){if(!this.it(c))return;const M=this.rt(c);this.dt(c,y)?M.$e(y,1):M.Ue(y),this.Ye=this.Ye.insert(y,this.At(y).delete(c)),this.Ye=this.Ye.insert(y,this.At(y).add(c)),P&&(this.He=this.He.insert(y,P))}removeTarget(c){this.je.delete(c)}ut(c){const y=this.rt(c).qe();return this.ze.getRemoteKeysForTarget(c).size+y.addedDocuments.size-y.removedDocuments.size}Ke(c){this.rt(c).Ke()}rt(c){let y=this.je.get(c);return y||(y=new rl,this.je.set(c,y)),y}At(c){let y=this.Ye.get(c);return y||(y=new Zt(It),this.Ye=this.Ye.insert(c,y)),y}Et(c){let y=this.Je.get(c);return y||(y=new Zt(It),this.Je=this.Je.insert(c,y)),y}it(c){const y=this._t(c)!==null;return y||mt("WatchChangeAggregator","Detected inactive target",c),y}_t(c){const y=this.je.get(c);return y&&y.Be?null:this.ze.Rt(c)}st(c){this.je.set(c,new rl),this.ze.getRemoteKeysForTarget(c).forEach(y=>{this.tt(c,y,null)})}dt(c,y){return this.ze.getRemoteKeysForTarget(c).has(y)}}function En(){return new Yt(xt.comparator)}function al(){return new Yt(xt.comparator)}const zg={asc:"ASCENDING",desc:"DESCENDING"},Xg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wg={and:"AND",or:"OR"};class Yg{constructor(c,y){this.databaseId=c,this.useProto3Json=y}}function la(A,c){return A.useProto3Json||ar(c)?c:{value:c}}function Jn(A,c){return A.useProto3Json?`${new Date(1e3*c.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+c.nanoseconds).slice(-9)}Z`:{seconds:""+c.seconds,nanos:c.nanoseconds}}function Tf(A,c){return A.useProto3Json?c.toBase64():c.toUint8Array()}function Hg(A,c){return Jn(A,c.toTimestamp())}function Le(A){return Bt(!!A,49232),At.fromTimestamp(function(y){const P=hi(y);return new jt(P.seconds,P.nanos)}(A))}function za(A,c){return ua(A,c).canonicalString()}function ua(A,c){const y=function(M){return new Xt(["projects",M.projectId,"databases",M.database])}(A).child("documents");return c===void 0?y:y.child(c)}function Sf(A){const c=Xt.fromString(A);return Bt(Rf(c),10190,{key:c.toString()}),c}function fa(A,c){return za(A.databaseId,c.path)}function Wr(A,c){const y=Sf(c);if(y.get(1)!==A.databaseId.projectId)throw new yt(lt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+y.get(1)+" vs "+A.databaseId.projectId);if(y.get(3)!==A.databaseId.database)throw new yt(lt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+y.get(3)+" vs "+A.databaseId.database);return new xt(Cf(y))}function Ef(A,c){return za(A.databaseId,c)}function Kg(A){const c=Sf(A);return c.length===4?Xt.emptyPath():Cf(c)}function da(A){return new Xt(["projects",A.databaseId.projectId,"databases",A.databaseId.database]).canonicalString()}function Cf(A){return Bt(A.length>4&&A.get(4)==="documents",29091,{key:A.toString()}),A.popFirst(5)}function ol(A,c,y){return{name:fa(A,c),fields:y.value.mapValue.fields}}function kg(A,c){let y;if("targetChange"in c){c.targetChange;const P=function(o){return o==="NO_CHANGE"?0:o==="ADD"?1:o==="REMOVE"?2:o==="CURRENT"?3:o==="RESET"?4:Ct(39313,{state:o})}(c.targetChange.targetChangeType||"NO_CHANGE"),M=c.targetChange.targetIds||[],O=function(o,m){return o.useProto3Json?(Bt(m===void 0||typeof m=="string",58123),ie.fromBase64String(m||"")):(Bt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),ie.fromUint8Array(m||new Uint8Array))}(A,c.targetChange.resumeToken),v=c.targetChange.cause,S=v&&function(o){const m=o.code===void 0?lt.UNKNOWN:gf(o.code);return new yt(m,o.message||"")}(v);y=new xf(P,M,O,S||null)}else if("documentChange"in c){c.documentChange;const P=c.documentChange;P.document,P.document.name,P.document.updateTime;const M=Wr(A,P.document.name),O=Le(P.document.updateTime),v=P.document.createTime?Le(P.document.createTime):At.min(),S=new pe({mapValue:{fields:P.document.fields}}),t=oe.newFoundDocument(M,O,v,S),o=P.targetIds||[],m=P.removedTargetIds||[];y=new On(o,m,t.key,t)}else if("documentDelete"in c){c.documentDelete;const P=c.documentDelete;P.document;const M=Wr(A,P.document),O=P.readTime?Le(P.readTime):At.min(),v=oe.newNoDocument(M,O),S=P.removedTargetIds||[];y=new On([],S,v.key,v)}else if("documentRemove"in c){c.documentRemove;const P=c.documentRemove;P.document;const M=Wr(A,P.document),O=P.removedTargetIds||[];y=new On([],O,M,null)}else{if(!("filter"in c))return Ct(11601,{Vt:c});{c.filter;const P=c.filter;P.targetId;const{count:M=0,unchangedNames:O}=P,v=new bg(M,O),S=P.targetId;y=new yf(S,v)}}return y}function $g(A,c){let y;if(c instanceof Zs)y={update:ol(A,c.key,c.value)};else if(c instanceof mf)y={delete:fa(A,c.key)};else if(c instanceof Fi)y={update:ol(A,c.key,c.data),updateMask:i0(c.fieldMask)};else{if(!(c instanceof Dg))return Ct(16599,{ft:c.type});y={verify:fa(A,c.key)}}return c.fieldTransforms.length>0&&(y.updateTransforms=c.fieldTransforms.map(P=>function(O,v){const S=v.transform;if(S instanceof zs)return{fieldPath:v.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(S instanceof Xs)return{fieldPath:v.field.canonicalString(),appendMissingElements:{values:S.elements}};if(S instanceof Ws)return{fieldPath:v.field.canonicalString(),removeAllFromArray:{values:S.elements}};if(S instanceof Qn)return{fieldPath:v.field.canonicalString(),increment:S.Re};throw Ct(20930,{transform:v.transform})}(0,P))),c.precondition.isNone||(y.currentDocument=function(M,O){return O.updateTime!==void 0?{updateTime:Hg(M,O.updateTime)}:O.exists!==void 0?{exists:O.exists}:Ct(27497)}(A,c.precondition)),y}function Qg(A,c){return A&&A.length>0?(Bt(c!==void 0,14353),A.map(y=>function(M,O){let v=M.updateTime?Le(M.updateTime):Le(O);return v.isEqual(At.min())&&(v=Le(O)),new Lg(v,M.transformResults||[])}(y,c))):[]}function Jg(A,c){return{documents:[Ef(A,c.path)]}}function jg(A,c){const y={structuredQuery:{}},P=c.path;let M;c.collectionGroup!==null?(M=P,y.structuredQuery.from=[{collectionId:c.collectionGroup,allDescendants:!0}]):(M=P.popLast(),y.structuredQuery.from=[{collectionId:P.lastSegment()}]),y.parent=Ef(A,M);const O=function(o){if(o.length!==0)return Pf(Ee.create(o,"and"))}(c.filters);O&&(y.structuredQuery.where=O);const v=function(o){if(o.length!==0)return o.map(m=>function(r){return{field:Ui(r.field),direction:_g(r.dir)}}(m))}(c.orderBy);v&&(y.structuredQuery.orderBy=v);const S=la(A,c.limit);return S!==null&&(y.structuredQuery.limit=S),c.startAt&&(y.structuredQuery.startAt=function(o){return{before:o.inclusive,values:o.position}}(c.startAt)),c.endAt&&(y.structuredQuery.endAt=function(o){return{before:!o.inclusive,values:o.position}}(c.endAt)),{gt:y,parent:M}}function Zg(A){let c=Kg(A.parent);const y=A.structuredQuery,P=y.from?y.from.length:0;let M=null;if(P>0){Bt(P===1,65062);const m=y.from[0];m.allDescendants?M=m.collectionId:c=c.child(m.collectionId)}let O=[];y.where&&(O=function(a){const r=Af(a);return r instanceof Ee&&qu(r)?r.getFilters():[r]}(y.where));let v=[];y.orderBy&&(v=function(a){return a.map(r=>function(e){return new $n(zi(e.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(r))}(y.orderBy));let S=null;y.limit&&(S=function(a){let r;return r=typeof a=="object"?a.value:a,ar(r)?null:r}(y.limit));let t=null;y.startAt&&(t=function(a){const r=!!a.before,n=a.values||[];return new kn(n,r)}(y.startAt));let o=null;return y.endAt&&(o=function(a){const r=!a.before,n=a.values||[];return new kn(n,r)}(y.endAt)),mg(c,M,v,O,S,"F",t,o)}function qg(A,c){const y=function(M){switch(M){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ct(28987,{purpose:M})}}(c.purpose);return y==null?null:{"goog-listen-tags":y}}function Af(A){return A.unaryFilter!==void 0?function(y){switch(y.unaryFilter.op){case"IS_NAN":const P=zi(y.unaryFilter.field);return Jt.create(P,"==",{doubleValue:NaN});case"IS_NULL":const M=zi(y.unaryFilter.field);return Jt.create(M,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const O=zi(y.unaryFilter.field);return Jt.create(O,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const v=zi(y.unaryFilter.field);return Jt.create(v,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ct(61313);default:return Ct(60726)}}(A):A.fieldFilter!==void 0?function(y){return Jt.create(zi(y.fieldFilter.field),function(M){switch(M){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ct(58110);default:return Ct(50506)}}(y.fieldFilter.op),y.fieldFilter.value)}(A):A.compositeFilter!==void 0?function(y){return Ee.create(y.compositeFilter.filters.map(P=>Af(P)),function(M){switch(M){case"AND":return"and";case"OR":return"or";default:return Ct(1026)}}(y.compositeFilter.op))}(A):Ct(30097,{filter:A})}function _g(A){return zg[A]}function t0(A){return Xg[A]}function e0(A){return Wg[A]}function Ui(A){return{fieldPath:A.canonicalString()}}function zi(A){return ee.fromServerFormat(A.fieldPath)}function Pf(A){return A instanceof Jt?function(y){if(y.op==="=="){if(Qh(y.value))return{unaryFilter:{field:Ui(y.field),op:"IS_NAN"}};if($h(y.value))return{unaryFilter:{field:Ui(y.field),op:"IS_NULL"}}}else if(y.op==="!="){if(Qh(y.value))return{unaryFilter:{field:Ui(y.field),op:"IS_NOT_NAN"}};if($h(y.value))return{unaryFilter:{field:Ui(y.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ui(y.field),op:t0(y.op),value:y.value}}}(A):A instanceof Ee?function(y){const P=y.getFilters().map(M=>Pf(M));return P.length===1?P[0]:{compositeFilter:{op:e0(y.op),filters:P}}}(A):Ct(54877,{filter:A})}function i0(A){const c=[];return A.fields.forEach(y=>c.push(y.canonicalString())),{fieldPaths:c}}function Rf(A){return A.length>=4&&A.get(0)==="projects"&&A.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(c,y,P,M,O=At.min(),v=At.min(),S=ie.EMPTY_BYTE_STRING,t=null){this.target=c,this.targetId=y,this.purpose=P,this.sequenceNumber=M,this.snapshotVersion=O,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=S,this.expectedCount=t}withSequenceNumber(c){return new ei(this.target,this.targetId,this.purpose,c,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(c,y){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,y,this.lastLimboFreeSnapshotVersion,c,null)}withExpectedCount(c){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,c)}withLastLimboFreeSnapshotVersion(c){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,c,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(c){this.wt=c}}function n0(A){const c=Zg({parent:A.parent,structuredQuery:A.structuredQuery});return A.limitType==="LAST"?ha(c,c.limit,"L"):c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(){this.Cn=new a0}addToCollectionParentIndex(c,y){return this.Cn.add(y),ht.resolve()}getCollectionParents(c,y){return ht.resolve(this.Cn.getEntries(y))}addFieldIndex(c,y){return ht.resolve()}deleteFieldIndex(c,y){return ht.resolve()}deleteAllFieldIndexes(c){return ht.resolve()}createTargetIndexes(c,y){return ht.resolve()}getDocumentsMatchingTarget(c,y){return ht.resolve(null)}getIndexType(c,y){return ht.resolve(0)}getFieldIndexes(c,y){return ht.resolve([])}getNextCollectionGroupToUpdate(c){return ht.resolve(null)}getMinOffset(c,y){return ht.resolve(oi.min())}getMinOffsetFromCollectionGroup(c,y){return ht.resolve(oi.min())}updateCollectionGroup(c,y,P){return ht.resolve()}updateIndexEntries(c,y){return ht.resolve()}}class a0{constructor(){this.index={}}add(c){const y=c.lastSegment(),P=c.popLast(),M=this.index[y]||new Zt(Xt.comparator),O=!M.has(P);return this.index[y]=M.add(P),O}has(c){const y=c.lastSegment(),P=c.popLast(),M=this.index[y];return M&&M.has(P)}getEntries(c){return(this.index[c]||new Zt(Xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wf=41943040;class fe{static withCacheSize(c){return new fe(c,fe.DEFAULT_COLLECTION_PERCENTILE,fe.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(c,y,P){this.cacheSizeCollectionThreshold=c,this.percentileToCollect=y,this.maximumSequenceNumbersToCollect=P}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fe.DEFAULT_COLLECTION_PERCENTILE=10,fe.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fe.DEFAULT=new fe(wf,fe.DEFAULT_COLLECTION_PERCENTILE,fe.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fe.DISABLED=new fe(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(c){this.ur=c}next(){return this.ur+=2,this.ur}static cr(){return new _i(0)}static lr(){return new _i(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll="LruGarbageCollector",o0=1048576;function ul([A,c],[y,P]){const M=It(A,y);return M===0?It(c,P):M}class h0{constructor(c){this.Er=c,this.buffer=new Zt(ul),this.dr=0}Ar(){return++this.dr}Rr(c){const y=[c,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(y);else{const P=this.buffer.last();ul(y,P)<0&&(this.buffer=this.buffer.delete(P).add(y))}}get maxValue(){return this.buffer.last()[0]}}class l0{constructor(c,y,P){this.garbageCollector=c,this.asyncQueue=y,this.localStore=P,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(c){mt(ll,`Garbage collection scheduled in ${c}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",c,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(y){as(y)?mt(ll,"Ignoring IndexedDB error during garbage collection: ",y):await rs(y)}await this.mr(3e5)})}}class u0{constructor(c,y){this.gr=c,this.params=y}calculateTargetCount(c,y){return this.gr.pr(c).next(P=>Math.floor(y/100*P))}nthSequenceNumber(c,y){if(y===0)return ht.resolve(rr.le);const P=new h0(y);return this.gr.forEachTarget(c,M=>P.Rr(M.sequenceNumber)).next(()=>this.gr.yr(c,M=>P.Rr(M))).next(()=>P.maxValue)}removeTargets(c,y,P){return this.gr.removeTargets(c,y,P)}removeOrphanedDocuments(c,y){return this.gr.removeOrphanedDocuments(c,y)}collect(c,y){return this.params.cacheSizeCollectionThreshold===-1?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),ht.resolve(hl)):this.getCacheSize(c).next(P=>P<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${P} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hl):this.wr(c,y))}getCacheSize(c){return this.gr.getCacheSize(c)}wr(c,y){let P,M,O,v,S,t,o;const m=Date.now();return this.calculateTargetCount(c,this.params.percentileToCollect).next(a=>(a>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${a}`),M=this.params.maximumSequenceNumbersToCollect):M=a,v=Date.now(),this.nthSequenceNumber(c,M))).next(a=>(P=a,S=Date.now(),this.removeTargets(c,P,y))).next(a=>(O=a,t=Date.now(),this.removeOrphanedDocuments(c,P))).next(a=>(o=Date.now(),Vi()<=Ft.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${v-m}ms
	Determined least recently used ${M} in `+(S-v)+`ms
	Removed ${O} targets in `+(t-S)+`ms
	Removed ${a} documents in `+(o-t)+`ms
Total Duration: ${o-m}ms`),ht.resolve({didRun:!0,sequenceNumbersCollected:M,targetsRemoved:O,documentsRemoved:a})))}}function f0(A,c){return new u0(A,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(){this.changes=new Li(c=>c.toString(),(c,y)=>c.isEqual(y)),this.changesApplied=!1}addEntry(c){this.assertNotApplied(),this.changes.set(c.key,c)}removeEntry(c,y){this.assertNotApplied(),this.changes.set(c,oe.newInvalidDocument(c).setReadTime(y))}getEntry(c,y){this.assertNotApplied();const P=this.changes.get(y);return P!==void 0?ht.resolve(P):this.getFromCache(c,y)}getEntries(c,y){return this.getAllFromCache(c,y)}apply(c){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(c)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(c,y){this.overlayedDocument=c,this.mutatedFields=y}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(c,y,P,M){this.remoteDocumentCache=c,this.mutationQueue=y,this.documentOverlayCache=P,this.indexManager=M}getDocument(c,y){let P=null;return this.documentOverlayCache.getOverlay(c,y).next(M=>(P=M,this.remoteDocumentCache.getEntry(c,y))).next(M=>(P!==null&&Os(P.mutation,M,xe.empty(),jt.now()),M))}getDocuments(c,y){return this.remoteDocumentCache.getEntries(c,y).next(P=>this.getLocalViewOfDocuments(c,P,Ot()).next(()=>P))}getLocalViewOfDocuments(c,y,P=Ot()){const M=Ti();return this.populateOverlays(c,M,y).next(()=>this.computeViews(c,y,M,P).next(O=>{let v=As();return O.forEach((S,t)=>{v=v.insert(S,t.overlayedDocument)}),v}))}getOverlayedDocuments(c,y){const P=Ti();return this.populateOverlays(c,P,y).next(()=>this.computeViews(c,y,P,Ot()))}populateOverlays(c,y,P){const M=[];return P.forEach(O=>{y.has(O)||M.push(O)}),this.documentOverlayCache.getOverlays(c,M).next(O=>{O.forEach((v,S)=>{y.set(v,S)})})}computeViews(c,y,P,M){let O=Ke();const v=Fs(),S=function(){return Fs()}();return y.forEach((t,o)=>{const m=P.get(o.key);M.has(o.key)&&(m===void 0||m.mutation instanceof Fi)?O=O.insert(o.key,o):m!==void 0?(v.set(o.key,m.mutation.getFieldMask()),Os(m.mutation,o,m.mutation.getFieldMask(),jt.now())):v.set(o.key,xe.empty())}),this.recalculateAndSaveOverlays(c,O).next(t=>(t.forEach((o,m)=>v.set(o,m)),y.forEach((o,m)=>{var a;return S.set(o,new c0(m,(a=v.get(o))!==null&&a!==void 0?a:null))}),S))}recalculateAndSaveOverlays(c,y){const P=Fs();let M=new Yt((v,S)=>v-S),O=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(c,y).next(v=>{for(const S of v)S.keys().forEach(t=>{const o=y.get(t);if(o===null)return;let m=P.get(t)||xe.empty();m=S.applyToLocalView(o,m),P.set(t,m);const a=(M.get(S.batchId)||Ot()).add(t);M=M.insert(S.batchId,a)})}).next(()=>{const v=[],S=M.getReverseIterator();for(;S.hasNext();){const t=S.getNext(),o=t.key,m=t.value,a=hf();m.forEach(r=>{if(!O.has(r)){const n=vf(y.get(r),P.get(r));n!==null&&a.set(r,n),O=O.add(r)}}),v.push(this.documentOverlayCache.saveOverlays(c,o,a))}return ht.waitFor(v)}).next(()=>P)}recalculateAndSaveOverlaysForDocumentKeys(c,y){return this.remoteDocumentCache.getEntries(c,y).next(P=>this.recalculateAndSaveOverlays(c,P))}getDocumentsMatchingQuery(c,y,P,M){return function(v){return xt.isDocumentKey(v.path)&&v.collectionGroup===null&&v.filters.length===0}(y)?this.getDocumentsMatchingDocumentQuery(c,y.path):sf(y)?this.getDocumentsMatchingCollectionGroupQuery(c,y,P,M):this.getDocumentsMatchingCollectionQuery(c,y,P,M)}getNextDocuments(c,y,P,M){return this.remoteDocumentCache.getAllFromCollectionGroup(c,y,P,M).next(O=>{const v=M-O.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(c,y,P.largestBatchId,M-O.size):ht.resolve(Ti());let S=bs,t=O;return v.next(o=>ht.forEach(o,(m,a)=>(S<a.largestBatchId&&(S=a.largestBatchId),O.get(m)?ht.resolve():this.remoteDocumentCache.getEntry(c,m).next(r=>{t=t.insert(m,r)}))).next(()=>this.populateOverlays(c,o,O)).next(()=>this.computeViews(c,t,o,Ot())).next(m=>({batchId:S,changes:of(m)})))})}getDocumentsMatchingDocumentQuery(c,y){return this.getDocument(c,new xt(y)).next(P=>{let M=As();return P.isFoundDocument()&&(M=M.insert(P.key,P)),M})}getDocumentsMatchingCollectionGroupQuery(c,y,P,M){const O=y.collectionGroup;let v=As();return this.indexManager.getCollectionParents(c,O).next(S=>ht.forEach(S,t=>{const o=function(a,r){return new js(r,null,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(y,t.child(O));return this.getDocumentsMatchingCollectionQuery(c,o,P,M).next(m=>{m.forEach((a,r)=>{v=v.insert(a,r)})})}).next(()=>v))}getDocumentsMatchingCollectionQuery(c,y,P,M){let O;return this.documentOverlayCache.getOverlaysForCollection(c,y.path,P.largestBatchId).next(v=>(O=v,this.remoteDocumentCache.getDocumentsMatchingQuery(c,y,P,O,M))).next(v=>{O.forEach((t,o)=>{const m=o.getKey();v.get(m)===null&&(v=v.insert(m,oe.newInvalidDocument(m)))});let S=As();return v.forEach((t,o)=>{const m=O.get(t);m!==void 0&&Os(m.mutation,o,xe.empty(),jt.now()),lr(y,o)&&(S=S.insert(t,o))}),S})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(c){this.serializer=c,this.kr=new Map,this.qr=new Map}getBundleMetadata(c,y){return ht.resolve(this.kr.get(y))}saveBundleMetadata(c,y){return this.kr.set(y.id,function(M){return{id:M.id,version:M.version,createTime:Le(M.createTime)}}(y)),ht.resolve()}getNamedQuery(c,y){return ht.resolve(this.qr.get(y))}saveNamedQuery(c,y){return this.qr.set(y.name,function(M){return{name:M.name,query:n0(M.bundledQuery),readTime:Le(M.readTime)}}(y)),ht.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(){this.overlays=new Yt(xt.comparator),this.Qr=new Map}getOverlay(c,y){return ht.resolve(this.overlays.get(y))}getOverlays(c,y){const P=Ti();return ht.forEach(y,M=>this.getOverlay(c,M).next(O=>{O!==null&&P.set(M,O)})).next(()=>P)}saveOverlays(c,y,P){return P.forEach((M,O)=>{this.bt(c,y,O)}),ht.resolve()}removeOverlaysForBatchId(c,y,P){const M=this.Qr.get(P);return M!==void 0&&(M.forEach(O=>this.overlays=this.overlays.remove(O)),this.Qr.delete(P)),ht.resolve()}getOverlaysForCollection(c,y,P){const M=Ti(),O=y.length+1,v=new xt(y.child("")),S=this.overlays.getIteratorFrom(v);for(;S.hasNext();){const t=S.getNext().value,o=t.getKey();if(!y.isPrefixOf(o.path))break;o.path.length===O&&t.largestBatchId>P&&M.set(t.getKey(),t)}return ht.resolve(M)}getOverlaysForCollectionGroup(c,y,P,M){let O=new Yt((o,m)=>o-m);const v=this.overlays.getIterator();for(;v.hasNext();){const o=v.getNext().value;if(o.getKey().getCollectionGroup()===y&&o.largestBatchId>P){let m=O.get(o.largestBatchId);m===null&&(m=Ti(),O=O.insert(o.largestBatchId,m)),m.set(o.getKey(),o)}}const S=Ti(),t=O.getIterator();for(;t.hasNext()&&(t.getNext().value.forEach((o,m)=>S.set(o,m)),!(S.size()>=M)););return ht.resolve(S)}bt(c,y,P){const M=this.overlays.get(P.key);if(M!==null){const v=this.Qr.get(M.largestBatchId).delete(P.key);this.Qr.set(M.largestBatchId,v)}this.overlays=this.overlays.insert(P.key,new Bg(y,P));let O=this.Qr.get(y);O===void 0&&(O=Ot(),this.Qr.set(y,O)),this.Qr.set(y,O.add(P.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(){this.sessionToken=ie.EMPTY_BYTE_STRING}getSessionToken(c){return ht.resolve(this.sessionToken)}setSessionToken(c,y){return this.sessionToken=y,ht.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(){this.$r=new Zt(qt.Ur),this.Kr=new Zt(qt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(c,y){const P=new qt(c,y);this.$r=this.$r.add(P),this.Kr=this.Kr.add(P)}Gr(c,y){c.forEach(P=>this.addReference(P,y))}removeReference(c,y){this.zr(new qt(c,y))}jr(c,y){c.forEach(P=>this.removeReference(P,y))}Hr(c){const y=new xt(new Xt([])),P=new qt(y,c),M=new qt(y,c+1),O=[];return this.Kr.forEachInRange([P,M],v=>{this.zr(v),O.push(v.key)}),O}Jr(){this.$r.forEach(c=>this.zr(c))}zr(c){this.$r=this.$r.delete(c),this.Kr=this.Kr.delete(c)}Yr(c){const y=new xt(new Xt([])),P=new qt(y,c),M=new qt(y,c+1);let O=Ot();return this.Kr.forEachInRange([P,M],v=>{O=O.add(v.key)}),O}containsKey(c){const y=new qt(c,0),P=this.$r.firstAfterOrEqual(y);return P!==null&&c.isEqual(P.key)}}class qt{constructor(c,y){this.key=c,this.Zr=y}static Ur(c,y){return xt.comparator(c.key,y.key)||It(c.Zr,y.Zr)}static Wr(c,y){return It(c.Zr,y.Zr)||xt.comparator(c.key,y.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(c,y){this.indexManager=c,this.referenceDelegate=y,this.mutationQueue=[],this.nr=1,this.Xr=new Zt(qt.Ur)}checkEmpty(c){return ht.resolve(this.mutationQueue.length===0)}addMutationBatch(c,y,P,M){const O=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const v=new Ng(O,y,P,M);this.mutationQueue.push(v);for(const S of M)this.Xr=this.Xr.add(new qt(S.key,O)),this.indexManager.addToCollectionParentIndex(c,S.key.path.popLast());return ht.resolve(v)}lookupMutationBatch(c,y){return ht.resolve(this.ei(y))}getNextMutationBatchAfterBatchId(c,y){const P=y+1,M=this.ti(P),O=M<0?0:M;return ht.resolve(this.mutationQueue.length>O?this.mutationQueue[O]:null)}getHighestUnacknowledgedBatchId(){return ht.resolve(this.mutationQueue.length===0?Fa:this.nr-1)}getAllMutationBatches(c){return ht.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(c,y){const P=new qt(y,0),M=new qt(y,Number.POSITIVE_INFINITY),O=[];return this.Xr.forEachInRange([P,M],v=>{const S=this.ei(v.Zr);O.push(S)}),ht.resolve(O)}getAllMutationBatchesAffectingDocumentKeys(c,y){let P=new Zt(It);return y.forEach(M=>{const O=new qt(M,0),v=new qt(M,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([O,v],S=>{P=P.add(S.Zr)})}),ht.resolve(this.ni(P))}getAllMutationBatchesAffectingQuery(c,y){const P=y.path,M=P.length+1;let O=P;xt.isDocumentKey(O)||(O=O.child(""));const v=new qt(new xt(O),0);let S=new Zt(It);return this.Xr.forEachWhile(t=>{const o=t.key.path;return!!P.isPrefixOf(o)&&(o.length===M&&(S=S.add(t.Zr)),!0)},v),ht.resolve(this.ni(S))}ni(c){const y=[];return c.forEach(P=>{const M=this.ei(P);M!==null&&y.push(M)}),y}removeMutationBatch(c,y){Bt(this.ri(y.batchId,"removed")===0,55003),this.mutationQueue.shift();let P=this.Xr;return ht.forEach(y.mutations,M=>{const O=new qt(M.key,y.batchId);return P=P.delete(O),this.referenceDelegate.markPotentiallyOrphaned(c,M.key)}).next(()=>{this.Xr=P})}sr(c){}containsKey(c,y){const P=new qt(y,0),M=this.Xr.firstAfterOrEqual(P);return ht.resolve(y.isEqual(M&&M.key))}performConsistencyCheck(c){return this.mutationQueue.length,ht.resolve()}ri(c,y){return this.ti(c)}ti(c){return this.mutationQueue.length===0?0:c-this.mutationQueue[0].batchId}ei(c){const y=this.ti(c);return y<0||y>=this.mutationQueue.length?null:this.mutationQueue[y]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(c){this.ii=c,this.docs=function(){return new Yt(xt.comparator)}(),this.size=0}setIndexManager(c){this.indexManager=c}addEntry(c,y){const P=y.key,M=this.docs.get(P),O=M?M.size:0,v=this.ii(y);return this.docs=this.docs.insert(P,{document:y.mutableCopy(),size:v}),this.size+=v-O,this.indexManager.addToCollectionParentIndex(c,P.path.popLast())}removeEntry(c){const y=this.docs.get(c);y&&(this.docs=this.docs.remove(c),this.size-=y.size)}getEntry(c,y){const P=this.docs.get(y);return ht.resolve(P?P.document.mutableCopy():oe.newInvalidDocument(y))}getEntries(c,y){let P=Ke();return y.forEach(M=>{const O=this.docs.get(M);P=P.insert(M,O?O.document.mutableCopy():oe.newInvalidDocument(M))}),ht.resolve(P)}getDocumentsMatchingQuery(c,y,P,M){let O=Ke();const v=y.path,S=new xt(v.child("__id-9223372036854775808__")),t=this.docs.getIteratorFrom(S);for(;t.hasNext();){const{key:o,value:{document:m}}=t.getNext();if(!v.isPrefixOf(o.path))break;o.path.length>v.length+1||Qm($m(m),P)<=0||(M.has(m.key)||lr(y,m))&&(O=O.insert(m.key,m.mutableCopy()))}return ht.resolve(O)}getAllFromCollectionGroup(c,y,P,M){Ct(9500)}si(c,y){return ht.forEach(this.docs,P=>y(P))}newChangeBuffer(c){return new T0(this)}getSize(c){return ht.resolve(this.size)}}class T0 extends d0{constructor(c){super(),this.Br=c}applyChanges(c){const y=[];return this.changes.forEach((P,M)=>{M.isValidDocument()?y.push(this.Br.addEntry(c,M)):this.Br.removeEntry(P)}),ht.waitFor(y)}getFromCache(c,y){return this.Br.getEntry(c,y)}getAllFromCache(c,y){return this.Br.getEntries(c,y)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(c){this.persistence=c,this.oi=new Li(y=>Na(y),Ba),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this._i=0,this.ai=new Xa,this.targetCount=0,this.ui=_i.cr()}forEachTarget(c,y){return this.oi.forEach((P,M)=>y(M)),ht.resolve()}getLastRemoteSnapshotVersion(c){return ht.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(c){return ht.resolve(this._i)}allocateTargetId(c){return this.highestTargetId=this.ui.next(),ht.resolve(this.highestTargetId)}setTargetsMetadata(c,y,P){return P&&(this.lastRemoteSnapshotVersion=P),y>this._i&&(this._i=y),ht.resolve()}Tr(c){this.oi.set(c.target,c);const y=c.targetId;y>this.highestTargetId&&(this.ui=new _i(y),this.highestTargetId=y),c.sequenceNumber>this._i&&(this._i=c.sequenceNumber)}addTargetData(c,y){return this.Tr(y),this.targetCount+=1,ht.resolve()}updateTargetData(c,y){return this.Tr(y),ht.resolve()}removeTargetData(c,y){return this.oi.delete(y.target),this.ai.Hr(y.targetId),this.targetCount-=1,ht.resolve()}removeTargets(c,y,P){let M=0;const O=[];return this.oi.forEach((v,S)=>{S.sequenceNumber<=y&&P.get(S.targetId)===null&&(this.oi.delete(v),O.push(this.removeMatchingKeysForTargetId(c,S.targetId)),M++)}),ht.waitFor(O).next(()=>M)}getTargetCount(c){return ht.resolve(this.targetCount)}getTargetData(c,y){const P=this.oi.get(y)||null;return ht.resolve(P)}addMatchingKeys(c,y,P){return this.ai.Gr(y,P),ht.resolve()}removeMatchingKeys(c,y,P){this.ai.jr(y,P);const M=this.persistence.referenceDelegate,O=[];return M&&y.forEach(v=>{O.push(M.markPotentiallyOrphaned(c,v))}),ht.waitFor(O)}removeMatchingKeysForTargetId(c,y){return this.ai.Hr(y),ht.resolve()}getMatchingKeysForTargetId(c,y){const P=this.ai.Yr(y);return ht.resolve(P)}containsKey(c,y){return ht.resolve(this.ai.containsKey(y))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(c,y){this.ci={},this.overlays={},this.li=new rr(0),this.hi=!1,this.hi=!0,this.Pi=new g0,this.referenceDelegate=c(this),this.Ti=new S0(this),this.indexManager=new r0,this.remoteDocumentCache=function(M){return new x0(M)}(P=>this.referenceDelegate.Ii(P)),this.serializer=new s0(y),this.Ei=new p0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(c){return this.indexManager}getDocumentOverlayCache(c){let y=this.overlays[c.toKey()];return y||(y=new m0,this.overlays[c.toKey()]=y),y}getMutationQueue(c,y){let P=this.ci[c.toKey()];return P||(P=new y0(y,this.referenceDelegate),this.ci[c.toKey()]=P),P}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(c,y,P){mt("MemoryPersistence","Starting transaction:",c);const M=new E0(this.li.next());return this.referenceDelegate.di(),P(M).next(O=>this.referenceDelegate.Ai(M).next(()=>O)).toPromise().then(O=>(M.raiseOnCommittedEvent(),O))}Ri(c,y){return ht.or(Object.values(this.ci).map(P=>()=>P.containsKey(c,y)))}}class E0 extends jm{constructor(c){super(),this.currentSequenceNumber=c}}class Wa{constructor(c){this.persistence=c,this.Vi=new Xa,this.mi=null}static fi(c){return new Wa(c)}get gi(){if(this.mi)return this.mi;throw Ct(60996)}addReference(c,y,P){return this.Vi.addReference(P,y),this.gi.delete(P.toString()),ht.resolve()}removeReference(c,y,P){return this.Vi.removeReference(P,y),this.gi.add(P.toString()),ht.resolve()}markPotentiallyOrphaned(c,y){return this.gi.add(y.toString()),ht.resolve()}removeTarget(c,y){this.Vi.Hr(y.targetId).forEach(M=>this.gi.add(M.toString()));const P=this.persistence.getTargetCache();return P.getMatchingKeysForTargetId(c,y.targetId).next(M=>{M.forEach(O=>this.gi.add(O.toString()))}).next(()=>P.removeTargetData(c,y))}di(){this.mi=new Set}Ai(c){const y=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ht.forEach(this.gi,P=>{const M=xt.fromPath(P);return this.pi(c,M).next(O=>{O||y.removeEntry(M,At.min())})}).next(()=>(this.mi=null,y.apply(c)))}updateLimboDocument(c,y){return this.pi(c,y).next(P=>{P?this.gi.delete(y.toString()):this.gi.add(y.toString())})}Ii(c){return 0}pi(c,y){return ht.or([()=>ht.resolve(this.Vi.containsKey(y)),()=>this.persistence.getTargetCache().containsKey(c,y),()=>this.persistence.Ri(c,y)])}}class jn{constructor(c,y){this.persistence=c,this.yi=new Li(P=>_m(P.path),(P,M)=>P.isEqual(M)),this.garbageCollector=f0(this,y)}static fi(c,y){return new jn(c,y)}di(){}Ai(c){return ht.resolve()}forEachTarget(c,y){return this.persistence.getTargetCache().forEachTarget(c,y)}pr(c){const y=this.Sr(c);return this.persistence.getTargetCache().getTargetCount(c).next(P=>y.next(M=>P+M))}Sr(c){let y=0;return this.yr(c,P=>{y++}).next(()=>y)}yr(c,y){return ht.forEach(this.yi,(P,M)=>this.Dr(c,P,M).next(O=>O?ht.resolve():y(M)))}removeTargets(c,y,P){return this.persistence.getTargetCache().removeTargets(c,y,P)}removeOrphanedDocuments(c,y){let P=0;const M=this.persistence.getRemoteDocumentCache(),O=M.newChangeBuffer();return M.si(c,v=>this.Dr(c,v,y).next(S=>{S||(P++,O.removeEntry(v,At.min()))})).next(()=>O.apply(c)).next(()=>P)}markPotentiallyOrphaned(c,y){return this.yi.set(y,c.currentSequenceNumber),ht.resolve()}removeTarget(c,y){const P=y.withSequenceNumber(c.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(c,P)}addReference(c,y,P){return this.yi.set(P,c.currentSequenceNumber),ht.resolve()}removeReference(c,y,P){return this.yi.set(P,c.currentSequenceNumber),ht.resolve()}updateLimboDocument(c,y){return this.yi.set(y,c.currentSequenceNumber),ht.resolve()}Ii(c){let y=c.key.toString().length;return c.isFoundDocument()&&(y+=In(c.data.value)),y}Dr(c,y,P){return ht.or([()=>this.persistence.Ri(c,y),()=>this.persistence.getTargetCache().containsKey(c,y),()=>{const M=this.yi.get(y);return ht.resolve(M!==void 0&&M>P)}])}getCacheSize(c){return this.persistence.getRemoteDocumentCache().getSize(c)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(c,y,P,M){this.targetId=c,this.fromCache=y,this.ds=P,this.As=M}static Rs(c,y){let P=Ot(),M=Ot();for(const O of y.docChanges)switch(O.type){case 0:P=P.add(O.doc.key);break;case 1:M=M.add(O.doc.key)}return new Ya(c,y.fromCache,P,M)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(c){this._documentReadCount+=c}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return ic()?8:Zm(he())>0?6:4}()}initialize(c,y){this.ys=c,this.indexManager=y,this.Vs=!0}getDocumentsMatchingQuery(c,y,P,M){const O={result:null};return this.ws(c,y).next(v=>{O.result=v}).next(()=>{if(!O.result)return this.Ss(c,y,M,P).next(v=>{O.result=v})}).next(()=>{if(O.result)return;const v=new C0;return this.bs(c,y,v).next(S=>{if(O.result=S,this.fs)return this.Ds(c,y,v,S.size)})}).next(()=>O.result)}Ds(c,y,P,M){return P.documentReadCount<this.gs?(Vi()<=Ft.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",Gi(y),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ht.resolve()):(Vi()<=Ft.DEBUG&&mt("QueryEngine","Query:",Gi(y),"scans",P.documentReadCount,"local documents and returns",M,"documents as results."),P.documentReadCount>this.ps*M?(Vi()<=Ft.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",Gi(y),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(c,Ie(y))):ht.resolve())}ws(c,y){if(qh(y))return ht.resolve(null);let P=Ie(y);return this.indexManager.getIndexType(c,P).next(M=>M===0?null:(y.limit!==null&&M===1&&(y=ha(y,null,"F"),P=Ie(y)),this.indexManager.getDocumentsMatchingTarget(c,P).next(O=>{const v=Ot(...O);return this.ys.getDocuments(c,v).next(S=>this.indexManager.getMinOffset(c,P).next(t=>{const o=this.vs(y,S);return this.Cs(y,o,v,t.readTime)?this.ws(c,ha(y,null,"F")):this.Fs(c,o,y,t)}))})))}Ss(c,y,P,M){return qh(y)||M.isEqual(At.min())?ht.resolve(null):this.ys.getDocuments(c,P).next(O=>{const v=this.vs(y,O);return this.Cs(y,v,P,M)?ht.resolve(null):(Vi()<=Ft.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",M.toString(),Gi(y)),this.Fs(c,v,y,km(M,bs)).next(S=>S))})}vs(c,y){let P=new Zt(rf(c));return y.forEach((M,O)=>{lr(c,O)&&(P=P.add(O))}),P}Cs(c,y,P,M){if(c.limit===null)return!1;if(P.size!==y.size)return!0;const O=c.limitType==="F"?y.last():y.first();return!!O&&(O.hasPendingWrites||O.version.compareTo(M)>0)}bs(c,y,P){return Vi()<=Ft.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",Gi(y)),this.ys.getDocumentsMatchingQuery(c,y,oi.min(),P)}Fs(c,y,P,M){return this.ys.getDocumentsMatchingQuery(c,P,M).next(O=>(y.forEach(v=>{O=O.insert(v.key,v)}),O))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha="LocalStore",P0=3e8;class R0{constructor(c,y,P,M){this.persistence=c,this.Ms=y,this.serializer=M,this.xs=new Yt(It),this.Os=new Li(O=>Na(O),Ba),this.Ns=new Map,this.Bs=c.getRemoteDocumentCache(),this.Ti=c.getTargetCache(),this.Ei=c.getBundleCache(),this.Ls(P)}Ls(c){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(c),this.indexManager=this.persistence.getIndexManager(c),this.mutationQueue=this.persistence.getMutationQueue(c,this.indexManager),this.localDocuments=new v0(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(c){return this.persistence.runTransaction("Collect garbage","readwrite-primary",y=>c.collect(y,this.xs))}}function w0(A,c,y,P){return new R0(A,c,y,P)}async function If(A,c){const y=Rt(A);return await y.persistence.runTransaction("Handle user change","readonly",P=>{let M;return y.mutationQueue.getAllMutationBatches(P).next(O=>(M=O,y.Ls(c),y.mutationQueue.getAllMutationBatches(P))).next(O=>{const v=[],S=[];let t=Ot();for(const o of M){v.push(o.batchId);for(const m of o.mutations)t=t.add(m.key)}for(const o of O){S.push(o.batchId);for(const m of o.mutations)t=t.add(m.key)}return y.localDocuments.getDocuments(P,t).next(o=>({ks:o,removedBatchIds:v,addedBatchIds:S}))})})}function M0(A,c){const y=Rt(A);return y.persistence.runTransaction("Acknowledge batch","readwrite-primary",P=>{const M=c.batch.keys(),O=y.Bs.newChangeBuffer({trackRemovals:!0});return function(S,t,o,m){const a=o.batch,r=a.keys();let n=ht.resolve();return r.forEach(e=>{n=n.next(()=>m.getEntry(t,e)).next(s=>{const h=o.docVersions.get(e);Bt(h!==null,48541),s.version.compareTo(h)<0&&(a.applyToRemoteDocument(s,o),s.isValidDocument()&&(s.setReadTime(o.commitVersion),m.addEntry(s)))})}),n.next(()=>S.mutationQueue.removeMutationBatch(t,a))}(y,P,c,O).next(()=>O.apply(P)).next(()=>y.mutationQueue.performConsistencyCheck(P)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(P,M,c.batch.batchId)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(P,function(S){let t=Ot();for(let o=0;o<S.mutationResults.length;++o)S.mutationResults[o].transformResults.length>0&&(t=t.add(S.batch.mutations[o].key));return t}(c))).next(()=>y.localDocuments.getDocuments(P,M))})}function Lf(A){const c=Rt(A);return c.persistence.runTransaction("Get last remote snapshot version","readonly",y=>c.Ti.getLastRemoteSnapshotVersion(y))}function I0(A,c){const y=Rt(A),P=c.snapshotVersion;let M=y.xs;return y.persistence.runTransaction("Apply remote event","readwrite-primary",O=>{const v=y.Bs.newChangeBuffer({trackRemovals:!0});M=y.xs;const S=[];c.targetChanges.forEach((m,a)=>{const r=M.get(a);if(!r)return;S.push(y.Ti.removeMatchingKeys(O,m.removedDocuments,a).next(()=>y.Ti.addMatchingKeys(O,m.addedDocuments,a)));let n=r.withSequenceNumber(O.currentSequenceNumber);c.targetMismatches.get(a)!==null?n=n.withResumeToken(ie.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):m.resumeToken.approximateByteSize()>0&&(n=n.withResumeToken(m.resumeToken,P)),M=M.insert(a,n),function(s,h,i){return s.resumeToken.approximateByteSize()===0||h.snapshotVersion.toMicroseconds()-s.snapshotVersion.toMicroseconds()>=P0?!0:i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size>0}(r,n,m)&&S.push(y.Ti.updateTargetData(O,n))});let t=Ke(),o=Ot();if(c.documentUpdates.forEach(m=>{c.resolvedLimboDocuments.has(m)&&S.push(y.persistence.referenceDelegate.updateLimboDocument(O,m))}),S.push(L0(O,v,c.documentUpdates).next(m=>{t=m.qs,o=m.Qs})),!P.isEqual(At.min())){const m=y.Ti.getLastRemoteSnapshotVersion(O).next(a=>y.Ti.setTargetsMetadata(O,O.currentSequenceNumber,P));S.push(m)}return ht.waitFor(S).next(()=>v.apply(O)).next(()=>y.localDocuments.getLocalViewOfDocuments(O,t,o)).next(()=>t)}).then(O=>(y.xs=M,O))}function L0(A,c,y){let P=Ot(),M=Ot();return y.forEach(O=>P=P.add(O)),c.getEntries(A,P).next(O=>{let v=Ke();return y.forEach((S,t)=>{const o=O.get(S);t.isFoundDocument()!==o.isFoundDocument()&&(M=M.add(S)),t.isNoDocument()&&t.version.isEqual(At.min())?(c.removeEntry(S,t.readTime),v=v.insert(S,t)):!o.isValidDocument()||t.version.compareTo(o.version)>0||t.version.compareTo(o.version)===0&&o.hasPendingWrites?(c.addEntry(t),v=v.insert(S,t)):mt(Ha,"Ignoring outdated watch update for ",S,". Current version:",o.version," Watch version:",t.version)}),{qs:v,Qs:M}})}function F0(A,c){const y=Rt(A);return y.persistence.runTransaction("Get next mutation batch","readonly",P=>(c===void 0&&(c=Fa),y.mutationQueue.getNextMutationBatchAfterBatchId(P,c)))}function O0(A,c){const y=Rt(A);return y.persistence.runTransaction("Allocate target","readwrite",P=>{let M;return y.Ti.getTargetData(P,c).next(O=>O?(M=O,ht.resolve(M)):y.Ti.allocateTargetId(P).next(v=>(M=new ei(c,v,"TargetPurposeListen",P.currentSequenceNumber),y.Ti.addTargetData(P,M).next(()=>M))))}).then(P=>{const M=y.xs.get(P.targetId);return(M===null||P.snapshotVersion.compareTo(M.snapshotVersion)>0)&&(y.xs=y.xs.insert(P.targetId,P),y.Os.set(c,P.targetId)),P})}async function ca(A,c,y){const P=Rt(A),M=P.xs.get(c),O=y?"readwrite":"readwrite-primary";try{y||await P.persistence.runTransaction("Release target",O,v=>P.persistence.referenceDelegate.removeTarget(v,M))}catch(v){if(!as(v))throw v;mt(Ha,`Failed to update sequence numbers for target ${c}: ${v}`)}P.xs=P.xs.remove(c),P.Os.delete(M.target)}function fl(A,c,y){const P=Rt(A);let M=At.min(),O=Ot();return P.persistence.runTransaction("Execute query","readwrite",v=>function(t,o,m){const a=Rt(t),r=a.Os.get(m);return r!==void 0?ht.resolve(a.xs.get(r)):a.Ti.getTargetData(o,m)}(P,v,Ie(c)).next(S=>{if(S)return M=S.lastLimboFreeSnapshotVersion,P.Ti.getMatchingKeysForTargetId(v,S.targetId).next(t=>{O=t})}).next(()=>P.Ms.getDocumentsMatchingQuery(v,c,y?M:At.min(),y?O:Ot())).next(S=>(D0(P,yg(c),S),{documents:S,$s:O})))}function D0(A,c,y){let P=A.Ns.get(c)||At.min();y.forEach((M,O)=>{O.readTime.compareTo(P)>0&&(P=O.readTime)}),A.Ns.set(c,P)}class dl{constructor(){this.activeTargetIds=Ag()}js(c){this.activeTargetIds=this.activeTargetIds.add(c)}Hs(c){this.activeTargetIds=this.activeTargetIds.delete(c)}zs(){const c={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(c)}}class N0{constructor(){this.xo=new dl,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(c){}updateMutationState(c,y,P){}addLocalQueryTarget(c,y=!0){return y&&this.xo.js(c),this.Oo[c]||"not-current"}updateQueryState(c,y,P){this.Oo[c]=y}removeLocalQueryTarget(c){this.xo.Hs(c)}isLocalQueryTarget(c){return this.xo.activeTargetIds.has(c)}clearQueryState(c){delete this.Oo[c]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(c){return this.xo.activeTargetIds.has(c)}start(){return this.xo=new dl,Promise.resolve()}handleUserChange(c,y,P){}setOnlineState(c){}shutdown(){}writeSequenceNumber(c){}notifyBundleLoaded(c){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{No(c){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl="ConnectivityMonitor";class vl{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(c){this.Qo.push(c)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){mt(cl,"Network connectivity changed: AVAILABLE");for(const c of this.Qo)c(0)}qo(){mt(cl,"Network connectivity changed: UNAVAILABLE");for(const c of this.Qo)c(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cn=null;function va(){return Cn===null?Cn=function(){return 268435456+Math.round(2147483648*Math.random())}():Cn++,"0x"+Cn.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr="RestConnection",b0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class V0{get Uo(){return!1}constructor(c){this.databaseInfo=c,this.databaseId=c.databaseId;const y=c.ssl?"https":"http",P=encodeURIComponent(this.databaseId.projectId),M=encodeURIComponent(this.databaseId.database);this.Ko=y+"://"+c.host,this.Wo=`projects/${P}/databases/${M}`,this.Go=this.databaseId.database===Hn?`project_id=${P}`:`project_id=${P}&database_id=${M}`}zo(c,y,P,M,O){const v=va(),S=this.jo(c,y.toUriEncodedString());mt(Yr,`Sending RPC '${c}' ${v}:`,S,P);const t={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(t,M,O);const{host:o}=new URL(S),m=Ys(o);return this.Jo(c,S,t,P,m).then(a=>(mt(Yr,`Received RPC '${c}' ${v}: `,a),a),a=>{throw Ji(Yr,`RPC '${c}' ${v} failed with error: `,a,"url: ",S,"request:",P),a})}Yo(c,y,P,M,O,v){return this.zo(c,y,P,M,O)}Ho(c,y,P){c["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ns}(),c["Content-Type"]="text/plain",this.databaseInfo.appId&&(c["X-Firebase-GMPID"]=this.databaseInfo.appId),y&&y.headers.forEach((M,O)=>c[O]=M),P&&P.headers.forEach((M,O)=>c[O]=M)}jo(c,y){const P=b0[c];return`${this.Ko}/v1/${y}:${P}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(c){this.Zo=c.Zo,this.Xo=c.Xo}e_(c){this.t_=c}n_(c){this.r_=c}i_(c){this.s_=c}onMessage(c){this.o_=c}close(){this.Xo()}send(c){this.Zo(c)}__(){this.t_()}a_(){this.r_()}u_(c){this.s_(c)}c_(c){this.o_(c)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re="WebChannelConnection";class U0 extends V0{constructor(c){super(c),this.forceLongPolling=c.forceLongPolling,this.autoDetectLongPolling=c.autoDetectLongPolling,this.useFetchStreams=c.useFetchStreams,this.longPollingOptions=c.longPollingOptions}Jo(c,y,P,M,O){const v=va();return new Promise((S,t)=>{const o=new Fu;o.setWithCredentials(!0),o.listenOnce(Ou.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Mn.NO_ERROR:const a=o.getResponseJson();mt(re,`XHR for RPC '${c}' ${v} received:`,JSON.stringify(a)),S(a);break;case Mn.TIMEOUT:mt(re,`RPC '${c}' ${v} timed out`),t(new yt(lt.DEADLINE_EXCEEDED,"Request time out"));break;case Mn.HTTP_ERROR:const r=o.getStatus();if(mt(re,`RPC '${c}' ${v} failed with status:`,r,"response text:",o.getResponseText()),r>0){let n=o.getResponseJson();Array.isArray(n)&&(n=n[0]);const e=n==null?void 0:n.error;if(e&&e.status&&e.message){const s=function(i){const l=i.toLowerCase().replace(/_/g,"-");return Object.values(lt).indexOf(l)>=0?l:lt.UNKNOWN}(e.status);t(new yt(s,e.message))}else t(new yt(lt.UNKNOWN,"Server responded with status "+o.getStatus()))}else t(new yt(lt.UNAVAILABLE,"Connection failed."));break;default:Ct(9055,{l_:c,streamId:v,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{mt(re,`RPC '${c}' ${v} completed.`)}});const m=JSON.stringify(M);mt(re,`RPC '${c}' ${v} sending request:`,M),o.send(y,"POST",m,P,15)})}T_(c,y,P){const M=va(),O=[this.Ko,"/","google.firestore.v1.Firestore","/",c,"/channel"],v=Bu(),S=Nu(),t={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},o=this.longPollingOptions.timeoutSeconds;o!==void 0&&(t.longPollingTimeout=Math.round(1e3*o)),this.useFetchStreams&&(t.useFetchStreams=!0),this.Ho(t.initMessageHeaders,y,P),t.encodeInitMessageHeaders=!0;const m=O.join("");mt(re,`Creating RPC '${c}' stream ${M}: ${m}`,t);const a=v.createWebChannel(m,t);let r=!1,n=!1;const e=new G0({Zo:h=>{n?mt(re,`Not sending because RPC '${c}' stream ${M} is closed:`,h):(r||(mt(re,`Opening RPC '${c}' stream ${M} transport.`),a.open(),r=!0),mt(re,`RPC '${c}' stream ${M} sending:`,h),a.send(h))},Xo:()=>a.close()}),s=(h,i,l)=>{h.listen(i,u=>{try{l(u)}catch(d){setTimeout(()=>{throw d},0)}})};return s(a,Cs.EventType.OPEN,()=>{n||(mt(re,`RPC '${c}' stream ${M} transport opened.`),e.__())}),s(a,Cs.EventType.CLOSE,()=>{n||(n=!0,mt(re,`RPC '${c}' stream ${M} transport closed`),e.u_())}),s(a,Cs.EventType.ERROR,h=>{n||(n=!0,Ji(re,`RPC '${c}' stream ${M} transport errored. Name:`,h.name,"Message:",h.message),e.u_(new yt(lt.UNAVAILABLE,"The operation could not be completed")))}),s(a,Cs.EventType.MESSAGE,h=>{var i;if(!n){const l=h.data[0];Bt(!!l,16349);const u=l,d=(u==null?void 0:u.error)||((i=u[0])===null||i===void 0?void 0:i.error);if(d){mt(re,`RPC '${c}' stream ${M} received error:`,d);const f=d.status;let p=function(T){const E=Qt[T];if(E!==void 0)return gf(E)}(f),g=d.message;p===void 0&&(p=lt.INTERNAL,g="Unknown error status: "+f+" with message "+d.message),n=!0,e.u_(new yt(p,g)),a.close()}else mt(re,`RPC '${c}' stream ${M} received:`,l),e.c_(l)}}),s(S,Du.STAT_EVENT,h=>{h.stat===ea.PROXY?mt(re,`RPC '${c}' stream ${M} detected buffering proxy`):h.stat===ea.NOPROXY&&mt(re,`RPC '${c}' stream ${M} detected no buffering proxy`)}),setTimeout(()=>{e.a_()},0),e}}function Hr(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(A){return new Yg(A,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(c,y,P=1e3,M=1.5,O=6e4){this.xi=c,this.timerId=y,this.I_=P,this.E_=M,this.d_=O,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(c){this.cancel();const y=Math.floor(this.A_+this.g_()),P=Math.max(0,Date.now()-this.V_),M=Math.max(0,y-P);M>0&&mt("ExponentialBackoff",`Backing off for ${M} ms (base delay: ${this.A_} ms, delay with jitter: ${y} ms, last attempt: ${P} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,M,()=>(this.V_=Date.now(),c())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl="PersistentStream";class Of{constructor(c,y,P,M,O,v,S,t){this.xi=c,this.y_=P,this.w_=M,this.connection=O,this.authCredentialsProvider=v,this.appCheckCredentialsProvider=S,this.listener=t,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new Ff(c,y)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(c){this.k_(),this.stream.send(c)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(c,y){this.k_(),this.q_(),this.C_.cancel(),this.S_++,c!==4?this.C_.reset():y&&y.code===lt.RESOURCE_EXHAUSTED?(He(y.toString()),He("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):y&&y.code===lt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=c,await this.listener.i_(y)}Q_(){}auth(){this.state=1;const c=this.U_(this.S_),y=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([P,M])=>{this.S_===y&&this.K_(P,M)},P=>{c(()=>{const M=new yt(lt.UNKNOWN,"Fetching auth token failed: "+P.message);return this.W_(M)})})}K_(c,y){const P=this.U_(this.S_);this.stream=this.G_(c,y),this.stream.e_(()=>{P(()=>this.listener.e_())}),this.stream.n_(()=>{P(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(M=>{P(()=>this.W_(M))}),this.stream.onMessage(M=>{P(()=>++this.v_==1?this.z_(M):this.onNext(M))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(c){return mt(pl,`close with error: ${c}`),this.stream=null,this.close(4,c)}U_(c){return y=>{this.xi.enqueueAndForget(()=>this.S_===c?y():(mt(pl,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class z0 extends Of{constructor(c,y,P,M,O,v){super(c,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",y,P,M,v),this.serializer=O}G_(c,y){return this.connection.T_("Listen",c,y)}z_(c){return this.onNext(c)}onNext(c){this.C_.reset();const y=kg(this.serializer,c),P=function(O){if(!("targetChange"in O))return At.min();const v=O.targetChange;return v.targetIds&&v.targetIds.length?At.min():v.readTime?Le(v.readTime):At.min()}(c);return this.listener.j_(y,P)}H_(c){const y={};y.database=da(this.serializer),y.addTarget=function(O,v){let S;const t=v.target;if(S=aa(t)?{documents:Jg(O,t)}:{query:jg(O,t).gt},S.targetId=v.targetId,v.resumeToken.approximateByteSize()>0){S.resumeToken=Tf(O,v.resumeToken);const o=la(O,v.expectedCount);o!==null&&(S.expectedCount=o)}else if(v.snapshotVersion.compareTo(At.min())>0){S.readTime=Jn(O,v.snapshotVersion.toTimestamp());const o=la(O,v.expectedCount);o!==null&&(S.expectedCount=o)}return S}(this.serializer,c);const P=qg(this.serializer,c);P&&(y.labels=P),this.L_(y)}J_(c){const y={};y.database=da(this.serializer),y.removeTarget=c,this.L_(y)}}class X0 extends Of{constructor(c,y,P,M,O,v){super(c,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",y,P,M,v),this.serializer=O}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(c,y){return this.connection.T_("Write",c,y)}z_(c){return Bt(!!c.streamToken,31322),this.lastStreamToken=c.streamToken,Bt(!c.writeResults||c.writeResults.length===0,55816),this.listener.X_()}onNext(c){Bt(!!c.streamToken,12678),this.lastStreamToken=c.streamToken,this.C_.reset();const y=Qg(c.writeResults,c.commitTime),P=Le(c.commitTime);return this.listener.ea(P,y)}ta(){const c={};c.database=da(this.serializer),this.L_(c)}Z_(c){const y={streamToken:this.lastStreamToken,writes:c.map(P=>$g(this.serializer,P))};this.L_(y)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{}class Y0 extends W0{constructor(c,y,P,M){super(),this.authCredentials=c,this.appCheckCredentials=y,this.connection=P,this.serializer=M,this.na=!1}ra(){if(this.na)throw new yt(lt.FAILED_PRECONDITION,"The client has already been terminated.")}zo(c,y,P,M){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([O,v])=>this.connection.zo(c,ua(y,P),M,O,v)).catch(O=>{throw O.name==="FirebaseError"?(O.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),O):new yt(lt.UNKNOWN,O.toString())})}Yo(c,y,P,M,O){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([v,S])=>this.connection.Yo(c,ua(y,P),M,v,S,O)).catch(v=>{throw v.name==="FirebaseError"?(v.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),v):new yt(lt.UNKNOWN,v.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class H0{constructor(c,y){this.asyncQueue=c,this.onlineStateHandler=y,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(c){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${c.toString()}`),this.aa("Offline")))}set(c){this.la(),this.ia=0,c==="Online"&&(this.oa=!1),this.aa(c)}aa(c){c!==this.state&&(this.state=c,this.onlineStateHandler(c))}ua(c){const y=`Could not reach Cloud Firestore backend. ${c}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(He(y),this.oa=!1):mt("OnlineStateTracker",y)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri="RemoteStore";class K0{constructor(c,y,P,M,O){this.localStore=c,this.datastore=y,this.asyncQueue=P,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=O,this.Ea.No(v=>{P.enqueueAndForget(async()=>{Oi(this)&&(mt(Ri,"Restarting streams for network reachability change."),await async function(t){const o=Rt(t);o.Ta.add(4),await _s(o),o.da.set("Unknown"),o.Ta.delete(4),await vr(o)}(this))})}),this.da=new H0(P,M)}}async function vr(A){if(Oi(A))for(const c of A.Ia)await c(!0)}async function _s(A){for(const c of A.Ia)await c(!1)}function Df(A,c){const y=Rt(A);y.Pa.has(c.targetId)||(y.Pa.set(c.targetId,c),Qa(y)?$a(y):os(y).M_()&&ka(y,c))}function Ka(A,c){const y=Rt(A),P=os(y);y.Pa.delete(c),P.M_()&&Nf(y,c),y.Pa.size===0&&(P.M_()?P.N_():Oi(y)&&y.da.set("Unknown"))}function ka(A,c){if(A.Aa.Ke(c.targetId),c.resumeToken.approximateByteSize()>0||c.snapshotVersion.compareTo(At.min())>0){const y=A.remoteSyncer.getRemoteKeysForTarget(c.targetId).size;c=c.withExpectedCount(y)}os(A).H_(c)}function Nf(A,c){A.Aa.Ke(c),os(A).J_(c)}function $a(A){A.Aa=new Ug({getRemoteKeysForTarget:c=>A.remoteSyncer.getRemoteKeysForTarget(c),Rt:c=>A.Pa.get(c)||null,Pt:()=>A.datastore.serializer.databaseId}),os(A).start(),A.da._a()}function Qa(A){return Oi(A)&&!os(A).F_()&&A.Pa.size>0}function Oi(A){return Rt(A).Ta.size===0}function Bf(A){A.Aa=void 0}async function k0(A){A.da.set("Online")}async function $0(A){A.Pa.forEach((c,y)=>{ka(A,c)})}async function Q0(A,c){Bf(A),Qa(A)?(A.da.ca(c),$a(A)):A.da.set("Unknown")}async function J0(A,c,y){if(A.da.set("Online"),c instanceof xf&&c.state===2&&c.cause)try{await async function(M,O){const v=O.cause;for(const S of O.targetIds)M.Pa.has(S)&&(await M.remoteSyncer.rejectListen(S,v),M.Pa.delete(S),M.Aa.removeTarget(S))}(A,c)}catch(P){mt(Ri,"Failed to remove targets %s: %s ",c.targetIds.join(","),P),await Zn(A,P)}else if(c instanceof On?A.Aa.Xe(c):c instanceof yf?A.Aa.ot(c):A.Aa.nt(c),!y.isEqual(At.min()))try{const P=await Lf(A.localStore);y.compareTo(P)>=0&&await function(O,v){const S=O.Aa.It(v);return S.targetChanges.forEach((t,o)=>{if(t.resumeToken.approximateByteSize()>0){const m=O.Pa.get(o);m&&O.Pa.set(o,m.withResumeToken(t.resumeToken,v))}}),S.targetMismatches.forEach((t,o)=>{const m=O.Pa.get(t);if(!m)return;O.Pa.set(t,m.withResumeToken(ie.EMPTY_BYTE_STRING,m.snapshotVersion)),Nf(O,t);const a=new ei(m.target,t,o,m.sequenceNumber);ka(O,a)}),O.remoteSyncer.applyRemoteEvent(S)}(A,y)}catch(P){mt(Ri,"Failed to raise snapshot:",P),await Zn(A,P)}}async function Zn(A,c,y){if(!as(c))throw c;A.Ta.add(1),await _s(A),A.da.set("Offline"),y||(y=()=>Lf(A.localStore)),A.asyncQueue.enqueueRetryable(async()=>{mt(Ri,"Retrying IndexedDB access"),await y(),A.Ta.delete(1),await vr(A)})}function bf(A,c){return c().catch(y=>Zn(A,y,c))}async function pr(A){const c=Rt(A),y=fi(c);let P=c.ha.length>0?c.ha[c.ha.length-1].batchId:Fa;for(;j0(c);)try{const M=await F0(c.localStore,P);if(M===null){c.ha.length===0&&y.N_();break}P=M.batchId,Z0(c,M)}catch(M){await Zn(c,M)}Vf(c)&&Gf(c)}function j0(A){return Oi(A)&&A.ha.length<10}function Z0(A,c){A.ha.push(c);const y=fi(A);y.M_()&&y.Y_&&y.Z_(c.mutations)}function Vf(A){return Oi(A)&&!fi(A).F_()&&A.ha.length>0}function Gf(A){fi(A).start()}async function q0(A){fi(A).ta()}async function _0(A){const c=fi(A);for(const y of A.ha)c.Z_(y.mutations)}async function ty(A,c,y){const P=A.ha.shift(),M=Ga.from(P,c,y);await bf(A,()=>A.remoteSyncer.applySuccessfulWrite(M)),await pr(A)}async function ey(A,c){c&&fi(A).Y_&&await async function(P,M){if(function(v){return Vg(v)&&v!==lt.ABORTED}(M.code)){const O=P.ha.shift();fi(P).O_(),await bf(P,()=>P.remoteSyncer.rejectFailedWrite(O.batchId,M)),await pr(P)}}(A,c),Vf(A)&&Gf(A)}async function ml(A,c){const y=Rt(A);y.asyncQueue.verifyOperationInProgress(),mt(Ri,"RemoteStore received new credentials");const P=Oi(y);y.Ta.add(3),await _s(y),P&&y.da.set("Unknown"),await y.remoteSyncer.handleCredentialChange(c),y.Ta.delete(3),await vr(y)}async function iy(A,c){const y=Rt(A);c?(y.Ta.delete(2),await vr(y)):c||(y.Ta.add(2),await _s(y),y.da.set("Unknown"))}function os(A){return A.Ra||(A.Ra=function(y,P,M){const O=Rt(y);return O.ra(),new z0(P,O.connection,O.authCredentials,O.appCheckCredentials,O.serializer,M)}(A.datastore,A.asyncQueue,{e_:k0.bind(null,A),n_:$0.bind(null,A),i_:Q0.bind(null,A),j_:J0.bind(null,A)}),A.Ia.push(async c=>{c?(A.Ra.O_(),Qa(A)?$a(A):A.da.set("Unknown")):(await A.Ra.stop(),Bf(A))})),A.Ra}function fi(A){return A.Va||(A.Va=function(y,P,M){const O=Rt(y);return O.ra(),new X0(P,O.connection,O.authCredentials,O.appCheckCredentials,O.serializer,M)}(A.datastore,A.asyncQueue,{e_:()=>Promise.resolve(),n_:q0.bind(null,A),i_:ey.bind(null,A),X_:_0.bind(null,A),ea:ty.bind(null,A)}),A.Ia.push(async c=>{c?(A.Va.O_(),await pr(A)):(await A.Va.stop(),A.ha.length>0&&(mt(Ri,`Stopping write stream with ${A.ha.length} pending writes`),A.ha=[]))})),A.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(c,y,P,M,O){this.asyncQueue=c,this.timerId=y,this.targetTimeMs=P,this.op=M,this.removalCallback=O,this.deferred=new ze,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}get promise(){return this.deferred.promise}static createAndSchedule(c,y,P,M,O){const v=Date.now()+P,S=new Ja(c,y,v,M,O);return S.start(P),S}start(c){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),c)}skipDelay(){return this.handleDelayElapsed()}cancel(c){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(lt.CANCELLED,"Operation cancelled"+(c?": "+c:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(c=>this.deferred.resolve(c))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ja(A,c){if(He("AsyncQueue",`${c}: ${A}`),as(A))return new yt(lt.UNAVAILABLE,`${c}: ${A}`);throw A}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{static emptySet(c){return new ki(c.comparator)}constructor(c){this.comparator=c?(y,P)=>c(y,P)||xt.comparator(y.key,P.key):(y,P)=>xt.comparator(y.key,P.key),this.keyedMap=As(),this.sortedSet=new Yt(this.comparator)}has(c){return this.keyedMap.get(c)!=null}get(c){return this.keyedMap.get(c)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(c){const y=this.keyedMap.get(c);return y?this.sortedSet.indexOf(y):-1}get size(){return this.sortedSet.size}forEach(c){this.sortedSet.inorderTraversal((y,P)=>(c(y),!1))}add(c){const y=this.delete(c.key);return y.copy(y.keyedMap.insert(c.key,c),y.sortedSet.insert(c,null))}delete(c){const y=this.get(c);return y?this.copy(this.keyedMap.remove(c),this.sortedSet.remove(y)):this}isEqual(c){if(!(c instanceof ki)||this.size!==c.size)return!1;const y=this.sortedSet.getIterator(),P=c.sortedSet.getIterator();for(;y.hasNext();){const M=y.getNext().key,O=P.getNext().key;if(!M.isEqual(O))return!1}return!0}toString(){const c=[];return this.forEach(y=>{c.push(y.toString())}),c.length===0?"DocumentSet ()":`DocumentSet (
  `+c.join(`  
`)+`
)`}copy(c,y){const P=new ki;return P.comparator=this.comparator,P.keyedMap=c,P.sortedSet=y,P}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(){this.ma=new Yt(xt.comparator)}track(c){const y=c.doc.key,P=this.ma.get(y);P?c.type!==0&&P.type===3?this.ma=this.ma.insert(y,c):c.type===3&&P.type!==1?this.ma=this.ma.insert(y,{type:P.type,doc:c.doc}):c.type===2&&P.type===2?this.ma=this.ma.insert(y,{type:2,doc:c.doc}):c.type===2&&P.type===0?this.ma=this.ma.insert(y,{type:0,doc:c.doc}):c.type===1&&P.type===0?this.ma=this.ma.remove(y):c.type===1&&P.type===2?this.ma=this.ma.insert(y,{type:1,doc:P.doc}):c.type===0&&P.type===1?this.ma=this.ma.insert(y,{type:2,doc:c.doc}):Ct(63341,{Vt:c,fa:P}):this.ma=this.ma.insert(y,c)}ga(){const c=[];return this.ma.inorderTraversal((y,P)=>{c.push(P)}),c}}class ts{constructor(c,y,P,M,O,v,S,t,o){this.query=c,this.docs=y,this.oldDocs=P,this.docChanges=M,this.mutatedKeys=O,this.fromCache=v,this.syncStateChanged=S,this.excludesMetadataChanges=t,this.hasCachedResults=o}static fromInitialDocuments(c,y,P,M,O){const v=[];return y.forEach(S=>{v.push({type:0,doc:S})}),new ts(c,y,ki.emptySet(y),v,P,M,!0,!1,O)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(c){if(!(this.fromCache===c.fromCache&&this.hasCachedResults===c.hasCachedResults&&this.syncStateChanged===c.syncStateChanged&&this.mutatedKeys.isEqual(c.mutatedKeys)&&hr(this.query,c.query)&&this.docs.isEqual(c.docs)&&this.oldDocs.isEqual(c.oldDocs)))return!1;const y=this.docChanges,P=c.docChanges;if(y.length!==P.length)return!1;for(let M=0;M<y.length;M++)if(y[M].type!==P[M].type||!y[M].doc.isEqual(P[M].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(c=>c.Sa())}}class ny{constructor(){this.queries=yl(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(y,P){const M=Rt(y),O=M.queries;M.queries=yl(),O.forEach((v,S)=>{for(const t of S.ya)t.onError(P)})})(this,new yt(lt.ABORTED,"Firestore shutting down"))}}function yl(){return new Li(A=>nf(A),hr)}async function Uf(A,c){const y=Rt(A);let P=3;const M=c.query;let O=y.queries.get(M);O?!O.wa()&&c.Sa()&&(P=2):(O=new sy,P=c.Sa()?0:1);try{switch(P){case 0:O.pa=await y.onListen(M,!0);break;case 1:O.pa=await y.onListen(M,!1);break;case 2:await y.onFirstRemoteStoreListen(M)}}catch(v){const S=ja(v,`Initialization of query '${Gi(c.query)}' failed`);return void c.onError(S)}y.queries.set(M,O),O.ya.push(c),c.Da(y.onlineState),O.pa&&c.va(O.pa)&&Za(y)}async function zf(A,c){const y=Rt(A),P=c.query;let M=3;const O=y.queries.get(P);if(O){const v=O.ya.indexOf(c);v>=0&&(O.ya.splice(v,1),O.ya.length===0?M=c.Sa()?0:1:!O.wa()&&c.Sa()&&(M=2))}switch(M){case 0:return y.queries.delete(P),y.onUnlisten(P,!0);case 1:return y.queries.delete(P),y.onUnlisten(P,!1);case 2:return y.onLastRemoteStoreUnlisten(P);default:return}}function ry(A,c){const y=Rt(A);let P=!1;for(const M of c){const O=M.query,v=y.queries.get(O);if(v){for(const S of v.ya)S.va(M)&&(P=!0);v.pa=M}}P&&Za(y)}function ay(A,c,y){const P=Rt(A),M=P.queries.get(c);if(M)for(const O of M.ya)O.onError(y);P.queries.delete(c)}function Za(A){A.ba.forEach(c=>{c.next()})}var pa,xl;(xl=pa||(pa={})).Ca="default",xl.Cache="cache";class Xf{constructor(c,y,P){this.query=c,this.Fa=y,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=P||{}}va(c){if(!this.options.includeMetadataChanges){const P=[];for(const M of c.docChanges)M.type!==3&&P.push(M);c=new ts(c.query,c.docs,c.oldDocs,P,c.mutatedKeys,c.fromCache,c.syncStateChanged,!0,c.hasCachedResults)}let y=!1;return this.Ma?this.Oa(c)&&(this.Fa.next(c),y=!0):this.Na(c,this.onlineState)&&(this.Ba(c),y=!0),this.xa=c,y}onError(c){this.Fa.error(c)}Da(c){this.onlineState=c;let y=!1;return this.xa&&!this.Ma&&this.Na(this.xa,c)&&(this.Ba(this.xa),y=!0),y}Na(c,y){if(!c.fromCache||!this.Sa())return!0;const P=y!=="Offline";return(!this.options.La||!P)&&(!c.docs.isEmpty()||c.hasCachedResults||y==="Offline")}Oa(c){if(c.docChanges.length>0)return!0;const y=this.xa&&this.xa.hasPendingWrites!==c.hasPendingWrites;return!(!c.syncStateChanged&&!y)&&this.options.includeMetadataChanges===!0}Ba(c){c=ts.fromInitialDocuments(c.query,c.docs,c.mutatedKeys,c.fromCache,c.hasCachedResults),this.Ma=!0,this.Fa.next(c)}Sa(){return this.options.source!==pa.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(c){this.key=c}}class Yf{constructor(c){this.key=c}}class oy{constructor(c,y){this.query=c,this.Ga=y,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Ot(),this.mutatedKeys=Ot(),this.Ha=rf(c),this.Ja=new ki(this.Ha)}get Ya(){return this.Ga}Za(c,y){const P=y?y.Xa:new gl,M=y?y.Ja:this.Ja;let O=y?y.mutatedKeys:this.mutatedKeys,v=M,S=!1;const t=this.query.limitType==="F"&&M.size===this.query.limit?M.last():null,o=this.query.limitType==="L"&&M.size===this.query.limit?M.first():null;if(c.inorderTraversal((m,a)=>{const r=M.get(m),n=lr(this.query,a)?a:null,e=!!r&&this.mutatedKeys.has(r.key),s=!!n&&(n.hasLocalMutations||this.mutatedKeys.has(n.key)&&n.hasCommittedMutations);let h=!1;r&&n?r.data.isEqual(n.data)?e!==s&&(P.track({type:3,doc:n}),h=!0):this.eu(r,n)||(P.track({type:2,doc:n}),h=!0,(t&&this.Ha(n,t)>0||o&&this.Ha(n,o)<0)&&(S=!0)):!r&&n?(P.track({type:0,doc:n}),h=!0):r&&!n&&(P.track({type:1,doc:r}),h=!0,(t||o)&&(S=!0)),h&&(n?(v=v.add(n),O=s?O.add(m):O.delete(m)):(v=v.delete(m),O=O.delete(m)))}),this.query.limit!==null)for(;v.size>this.query.limit;){const m=this.query.limitType==="F"?v.last():v.first();v=v.delete(m.key),O=O.delete(m.key),P.track({type:1,doc:m})}return{Ja:v,Xa:P,Cs:S,mutatedKeys:O}}eu(c,y){return c.hasLocalMutations&&y.hasCommittedMutations&&!y.hasLocalMutations}applyChanges(c,y,P,M){const O=this.Ja;this.Ja=c.Ja,this.mutatedKeys=c.mutatedKeys;const v=c.Xa.ga();v.sort((m,a)=>function(n,e){const s=h=>{switch(h){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ct(20277,{Vt:h})}};return s(n)-s(e)}(m.type,a.type)||this.Ha(m.doc,a.doc)),this.tu(P),M=M!=null&&M;const S=y&&!M?this.nu():[],t=this.ja.size===0&&this.current&&!M?1:0,o=t!==this.za;return this.za=t,v.length!==0||o?{snapshot:new ts(this.query,c.Ja,O,v,c.mutatedKeys,t===0,o,!1,!!P&&P.resumeToken.approximateByteSize()>0),ru:S}:{ru:S}}Da(c){return this.current&&c==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new gl,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(c){return!this.Ga.has(c)&&!!this.Ja.has(c)&&!this.Ja.get(c).hasLocalMutations}tu(c){c&&(c.addedDocuments.forEach(y=>this.Ga=this.Ga.add(y)),c.modifiedDocuments.forEach(y=>{}),c.removedDocuments.forEach(y=>this.Ga=this.Ga.delete(y)),this.current=c.current)}nu(){if(!this.current)return[];const c=this.ja;this.ja=Ot(),this.Ja.forEach(P=>{this.iu(P.key)&&(this.ja=this.ja.add(P.key))});const y=[];return c.forEach(P=>{this.ja.has(P)||y.push(new Yf(P))}),this.ja.forEach(P=>{c.has(P)||y.push(new Wf(P))}),y}su(c){this.Ga=c.$s,this.ja=Ot();const y=this.Za(c.documents);return this.applyChanges(y,!0)}ou(){return ts.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const qa="SyncEngine";class hy{constructor(c,y,P){this.query=c,this.targetId=y,this.view=P}}class ly{constructor(c){this.key=c,this._u=!1}}class uy{constructor(c,y,P,M,O,v){this.localStore=c,this.remoteStore=y,this.eventManager=P,this.sharedClientState=M,this.currentUser=O,this.maxConcurrentLimboResolutions=v,this.au={},this.uu=new Li(S=>nf(S),hr),this.cu=new Map,this.lu=new Set,this.hu=new Yt(xt.comparator),this.Pu=new Map,this.Tu=new Xa,this.Iu={},this.Eu=new Map,this.du=_i.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function fy(A,c,y=!0){const P=Jf(A);let M;const O=P.uu.get(c);return O?(P.sharedClientState.addLocalQueryTarget(O.targetId),M=O.view.ou()):M=await Hf(P,c,y,!0),M}async function dy(A,c){const y=Jf(A);await Hf(y,c,!0,!1)}async function Hf(A,c,y,P){const M=await O0(A.localStore,Ie(c)),O=M.targetId,v=A.sharedClientState.addLocalQueryTarget(O,y);let S;return P&&(S=await cy(A,c,O,v==="current",M.resumeToken)),A.isPrimaryClient&&y&&Df(A.remoteStore,M),S}async function cy(A,c,y,P,M){A.Ru=(a,r,n)=>async function(s,h,i,l){let u=h.view.Za(i);u.Cs&&(u=await fl(s.localStore,h.query,!1).then(({documents:g})=>h.view.Za(g,u)));const d=l&&l.targetChanges.get(h.targetId),f=l&&l.targetMismatches.get(h.targetId)!=null,p=h.view.applyChanges(u,s.isPrimaryClient,d,f);return Sl(s,h.targetId,p.ru),p.snapshot}(A,a,r,n);const O=await fl(A.localStore,c,!0),v=new oy(c,O.$s),S=v.Za(O.documents),t=qs.createSynthesizedTargetChangeForCurrentChange(y,P&&A.onlineState!=="Offline",M),o=v.applyChanges(S,A.isPrimaryClient,t);Sl(A,y,o.ru);const m=new hy(c,y,v);return A.uu.set(c,m),A.cu.has(y)?A.cu.get(y).push(c):A.cu.set(y,[c]),o.snapshot}async function vy(A,c,y){const P=Rt(A),M=P.uu.get(c),O=P.cu.get(M.targetId);if(O.length>1)return P.cu.set(M.targetId,O.filter(v=>!hr(v,c))),void P.uu.delete(c);P.isPrimaryClient?(P.sharedClientState.removeLocalQueryTarget(M.targetId),P.sharedClientState.isActiveQueryTarget(M.targetId)||await ca(P.localStore,M.targetId,!1).then(()=>{P.sharedClientState.clearQueryState(M.targetId),y&&Ka(P.remoteStore,M.targetId),ma(P,M.targetId)}).catch(rs)):(ma(P,M.targetId),await ca(P.localStore,M.targetId,!0))}async function py(A,c){const y=Rt(A),P=y.uu.get(c),M=y.cu.get(P.targetId);y.isPrimaryClient&&M.length===1&&(y.sharedClientState.removeLocalQueryTarget(P.targetId),Ka(y.remoteStore,P.targetId))}async function my(A,c,y){const P=Cy(A);try{const M=await function(v,S){const t=Rt(v),o=jt.now(),m=S.reduce((n,e)=>n.add(e.key),Ot());let a,r;return t.persistence.runTransaction("Locally write mutations","readwrite",n=>{let e=Ke(),s=Ot();return t.Bs.getEntries(n,m).next(h=>{e=h,e.forEach((i,l)=>{l.isValidDocument()||(s=s.add(i))})}).next(()=>t.localDocuments.getOverlayedDocuments(n,e)).next(h=>{a=h;const i=[];for(const l of S){const u=Og(l,a.get(l.key).overlayedDocument);u!=null&&i.push(new Fi(l.key,u,Ju(u.value.mapValue),Xe.exists(!0)))}return t.mutationQueue.addMutationBatch(n,o,i,S)}).next(h=>{r=h;const i=h.applyToLocalDocumentSet(a,s);return t.documentOverlayCache.saveOverlays(n,h.batchId,i)})}).then(()=>({batchId:r.batchId,changes:of(a)}))}(P.localStore,c);P.sharedClientState.addPendingMutation(M.batchId),function(v,S,t){let o=v.Iu[v.currentUser.toKey()];o||(o=new Yt(It)),o=o.insert(S,t),v.Iu[v.currentUser.toKey()]=o}(P,M.batchId,y),await tn(P,M.changes),await pr(P.remoteStore)}catch(M){const O=ja(M,"Failed to persist write");y.reject(O)}}async function Kf(A,c){const y=Rt(A);try{const P=await I0(y.localStore,c);c.targetChanges.forEach((M,O)=>{const v=y.Pu.get(O);v&&(Bt(M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size<=1,22616),M.addedDocuments.size>0?v._u=!0:M.modifiedDocuments.size>0?Bt(v._u,14607):M.removedDocuments.size>0&&(Bt(v._u,42227),v._u=!1))}),await tn(y,P,c)}catch(P){await rs(P)}}function Tl(A,c,y){const P=Rt(A);if(P.isPrimaryClient&&y===0||!P.isPrimaryClient&&y===1){const M=[];P.uu.forEach((O,v)=>{const S=v.view.Da(c);S.snapshot&&M.push(S.snapshot)}),function(v,S){const t=Rt(v);t.onlineState=S;let o=!1;t.queries.forEach((m,a)=>{for(const r of a.ya)r.Da(S)&&(o=!0)}),o&&Za(t)}(P.eventManager,c),M.length&&P.au.j_(M),P.onlineState=c,P.isPrimaryClient&&P.sharedClientState.setOnlineState(c)}}async function gy(A,c,y){const P=Rt(A);P.sharedClientState.updateQueryState(c,"rejected",y);const M=P.Pu.get(c),O=M&&M.key;if(O){let v=new Yt(xt.comparator);v=v.insert(O,oe.newNoDocument(O,At.min()));const S=Ot().add(O),t=new dr(At.min(),new Map,new Yt(It),v,S);await Kf(P,t),P.hu=P.hu.remove(O),P.Pu.delete(c),_a(P)}else await ca(P.localStore,c,!1).then(()=>ma(P,c,y)).catch(rs)}async function yy(A,c){const y=Rt(A),P=c.batch.batchId;try{const M=await M0(y.localStore,c);$f(y,P,null),kf(y,P),y.sharedClientState.updateMutationState(P,"acknowledged"),await tn(y,M)}catch(M){await rs(M)}}async function xy(A,c,y){const P=Rt(A);try{const M=await function(v,S){const t=Rt(v);return t.persistence.runTransaction("Reject batch","readwrite-primary",o=>{let m;return t.mutationQueue.lookupMutationBatch(o,S).next(a=>(Bt(a!==null,37113),m=a.keys(),t.mutationQueue.removeMutationBatch(o,a))).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,m,S)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,m)).next(()=>t.localDocuments.getDocuments(o,m))})}(P.localStore,c);$f(P,c,y),kf(P,c),P.sharedClientState.updateMutationState(c,"rejected",y),await tn(P,M)}catch(M){await rs(M)}}function kf(A,c){(A.Eu.get(c)||[]).forEach(y=>{y.resolve()}),A.Eu.delete(c)}function $f(A,c,y){const P=Rt(A);let M=P.Iu[P.currentUser.toKey()];if(M){const O=M.get(c);O&&(y?O.reject(y):O.resolve(),M=M.remove(c)),P.Iu[P.currentUser.toKey()]=M}}function ma(A,c,y=null){A.sharedClientState.removeLocalQueryTarget(c);for(const P of A.cu.get(c))A.uu.delete(P),y&&A.au.Vu(P,y);A.cu.delete(c),A.isPrimaryClient&&A.Tu.Hr(c).forEach(P=>{A.Tu.containsKey(P)||Qf(A,P)})}function Qf(A,c){A.lu.delete(c.path.canonicalString());const y=A.hu.get(c);y!==null&&(Ka(A.remoteStore,y),A.hu=A.hu.remove(c),A.Pu.delete(y),_a(A))}function Sl(A,c,y){for(const P of y)P instanceof Wf?(A.Tu.addReference(P.key,c),Ty(A,P)):P instanceof Yf?(mt(qa,"Document no longer in limbo: "+P.key),A.Tu.removeReference(P.key,c),A.Tu.containsKey(P.key)||Qf(A,P.key)):Ct(19791,{mu:P})}function Ty(A,c){const y=c.key,P=y.path.canonicalString();A.hu.get(y)||A.lu.has(P)||(mt(qa,"New document in limbo: "+y),A.lu.add(P),_a(A))}function _a(A){for(;A.lu.size>0&&A.hu.size<A.maxConcurrentLimboResolutions;){const c=A.lu.values().next().value;A.lu.delete(c);const y=new xt(Xt.fromString(c)),P=A.du.next();A.Pu.set(P,new ly(y)),A.hu=A.hu.insert(y,P),Df(A.remoteStore,new ei(Ie(ba(y.path)),P,"TargetPurposeLimboResolution",rr.le))}}async function tn(A,c,y){const P=Rt(A),M=[],O=[],v=[];P.uu.isEmpty()||(P.uu.forEach((S,t)=>{v.push(P.Ru(t,c,y).then(o=>{var m;if((o||y)&&P.isPrimaryClient){const a=o?!o.fromCache:(m=y==null?void 0:y.targetChanges.get(t.targetId))===null||m===void 0?void 0:m.current;P.sharedClientState.updateQueryState(t.targetId,a?"current":"not-current")}if(o){M.push(o);const a=Ya.Rs(t.targetId,o);O.push(a)}}))}),await Promise.all(v),P.au.j_(M),await async function(t,o){const m=Rt(t);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",a=>ht.forEach(o,r=>ht.forEach(r.ds,n=>m.persistence.referenceDelegate.addReference(a,r.targetId,n)).next(()=>ht.forEach(r.As,n=>m.persistence.referenceDelegate.removeReference(a,r.targetId,n)))))}catch(a){if(!as(a))throw a;mt(Ha,"Failed to update sequence numbers: "+a)}for(const a of o){const r=a.targetId;if(!a.fromCache){const n=m.xs.get(r),e=n.snapshotVersion,s=n.withLastLimboFreeSnapshotVersion(e);m.xs=m.xs.insert(r,s)}}}(P.localStore,O))}async function Sy(A,c){const y=Rt(A);if(!y.currentUser.isEqual(c)){mt(qa,"User change. New user:",c.toKey());const P=await If(y.localStore,c);y.currentUser=c,function(O,v){O.Eu.forEach(S=>{S.forEach(t=>{t.reject(new yt(lt.CANCELLED,v))})}),O.Eu.clear()}(y,"'waitForPendingWrites' promise is rejected due to a user change."),y.sharedClientState.handleUserChange(c,P.removedBatchIds,P.addedBatchIds),await tn(y,P.ks)}}function Ey(A,c){const y=Rt(A),P=y.Pu.get(c);if(P&&P._u)return Ot().add(P.key);{let M=Ot();const O=y.cu.get(c);if(!O)return M;for(const v of O){const S=y.uu.get(v);M=M.unionWith(S.view.Ya)}return M}}function Jf(A){const c=Rt(A);return c.remoteStore.remoteSyncer.applyRemoteEvent=Kf.bind(null,c),c.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ey.bind(null,c),c.remoteStore.remoteSyncer.rejectListen=gy.bind(null,c),c.au.j_=ry.bind(null,c.eventManager),c.au.Vu=ay.bind(null,c.eventManager),c}function Cy(A){const c=Rt(A);return c.remoteStore.remoteSyncer.applySuccessfulWrite=yy.bind(null,c),c.remoteStore.remoteSyncer.rejectFailedWrite=xy.bind(null,c),c}class qn{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(c){this.serializer=cr(c.databaseInfo.databaseId),this.sharedClientState=this.pu(c),this.persistence=this.yu(c),await this.persistence.start(),this.localStore=this.wu(c),this.gcScheduler=this.Su(c,this.localStore),this.indexBackfillerScheduler=this.bu(c,this.localStore)}Su(c,y){return null}bu(c,y){return null}wu(c){return w0(this.persistence,new A0,c.initialUser,this.serializer)}yu(c){return new Mf(Wa.fi,this.serializer)}pu(c){return new N0}async terminate(){var c,y;(c=this.gcScheduler)===null||c===void 0||c.stop(),(y=this.indexBackfillerScheduler)===null||y===void 0||y.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qn.provider={build:()=>new qn};class Ay extends qn{constructor(c){super(),this.cacheSizeBytes=c}Su(c,y){Bt(this.persistence.referenceDelegate instanceof jn,46915);const P=this.persistence.referenceDelegate.garbageCollector;return new l0(P,c.asyncQueue,y)}yu(c){const y=this.cacheSizeBytes!==void 0?fe.withCacheSize(this.cacheSizeBytes):fe.DEFAULT;return new Mf(P=>jn.fi(P,y),this.serializer)}}class ga{async initialize(c,y){this.localStore||(this.localStore=c.localStore,this.sharedClientState=c.sharedClientState,this.datastore=this.createDatastore(y),this.remoteStore=this.createRemoteStore(y),this.eventManager=this.createEventManager(y),this.syncEngine=this.createSyncEngine(y,!c.synchronizeTabs),this.sharedClientState.onlineStateHandler=P=>Tl(this.syncEngine,P,1),this.remoteStore.remoteSyncer.handleCredentialChange=Sy.bind(null,this.syncEngine),await iy(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(c){return function(){return new ny}()}createDatastore(c){const y=cr(c.databaseInfo.databaseId),P=function(O){return new U0(O)}(c.databaseInfo);return function(O,v,S,t){return new Y0(O,v,S,t)}(c.authCredentials,c.appCheckCredentials,P,y)}createRemoteStore(c){return function(P,M,O,v,S){return new K0(P,M,O,v,S)}(this.localStore,this.datastore,c.asyncQueue,y=>Tl(this.syncEngine,y,0),function(){return vl.C()?new vl:new B0}())}createSyncEngine(c,y){return function(M,O,v,S,t,o,m){const a=new uy(M,O,v,S,t,o);return m&&(a.Au=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,c.initialUser,c.maxConcurrentLimboResolutions,y)}async terminate(){var c,y;await async function(M){const O=Rt(M);mt(Ri,"RemoteStore shutting down."),O.Ta.add(5),await _s(O),O.Ea.shutdown(),O.da.set("Unknown")}(this.remoteStore),(c=this.datastore)===null||c===void 0||c.terminate(),(y=this.eventManager)===null||y===void 0||y.terminate()}}ga.provider={build:()=>new ga};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(c){this.observer=c,this.muted=!1}next(c){this.muted||this.observer.next&&this.vu(this.observer.next,c)}error(c){this.muted||(this.observer.error?this.vu(this.observer.error,c):He("Uncaught Error in snapshot listener:",c.toString()))}Cu(){this.muted=!0}vu(c,y){setTimeout(()=>{this.muted||c(y)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di="FirestoreClient";class Py{constructor(c,y,P,M,O){this.authCredentials=c,this.appCheckCredentials=y,this.asyncQueue=P,this.databaseInfo=M,this.user=ae.UNAUTHENTICATED,this.clientId=Uu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=O,this.authCredentials.start(P,async v=>{mt(di,"Received user=",v.uid),await this.authCredentialListener(v),this.user=v}),this.appCheckCredentials.start(P,v=>(mt(di,"Received new app check token=",v),this.appCheckCredentialListener(v,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(c){this.authCredentialListener=c}setAppCheckTokenChangeListener(c){this.appCheckCredentialListener=c}terminate(){this.asyncQueue.enterRestrictedMode();const c=new ze;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),c.resolve()}catch(y){const P=ja(y,"Failed to shutdown persistence");c.reject(P)}}),c.promise}}async function Kr(A,c){A.asyncQueue.verifyOperationInProgress(),mt(di,"Initializing OfflineComponentProvider");const y=A.configuration;await c.initialize(y);let P=y.initialUser;A.setCredentialChangeListener(async M=>{P.isEqual(M)||(await If(c.localStore,M),P=M)}),c.persistence.setDatabaseDeletedListener(()=>A.terminate()),A._offlineComponents=c}async function El(A,c){A.asyncQueue.verifyOperationInProgress();const y=await Ry(A);mt(di,"Initializing OnlineComponentProvider"),await c.initialize(y,A.configuration),A.setCredentialChangeListener(P=>ml(c.remoteStore,P)),A.setAppCheckTokenChangeListener((P,M)=>ml(c.remoteStore,M)),A._onlineComponents=c}async function Ry(A){if(!A._offlineComponents)if(A._uninitializedComponentsProvider){mt(di,"Using user provided OfflineComponentProvider");try{await Kr(A,A._uninitializedComponentsProvider._offline)}catch(c){const y=c;if(!function(M){return M.name==="FirebaseError"?M.code===lt.FAILED_PRECONDITION||M.code===lt.UNIMPLEMENTED:!(typeof DOMException<"u"&&M instanceof DOMException)||M.code===22||M.code===20||M.code===11}(y))throw y;Ji("Error using user provided cache. Falling back to memory cache: "+y),await Kr(A,new qn)}}else mt(di,"Using default OfflineComponentProvider"),await Kr(A,new Ay(void 0));return A._offlineComponents}async function Zf(A){return A._onlineComponents||(A._uninitializedComponentsProvider?(mt(di,"Using user provided OnlineComponentProvider"),await El(A,A._uninitializedComponentsProvider._online)):(mt(di,"Using default OnlineComponentProvider"),await El(A,new ga))),A._onlineComponents}function wy(A){return Zf(A).then(c=>c.syncEngine)}async function qf(A){const c=await Zf(A),y=c.eventManager;return y.onListen=fy.bind(null,c.syncEngine),y.onUnlisten=vy.bind(null,c.syncEngine),y.onFirstRemoteStoreListen=dy.bind(null,c.syncEngine),y.onLastRemoteStoreUnlisten=py.bind(null,c.syncEngine),y}function My(A,c,y={}){const P=new ze;return A.asyncQueue.enqueueAndForget(async()=>function(O,v,S,t,o){const m=new jf({next:r=>{m.Cu(),v.enqueueAndForget(()=>zf(O,a));const n=r.docs.has(S);!n&&r.fromCache?o.reject(new yt(lt.UNAVAILABLE,"Failed to get document because the client is offline.")):n&&r.fromCache&&t&&t.source==="server"?o.reject(new yt(lt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):o.resolve(r)},error:r=>o.reject(r)}),a=new Xf(ba(S.path),m,{includeMetadataChanges:!0,La:!0});return Uf(O,a)}(await qf(A),A.asyncQueue,c,y,P)),P.promise}function Iy(A,c,y={}){const P=new ze;return A.asyncQueue.enqueueAndForget(async()=>function(O,v,S,t,o){const m=new jf({next:r=>{m.Cu(),v.enqueueAndForget(()=>zf(O,a)),r.fromCache&&t.source==="server"?o.reject(new yt(lt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):o.resolve(r)},error:r=>o.reject(r)}),a=new Xf(S,m,{includeMetadataChanges:!0,La:!0});return Uf(O,a)}(await qf(A),A.asyncQueue,c,y,P)),P.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(A){const c={};return A.timeoutSeconds!==void 0&&(c.timeoutSeconds=A.timeoutSeconds),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(A,c,y){if(!y)throw new yt(lt.INVALID_ARGUMENT,`Function ${A}() cannot be called with an empty ${c}.`)}function Ly(A,c,y,P){if(c===!0&&P===!0)throw new yt(lt.INVALID_ARGUMENT,`${A} and ${y} cannot be used together.`)}function Al(A){if(!xt.isDocumentKey(A))throw new yt(lt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${A} has ${A.length}.`)}function Pl(A){if(xt.isDocumentKey(A))throw new yt(lt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${A} has ${A.length}.`)}function mr(A){if(A===void 0)return"undefined";if(A===null)return"null";if(typeof A=="string")return A.length>20&&(A=`${A.substring(0,20)}...`),JSON.stringify(A);if(typeof A=="number"||typeof A=="boolean")return""+A;if(typeof A=="object"){if(A instanceof Array)return"an array";{const c=function(P){return P.constructor?P.constructor.name:null}(A);return c?`a custom ${c} object`:"an object"}}return typeof A=="function"?"a function":Ct(12329,{type:typeof A})}function wi(A,c){if("_delegate"in A&&(A=A._delegate),!(A instanceof c)){if(c.name===A.constructor.name)throw new yt(lt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const y=mr(A);throw new yt(lt.INVALID_ARGUMENT,`Expected type '${c.name}', but it was: ${y}`)}}return A}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed="firestore.googleapis.com",Rl=!0;class wl{constructor(c){var y,P;if(c.host===void 0){if(c.ssl!==void 0)throw new yt(lt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ed,this.ssl=Rl}else this.host=c.host,this.ssl=(y=c.ssl)!==null&&y!==void 0?y:Rl;if(this.isUsingEmulator=c.emulatorOptions!==void 0,this.credentials=c.credentials,this.ignoreUndefinedProperties=!!c.ignoreUndefinedProperties,this.localCache=c.localCache,c.cacheSizeBytes===void 0)this.cacheSizeBytes=wf;else{if(c.cacheSizeBytes!==-1&&c.cacheSizeBytes<o0)throw new yt(lt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=c.cacheSizeBytes}Ly("experimentalForceLongPolling",c.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",c.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!c.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:c.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!c.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_f((P=c.experimentalLongPollingOptions)!==null&&P!==void 0?P:{}),function(O){if(O.timeoutSeconds!==void 0){if(isNaN(O.timeoutSeconds))throw new yt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${O.timeoutSeconds} (must not be NaN)`);if(O.timeoutSeconds<5)throw new yt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${O.timeoutSeconds} (minimum allowed value is 5)`);if(O.timeoutSeconds>30)throw new yt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${O.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!c.useFetchStreams}isEqual(c){return this.host===c.host&&this.ssl===c.ssl&&this.credentials===c.credentials&&this.cacheSizeBytes===c.cacheSizeBytes&&this.experimentalForceLongPolling===c.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===c.experimentalAutoDetectLongPolling&&function(P,M){return P.timeoutSeconds===M.timeoutSeconds}(this.experimentalLongPollingOptions,c.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===c.ignoreUndefinedProperties&&this.useFetchStreams===c.useFetchStreams}}class gr{constructor(c,y,P,M){this._authCredentials=c,this._appCheckCredentials=y,this._databaseId=P,this._app=M,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wl({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(lt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(c){if(this._settingsFrozen)throw new yt(lt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wl(c),this._emulatorOptions=c.emulatorOptions||{},c.credentials!==void 0&&(this._authCredentials=function(P){if(!P)return new Vm;switch(P.type){case"firstParty":return new Xm(P.sessionIndex||"0",P.iamToken||null,P.authTokenFactory||null);case"provider":return P.client;default:throw new yt(lt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(c.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(y){const P=Cl.get(y);P&&(mt("ComponentProvider","Removing Datastore"),Cl.delete(y),P.terminate())}(this),Promise.resolve()}}function Fy(A,c,y,P={}){var M;A=wi(A,gr);const O=Ys(c),v=A._getSettings(),S=Object.assign(Object.assign({},v),{emulatorOptions:A._getEmulatorOptions()}),t=`${c}:${y}`;O&&(Wl(`https://${t}`),Yl("Firestore",!0)),v.host!==ed&&v.host!==t&&Ji("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const o=Object.assign(Object.assign({},v),{host:t,ssl:O,emulatorOptions:P});if(!Si(o,S)&&(A._setSettings(o),P.mockUserToken)){let m,a;if(typeof P.mockUserToken=="string")m=P.mockUserToken,a=ae.MOCK_USER;else{m=$d(P.mockUserToken,(M=A._app)===null||M===void 0?void 0:M.options.projectId);const r=P.mockUserToken.sub||P.mockUserToken.user_id;if(!r)throw new yt(lt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new ae(r)}A._authCredentials=new Gm(new Vu(m,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(c,y,P){this.converter=y,this._query=P,this.type="query",this.firestore=c}withConverter(c){return new hs(this.firestore,c,this._query)}}class de{constructor(c,y,P){this.converter=y,this._key=P,this.type="document",this.firestore=c}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ai(this.firestore,this.converter,this._key.path.popLast())}withConverter(c){return new de(this.firestore,c,this._key)}}class ai extends hs{constructor(c,y,P){super(c,y,ba(P)),this._path=P,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const c=this._path.popLast();return c.isEmpty()?null:new de(this.firestore,null,new xt(c))}withConverter(c){return new ai(this.firestore,c,this._path)}}function Oy(A,c,...y){if(A=ue(A),td("collection","path",c),A instanceof gr){const P=Xt.fromString(c,...y);return Pl(P),new ai(A,null,P)}{if(!(A instanceof de||A instanceof ai))throw new yt(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const P=A._path.child(Xt.fromString(c,...y));return Pl(P),new ai(A.firestore,null,P)}}function id(A,c,...y){if(A=ue(A),arguments.length===1&&(c=Uu.newId()),td("doc","path",c),A instanceof gr){const P=Xt.fromString(c,...y);return Al(P),new de(A,null,new xt(P))}{if(!(A instanceof de||A instanceof ai))throw new yt(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const P=A._path.child(Xt.fromString(c,...y));return Al(P),new de(A.firestore,A instanceof ai?A.converter:null,new xt(P))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml="AsyncQueue";class Il{constructor(c=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new Ff(this,"async_queue_retry"),this.ec=()=>{const P=Hr();P&&mt(Ml,"Visibility state changed to "+P.visibilityState),this.C_.p_()},this.tc=c;const y=Hr();y&&typeof y.addEventListener=="function"&&y.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(c){this.enqueue(c)}enqueueAndForgetEvenWhileRestricted(c){this.nc(),this.rc(c)}enterRestrictedMode(c){if(!this.ju){this.ju=!0,this.Zu=c||!1;const y=Hr();y&&typeof y.removeEventListener=="function"&&y.removeEventListener("visibilitychange",this.ec)}}enqueue(c){if(this.nc(),this.ju)return new Promise(()=>{});const y=new ze;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(c().then(y.resolve,y.reject),y.promise)).then(()=>y.promise)}enqueueRetryable(c){this.enqueueAndForget(()=>(this.zu.push(c),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(c){if(!as(c))throw c;mt(Ml,"Operation failed with retryable error: "+c)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(c){const y=this.tc.then(()=>(this.Yu=!0,c().catch(P=>{throw this.Ju=P,this.Yu=!1,He("INTERNAL UNHANDLED ERROR: ",Ll(P)),P}).then(P=>(this.Yu=!1,P))));return this.tc=y,y}enqueueAfterDelay(c,y,P){this.nc(),this.Xu.indexOf(c)>-1&&(y=0);const M=Ja.createAndSchedule(this,c,y,P,O=>this.oc(O));return this.Hu.push(M),M}nc(){this.Ju&&Ct(47125,{_c:Ll(this.Ju)})}verifyOperationInProgress(){}async ac(){let c;do c=this.tc,await c;while(c!==this.tc)}uc(c){for(const y of this.Hu)if(y.timerId===c)return!0;return!1}cc(c){return this.ac().then(()=>{this.Hu.sort((y,P)=>y.targetTimeMs-P.targetTimeMs);for(const y of this.Hu)if(y.skipDelay(),c!=="all"&&y.timerId===c)break;return this.ac()})}lc(c){this.Xu.push(c)}oc(c){const y=this.Hu.indexOf(c);this.Hu.splice(y,1)}}function Ll(A){let c=A.message||"";return A.stack&&(c=A.stack.includes(A.message)?A.stack:A.message+`
`+A.stack),c}class yr extends gr{constructor(c,y,P,M){super(c,y,P,M),this.type="firestore",this._queue=new Il,this._persistenceKey=(M==null?void 0:M.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const c=this._firestoreClient.terminate();this._queue=new Il(c),this._firestoreClient=void 0,await c}}}function Dy(A,c){const y=typeof A=="object"?A:$l(),P=typeof A=="string"?A:Hn,M=Ta(y,"firestore").getImmediate({identifier:P});if(!M._initialized){const O=Kd("firestore");O&&Fy(M,...O)}return M}function to(A){if(A._terminated)throw new yt(lt.FAILED_PRECONDITION,"The client has already been terminated.");return A._firestoreClient||Ny(A),A._firestoreClient}function Ny(A){var c,y,P;const M=A._freezeSettings(),O=function(S,t,o,m){return new ig(S,t,o,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,_f(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(A._databaseId,((c=A._app)===null||c===void 0?void 0:c.options.appId)||"",A._persistenceKey,M);A._componentsProvider||!((y=M.localCache)===null||y===void 0)&&y._offlineComponentProvider&&(!((P=M.localCache)===null||P===void 0)&&P._onlineComponentProvider)&&(A._componentsProvider={_offline:M.localCache._offlineComponentProvider,_online:M.localCache._onlineComponentProvider}),A._firestoreClient=new Py(A._authCredentials,A._appCheckCredentials,A._queue,O,A._componentsProvider&&function(S){const t=S==null?void 0:S._online.build();return{_offline:S==null?void 0:S._offline.build(t),_online:t}}(A._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(c){this._byteString=c}static fromBase64String(c){try{return new es(ie.fromBase64String(c))}catch(y){throw new yt(lt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+y)}}static fromUint8Array(c){return new es(ie.fromUint8Array(c))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(c){return this._byteString.isEqual(c._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(...c){for(let y=0;y<c.length;++y)if(c[y].length===0)throw new yt(lt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ee(c)}isEqual(c){return this._internalPath.isEqual(c._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(c){this._methodName=c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(c,y){if(!isFinite(c)||c<-90||c>90)throw new yt(lt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+c);if(!isFinite(y)||y<-180||y>180)throw new yt(lt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+y);this._lat=c,this._long=y}get latitude(){return this._lat}get longitude(){return this._long}isEqual(c){return this._lat===c._lat&&this._long===c._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(c){return It(this._lat,c._lat)||It(this._long,c._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(c){this._values=(c||[]).map(y=>y)}toArray(){return this._values.map(c=>c)}isEqual(c){return function(P,M){if(P.length!==M.length)return!1;for(let O=0;O<P.length;++O)if(P[O]!==M[O])return!1;return!0}(this._values,c._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By=/^__.*__$/;class by{constructor(c,y,P){this.data=c,this.fieldMask=y,this.fieldTransforms=P}toMutation(c,y){return this.fieldMask!==null?new Fi(c,this.data,this.fieldMask,y,this.fieldTransforms):new Zs(c,this.data,y,this.fieldTransforms)}}function sd(A){switch(A){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ct(40011,{hc:A})}}class ro{constructor(c,y,P,M,O,v){this.settings=c,this.databaseId=y,this.serializer=P,this.ignoreUndefinedProperties=M,O===void 0&&this.Pc(),this.fieldTransforms=O||[],this.fieldMask=v||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(c){return new ro(Object.assign(Object.assign({},this.settings),c),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(c){var y;const P=(y=this.path)===null||y===void 0?void 0:y.child(c),M=this.Tc({path:P,Ec:!1});return M.dc(c),M}Ac(c){var y;const P=(y=this.path)===null||y===void 0?void 0:y.child(c),M=this.Tc({path:P,Ec:!1});return M.Pc(),M}Rc(c){return this.Tc({path:void 0,Ec:!0})}Vc(c){return _n(c,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(c){return this.fieldMask.find(y=>c.isPrefixOf(y))!==void 0||this.fieldTransforms.find(y=>c.isPrefixOf(y.field))!==void 0}Pc(){if(this.path)for(let c=0;c<this.path.length;c++)this.dc(this.path.get(c))}dc(c){if(c.length===0)throw this.Vc("Document fields must not be empty");if(sd(this.hc)&&By.test(c))throw this.Vc('Document fields cannot begin and end with "__"')}}class Vy{constructor(c,y,P){this.databaseId=c,this.ignoreUndefinedProperties=y,this.serializer=P||cr(c)}gc(c,y,P,M=!1){return new ro({hc:c,methodName:y,fc:P,path:ee.emptyPath(),Ec:!1,mc:M},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nd(A){const c=A._freezeSettings(),y=cr(A._databaseId);return new Vy(A._databaseId,!!c.ignoreUndefinedProperties,y)}function Gy(A,c,y,P,M,O={}){const v=A.gc(O.merge||O.mergeFields?2:0,c,y,M);od("Data must be an object, but it was:",v,P);const S=rd(P,v);let t,o;if(O.merge)t=new xe(v.fieldMask),o=v.fieldTransforms;else if(O.mergeFields){const m=[];for(const a of O.mergeFields){const r=zy(c,a,y);if(!v.contains(r))throw new yt(lt.INVALID_ARGUMENT,`Field '${r}' is specified in your field mask but missing from your input data.`);Wy(m,r)||m.push(r)}t=new xe(m),o=v.fieldTransforms.filter(a=>t.covers(a.field))}else t=null,o=v.fieldTransforms;return new by(new pe(S),t,o)}class ao extends io{_toFieldTransform(c){return new Mg(c.path,new zs)}isEqual(c){return c instanceof ao}}function Uy(A,c,y,P=!1){return oo(y,A.gc(P?4:3,c))}function oo(A,c){if(ad(A=ue(A)))return od("Unsupported field value:",c,A),rd(A,c);if(A instanceof io)return function(P,M){if(!sd(M.hc))throw M.Vc(`${P._methodName}() can only be used with update() and set()`);if(!M.path)throw M.Vc(`${P._methodName}() is not currently supported inside arrays`);const O=P._toFieldTransform(M);O&&M.fieldTransforms.push(O)}(A,c),null;if(A===void 0&&c.ignoreUndefinedProperties)return null;if(c.path&&c.fieldMask.push(c.path),A instanceof Array){if(c.settings.Ec&&c.hc!==4)throw c.Vc("Nested arrays are not supported");return function(P,M){const O=[];let v=0;for(const S of P){let t=oo(S,M.Rc(v));t==null&&(t={nullValue:"NULL_VALUE"}),O.push(t),v++}return{arrayValue:{values:O}}}(A,c)}return function(P,M){if((P=ue(P))===null)return{nullValue:"NULL_VALUE"};if(typeof P=="number")return Pg(M.serializer,P);if(typeof P=="boolean")return{booleanValue:P};if(typeof P=="string")return{stringValue:P};if(P instanceof Date){const O=jt.fromDate(P);return{timestampValue:Jn(M.serializer,O)}}if(P instanceof jt){const O=new jt(P.seconds,1e3*Math.floor(P.nanoseconds/1e3));return{timestampValue:Jn(M.serializer,O)}}if(P instanceof so)return{geoPointValue:{latitude:P.latitude,longitude:P.longitude}};if(P instanceof es)return{bytesValue:Tf(M.serializer,P._byteString)};if(P instanceof de){const O=M.databaseId,v=P.firestore._databaseId;if(!v.isEqual(O))throw M.Vc(`Document reference is for database ${v.projectId}/${v.database} but should be for database ${O.projectId}/${O.database}`);return{referenceValue:za(P.firestore._databaseId||M.databaseId,P._key.path)}}if(P instanceof no)return function(v,S){return{mapValue:{fields:{[$u]:{stringValue:Qu},[Kn]:{arrayValue:{values:v.toArray().map(o=>{if(typeof o!="number")throw S.Vc("VectorValues must only contain numeric values.");return Va(S.serializer,o)})}}}}}}(P,M);throw M.Vc(`Unsupported field value: ${mr(P)}`)}(A,c)}function rd(A,c){const y={};return Xu(A)?c.path&&c.path.length>0&&c.fieldMask.push(c.path):Ii(A,(P,M)=>{const O=oo(M,c.Ic(P));O!=null&&(y[P]=O)}),{mapValue:{fields:y}}}function ad(A){return!(typeof A!="object"||A===null||A instanceof Array||A instanceof Date||A instanceof jt||A instanceof so||A instanceof es||A instanceof de||A instanceof io||A instanceof no)}function od(A,c,y){if(!ad(y)||!function(M){return typeof M=="object"&&M!==null&&(Object.getPrototypeOf(M)===Object.prototype||Object.getPrototypeOf(M)===null)}(y)){const P=mr(y);throw P==="an object"?c.Vc(A+" a custom object"):c.Vc(A+" "+P)}}function zy(A,c,y){if((c=ue(c))instanceof eo)return c._internalPath;if(typeof c=="string")return hd(A,c);throw _n("Field path arguments must be of type string or ",A,!1,void 0,y)}const Xy=new RegExp("[~\\*/\\[\\]]");function hd(A,c,y){if(c.search(Xy)>=0)throw _n(`Invalid field path (${c}). Paths must not contain '~', '*', '/', '[', or ']'`,A,!1,void 0,y);try{return new eo(...c.split("."))._internalPath}catch{throw _n(`Invalid field path (${c}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,A,!1,void 0,y)}}function _n(A,c,y,P,M){const O=P&&!P.isEmpty(),v=M!==void 0;let S=`Function ${c}() called with invalid data`;y&&(S+=" (via `toFirestore()`)"),S+=". ";let t="";return(O||v)&&(t+=" (found",O&&(t+=` in field ${P}`),v&&(t+=` in document ${M}`),t+=")"),new yt(lt.INVALID_ARGUMENT,S+A+t)}function Wy(A,c){return A.some(y=>y.isEqual(c))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(c,y,P,M,O){this._firestore=c,this._userDataWriter=y,this._key=P,this._document=M,this._converter=O}get id(){return this._key.path.lastSegment()}get ref(){return new de(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const c=new Yy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(c)}return this._userDataWriter.convertValue(this._document.data.value)}}get(c){if(this._document){const y=this._document.data.field(ho("DocumentSnapshot.get",c));if(y!==null)return this._userDataWriter.convertValue(y)}}}class Yy extends ld{data(){return super.data()}}function ho(A,c){return typeof c=="string"?hd(A,c):c instanceof eo?c._internalPath:c._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(A){if(A.limitType==="L"&&A.explicitOrderBy.length===0)throw new yt(lt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lo{}class Ky extends lo{}function ky(A,c,...y){let P=[];c instanceof lo&&P.push(c),P=P.concat(y),function(O){const v=O.filter(t=>t instanceof uo).length,S=O.filter(t=>t instanceof xr).length;if(v>1||v>0&&S>0)throw new yt(lt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(P);for(const M of P)A=M._apply(A);return A}class xr extends Ky{constructor(c,y,P){super(),this._field=c,this._op=y,this._value=P,this.type="where"}static _create(c,y,P){return new xr(c,y,P)}_apply(c){const y=this._parse(c);return ud(c._query,y),new hs(c.firestore,c.converter,oa(c._query,y))}_parse(c){const y=nd(c.firestore);return function(O,v,S,t,o,m,a){let r;if(o.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new yt(lt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){Ol(a,m);const e=[];for(const s of a)e.push(Fl(t,O,s));r={arrayValue:{values:e}}}else r=Fl(t,O,a)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||Ol(a,m),r=Uy(S,v,a,m==="in"||m==="not-in");return Jt.create(o,m,r)}(c._query,"where",y,c.firestore._databaseId,this._field,this._op,this._value)}}function $y(A,c,y){const P=c,M=ho("where",A);return xr._create(M,P,y)}class uo extends lo{constructor(c,y){super(),this.type=c,this._queryConstraints=y}static _create(c,y){return new uo(c,y)}_parse(c){const y=this._queryConstraints.map(P=>P._parse(c)).filter(P=>P.getFilters().length>0);return y.length===1?y[0]:Ee.create(y,this._getOperator())}_apply(c){const y=this._parse(c);return y.getFilters().length===0?c:(function(M,O){let v=M;const S=O.getFlattenedFilters();for(const t of S)ud(v,t),v=oa(v,t)}(c._query,y),new hs(c.firestore,c.converter,oa(c._query,y)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Fl(A,c,y){if(typeof(y=ue(y))=="string"){if(y==="")throw new yt(lt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sf(c)&&y.indexOf("/")!==-1)throw new yt(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${y}' contains a '/' character.`);const P=c.path.child(Xt.fromString(y));if(!xt.isDocumentKey(P))throw new yt(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${P}' is not because it has an odd number of segments (${P.length}).`);return kh(A,new xt(P))}if(y instanceof de)return kh(A,y._key);throw new yt(lt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mr(y)}.`)}function Ol(A,c){if(!Array.isArray(A)||A.length===0)throw new yt(lt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${c.toString()}' filters.`)}function ud(A,c){const y=function(M,O){for(const v of M)for(const S of v.getFlattenedFilters())if(O.indexOf(S.op)>=0)return S.op;return null}(A.filters,function(M){switch(M){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(c.op));if(y!==null)throw y===c.op?new yt(lt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${c.op.toString()}' filter.`):new yt(lt.INVALID_ARGUMENT,`Invalid query. You cannot use '${c.op.toString()}' filters with '${y.toString()}' filters.`)}class Qy{convertValue(c,y="none"){switch(ui(c)){case 0:return null;case 1:return c.booleanValue;case 2:return kt(c.integerValue||c.doubleValue);case 3:return this.convertTimestamp(c.timestampValue);case 4:return this.convertServerTimestamp(c,y);case 5:return c.stringValue;case 6:return this.convertBytes(li(c.bytesValue));case 7:return this.convertReference(c.referenceValue);case 8:return this.convertGeoPoint(c.geoPointValue);case 9:return this.convertArray(c.arrayValue,y);case 11:return this.convertObject(c.mapValue,y);case 10:return this.convertVectorValue(c.mapValue);default:throw Ct(62114,{value:c})}}convertObject(c,y){return this.convertObjectMap(c.fields,y)}convertObjectMap(c,y="none"){const P={};return Ii(c,(M,O)=>{P[M]=this.convertValue(O,y)}),P}convertVectorValue(c){var y,P,M;const O=(M=(P=(y=c.fields)===null||y===void 0?void 0:y[Kn].arrayValue)===null||P===void 0?void 0:P.values)===null||M===void 0?void 0:M.map(v=>kt(v.doubleValue));return new no(O)}convertGeoPoint(c){return new so(kt(c.latitude),kt(c.longitude))}convertArray(c,y){return(c.values||[]).map(P=>this.convertValue(P,y))}convertServerTimestamp(c,y){switch(y){case"previous":const P=or(c);return P==null?null:this.convertValue(P,y);case"estimate":return this.convertTimestamp(Vs(c));default:return null}}convertTimestamp(c){const y=hi(c);return new jt(y.seconds,y.nanos)}convertDocumentKey(c,y){const P=Xt.fromString(c);Bt(Rf(P),9688,{name:c});const M=new Gs(P.get(1),P.get(3)),O=new xt(P.popFirst(5));return M.isEqual(y)||He(`Document ${O} contains a document reference within a different database (${M.projectId}/${M.database}) which is not supported. It will be treated as a reference in the current database (${y.projectId}/${y.database}) instead.`),O}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(A,c,y){let P;return P=A?A.toFirestore(c):c,P}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(c,y){this.hasPendingWrites=c,this.fromCache=y}isEqual(c){return this.hasPendingWrites===c.hasPendingWrites&&this.fromCache===c.fromCache}}class fd extends ld{constructor(c,y,P,M,O,v){super(c,y,P,M,v),this._firestore=c,this._firestoreImpl=c,this.metadata=O}exists(){return super.exists()}data(c={}){if(this._document){if(this._converter){const y=new Dn(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(y,c)}return this._userDataWriter.convertValue(this._document.data.value,c.serverTimestamps)}}get(c,y={}){if(this._document){const P=this._document.data.field(ho("DocumentSnapshot.get",c));if(P!==null)return this._userDataWriter.convertValue(P,y.serverTimestamps)}}}class Dn extends fd{data(c={}){return super.data(c)}}class jy{constructor(c,y,P,M){this._firestore=c,this._userDataWriter=y,this._snapshot=M,this.metadata=new Rs(M.hasPendingWrites,M.fromCache),this.query=P}get docs(){const c=[];return this.forEach(y=>c.push(y)),c}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(c,y){this._snapshot.docs.forEach(P=>{c.call(y,new Dn(this._firestore,this._userDataWriter,P.key,P,new Rs(this._snapshot.mutatedKeys.has(P.key),this._snapshot.fromCache),this.query.converter))})}docChanges(c={}){const y=!!c.includeMetadataChanges;if(y&&this._snapshot.excludesMetadataChanges)throw new yt(lt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===y||(this._cachedChanges=function(M,O){if(M._snapshot.oldDocs.isEmpty()){let v=0;return M._snapshot.docChanges.map(S=>{const t=new Dn(M._firestore,M._userDataWriter,S.doc.key,S.doc,new Rs(M._snapshot.mutatedKeys.has(S.doc.key),M._snapshot.fromCache),M.query.converter);return S.doc,{type:"added",doc:t,oldIndex:-1,newIndex:v++}})}{let v=M._snapshot.oldDocs;return M._snapshot.docChanges.filter(S=>O||S.type!==3).map(S=>{const t=new Dn(M._firestore,M._userDataWriter,S.doc.key,S.doc,new Rs(M._snapshot.mutatedKeys.has(S.doc.key),M._snapshot.fromCache),M.query.converter);let o=-1,m=-1;return S.type!==0&&(o=v.indexOf(S.doc.key),v=v.delete(S.doc.key)),S.type!==1&&(v=v.add(S.doc),m=v.indexOf(S.doc.key)),{type:Zy(S.type),doc:t,oldIndex:o,newIndex:m}})}}(this,y),this._cachedChangesIncludeMetadataChanges=y),this._cachedChanges}}function Zy(A){switch(A){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ct(61501,{type:A})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(A){A=wi(A,de);const c=wi(A.firestore,yr);return My(to(c),A._key).then(y=>ix(c,A,y))}class dd extends Qy{constructor(c){super(),this.firestore=c}convertBytes(c){return new es(c)}convertReference(c){const y=this.convertDocumentKey(c,this.firestore._databaseId);return new de(this.firestore,null,y)}}function _y(A){A=wi(A,hs);const c=wi(A.firestore,yr),y=to(c),P=new dd(c);return Hy(A._query),Iy(y,A._query).then(M=>new jy(c,P,A,M))}function tx(A,c,y){A=wi(A,de);const P=wi(A.firestore,yr),M=Jy(A.converter,c);return ex(P,[Gy(nd(P),"setDoc",A._key,M,A.converter!==null,y).toMutation(A._key,Xe.none())])}function ex(A,c){return function(P,M){const O=new ze;return P.asyncQueue.enqueueAndForget(async()=>my(await wy(P),M,O)),O.promise}(to(A),c)}function ix(A,c,y){const P=y.docs.get(c._key),M=new dd(A);return new fd(A,M,c._key,P,new Rs(y.hasPendingWrites,y.fromCache),c.converter)}function Dl(){return new ao("serverTimestamp")}(function(c,y=!0){(function(M){ns=M})(is),Qi(new Ei("firestore",(P,{instanceIdentifier:M,options:O})=>{const v=P.getProvider("app").getImmediate(),S=new yr(new Um(P.getProvider("auth-internal")),new Wm(v,P.getProvider("app-check-internal")),function(o,m){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new yt(lt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gs(o.options.projectId,m)}(v,M),v);return O=Object.assign({useFetchStreams:y},O),S._setSettings(O),S},"PUBLIC").setMultipleInstances(!0)),ni(Nh,Bh,c),ni(Nh,Bh,"esm2017")})();const sx={apiKey:"AIzaSyCTENgojUTamlfn6UX0pwIsHa8esbf8f9A",authDomain:"stackdewvalley-686c6.firebaseapp.com",projectId:"stackdewvalley-686c6",storageBucket:"stackdewvalley-686c6.firebasestorage.app",messagingSenderId:"906985778268",appId:"1:906985778268:web:6f85c946aca1668ee58a99",measurementId:"G-22YZG1YNKV"},cd=kl(sx),Tr=Dm(cd),fo=Dy(cd);function nx(A){return A&&A.__esModule&&Object.prototype.hasOwnProperty.call(A,"default")?A.default:A}var Nn={exports:{}},rx=Nn.exports,Nl;function ax(){return Nl||(Nl=1,function(A,c){(function(P,M){A.exports=M()})(rx,()=>(()=>{var y={50792:v=>{var S=Object.prototype.hasOwnProperty,t="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(t=!1));function m(e,s,h){this.fn=e,this.context=s,this.once=h||!1}function a(e,s,h,i,l){if(typeof h!="function")throw new TypeError("The listener must be a function");var u=new m(h,i||e,l),d=t?t+s:s;return e._events[d]?e._events[d].fn?e._events[d]=[e._events[d],u]:e._events[d].push(u):(e._events[d]=u,e._eventsCount++),e}function r(e,s){--e._eventsCount===0?e._events=new o:delete e._events[s]}function n(){this._events=new o,this._eventsCount=0}n.prototype.eventNames=function(){var s=[],h,i;if(this._eventsCount===0)return s;for(i in h=this._events)S.call(h,i)&&s.push(t?i.slice(1):i);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(h)):s},n.prototype.listeners=function(s){var h=t?t+s:s,i=this._events[h];if(!i)return[];if(i.fn)return[i.fn];for(var l=0,u=i.length,d=new Array(u);l<u;l++)d[l]=i[l].fn;return d},n.prototype.listenerCount=function(s){var h=t?t+s:s,i=this._events[h];return i?i.fn?1:i.length:0},n.prototype.emit=function(s,h,i,l,u,d){var f=t?t+s:s;if(!this._events[f])return!1;var p=this._events[f],g=arguments.length,x,T;if(p.fn){switch(p.once&&this.removeListener(s,p.fn,void 0,!0),g){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,h),!0;case 3:return p.fn.call(p.context,h,i),!0;case 4:return p.fn.call(p.context,h,i,l),!0;case 5:return p.fn.call(p.context,h,i,l,u),!0;case 6:return p.fn.call(p.context,h,i,l,u,d),!0}for(T=1,x=new Array(g-1);T<g;T++)x[T-1]=arguments[T];p.fn.apply(p.context,x)}else{var E=p.length,C;for(T=0;T<E;T++)switch(p[T].once&&this.removeListener(s,p[T].fn,void 0,!0),g){case 1:p[T].fn.call(p[T].context);break;case 2:p[T].fn.call(p[T].context,h);break;case 3:p[T].fn.call(p[T].context,h,i);break;case 4:p[T].fn.call(p[T].context,h,i,l);break;default:if(!x)for(C=1,x=new Array(g-1);C<g;C++)x[C-1]=arguments[C];p[T].fn.apply(p[T].context,x)}}return!0},n.prototype.on=function(s,h,i){return a(this,s,h,i,!1)},n.prototype.once=function(s,h,i){return a(this,s,h,i,!0)},n.prototype.removeListener=function(s,h,i,l){var u=t?t+s:s;if(!this._events[u])return this;if(!h)return r(this,u),this;var d=this._events[u];if(d.fn)d.fn===h&&(!l||d.once)&&(!i||d.context===i)&&r(this,u);else{for(var f=0,p=[],g=d.length;f<g;f++)(d[f].fn!==h||l&&!d[f].once||i&&d[f].context!==i)&&p.push(d[f]);p.length?this._events[u]=p.length===1?p[0]:p:r(this,u)}return this},n.prototype.removeAllListeners=function(s){var h;return s?(h=t?t+s:s,this._events[h]&&r(this,h)):(this._events=new o,this._eventsCount=0),this},n.prototype.off=n.prototype.removeListener,n.prototype.addListener=n.prototype.on,n.prefixed=t,n.EventEmitter=n,v.exports=n},11517:(v,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(38829),m=function(a,r,n,e){for(var s=a[0],h=1;h<a.length;h++){var i=a[h];o(i,s,r,n,e),s=i}return a};v.exports=m},80318:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),m=function(a,r,n,e,s){return o(a,"angle",r,n,e,s)};v.exports=m},60757:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){for(var a=0;a<t.length;a++){var r=t[a];o.call(m,r)}return t};v.exports=S},69927:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){m===void 0&&(m=0);for(var a=m;a<t.length;a++){var r=t[a],n=!0;for(var e in o)r[e]!==o[e]&&(n=!1);if(n)return r}return null};v.exports=S},32265:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){m===void 0&&(m=0);for(var a=t.length-1;a>=m;a--){var r=t[a],n=!0;for(var e in o)r[e]!==o[e]&&(n=!1);if(n)return r}return null};v.exports=S},94420:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(11879),m=t(60461),a=t(95540),r=t(29747),n=t(41481),e=new n({sys:{queueDepthSort:r,events:{once:r}}},0,0,1,1).setOrigin(0,0),s=function(h,i){i===void 0&&(i={});var l=i.hasOwnProperty("width"),u=i.hasOwnProperty("height"),d=a(i,"width",-1),f=a(i,"height",-1),p=a(i,"cellWidth",1),g=a(i,"cellHeight",p),x=a(i,"position",m.TOP_LEFT),T=a(i,"x",0),E=a(i,"y",0),C=0,R=0,w=d*p,F=f*g;e.setPosition(T,E),e.setSize(p,g);for(var I=0;I<h.length;I++)if(o(h[I],e,x),l&&d===-1)e.x+=p;else if(u&&f===-1)e.y+=g;else if(u&&!l){if(R+=g,e.y+=g,R===F&&(R=0,C+=p,e.y=E,e.x+=p,C===w))break}else if(C+=p,e.x+=p,C===w&&(C=0,R+=g,e.x=T,e.y+=g,R===F))break;return h};v.exports=s},41721:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),m=function(a,r,n,e,s){return o(a,"alpha",r,n,e,s)};v.exports=m},67285:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),m=function(a,r,n,e,s){return o(a,"x",r,n,e,s)};v.exports=m},9074:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),m=function(a,r,n,e,s,h,i){return n==null&&(n=r),o(a,"x",r,e,h,i),o(a,"y",n,s,h,i)};v.exports=m},75222:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),m=function(a,r,n,e,s){return o(a,"y",r,n,e,s)};v.exports=m},22983:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a){m===void 0&&(m=0),a===void 0&&(a=6.28);for(var r=m,n=(a-m)/t.length,e=o.x,s=o.y,h=o.radius,i=0;i<t.length;i++)t[i].x=e+h*Math.cos(r),t[i].y=s+h*Math.sin(r),r+=n;return t};v.exports=S},95253:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a){m===void 0&&(m=0),a===void 0&&(a=6.28);for(var r=m,n=(a-m)/t.length,e=o.width/2,s=o.height/2,h=0;h<t.length;h++)t[h].x=o.x+e*Math.cos(r),t[h].y=o.y+s*Math.sin(r),r+=n;return t};v.exports=S},88505:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(15258),m=t(26708),a=function(r,n,e){var s;e?s=m(n,e,r.length):s=o(n,r.length);for(var h=0;h<r.length;h++){var i=r[h],l=s[h];i.x=l.x,i.y=l.y}return r};v.exports=a},41346:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(14649),m=t(86003),a=t(49498),r=function(n,e,s){s===void 0&&(s=0);var h=o(e,!1,n.length);s>0?m(h,s):s<0&&a(h,Math.abs(s));for(var i=0;i<n.length;i++)n[i].x=h[i].x,n[i].y=h[i].y;return n};v.exports=r},11575:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(84993),m=function(a,r,n){var e=o({x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2},n),s=o({x1:r.x2,y1:r.y2,x2:r.x3,y2:r.y3},n),h=o({x1:r.x3,y1:r.y3,x2:r.x1,y2:r.y1},n);e.pop(),s.pop(),h.pop(),e=e.concat(s,h);for(var i=e.length/a.length,l=0,u=0;u<a.length;u++){var d=a[u],f=e[Math.floor(l)];d.x=f.x,d.y=f.y,l+=i}return a};v.exports=m},29953:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){for(var a=0;a<t.length;a++){var r=t[a];r.anims&&r.anims.play(o,m)}return t};v.exports=S},66979:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a,r,n){a===void 0&&(a=0),r===void 0&&(r=0),n===void 0&&(n=1);var e,s=0,h=t.length;if(n===1)for(e=r;e<h;e++)t[e][o]+=m+s*a,s++;else for(e=r;e>=0;e--)t[e][o]+=m+s*a,s++;return t};v.exports=S},43967:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a,r,n){a===void 0&&(a=0),r===void 0&&(r=0),n===void 0&&(n=1);var e,s=0,h=t.length;if(n===1)for(e=r;e<h;e++)t[e][o]=m+s*a,s++;else for(e=r;e>=0;e--)t[e][o]=m+s*a,s++;return t};v.exports=S},88926:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(28176),m=function(a,r){for(var n=0;n<a.length;n++)o(r,a[n]);return a};v.exports=m},33286:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(24820),m=function(a,r){for(var n=0;n<a.length;n++)o(r,a[n]);return a};v.exports=m},96e3:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65822),m=function(a,r){for(var n=0;n<a.length;n++)o(r,a[n]);return a};v.exports=m},28789:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26597),m=function(a,r){for(var n=0;n<a.length;n++)o(r,a[n]);return a};v.exports=m},97154:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(90260),m=function(a,r){for(var n=0;n<a.length;n++)o(r,a[n]);return a};v.exports=m},20510:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),m=function(a,r,n,e,s){return o(a,"rotation",r,n,e,s)};v.exports=m},91051:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(1163),m=t(20339),a=function(r,n,e){for(var s=n.x,h=n.y,i=0;i<r.length;i++){var l=r[i];o(l,s,h,e,Math.max(1,m(l.x,l.y,s,h)))}return r};v.exports=a},76332:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(1163),m=function(a,r,n,e){var s=r.x,h=r.y;if(e===0)return a;for(var i=0;i<a.length;i++)o(a[i],s,h,n,e);return a};v.exports=m},61619:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),m=function(a,r,n,e,s){return o(a,"scaleX",r,n,e,s)};v.exports=m},94868:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),m=function(a,r,n,e,s,h,i){return n==null&&(n=r),o(a,"scaleX",r,e,h,i),o(a,"scaleY",n,s,h,i)};v.exports=m},95532:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66979),m=function(a,r,n,e,s){return o(a,"scaleY",r,n,e,s)};v.exports=m},8689:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),m=function(a,r,n,e,s){return o(a,"alpha",r,n,e,s)};v.exports=m},2645:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),m=function(a,r,n,e){return o(a,"blendMode",r,0,n,e)};v.exports=m},32372:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),m=function(a,r,n,e,s){return o(a,"depth",r,n,e,s)};v.exports=m},85373:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){for(var a=0;a<t.length;a++)t[a].setInteractive(o,m);return t};v.exports=S},81583:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),m=function(a,r,n,e,s,h,i){return n==null&&(n=r),o(a,"originX",r,e,h,i),o(a,"originY",n,s,h,i),a.forEach(function(l){l.updateDisplayOrigin()}),a};v.exports=m},79939:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),m=function(a,r,n,e,s){return o(a,"rotation",r,n,e,s)};v.exports=m},2699:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),m=function(a,r,n,e,s,h,i){return n==null&&(n=r),o(a,"scaleX",r,e,h,i),o(a,"scaleY",n,s,h,i)};v.exports=m},98739:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),m=function(a,r,n,e,s){return o(a,"scaleX",r,n,e,s)};v.exports=m},98476:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),m=function(a,r,n,e,s){return o(a,"scaleY",r,n,e,s)};v.exports=m},6207:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),m=function(a,r,n,e,s,h,i){return n==null&&(n=r),o(a,"scrollFactorX",r,e,h,i),o(a,"scrollFactorY",n,s,h,i)};v.exports=m},6607:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),m=function(a,r,n,e,s){return o(a,"scrollFactorX",r,n,e,s)};v.exports=m},72248:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),m=function(a,r,n,e,s){return o(a,"scrollFactorY",r,n,e,s)};v.exports=m},14036:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a,r){for(var n=0;n<t.length;n++)t[n].setTint(o,m,a,r);return t};v.exports=S},50159:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),m=function(a,r,n,e){return o(a,"visible",r,0,n,e)};v.exports=m},77597:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),m=function(a,r,n,e,s){return o(a,"x",r,n,e,s)};v.exports=m},83194:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),m=function(a,r,n,e,s,h,i){return n==null&&(n=r),o(a,"x",r,e,h,i),o(a,"y",n,s,h,i)};v.exports=m},67678:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43967),m=function(a,r,n,e,s){return o(a,"y",r,n,e,s)};v.exports=m},35850:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),m=function(a,r,n,e,s){e===void 0&&(e=0),s===void 0&&(s=new o);var h,i,l=a.length;if(l===1)h=a[0].x,i=a[0].y,a[0].x=r,a[0].y=n;else{var u=1,d=0;e===0&&(d=l-1,u=l-2),h=a[d].x,i=a[d].y,a[d].x=r,a[d].y=n;for(var f=0;f<l;f++)if(!(u>=l||u===-1)){var p=a[u],g=p.x,x=p.y;p.x=h,p.y=i,h=g,i=x,e===0?u--:u++}}return s.x=h,s.y=i,s};v.exports=m},8628:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(33680),m=function(a){return o(a)};v.exports=m},21837:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7602),m=function(a,r,n,e,s){s===void 0&&(s=!1);var h=Math.abs(e-n)/a.length,i;if(s)for(i=0;i<a.length;i++)a[i][r]+=o(i*h,n,e);else for(i=0;i<a.length;i++)a[i][r]=o(i*h,n,e);return a};v.exports=m},21910:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(54261),m=function(a,r,n,e,s){s===void 0&&(s=!1);var h=Math.abs(e-n)/a.length,i;if(s)for(i=0;i<a.length;i++)a[i][r]+=o(i*h,n,e);else for(i=0;i<a.length;i++)a[i][r]=o(i*h,n,e);return a};v.exports=m},62054:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a,r){if(r===void 0&&(r=!1),t.length===0)return t;if(t.length===1)return r?t[0][o]+=(a+m)/2:t[0][o]=(a+m)/2,t;var n=Math.abs(a-m)/(t.length-1),e;if(r)for(e=0;e<t.length;e++)t[e][o]+=e*n+m;else for(e=0;e<t.length;e++)t[e][o]=e*n+m;return t};v.exports=S},79815:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var o=0;o<t.length;o++)t[o].visible=!t[o].visible;return t};v.exports=S},39665:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(15994),m=function(a,r,n){n===void 0&&(n=0);for(var e=0;e<a.length;e++){var s=a[e];s.x=o(s.x,r.left-n,r.right+n),s.y=o(s.y,r.top-n,r.bottom+n)}return a};v.exports=m},61061:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={AlignTo:t(11517),Angle:t(80318),Call:t(60757),GetFirst:t(69927),GetLast:t(32265),GridAlign:t(94420),IncAlpha:t(41721),IncX:t(67285),IncXY:t(9074),IncY:t(75222),PlaceOnCircle:t(22983),PlaceOnEllipse:t(95253),PlaceOnLine:t(88505),PlaceOnRectangle:t(41346),PlaceOnTriangle:t(11575),PlayAnimation:t(29953),PropertyValueInc:t(66979),PropertyValueSet:t(43967),RandomCircle:t(88926),RandomEllipse:t(33286),RandomLine:t(96e3),RandomRectangle:t(28789),RandomTriangle:t(97154),Rotate:t(20510),RotateAround:t(91051),RotateAroundDistance:t(76332),ScaleX:t(61619),ScaleXY:t(94868),ScaleY:t(95532),SetAlpha:t(8689),SetBlendMode:t(2645),SetDepth:t(32372),SetHitArea:t(85373),SetOrigin:t(81583),SetRotation:t(79939),SetScale:t(2699),SetScaleX:t(98739),SetScaleY:t(98476),SetScrollFactor:t(6207),SetScrollFactorX:t(6607),SetScrollFactorY:t(72248),SetTint:t(14036),SetVisible:t(50159),SetX:t(77597),SetXY:t(83194),SetY:t(67678),ShiftPosition:t(35850),Shuffle:t(8628),SmootherStep:t(21910),SmoothStep:t(21837),Spread:t(62054),ToggleVisible:t(79815),WrapInRectangle:t(39665)}},42099:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),m=t(83419),a=t(74943),r=t(81957),n=t(41138),e=t(35154),s=t(90126),h=new m({initialize:function(l,u,d){this.manager=l,this.key=u,this.type="frame",this.frames=this.getFrames(l.textureManager,e(d,"frames",[]),e(d,"defaultTextureKey",null),e(d,"sortFrames",!0)),this.frameRate=e(d,"frameRate",null),this.duration=e(d,"duration",null),this.msPerFrame,this.skipMissedFrames=e(d,"skipMissedFrames",!0),this.delay=e(d,"delay",0),this.repeat=e(d,"repeat",0),this.repeatDelay=e(d,"repeatDelay",0),this.yoyo=e(d,"yoyo",!1),this.showBeforeDelay=e(d,"showBeforeDelay",!1),this.showOnStart=e(d,"showOnStart",!1),this.hideOnComplete=e(d,"hideOnComplete",!1),this.randomFrame=e(d,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(a.PAUSE_ALL,this.pause,this),this.manager.on(a.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(i,l,u,d){u===null&&d===null?(i.frameRate=24,i.duration=24/l*1e3):u&&d===null?(i.duration=u,i.frameRate=l/(u/1e3)):(i.frameRate=d,i.duration=l/d*1e3),i.msPerFrame=1e3/i.frameRate},addFrame:function(i){return this.addFrameAt(this.frames.length,i)},addFrameAt:function(i,l){var u=this.getFrames(this.manager.textureManager,l);if(u.length>0){if(i===0)this.frames=u.concat(this.frames);else if(i===this.frames.length)this.frames=this.frames.concat(u);else{var d=this.frames.slice(0,i),f=this.frames.slice(i);this.frames=d.concat(u,f)}this.updateFrameSequence()}return this},checkFrame:function(i){return i>=0&&i<this.frames.length},getFirstTick:function(i){i.accumulator=0,i.nextTick=i.msPerFrame||i.currentFrame.duration},getFrameAt:function(i){return this.frames[i]},getFrames:function(i,l,u,d){d===void 0&&(d=!0);var f=[],p,g,x=1,T,E;if(typeof l=="string"){if(E=l,!i.exists(E))return console.warn('Texture "%s" not found',E),f;var C=i.get(E),R=C.getFrameNames();d&&s(R),l=[],R.forEach(function(B){l.push({key:E,frame:B})})}if(!Array.isArray(l)||l.length===0)return f;for(T=0;T<l.length;T++){var w=l[T],F=e(w,"key",u);if(F){var I=e(w,"frame",0),L=i.getFrame(F,I);if(!L){console.warn('Texture "%s" not found',F);continue}g=new n(F,I,x,L),g.duration=e(w,"duration",0),g.isFirst=!p,p&&(p.nextFrame=g,g.prevFrame=p),f.push(g),p=g,x++}}if(f.length>0){g.isLast=!0,g.nextFrame=f[0],f[0].prevFrame=g;var D=1/(f.length-1);for(T=0;T<f.length;T++)f[T].progress=T*D}return f},getNextTick:function(i){i.accumulator-=i.nextTick,i.nextTick=i.msPerFrame||i.currentFrame.duration},getFrameByProgress:function(i){return i=o(i,0,1),r(i,this.frames,"progress")},nextFrame:function(i){var l=i.currentFrame;l.isLast?i.yoyo?this.handleYoyoFrame(i,!1):i.repeatCounter>0?i.inReverse&&i.forward?i.forward=!1:this.repeatAnimation(i):i.complete():this.updateAndGetNextTick(i,l.nextFrame)},handleYoyoFrame:function(i,l){if(l||(l=!1),i.inReverse===!l&&i.repeatCounter>0){(i.repeatDelay===0||i.pendingRepeat)&&(i.forward=l),this.repeatAnimation(i);return}if(i.inReverse!==l&&i.repeatCounter===0){i.complete();return}i.forward=l;var u=l?i.currentFrame.nextFrame:i.currentFrame.prevFrame;this.updateAndGetNextTick(i,u)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(i){var l=i.currentFrame;l.isFirst?i.yoyo?this.handleYoyoFrame(i,!0):i.repeatCounter>0?i.inReverse&&!i.forward?this.repeatAnimation(i):(i.forward=!0,this.repeatAnimation(i)):i.complete():this.updateAndGetNextTick(i,l.prevFrame)},updateAndGetNextTick:function(i,l){i.setCurrentFrame(l),this.getNextTick(i)},removeFrame:function(i){var l=this.frames.indexOf(i);return l!==-1&&this.removeFrameAt(l),this},removeFrameAt:function(i){return this.frames.splice(i,1),this.updateFrameSequence(),this},repeatAnimation:function(i){if(i._pendingStop===2){if(i._pendingStopValue===0)return i.stop();i._pendingStopValue--}i.repeatDelay>0&&!i.pendingRepeat?(i.pendingRepeat=!0,i.accumulator-=i.nextTick,i.nextTick+=i.repeatDelay):(i.repeatCounter--,i.forward?i.setCurrentFrame(i.currentFrame.nextFrame):i.setCurrentFrame(i.currentFrame.prevFrame),i.isPlaying&&(this.getNextTick(i),i.handleRepeat()))},toJSON:function(){var i={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(l){i.frames.push(l.toJSON())}),i},updateFrameSequence:function(){for(var i=this.frames.length,l=1/(i-1),u,d=0;d<i;d++)u=this.frames[d],u.index=d+1,u.isFirst=!1,u.isLast=!1,u.progress=d*l,d===0?(u.isFirst=!0,i===1?(u.isLast=!0,u.nextFrame=u,u.prevFrame=u):(u.isLast=!1,u.prevFrame=this.frames[i-1],u.nextFrame=this.frames[d+1])):d===i-1&&i>1?(u.isLast=!0,u.prevFrame=this.frames[i-2],u.nextFrame=this.frames[0]):i>1&&(u.prevFrame=this.frames[d-1],u.nextFrame=this.frames[d+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(a.PAUSE_ALL,this.pause,this),this.manager.off(a.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var i=0;i<this.frames.length;i++)this.frames[i].destroy();this.frames=[],this.manager=null}});v.exports=h},41138:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=new o({initialize:function(r,n,e,s,h){h===void 0&&(h=!1),this.textureKey=r,this.textureFrame=n,this.index=e,this.frame=s,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=h},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});v.exports=m},60848:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(42099),m=t(83419),a=t(90330),r=t(50792),n=t(74943),e=t(8443),s=t(95540),h=t(35154),i=t(36383),l=t(20283),u=t(41836),d=new m({Extends:r,initialize:function(p){r.call(this),this.game=p,this.textureManager=null,this.globalTimeScale=1,this.anims=new a,this.mixes=new a,this.paused=!1,this.name="AnimationManager",p.events.once(e.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(e.DESTROY,this.destroy,this)},addMix:function(f,p,g){var x=this.anims,T=this.mixes,E=typeof f=="string"?f:f.key,C=typeof p=="string"?p:p.key;if(x.has(E)&&x.has(C)){var R=T.get(E);R||(R={}),R[C]=g,T.set(E,R)}return this},removeMix:function(f,p){var g=this.mixes,x=typeof f=="string"?f:f.key,T=g.get(x);if(T)if(p){var E=typeof p=="string"?p:p.key;T.hasOwnProperty(E)&&delete T[E]}else p||g.delete(x);return this},getMix:function(f,p){var g=this.mixes,x=typeof f=="string"?f:f.key,T=typeof p=="string"?p:p.key,E=g.get(x);return E&&E.hasOwnProperty(T)?E[T]:0},add:function(f,p){return this.anims.has(f)?(console.warn("Animation key exists: "+f),this):(p.key=f,this.anims.set(f,p),this.emit(n.ADD_ANIMATION,f,p),this)},exists:function(f){return this.anims.has(f)},createFromAseprite:function(f,p,g){var x=[],T=this.game.cache.json.get(f);if(!T)return console.warn("No Aseprite data found for: "+f),x;var E=this,C=h(T,"meta",null),R=h(T,"frames",null);if(C&&R){var w=h(C,"frameTags",[]);w.forEach(function(F){var I=[],L=s(F,"name",null),D=s(F,"from",0),B=s(F,"to",0),U=s(F,"direction","forward");if(L&&(!p||p&&p.indexOf(L)>-1)){for(var W=0,K=D;K<=B;K++){var Y=K.toString(),G=R[Y];if(G){var X=s(G,"duration",i.MAX_SAFE_INTEGER);I.push({key:f,frame:Y,duration:X}),W+=X}}U==="reverse"&&(I=I.reverse());var V={key:L,frames:I,duration:W,yoyo:U==="pingpong"},b;g?g.anims&&(b=g.anims.create(V)):b=E.create(V),b&&x.push(b)}})}return x},create:function(f){var p=f.key,g=!1;return p&&(g=this.get(p),g?console.warn("AnimationManager key already exists: "+p):(g=new o(this,p,f),this.anims.set(p,g),this.emit(n.ADD_ANIMATION,p,g))),g},fromJSON:function(f,p){p===void 0&&(p=!1),p&&this.anims.clear(),typeof f=="string"&&(f=JSON.parse(f));var g=[];if(f.hasOwnProperty("anims")&&Array.isArray(f.anims)){for(var x=0;x<f.anims.length;x++)g.push(this.create(f.anims[x]));f.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=f.globalTimeScale)}else f.hasOwnProperty("key")&&f.type==="frame"&&g.push(this.create(f));return g},generateFrameNames:function(f,p){var g=h(p,"prefix",""),x=h(p,"start",0),T=h(p,"end",0),E=h(p,"suffix",""),C=h(p,"zeroPad",0),R=h(p,"outputArray",[]),w=h(p,"frames",!1);if(!this.textureManager.exists(f))return console.warn('Texture "%s" not found',f),R;var F=this.textureManager.get(f);if(!F)return R;var I;if(p)for(w||(w=l(x,T)),I=0;I<w.length;I++){var L=g+u(w[I],C,"0",1)+E;F.has(L)?R.push({key:f,frame:L}):console.warn('Frame "%s" not found in texture "%s"',L,f)}else for(w=F.getFrameNames(),I=0;I<w.length;I++)R.push({key:f,frame:w[I]});return R},generateFrameNumbers:function(f,p){var g=h(p,"start",0),x=h(p,"end",-1),T=h(p,"first",!1),E=h(p,"outputArray",[]),C=h(p,"frames",!1);if(!this.textureManager.exists(f))return console.warn('Texture "%s" not found',f),E;var R=this.textureManager.get(f);if(!R)return E;T&&R.has(T)&&E.push({key:f,frame:T}),C||(x===-1&&(x=R.frameTotal-2),C=l(g,x));for(var w=0;w<C.length;w++){var F=C[w];R.has(F)?E.push({key:f,frame:F}):console.warn('Frame "%s" not found in texture "%s"',F,f)}return E},get:function(f){return this.anims.get(f)},getAnimsFromTexture:function(f){for(var p=this.textureManager.get(f),g=p.key,x=this.anims.getArray(),T=[],E=0;E<x.length;E++)for(var C=x[E],R=C.frames,w=0;w<R.length;w++)if(R[w].textureKey===g){T.push(C.key);break}return T},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(n.PAUSE_ALL)),this},play:function(f,p){Array.isArray(p)||(p=[p]);for(var g=0;g<p.length;g++)p[g].anims.play(f);return this},staggerPlay:function(f,p,g,x){g===void 0&&(g=0),x===void 0&&(x=!0),Array.isArray(p)||(p=[p]);var T=p.length;x||T--;for(var E=0;E<p.length;E++){var C=g<0?Math.abs(g)*(T-E):g*E;p[E].anims.playAfterDelay(f,C)}return this},remove:function(f){var p=this.get(f);return p&&(this.emit(n.REMOVE_ANIMATION,f,p),this.anims.delete(f),this.removeMix(f)),p},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(n.RESUME_ALL)),this},toJSON:function(f){var p={anims:[],globalTimeScale:this.globalTimeScale};return f!==void 0&&f!==""?p.anims.push(this.anims.get(f).toJSON()):this.anims.each(function(g,x){p.anims.push(x.toJSON())}),p},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});v.exports=d},9674:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(42099),m=t(30976),a=t(83419),r=t(90330),n=t(74943),e=t(95540),s=new a({initialize:function(i){this.parent=i,this.animationManager=i.scene.sys.anims,this.animationManager.on(n.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(h){var i=this.parent;if(h===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,i;Array.isArray(h)||(h=[h]);for(var l=0;l<h.length;l++){var u=h[l];this.nextAnim?this.nextAnimsQueue.push(u):this.nextAnim=u}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(h){this.isPlaying&&this.stop();var i=this.animationManager,l=typeof h=="string"?h:e(h,"key",null),u=this.exists(l)?this.get(l):i.get(l);if(!u)console.warn("Missing animation: "+l);else{this.currentAnim=u;var d=u.getTotalFrames(),f=e(h,"frameRate",u.frameRate),p=e(h,"duration",u.duration);u.calculateDuration(this,d,p,f),this.delay=e(h,"delay",u.delay),this.repeat=e(h,"repeat",u.repeat),this.repeatDelay=e(h,"repeatDelay",u.repeatDelay),this.yoyo=e(h,"yoyo",u.yoyo),this.showBeforeDelay=e(h,"showBeforeDelay",u.showBeforeDelay),this.showOnStart=e(h,"showOnStart",u.showOnStart),this.hideOnComplete=e(h,"hideOnComplete",u.hideOnComplete),this.skipMissedFrames=e(h,"skipMissedFrames",u.skipMissedFrames),this.randomFrame=e(h,"randomFrame",u.randomFrame),this.timeScale=e(h,"timeScale",this.timeScale);var g=e(h,"startFrame",0);g>d&&(g=0),this.randomFrame&&(g=m(0,d-1));var x=u.frames[g];g===0&&!this.forward&&(x=u.getLastFrame()),this.currentFrame=x}return this.parent},pause:function(h){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),h!==void 0&&this.setCurrentFrame(h),this.parent},resume:function(h){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),h!==void 0&&this.setCurrentFrame(h),this.parent},playAfterDelay:function(h,i){if(!this.isPlaying)this.delayCounter=i,this.play(h,!0);else{var l=this.nextAnim,u=this.nextAnimsQueue;l&&u.unshift(l),this.nextAnim=h,this._pendingStop=1,this._pendingStopValue=i}return this.parent},playAfterRepeat:function(h,i){if(i===void 0&&(i=1),!this.isPlaying)this.play(h);else{var l=this.nextAnim,u=this.nextAnimsQueue;l&&u.unshift(l),this.repeatCounter!==-1&&i>this.repeatCounter&&(i=this.repeatCounter),this.nextAnim=h,this._pendingStop=2,this._pendingStopValue=i}return this.parent},play:function(h,i){i===void 0&&(i=!1);var l=this.currentAnim,u=this.parent,d=typeof h=="string"?h:h.key;if(i&&this.isPlaying&&l.key===d)return u;if(l&&this.isPlaying){var f=this.animationManager.getMix(l.key,h);if(f>0)return this.playAfterDelay(h,f)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(h)},playReverse:function(h,i){i===void 0&&(i=!1);var l=typeof h=="string"?h:h.key;return i&&this.isPlaying&&this.currentAnim.key===l?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(h))},startAnimation:function(h){this.load(h);var i=this.currentAnim,l=this.parent;return i&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,i.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),l},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(n.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(n.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(n.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(n.ANIMATION_COMPLETE,n.ANIMATION_COMPLETE_KEY)},emitEvents:function(h,i){var l=this.currentAnim;if(l){var u=this.currentFrame,d=this.parent,f=u.textureFrame;d.emit(h,l,u,d,f),i&&d.emit(i+l.key,l,u,d,f)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var h=this.currentFrame;if(!h)return 0;var i=h.progress;return this.inReverse&&(i*=-1),i},setProgress:function(h){return this.forward||(h=1-h),this.setCurrentFrame(this.currentAnim.getFrameByProgress(h)),this.parent},setRepeat:function(h){return this.repeatCounter=h===-1?Number.MAX_VALUE:h,this.parent},globalRemove:function(h,i){i===void 0&&(i=this.currentAnim),this.isPlaying&&i.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(h,i){h===void 0&&(h=!1),i===void 0&&(i=!1);var l=this.currentAnim,u=this.parent;return l?(i&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),l.getFirstTick(this),this.emitEvents(n.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!h,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(l.frames[0]),this.parent):u},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var h=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(h)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var h=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(h)}return this.parent},stopAfterDelay:function(h){return this._pendingStop=1,this._pendingStopValue=h,this.parent},stopAfterRepeat:function(h){return h===void 0&&(h=1),this.repeatCounter!==-1&&h>this.repeatCounter&&(h=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=h,this.parent},stopOnFrame:function(h){return this._pendingStop=3,this._pendingStopValue=h,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(h,i){var l=this.currentAnim;if(!(!this.isPlaying||!l||l.paused)){if(this.accumulator+=i*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=i,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?l.nextFrame(this):l.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var u=0;do this.forward?l.nextFrame(this):l.previousFrame(this),u++;while(this.isPlaying&&this.accumulator>this.nextTick&&u<60)}}},setCurrentFrame:function(h){var i=this.parent;return this.currentFrame=h,i.texture=h.frame.texture,i.frame=h.frame,i.isCropped&&i.frame.updateCropUVs(i._crop,i.flipX,i.flipY),h.setAlpha&&(i.alpha=h.alpha),i.setSizeToFrame(),i._originComponent&&(h.frame.customPivot?i.setOrigin(h.frame.pivotX,h.frame.pivotY):i.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(n.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===h&&this.stop()),i},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(h){return this.anims?this.anims.get(h):null},exists:function(h){return this.anims?this.anims.has(h):!1},create:function(h){var i=h.key,l=!1;return i&&(l=this.get(i),l?console.warn("Animation key already exists: "+i):(l=new o(this,i,h),this.anims||(this.anims=new r),this.anims.set(i,l))),l},createFromAseprite:function(h,i){return this.animationManager.createFromAseprite(h,i,this.parent)},generateFrameNames:function(h,i){return this.animationManager.generateFrameNames(h,i)},generateFrameNumbers:function(h,i){return this.animationManager.generateFrameNumbers(h,i)},remove:function(h){var i=this.get(h);return i&&(this.currentAnim===i&&this.stop(),this.anims.delete(h)),i},destroy:function(){this.animationManager.off(n.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});v.exports=s},57090:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="add"},25312:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="animationcomplete"},89580:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="animationcomplete-"},52860:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="animationrepeat"},63850:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="animationrestart"},99085:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="animationstart"},28087:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="animationstop"},1794:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="animationupdate"},52562:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pauseall"},57953:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="remove"},68339:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resumeall"},74943:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ADD_ANIMATION:t(57090),ANIMATION_COMPLETE:t(25312),ANIMATION_COMPLETE_KEY:t(89580),ANIMATION_REPEAT:t(52860),ANIMATION_RESTART:t(63850),ANIMATION_START:t(99085),ANIMATION_STOP:t(28087),ANIMATION_UPDATE:t(1794),PAUSE_ALL:t(52562),REMOVE_ANIMATION:t(57953),RESUME_ALL:t(68339)}},60421:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Animation:t(42099),AnimationFrame:t(41138),AnimationManager:t(60848),AnimationState:t(9674),Events:t(74943)}},2161:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(90330),a=t(50792),r=t(24736),n=new o({initialize:function(){this.entries=new m,this.events=new a},add:function(e,s){return this.entries.set(e,s),this.events.emit(r.ADD,this,e,s),this},has:function(e){return this.entries.has(e)},exists:function(e){return this.entries.has(e)},get:function(e){return this.entries.get(e)},remove:function(e){var s=this.get(e);return s&&(this.entries.delete(e),this.events.emit(r.REMOVE,this,e,s.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});v.exports=n},24047:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2161),m=t(83419),a=t(8443),r=new m({initialize:function(e){this.game=e,this.binary=new o,this.bitmapFont=new o,this.json=new o,this.physics=new o,this.shader=new o,this.audio=new o,this.video=new o,this.text=new o,this.html=new o,this.obj=new o,this.tilemap=new o,this.xml=new o,this.custom={},this.game.events.once(a.DESTROY,this.destroy,this)},addCustom:function(n){return this.custom.hasOwnProperty(n)||(this.custom[n]=new o),this.custom[n]},destroy:function(){for(var n=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],e=0;e<n.length;e++)this[n[e]].destroy(),this[n[e]]=null;for(var s in this.custom)this.custom[s].destroy();this.custom=null,this.game=null}});v.exports=r},51464:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="add"},59261:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="remove"},24736:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ADD:t(51464),REMOVE:t(59261)}},83388:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BaseCache:t(2161),CacheManager:t(24047),Events:t(24736)}},71911:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(31401),a=t(39506),r=t(50792),n=t(19715),e=t(87841),s=t(61340),h=t(80333),i=t(26099),l=new o({Extends:r,Mixins:[m.AlphaSingle,m.Visible],initialize:function(d,f,p,g){d===void 0&&(d=0),f===void 0&&(f=0),p===void 0&&(p=0),g===void 0&&(g=0),r.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new e,this.dirty=!0,this._x=d,this._y=f,this._width=p,this._height=g,this._bounds=new e,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new s,this.transparent=!0,this.backgroundColor=h("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new i(p/2,g/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},addToRenderList:function(u){this.renderList.push(u)},setOrigin:function(u,d){return u===void 0&&(u=.5),d===void 0&&(d=u),this.originX=u,this.originY=d,this},getScroll:function(u,d,f){f===void 0&&(f=new i);var p=this.width*.5,g=this.height*.5;return f.x=u-p,f.y=d-g,this.useBounds&&(f.x=this.clampX(f.x),f.y=this.clampY(f.y)),f},centerOnX:function(u){var d=this.width*.5;return this.midPoint.x=u,this.scrollX=u-d,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(u){var d=this.height*.5;return this.midPoint.y=u,this.scrollY=u-d,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(u,d){return this.centerOnX(u),this.centerOnY(d),this},centerToBounds:function(){if(this.useBounds){var u=this._bounds,d=this.width*.5,f=this.height*.5;this.midPoint.set(u.centerX,u.centerY),this.scrollX=u.centerX-d,this.scrollY=u.centerY-f}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(u){if(this.disableCull)return u;var d=this.matrix.matrix,f=d[0],p=d[1],g=d[2],x=d[3],T=f*x-p*g;if(!T)return u;var E=d[4],C=d[5],R=this.scrollX,w=this.scrollY,F=this.width,I=this.height,L=this.y,D=L+I,B=this.x,U=B+F,W=this.culledObjects,K=u.length;T=1/T,W.length=0;for(var Y=0;Y<K;++Y){var G=u[Y];if(!G.hasOwnProperty("width")||G.parentContainer){W.push(G);continue}var X=G.width,V=G.height,b=G.x-R*G.scrollFactorX-X*G.originX,z=G.y-w*G.scrollFactorY-V*G.originY,k=b*f+z*g+E,$=b*p+z*x+C,J=(b+X)*f+(z+V)*g+E,j=(b+X)*p+(z+V)*x+C;J>B&&k<U&&j>L&&$<D&&W.push(G)}return W},getWorldPoint:function(u,d,f){f===void 0&&(f=new i);var p=this.matrix.matrix,g=p[0],x=p[1],T=p[2],E=p[3],C=p[4],R=p[5],w=g*E-x*T;if(!w)return f.x=u,f.y=d,f;w=1/w;var F=E*w,I=-x*w,L=-T*w,D=g*w,B=(T*R-E*C)*w,U=(x*C-g*R)*w,W=Math.cos(this.rotation),K=Math.sin(this.rotation),Y=this.zoomX,G=this.zoomY,X=this.scrollX,V=this.scrollY,b=u+(X*W-V*K)*Y,z=d+(X*K+V*W)*G;return f.x=b*F+z*L+B,f.y=b*I+z*D+U,f},ignore:function(u){var d=this.id;Array.isArray(u)||(u=[u]);for(var f=0;f<u.length;f++){var p=u[f];Array.isArray(p)?this.ignore(p):p.isParent?this.ignore(p.getChildren()):p.cameraFilter|=d}return this},clampX:function(u){var d=this._bounds,f=this.displayWidth,p=d.x+(f-this.width)/2,g=Math.max(p,p+d.width-f);return u<p?u=p:u>g&&(u=g),u},clampY:function(u){var d=this._bounds,f=this.displayHeight,p=d.y+(f-this.height)/2,g=Math.max(p,p+d.height-f);return u<p?u=p:u>g&&(u=g),u},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(u){return u===void 0&&(u=0),this.rotation=a(u),this},setBackgroundColor:function(u){return u===void 0&&(u="rgba(0,0,0,0)"),this.backgroundColor=h(u),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(u,d,f,p,g){return g===void 0&&(g=!1),this._bounds.setTo(u,d,f,p),this.dirty=!0,this.useBounds=!0,g?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(u){u===void 0&&(u=new e);var d=this._bounds;return u.setTo(d.x,d.y,d.width,d.height),u},setName:function(u){return u===void 0&&(u=""),this.name=u,this},setPosition:function(u,d){return d===void 0&&(d=u),this.x=u,this.y=d,this},setRotation:function(u){return u===void 0&&(u=0),this.rotation=u,this},setRoundPixels:function(u){return this.roundPixels=u,this},setScene:function(u,d){d===void 0&&(d=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=u,this.isSceneCamera=d;var f=u.sys;return this.sceneManager=f.game.scene,this.scaleManager=f.scale,this.cameraManager=f.cameras,this.updateSystem(),this},setScroll:function(u,d){return d===void 0&&(d=u),this.scrollX=u,this.scrollY=d,this},setSize:function(u,d){return d===void 0&&(d=u),this.width=u,this.height=d,this},setViewport:function(u,d,f,p){return this.x=u,this.y=d,this.width=f,this.height=p,this},setZoom:function(u,d){return u===void 0&&(u=1),d===void 0&&(d=u),u===0&&(u=.001),d===0&&(d=.001),this.zoomX=u,this.zoomY=d,this},setMask:function(u,d){return d===void 0&&(d=!0),this.mask=u,this._maskCamera=d?this.cameraManager.default:this,this},clearMask:function(u){return u===void 0&&(u=!1),u&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var u={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(u.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),u},update:function(){},setIsSceneCamera:function(u){return this.isSceneCamera=u,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var u=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,d=this.sceneManager;u&&!this._customViewport?d.customViewports++:!u&&this._customViewport&&d.customViewports--,this.dirty=!0,this._customViewport=u}},destroy:function(){this.emit(n.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(u){this._x=u,this.updateSystem()}},y:{get:function(){return this._y},set:function(u){this._y=u,this.updateSystem()}},width:{get:function(){return this._width},set:function(u){this._width=u,this.updateSystem()}},height:{get:function(){return this._height},set:function(u){this._height=u,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(u){u!==this._scrollX&&(this._scrollX=u,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(u){u!==this._scrollY&&(this._scrollY=u,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(u){this._zoomX=u,this._zoomY=u,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(u){this._zoomX=u,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(u){this._zoomY=u,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(u){this._rotation=u,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});v.exports=l},38058:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(71911),m=t(67502),a=t(45319),r=t(83419),n=t(31401),e=t(20052),s=t(19715),h=t(28915),i=t(87841),l=t(26099),u=new r({Extends:o,Mixins:[n.PostPipeline],initialize:function(f,p,g,x){o.call(this,f,p,g,x),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new e.Fade(this),this.flashEffect=new e.Flash(this),this.shakeEffect=new e.Shake(this),this.panEffect=new e.Pan(this),this.rotateToEffect=new e.RotateTo(this),this.zoomEffect=new e.Zoom(this),this.lerp=new l(1,1),this.followOffset=new l,this.deadzone=null,this._follow=null},setDeadzone:function(d,f){if(d===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=d,this.deadzone.height=f):this.deadzone=new i(0,0,d,f),this._follow){var p=this.width/2,g=this.height/2,x=this._follow.x-this.followOffset.x,T=this._follow.y-this.followOffset.y;this.midPoint.set(x,T),this.scrollX=x-p,this.scrollY=T-g}m(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(d,f,p,g,x,T){return this.fadeEffect.start(!1,d,f,p,g,!0,x,T)},fadeOut:function(d,f,p,g,x,T){return this.fadeEffect.start(!0,d,f,p,g,!0,x,T)},fadeFrom:function(d,f,p,g,x,T,E){return this.fadeEffect.start(!1,d,f,p,g,x,T,E)},fade:function(d,f,p,g,x,T,E){return this.fadeEffect.start(!0,d,f,p,g,x,T,E)},flash:function(d,f,p,g,x,T,E){return this.flashEffect.start(d,f,p,g,x,T,E)},shake:function(d,f,p,g,x){return this.shakeEffect.start(d,f,p,g,x)},pan:function(d,f,p,g,x,T,E){return this.panEffect.start(d,f,p,g,x,T,E)},rotateTo:function(d,f,p,g,x,T,E){return this.rotateToEffect.start(d,f,p,g,x,T,E)},zoomTo:function(d,f,p,g,x,T){return this.zoomEffect.start(d,f,p,g,x,T)},preRender:function(){this.renderList.length=0;var d=this.width,f=this.height,p=d*.5,g=f*.5,x=this.zoomX,T=this.zoomY,E=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(x)&&Number.isInteger(T);var C=d*this.originX,R=f*this.originY,w=this._follow,F=this.deadzone,I=this.scrollX,L=this.scrollY;F&&m(F,this.midPoint.x,this.midPoint.y);var D=!1;if(w&&!this.panEffect.isRunning){var B=this.lerp,U=w.x-this.followOffset.x,W=w.y-this.followOffset.y;F?(U<F.x?I=h(I,I-(F.x-U),B.x):U>F.right&&(I=h(I,I+(U-F.right),B.x)),W<F.y?L=h(L,L-(F.y-W),B.y):W>F.bottom&&(L=h(L,L+(W-F.bottom),B.y))):(I=h(I,U-C,B.x),L=h(L,W-R,B.y)),D=!0}this.roundPixels&&(I=Math.floor(I),L=Math.floor(L)),this.useBounds&&(I=this.clampX(I),L=this.clampY(L)),this.scrollX=I,this.scrollY=L;var K=I+p,Y=L+g;this.midPoint.set(K,Y);var G=Math.floor(d/x+.5),X=Math.floor(f/T+.5),V=Math.floor(K-G/2+.5),b=Math.floor(Y-X/2+.5);this.worldView.setTo(V,b,G,X),E.applyITRS(Math.floor(this.x+C+.5),Math.floor(this.y+R+.5),this.rotation,x,T),E.translate(-C,-R),this.shakeEffect.preRender(),D&&this.emit(s.FOLLOW_UPDATE,this,w)},setLerp:function(d,f){return d===void 0&&(d=1),f===void 0&&(f=d),this.lerp.set(d,f),this},setFollowOffset:function(d,f){return d===void 0&&(d=0),f===void 0&&(f=0),this.followOffset.set(d,f),this},startFollow:function(d,f,p,g,x,T){f===void 0&&(f=!1),p===void 0&&(p=1),g===void 0&&(g=p),x===void 0&&(x=0),T===void 0&&(T=x),this._follow=d,this.roundPixels=f,p=a(p,0,1),g=a(g,0,1),this.lerp.set(p,g),this.followOffset.set(x,T);var E=this.width/2,C=this.height/2,R=d.x-x,w=d.y-T;return this.midPoint.set(R,w),this.scrollX=R-E,this.scrollY=w-C,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(d,f){this.visible&&(this.rotateToEffect.update(d,f),this.panEffect.update(d,f),this.zoomEffect.update(d,f),this.shakeEffect.update(d,f),this.flashEffect.update(d,f),this.fadeEffect.update(d,f))},destroy:function(){this.resetFX(),o.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});v.exports=u},32743:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(38058),m=t(83419),a=t(95540),r=t(37277),n=t(37303),e=t(97480),s=t(44594),h=new m({initialize:function(l){this.scene=l,this.systems=l.sys,this.roundPixels=l.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,l.sys.events.once(s.BOOT,this.boot,this),l.sys.events.on(s.START,this.start,this)},boot:function(){var i=this.systems;i.settings.cameras?this.fromJSON(i.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new o(0,0,i.scale.width,i.scale.height).setScene(this.scene),i.game.scale.on(e.RESIZE,this.onResize,this),this.systems.events.once(s.DESTROY,this.destroy,this)},start:function(){if(!this.main){var i=this.systems;i.settings.cameras?this.fromJSON(i.settings.cameras):this.add(),this.main=this.cameras[0]}var l=this.systems.events;l.on(s.UPDATE,this.update,this),l.once(s.SHUTDOWN,this.shutdown,this)},add:function(i,l,u,d,f,p){i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=this.scene.sys.scale.width),d===void 0&&(d=this.scene.sys.scale.height),f===void 0&&(f=!1),p===void 0&&(p="");var g=new o(i,l,u,d);return g.setName(p),g.setScene(this.scene),g.setRoundPixels(this.roundPixels),g.id=this.getNextID(),this.cameras.push(g),f&&(this.main=g),g},addExisting:function(i,l){l===void 0&&(l=!1);var u=this.cameras.indexOf(i);return u===-1?(i.id=this.getNextID(),i.setRoundPixels(this.roundPixels),this.cameras.push(i),l&&(this.main=i),i):null},getNextID:function(){for(var i=this.cameras,l=1,u=0;u<32;u++){for(var d=!1,f=0;f<i.length;f++){var p=i[f];if(p&&p.id===l){d=!0;continue}}if(d)l=l<<1;else return l}return 0},getTotal:function(i){i===void 0&&(i=!1);for(var l=0,u=this.cameras,d=0;d<u.length;d++){var f=u[d];(!i||i&&f.visible)&&l++}return l},fromJSON:function(i){Array.isArray(i)||(i=[i]);for(var l=this.scene.sys.scale.width,u=this.scene.sys.scale.height,d=0;d<i.length;d++){var f=i[d],p=a(f,"x",0),g=a(f,"y",0),x=a(f,"width",l),T=a(f,"height",u),E=this.add(p,g,x,T);E.name=a(f,"name",""),E.zoom=a(f,"zoom",1),E.rotation=a(f,"rotation",0),E.scrollX=a(f,"scrollX",0),E.scrollY=a(f,"scrollY",0),E.roundPixels=a(f,"roundPixels",!1),E.visible=a(f,"visible",!0);var C=a(f,"backgroundColor",!1);C&&E.setBackgroundColor(C);var R=a(f,"bounds",null);if(R){var w=a(R,"x",0),F=a(R,"y",0),I=a(R,"width",l),L=a(R,"height",u);E.setBounds(w,F,I,L)}}return this},getCamera:function(i){for(var l=this.cameras,u=0;u<l.length;u++)if(l[u].name===i)return l[u];return null},getCamerasBelowPointer:function(i){for(var l=this.cameras,u=i.x,d=i.y,f=[],p=0;p<l.length;p++){var g=l[p];g.visible&&g.inputEnabled&&n(g,u,d)&&f.unshift(g)}return f},remove:function(i,l){l===void 0&&(l=!0),Array.isArray(i)||(i=[i]);for(var u=0,d=this.cameras,f=0;f<i.length;f++){var p=d.indexOf(i[f]);p!==-1&&(l?d[p].destroy():d[p].renderList=[],d.splice(p,1),u++)}return!this.main&&d[0]&&(this.main=d[0]),u},render:function(i,l){for(var u=this.scene,d=this.cameras,f=0;f<d.length;f++){var p=d[f];if(p.visible&&p.alpha>0){p.preRender();var g=this.getVisibleChildren(l.getChildren(),p);i.render(u,g,p)}}},getVisibleChildren:function(i,l){return i.filter(function(u){return u.willRender(l)})},resetAll:function(){for(var i=0;i<this.cameras.length;i++)this.cameras[i].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(i,l){for(var u=0;u<this.cameras.length;u++)this.cameras[u].update(i,l)},onResize:function(i,l,u,d,f){for(var p=0;p<this.cameras.length;p++){var g=this.cameras[p];g._x===0&&g._y===0&&g._width===d&&g._height===f&&g.setSize(l.width,l.height)}},resize:function(i,l){for(var u=0;u<this.cameras.length;u++)this.cameras[u].setSize(i,l)},shutdown:function(){this.main=void 0;for(var i=0;i<this.cameras.length;i++)this.cameras[i].destroy();this.cameras=[];var l=this.systems.events;l.off(s.UPDATE,this.update,this),l.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(s.START,this.start,this),this.systems.events.off(s.DESTROY,this.destroy,this),this.systems.game.scale.off(e.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});r.register("CameraManager",h,"cameras"),v.exports=h},5020:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),m=t(83419),a=t(19715),r=new m({initialize:function(e){this.camera=e,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(n,e,s,h,i,l,u,d){if(n===void 0&&(n=!0),e===void 0&&(e=1e3),s===void 0&&(s=0),h===void 0&&(h=0),i===void 0&&(i=0),l===void 0&&(l=!1),u===void 0&&(u=null),d===void 0&&(d=this.camera.scene),!l&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=e,this.direction=n,this.progress=0,this.red=s,this.green=h,this.blue=i,this.alpha=n?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=u,this._onUpdateScope=d;var f=n?a.FADE_OUT_START:a.FADE_IN_START;return this.camera.emit(f,this.camera,this,e,s,h,i),this.camera},update:function(n,e){this.isRunning&&(this._elapsed+=e,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(n){if(!this.isRunning&&!this.isComplete)return!1;var e=this.camera;return n.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",n.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(n,e){if(!this.isRunning&&!this.isComplete)return!1;var s=this.camera,h=this.red/255,i=this.green/255,l=this.blue/255;return n.drawFillRect(s.x,s.y,s.width,s.height,e(l,i,h,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var n=this.direction?a.FADE_OUT_COMPLETE:a.FADE_IN_COMPLETE;this.camera.emit(n,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});v.exports=r},10662:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),m=t(83419),a=t(19715),r=new m({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(n,e,s,h,i,l,u){return n===void 0&&(n=250),e===void 0&&(e=255),s===void 0&&(s=255),h===void 0&&(h=255),i===void 0&&(i=!1),l===void 0&&(l=null),u===void 0&&(u=this.camera.scene),!i&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=n,this.progress=0,this.red=e,this.green=s,this.blue=h,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=l,this._onUpdateScope=u,this.camera.emit(a.FLASH_START,this.camera,this,n,e,s,h),this.camera)},update:function(n,e){this.isRunning&&(this._elapsed+=e,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(n){if(!this.isRunning)return!1;var e=this.camera;return n.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",n.fillRect(e.x,e.y,e.width,e.height),!0},postRenderWebGL:function(n,e){if(!this.isRunning)return!1;var s=this.camera,h=this.red/255,i=this.green/255,l=this.blue/255;return n.drawFillRect(s.x,s.y,s.width,s.height,e(l,i,h,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});v.exports=r},20359:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),m=t(83419),a=t(62640),r=t(19715),n=t(26099),e=new m({initialize:function(h){this.camera=h,this.isRunning=!1,this.duration=0,this.source=new n,this.current=new n,this.destination=new n,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(s,h,i,l,u,d,f){i===void 0&&(i=1e3),l===void 0&&(l=a.Linear),u===void 0&&(u=!1),d===void 0&&(d=null),f===void 0&&(f=this.camera.scene);var p=this.camera;return!u&&this.isRunning||(this.isRunning=!0,this.duration=i,this.progress=0,this.source.set(p.scrollX,p.scrollY),this.destination.set(s,h),p.getScroll(s,h,this.current),typeof l=="string"&&a.hasOwnProperty(l)?this.ease=a[l]:typeof l=="function"&&(this.ease=l),this._elapsed=0,this._onUpdate=d,this._onUpdateScope=f,this.camera.emit(r.PAN_START,this.camera,this,i,s,h)),p},update:function(s,h){if(this.isRunning){this._elapsed+=h;var i=o(this._elapsed/this.duration,0,1);this.progress=i;var l=this.camera;if(this._elapsed<this.duration){var u=this.ease(i);l.getScroll(this.destination.x,this.destination.y,this.current);var d=this.source.x+(this.current.x-this.source.x)*u,f=this.source.y+(this.current.y-this.source.y)*u;l.setScroll(d,f),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,l,i,d,f)}else l.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,l,i,l.scrollX,l.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});v.exports=e},34208:(v,S,t)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var o=t(45319),m=t(83419),a=t(19715),r=t(62640),n=new m({initialize:function(s){this.camera=s,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(e,s,h,i,l,u,d){h===void 0&&(h=1e3),i===void 0&&(i=r.Linear),l===void 0&&(l=!1),u===void 0&&(u=null),d===void 0&&(d=this.camera.scene),s===void 0&&(s=!1),this.shortestPath=s;var f=e;e<0?(f=-1*e,this.clockwise=!1):this.clockwise=!0;var p=360*Math.PI/180;f=f-Math.floor(f/p)*p;var g=this.camera;if(!l&&this.isRunning)return g;if(this.isRunning=!0,this.duration=h,this.progress=0,this.source=g.rotation,this.destination=f,typeof i=="string"&&r.hasOwnProperty(i)?this.ease=r[i]:typeof i=="function"&&(this.ease=i),this._elapsed=0,this._onUpdate=u,this._onUpdateScope=d,this.shortestPath){var x=0,T=0;this.destination>this.source?x=Math.abs(this.destination-this.source):x=Math.abs(this.destination+p)-this.source,this.source>this.destination?T=Math.abs(this.source-this.destination):T=Math.abs(this.source+p)-this.destination,x<T?this.clockwise=!0:x>T&&(this.clockwise=!1)}return this.camera.emit(a.ROTATE_START,this.camera,this,h,f),g},update:function(e,s){if(this.isRunning){this._elapsed+=s;var h=o(this._elapsed/this.duration,0,1);this.progress=h;var i=this.camera;if(this._elapsed<this.duration){var l=this.ease(h);this.current=i.rotation;var u=0,d=360*Math.PI/180,f=this.destination,p=this.current;this.clockwise===!1&&(f=this.current,p=this.destination),f>=p?u=Math.abs(f-p):u=Math.abs(f+d)-p;var g=0;this.clockwise?g=i.rotation+u*l:g=i.rotation-u*l,i.rotation=g,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,i,h,g)}else i.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,i,h,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});v.exports=n},30330:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),m=t(83419),a=t(19715),r=t(26099),n=new m({initialize:function(s){this.camera=s,this.isRunning=!1,this.duration=0,this.intensity=new r,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(e,s,h,i,l){return e===void 0&&(e=100),s===void 0&&(s=.05),h===void 0&&(h=!1),i===void 0&&(i=null),l===void 0&&(l=this.camera.scene),!h&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=e,this.progress=0,typeof s=="number"?this.intensity.set(s):this.intensity.set(s.x,s.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=i,this._onUpdateScope=l,this.camera.emit(a.SHAKE_START,this.camera,this,e,s),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(e,s){if(this.isRunning)if(this._elapsed+=s,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var h=this.intensity,i=this.camera.width,l=this.camera.height,u=this.camera.zoom;this._offsetX=(Math.random()*h.x*i*2-h.x*i)*u,this._offsetY=(Math.random()*h.y*l*2-h.y*l)*u,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});v.exports=n},45641:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),m=t(83419),a=t(62640),r=t(19715),n=new m({initialize:function(s){this.camera=s,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,s,h,i,l,u){s===void 0&&(s=1e3),h===void 0&&(h=a.Linear),i===void 0&&(i=!1),l===void 0&&(l=null),u===void 0&&(u=this.camera.scene);var d=this.camera;return!i&&this.isRunning||(this.isRunning=!0,this.duration=s,this.progress=0,this.source=d.zoom,this.destination=e,typeof h=="string"&&a.hasOwnProperty(h)?this.ease=a[h]:typeof h=="function"&&(this.ease=h),this._elapsed=0,this._onUpdate=l,this._onUpdateScope=u,this.camera.emit(r.ZOOM_START,this.camera,this,s,e)),d},update:function(e,s){this.isRunning&&(this._elapsed+=s,this.progress=o(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});v.exports=n},20052:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Fade:t(5020),Flash:t(10662),Pan:t(20359),Shake:t(30330),RotateTo:t(34208),Zoom:t(45641)}},16438:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="cameradestroy"},32726:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerafadeincomplete"},87807:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerafadeinstart"},45917:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerafadeoutcomplete"},95666:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerafadeoutstart"},47056:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="cameraflashcomplete"},91261:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="cameraflashstart"},45047:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="followupdate"},81927:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerapancomplete"},74264:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerapanstart"},54419:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="postrender"},79330:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="prerender"},93183:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerarotatecomplete"},80112:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerarotatestart"},62252:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerashakecomplete"},86017:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerashakestart"},539:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerazoomcomplete"},51892:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="camerazoomstart"},19715:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={DESTROY:t(16438),FADE_IN_COMPLETE:t(32726),FADE_IN_START:t(87807),FADE_OUT_COMPLETE:t(45917),FADE_OUT_START:t(95666),FLASH_COMPLETE:t(47056),FLASH_START:t(91261),FOLLOW_UPDATE:t(45047),PAN_COMPLETE:t(81927),PAN_START:t(74264),POST_RENDER:t(54419),PRE_RENDER:t(79330),ROTATE_COMPLETE:t(93183),ROTATE_START:t(80112),SHAKE_COMPLETE:t(62252),SHAKE_START:t(86017),ZOOM_COMPLETE:t(539),ZOOM_START:t(51892)}},87969:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Camera:t(38058),BaseCamera:t(71911),CameraManager:t(32743),Effects:t(20052),Events:t(19715)}},63091:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(35154),a=new o({initialize:function(n){this.camera=m(n,"camera",null),this.left=m(n,"left",null),this.right=m(n,"right",null),this.up=m(n,"up",null),this.down=m(n,"down",null),this.zoomIn=m(n,"zoomIn",null),this.zoomOut=m(n,"zoomOut",null),this.zoomSpeed=m(n,"zoomSpeed",.01),this.minZoom=m(n,"minZoom",.001),this.maxZoom=m(n,"maxZoom",1e3),this.speedX=0,this.speedY=0;var e=m(n,"speed",null);typeof e=="number"?(this.speedX=e,this.speedY=e):(this.speedX=m(n,"speed.x",0),this.speedY=m(n,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(r){return this.camera=r,this},update:function(r){if(this.active){r===void 0&&(r=1);var n=this.camera;this.up&&this.up.isDown?n.scrollY-=this.speedY*r|0:this.down&&this.down.isDown&&(n.scrollY+=this.speedY*r|0),this.left&&this.left.isDown?n.scrollX-=this.speedX*r|0:this.right&&this.right.isDown&&(n.scrollX+=this.speedX*r|0),this.zoomIn&&this.zoomIn.isDown?(n.zoom-=this.zoomSpeed,n.zoom<this.minZoom&&(n.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(n.zoom+=this.zoomSpeed,n.zoom>this.maxZoom&&(n.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});v.exports=a},58818:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(35154),a=new o({initialize:function(n){this.camera=m(n,"camera",null),this.left=m(n,"left",null),this.right=m(n,"right",null),this.up=m(n,"up",null),this.down=m(n,"down",null),this.zoomIn=m(n,"zoomIn",null),this.zoomOut=m(n,"zoomOut",null),this.zoomSpeed=m(n,"zoomSpeed",.01),this.minZoom=m(n,"minZoom",.001),this.maxZoom=m(n,"maxZoom",1e3),this.accelX=0,this.accelY=0;var e=m(n,"acceleration",null);typeof e=="number"?(this.accelX=e,this.accelY=e):(this.accelX=m(n,"acceleration.x",0),this.accelY=m(n,"acceleration.y",0)),this.dragX=0,this.dragY=0;var s=m(n,"drag",null);typeof s=="number"?(this.dragX=s,this.dragY=s):(this.dragX=m(n,"drag.x",0),this.dragY=m(n,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var h=m(n,"maxSpeed",null);typeof h=="number"?(this.maxSpeedX=h,this.maxSpeedY=h):(this.maxSpeedX=m(n,"maxSpeed.x",0),this.maxSpeedY=m(n,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(r){return this.camera=r,this},update:function(r){if(this.active){r===void 0&&(r=1);var n=this.camera;this._speedX>0?(this._speedX-=this.dragX*r,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*r,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*r,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*r,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(n.scrollX-=this._speedX*r|0),this._speedY!==0&&(n.scrollY-=this._speedY*r|0),this._zoom!==0&&(n.zoom+=this._zoom,n.zoom<this.minZoom?n.zoom=this.minZoom:n.zoom>this.maxZoom&&(n.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});v.exports=a},38865:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={FixedKeyControl:t(63091),SmoothedKeyControl:t(58818)}},26638:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Controls:t(38865),Scene2D:t(87969)}},8054:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={VERSION:"3.88.2",LOG_VERSION:"v388",BlendModes:t(10312),ScaleModes:t(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};v.exports=o},69547:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(8054),a=t(42363),r=t(82264),n=t(95540),e=t(35154),s=t(41212),h=t(29747),i=t(75508),l=t(36060),u=t(80333),d=new o({initialize:function(p){p===void 0&&(p={});var g=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],x="#ffffff",T=e(p,"scale",null);this.width=e(T,"width",1024,p),this.height=e(T,"height",768,p),this.zoom=e(T,"zoom",1,p),this.parent=e(T,"parent",void 0,p),this.scaleMode=e(T,T?"mode":"scaleMode",0,p),this.expandParent=e(T,"expandParent",!0,p),this.autoRound=e(T,"autoRound",!1,p),this.autoCenter=e(T,"autoCenter",0,p),this.resizeInterval=e(T,"resizeInterval",500,p),this.fullscreenTarget=e(T,"fullscreenTarget",null,p),this.minWidth=e(T,"min.width",0,p),this.maxWidth=e(T,"max.width",0,p),this.minHeight=e(T,"min.height",0,p),this.maxHeight=e(T,"max.height",0,p),this.snapWidth=e(T,"snap.width",0,p),this.snapHeight=e(T,"snap.height",0,p),this.renderType=e(p,"type",m.AUTO),this.canvas=e(p,"canvas",null),this.context=e(p,"context",null),this.canvasStyle=e(p,"canvasStyle",null),this.customEnvironment=e(p,"customEnvironment",!1),this.sceneConfig=e(p,"scene",null),this.seed=e(p,"seed",[(Date.now()*Math.random()).toString()]),i.RND=new i.RandomDataGenerator(this.seed),this.gameTitle=e(p,"title",""),this.gameURL=e(p,"url","https://phaser.io/"+m.LOG_VERSION),this.gameVersion=e(p,"version",""),this.autoFocus=e(p,"autoFocus",!0),this.stableSort=e(p,"stableSort",-1),this.stableSort===-1&&(this.stableSort=r.browser.es2019?1:0),r.features.stableSort=this.stableSort,this.domCreateContainer=e(p,"dom.createContainer",!1),this.domPointerEvents=e(p,"dom.pointerEvents","none"),this.inputKeyboard=e(p,"input.keyboard",!0),this.inputKeyboardEventTarget=e(p,"input.keyboard.target",window),this.inputKeyboardCapture=e(p,"input.keyboard.capture",[]),this.inputMouse=e(p,"input.mouse",!0),this.inputMouseEventTarget=e(p,"input.mouse.target",null),this.inputMousePreventDefaultDown=e(p,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=e(p,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=e(p,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=e(p,"input.mouse.preventDefaultWheel",!0),this.inputTouch=e(p,"input.touch",r.input.touch),this.inputTouchEventTarget=e(p,"input.touch.target",null),this.inputTouchCapture=e(p,"input.touch.capture",!0),this.inputActivePointers=e(p,"input.activePointers",1),this.inputSmoothFactor=e(p,"input.smoothFactor",0),this.inputWindowEvents=e(p,"input.windowEvents",!0),this.inputGamepad=e(p,"input.gamepad",!1),this.inputGamepadEventTarget=e(p,"input.gamepad.target",window),this.disableContextMenu=e(p,"disableContextMenu",!1),this.audio=e(p,"audio",{}),this.hideBanner=e(p,"banner",null)===!1,this.hidePhaser=e(p,"banner.hidePhaser",!1),this.bannerTextColor=e(p,"banner.text",x),this.bannerBackgroundColor=e(p,"banner.background",g),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=e(p,"fps",null),this.disablePreFX=e(p,"disablePreFX",!1),this.disablePostFX=e(p,"disablePostFX",!1);var E=e(p,"render",null);this.pipeline=e(E,"pipeline",null,p),this.autoMobilePipeline=e(E,"autoMobilePipeline",!0,p),this.defaultPipeline=e(E,"defaultPipeline",l.MULTI_PIPELINE,p),this.antialias=e(E,"antialias",!0,p),this.antialiasGL=e(E,"antialiasGL",!0,p),this.mipmapFilter=e(E,"mipmapFilter","",p),this.desynchronized=e(E,"desynchronized",!1,p),this.roundPixels=e(E,"roundPixels",!1,p),this.pixelArt=e(E,"pixelArt",this.zoom!==1,p),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=e(E,"transparent",!1,p),this.clearBeforeRender=e(E,"clearBeforeRender",!0,p),this.preserveDrawingBuffer=e(E,"preserveDrawingBuffer",!1,p),this.premultipliedAlpha=e(E,"premultipliedAlpha",!0,p),this.failIfMajorPerformanceCaveat=e(E,"failIfMajorPerformanceCaveat",!1,p),this.powerPreference=e(E,"powerPreference","default",p),this.batchSize=e(E,"batchSize",4096,p),this.maxTextures=e(E,"maxTextures",-1,p),this.maxLights=e(E,"maxLights",10,p);var C=e(p,"backgroundColor",0);this.backgroundColor=u(C),this.transparent&&(this.backgroundColor=u(0),this.backgroundColor.alpha=0),this.preBoot=e(p,"callbacks.preBoot",h),this.postBoot=e(p,"callbacks.postBoot",h),this.physics=e(p,"physics",{}),this.defaultPhysicsSystem=e(this.physics,"default",!1),this.loaderBaseURL=e(p,"loader.baseURL",""),this.loaderPath=e(p,"loader.path",""),this.loaderMaxParallelDownloads=e(p,"loader.maxParallelDownloads",r.os.android?6:32),this.loaderCrossOrigin=e(p,"loader.crossOrigin",void 0),this.loaderResponseType=e(p,"loader.responseType",""),this.loaderAsync=e(p,"loader.async",!0),this.loaderUser=e(p,"loader.user",""),this.loaderPassword=e(p,"loader.password",""),this.loaderTimeout=e(p,"loader.timeout",0),this.loaderMaxRetries=e(p,"loader.maxRetries",2),this.loaderWithCredentials=e(p,"loader.withCredentials",!1),this.loaderImageLoadType=e(p,"loader.imageLoadType","XHR"),this.loaderLocalScheme=e(p,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=e(p,"fx.glow.quality",.1),this.glowFXDistance=e(p,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var R=e(p,"plugins",null),w=a.DefaultScene;R&&(Array.isArray(R)?this.defaultPlugins=R:s(R)&&(this.installGlobalPlugins=n(R,"global",[]),this.installScenePlugins=n(R,"scene",[]),Array.isArray(R.default)?w=R.default:Array.isArray(R.defaultMerge)&&(w=w.concat(R.defaultMerge)))),this.defaultPlugins=w;var F="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=e(p,"images.default",F+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=e(p,"images.missing",F+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=e(p,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=m.WEBGL:window.FORCE_CANVAS&&(this.renderType=m.CANVAS))}});v.exports=d},86054:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20623),m=t(27919),a=t(8054),r=t(89357),n=function(e){var s=e.config;if((s.customEnvironment||s.canvas)&&s.renderType===a.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!s.customEnvironment&&!s.canvas&&s.renderType!==a.HEADLESS)if(s.renderType===a.AUTO&&(s.renderType=r.webGL?a.WEBGL:a.CANVAS),s.renderType===a.WEBGL){if(!r.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(s.renderType===a.CANVAS){if(!r.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+s.renderType);s.antialias||m.disableSmoothing();var h=e.scale.baseSize,i=h.width,l=h.height;if(s.canvas?(e.canvas=s.canvas,e.canvas.width=i,e.canvas.height=l):e.canvas=m.create(e,i,l,s.renderType),s.canvasStyle&&(e.canvas.style=s.canvasStyle),s.antialias||o.setCrisp(e.canvas),s.renderType!==a.HEADLESS){var u,d;u=t(68627),d=t(74797),s.renderType===a.WEBGL?e.renderer=new d(e):(e.renderer=new u(e),e.context=e.renderer.gameContext)}};v.exports=n},96391:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(8054),m=function(a){var r=a.config;if(!r.hideBanner){var n="WebGL";r.renderType===o.CANVAS?n="Canvas":r.renderType===o.HEADLESS&&(n="Headless");var e=r.audio,s=a.device.audio,h;if(s.webAudio&&!e.disableWebAudio?h="Web Audio":e.noAudio||!s.webAudio&&!s.audioData?h="No Audio":h="HTML5 Audio",a.device.browser.ie)window.console&&console.log("Phaser v"+o.VERSION+" / https://phaser.io");else{var i="",l=[i];if(Array.isArray(r.bannerBackgroundColor)){var u;r.bannerBackgroundColor.forEach(function(f){i=i.concat("%c "),l.push("background: "+f),u=f}),l[l.length-1]="color: "+r.bannerTextColor+"; background: "+u}else i=i.concat("%c "),l.push("color: "+r.bannerTextColor+"; background: "+r.bannerBackgroundColor);l.push("background: transparent"),r.gameTitle&&(i=i.concat(r.gameTitle),r.gameVersion&&(i=i.concat(" v"+r.gameVersion)),r.hidePhaser||(i=i.concat(" / ")));var d="";r.hidePhaser||(i=i.concat("Phaser v"+o.VERSION+d+" ("+n+" | "+h+")")),i=i.concat(" %c "+r.gameURL),l[0]=i,console.log.apply(console,l)}}};v.exports=m},50127:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40366),m=t(60848),a=t(24047),r=t(27919),n=t(83419),e=t(69547),s=t(83719),h=t(86054),i=t(45893),l=t(96391),u=t(82264),d=t(57264),f=t(50792),p=t(8443),g=t(7003),x=t(37277),T=t(77332),E=t(76531),C=t(60903),R=t(69442),w=t(17130),F=t(65898),I=t(51085),L=t(14747),D=new n({initialize:function(U){this.config=new e(U),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new f,this.anims=new m(this),this.textures=new w(this),this.cache=new a(this),this.registry=new i(this,new f),this.input=new g(this,this.config),this.scene=new C(this,this.config.sceneConfig),this.device=u,this.scale=new E(this,this.config),this.sound=null,this.sound=L.create(this),this.loop=new F(this,this.config.fps),this.plugins=new T(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,d(this.boot.bind(this))},boot:function(){if(!x.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),h(this),s(this),l(this),o(this.canvas,this.config.parent),this.textures.once(R.READY,this.texturesReady,this),this.events.emit(p.BOOT)},texturesReady:function(){this.events.emit(p.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),I(this);var B=this.events;B.on(p.HIDDEN,this.onHidden,this),B.on(p.VISIBLE,this.onVisible,this),B.on(p.BLUR,this.onBlur,this),B.on(p.FOCUS,this.onFocus,this)},step:function(B,U){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var W=this.events;W.emit(p.PRE_STEP,B,U),W.emit(p.STEP,B,U),this.scene.update(B,U),W.emit(p.POST_STEP,B,U);var K=this.renderer;K.preRender(),W.emit(p.PRE_RENDER,K,B,U),this.scene.render(K),K.postRender(),W.emit(p.POST_RENDER,K,B,U)}},headlessStep:function(B,U){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var W=this.events;W.emit(p.PRE_STEP,B,U),W.emit(p.STEP,B,U),this.scene.update(B,U),W.emit(p.POST_STEP,B,U),this.scene.isProcessing=!1,W.emit(p.PRE_RENDER,null,B,U),W.emit(p.POST_RENDER,null,B,U)}},onHidden:function(){this.loop.pause(),this.events.emit(p.PAUSE)},pause:function(){var B=this.isPaused;this.isPaused=!0,B||this.events.emit(p.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(p.RESUME,this.loop.pauseDuration)},resume:function(){var B=this.isPaused;this.isPaused=!1,B&&this.events.emit(p.RESUME,0)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(B,U){U===void 0&&(U=!1),this.pendingDestroy=!0,this.removeCanvas=B,this.noReturn=U},runDestroy:function(){this.scene.destroy(),this.events.emit(p.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(r.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});v.exports=D},65898:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(35154),a=t(29747),r=t(43092),n=new o({initialize:function(s,h){this.game=s,this.raf=new r,this.started=!1,this.running=!1,this.minFps=m(h,"min",5),this.targetFps=m(h,"target",60),this.fpsLimit=m(h,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=a,this.forceSetTimeOut=m(h,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=m(h,"deltaHistory",10),this.panicMax=m(h,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=m(h,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},resetDelta:function(){var e=window.performance.now();this.time=e,this.lastTime=e,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0;for(var s=0;s<this.deltaSmoothingMax;s++)this.deltaHistory[s]=Math.min(this._target,this.deltaHistory[s]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(e){if(this.started)return this;this.started=!0,this.running=!0;for(var s=0;s<this.deltaSmoothingMax;s++)this.deltaHistory[s]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=e;var h=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(h,this.forceSetTimeOut,this._target)},smoothDelta:function(e){var s=this.deltaIndex,h=this.deltaHistory,i=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,e=Math.min(e,this._target)),e>this._min&&(e=h[s],e=Math.min(e,this._min)),h[s]=e,this.deltaIndex++,this.deltaIndex>=i&&(this.deltaIndex=0);for(var l=0,u=0;u<i;u++)l+=h[u];return l/=i,l},updateFPS:function(e){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0},stepLimitFPS:function(e){this.now=e;var s=Math.max(0,e-this.lastTime);this.rawDelta=s,this.time+=this.rawDelta,this.smoothStep&&(s=this.smoothDelta(s)),this.delta+=s,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(e,this.delta),this.delta=0),this.lastTime=e,this.frame++},step:function(e){this.now=e;var s=Math.max(0,e-this.lastTime);this.rawDelta=s,this.time+=this.rawDelta,this.smoothStep&&(s=this.smoothDelta(s)),this.delta=s,e>=this.nextFpsUpdate&&this.updateFPS(e),this.framesThisSecond++,this.callback(e,s),this.lastTime=e,this.frame++},tick:function(){var e=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(e):this.step(e)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(e){e===void 0&&(e=!1);var s=window.performance.now();if(!this.running){e&&(this.startTime+=-this.lastTime+(this.lastTime+s));var h=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(h,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=s+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});v.exports=n},51085:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(8443),m=function(a){var r,n=a.events;if(document.hidden!==void 0)r="visibilitychange";else{var e=["webkit","moz","ms"];e.forEach(function(h){document[h+"Hidden"]!==void 0&&(document.hidden=function(){return document[h+"Hidden"]},r=h+"visibilitychange")})}var s=function(h){document.hidden||h.type==="pause"?n.emit(o.HIDDEN):n.emit(o.VISIBLE)};r&&document.addEventListener(r,s,!1),window.onblur=function(){n.emit(o.BLUR)},window.onfocus=function(){n.emit(o.FOCUS)},window.focus&&a.config.autoFocus&&window.focus()};v.exports=m},97217:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="blur"},47548:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="boot"},19814:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="contextlost"},68446:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="destroy"},41700:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="focus"},25432:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="hidden"},65942:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pause"},59211:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="postrender"},47789:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="poststep"},39066:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="prerender"},460:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="prestep"},16175:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="ready"},42331:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resume"},11966:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="step"},32969:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="systemready"},94830:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="visible"},8443:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BLUR:t(97217),BOOT:t(47548),CONTEXT_LOST:t(19814),DESTROY:t(68446),FOCUS:t(41700),HIDDEN:t(25432),PAUSE:t(65942),POST_RENDER:t(59211),POST_STEP:t(47789),PRE_RENDER:t(39066),PRE_STEP:t(460),READY:t(16175),RESUME:t(42331),STEP:t(11966),SYSTEM_READY:t(32969),VISIBLE:t(94830)}},42857:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Config:t(69547),CreateRenderer:t(86054),DebugHeader:t(96391),Events:t(8443),TimeStep:t(65898),VisibilityHandler:t(51085)}},99584:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(5290),m=t(27919),a=t(35154),r=function(n){var e=a(n,"data",[]),s=a(n,"canvas",null),h=a(n,"palette",o),i=a(n,"pixelWidth",1),l=a(n,"pixelHeight",i),u=a(n,"resizeCanvas",!0),d=a(n,"clearCanvas",!0),f=a(n,"preRender",null),p=a(n,"postRender",null),g=Math.floor(Math.abs(e[0].length*i)),x=Math.floor(Math.abs(e.length*l));s||(s=m.create2D(this,g,x),u=!1,d=!1),u&&(s.width=g,s.height=x);var T=s.getContext("2d",{willReadFrequently:!0});d&&T.clearRect(0,0,g,x),f&&f(s,T);for(var E=0;E<e.length;E++)for(var C=e[E],R=0;R<C.length;R++){var w=C[R];w!=="."&&w!==" "&&(T.fillStyle=h[w],T.fillRect(R*i,E*l,i,l))}return p&&p(s,T),s};v.exports=r},15822:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={GenerateTexture:t(99584),Palettes:t(57763)}},5290:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ARNE16:t(5290),C64:t(23816),CGA:t(9866),JMP:t(77552),MSX:t(92259)}},46728:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(36316),a=t(80021),r=t(26099),n=new o({Extends:a,initialize:function(s,h,i,l){a.call(this,"CubicBezierCurve"),Array.isArray(s)&&(l=new r(s[6],s[7]),i=new r(s[4],s[5]),h=new r(s[2],s[3]),s=new r(s[0],s[1])),this.p0=s,this.p1=h,this.p2=i,this.p3=l},getStartPoint:function(e){return e===void 0&&(e=new r),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,s){s===void 0&&(s=new r);var h=this.p0,i=this.p1,l=this.p2,u=this.p3;return s.set(m(e,h.x,i.x,l.x,u.x),m(e,h.y,i.y,l.y,u.y))},draw:function(e,s){s===void 0&&(s=32);var h=this.getPoints(s);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var i=1;i<h.length;i++)e.lineTo(h[i].x,h[i].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});n.fromJSON=function(e){var s=e.points,h=new r(s[0],s[1]),i=new r(s[2],s[3]),l=new r(s[4],s[5]),u=new r(s[6],s[7]);return new n(h,i,l,u)},v.exports=n},80021:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(19217),a=t(87841),r=t(26099),n=new o({initialize:function(s){this.type=s,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new r,this._tmpVec2B=new r},draw:function(e,s){return s===void 0&&(s=32),e.strokePoints(this.getPoints(s))},getBounds:function(e,s){e||(e=new a),s===void 0&&(s=16);var h=this.getLength();s>h&&(s=h/2);var i=Math.max(1,Math.round(h/s));return m(this.getSpacedPoints(i),e)},getDistancePoints:function(e){var s=this.getLength(),h=Math.max(1,s/e);return this.getSpacedPoints(h)},getEndPoint:function(e){return e===void 0&&(e=new r),this.getPointAt(1,e)},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var s=[],h,i=this.getPoint(0,this._tmpVec2A),l=0;s.push(0);for(var u=1;u<=e;u++)h=this.getPoint(u/e,this._tmpVec2B),l+=h.distance(i),s.push(l),i.copy(h);return this.cacheArcLengths=s,s},getPointAt:function(e,s){var h=this.getUtoTmapping(e);return this.getPoint(h,s)},getPoints:function(e,s,h){h===void 0&&(h=[]),e||(s?e=this.getLength()/s:e=this.defaultDivisions);for(var i=0;i<=e;i++)h.push(this.getPoint(i/e));return h},getRandomPoint:function(e){return e===void 0&&(e=new r),this.getPoint(Math.random(),e)},getSpacedPoints:function(e,s,h){h===void 0&&(h=[]),e||(s?e=this.getLength()/s:e=this.defaultDivisions);for(var i=0;i<=e;i++){var l=this.getUtoTmapping(i/e,null,e);h.push(this.getPoint(l))}return h},getStartPoint:function(e){return e===void 0&&(e=new r),this.getPointAt(0,e)},getTangent:function(e,s){s===void 0&&(s=new r);var h=1e-4,i=e-h,l=e+h;return i<0&&(i=0),l>1&&(l=1),this.getPoint(i,this._tmpVec2A),this.getPoint(l,s),s.subtract(this._tmpVec2A).normalize()},getTangentAt:function(e,s){var h=this.getUtoTmapping(e);return this.getTangent(h,s)},getTFromDistance:function(e,s){return e<=0?0:this.getUtoTmapping(0,e,s)},getUtoTmapping:function(e,s,h){var i=this.getLengths(h),l=0,u=i.length,d;s?d=Math.min(s,i[u-1]):d=e*i[u-1];for(var f=0,p=u-1,g;f<=p;)if(l=Math.floor(f+(p-f)/2),g=i[l]-d,g<0)f=l+1;else if(g>0)p=l-1;else{p=l;break}if(l=p,i[l]===d)return l/(u-1);var x=i[l],T=i[l+1],E=T-x,C=(d-x)/E;return(l+C)/(u-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});v.exports=n},73825:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(80021),a=t(39506),r=t(35154),n=t(43396),e=t(26099),s=new o({Extends:m,initialize:function(i,l,u,d,f,p,g,x){if(typeof i=="object"){var T=i;i=r(T,"x",0),l=r(T,"y",0),u=r(T,"xRadius",0),d=r(T,"yRadius",u),f=r(T,"startAngle",0),p=r(T,"endAngle",360),g=r(T,"clockwise",!1),x=r(T,"rotation",0)}else d===void 0&&(d=u),f===void 0&&(f=0),p===void 0&&(p=360),g===void 0&&(g=!1),x===void 0&&(x=0);m.call(this,"EllipseCurve"),this.p0=new e(i,l),this._xRadius=u,this._yRadius=d,this._startAngle=a(f),this._endAngle=a(p),this._clockwise=g,this._rotation=a(x)},getStartPoint:function(h){return h===void 0&&(h=new e),this.getPoint(0,h)},getResolution:function(h){return h*2},getPoint:function(h,i){i===void 0&&(i=new e);for(var l=Math.PI*2,u=this._endAngle-this._startAngle,d=Math.abs(u)<Number.EPSILON;u<0;)u+=l;for(;u>l;)u-=l;u<Number.EPSILON&&(d?u=0:u=l),this._clockwise&&!d&&(u===l?u=-l:u=u-l);var f=this._startAngle+h*u,p=this.p0.x+this._xRadius*Math.cos(f),g=this.p0.y+this._yRadius*Math.sin(f);if(this._rotation!==0){var x=Math.cos(this._rotation),T=Math.sin(this._rotation),E=p-this.p0.x,C=g-this.p0.y;p=E*x-C*T+this.p0.x,g=E*T+C*x+this.p0.y}return i.set(p,g)},setXRadius:function(h){return this.xRadius=h,this},setYRadius:function(h){return this.yRadius=h,this},setWidth:function(h){return this.xRadius=h/2,this},setHeight:function(h){return this.yRadius=h/2,this},setStartAngle:function(h){return this.startAngle=h,this},setEndAngle:function(h){return this.endAngle=h,this},setClockwise:function(h){return this.clockwise=h,this},setRotation:function(h){return this.rotation=h,this},x:{get:function(){return this.p0.x},set:function(h){this.p0.x=h}},y:{get:function(){return this.p0.y},set:function(h){this.p0.y=h}},xRadius:{get:function(){return this._xRadius},set:function(h){this._xRadius=h}},yRadius:{get:function(){return this._yRadius},set:function(h){this._yRadius=h}},startAngle:{get:function(){return n(this._startAngle)},set:function(h){this._startAngle=a(h)}},endAngle:{get:function(){return n(this._endAngle)},set:function(h){this._endAngle=a(h)}},clockwise:{get:function(){return this._clockwise},set:function(h){this._clockwise=h}},angle:{get:function(){return n(this._rotation)},set:function(h){this._rotation=a(h)}},rotation:{get:function(){return this._rotation},set:function(h){this._rotation=h}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:n(this._startAngle),endAngle:n(this._endAngle),clockwise:this._clockwise,rotation:n(this._rotation)}}});s.fromJSON=function(h){return new s(h)},v.exports=s},33951:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(80021),a=t(19217),r=t(87841),n=t(26099),e=new o({Extends:m,initialize:function(h,i){m.call(this,"LineCurve"),Array.isArray(h)&&(i=new n(h[2],h[3]),h=new n(h[0],h[1])),this.p0=h,this.p1=i,this.arcLengthDivisions=1},getBounds:function(s){return s===void 0&&(s=new r),a([this.p0,this.p1],s)},getStartPoint:function(s){return s===void 0&&(s=new n),s.copy(this.p0)},getResolution:function(s){return s===void 0&&(s=1),s},getPoint:function(s,h){return h===void 0&&(h=new n),s===1?h.copy(this.p1):(h.copy(this.p1).subtract(this.p0).scale(s).add(this.p0),h)},getPointAt:function(s,h){return this.getPoint(s,h)},getTangent:function(s,h){return h===void 0&&(h=new n),h.copy(this.p1).subtract(this.p0).normalize(),h},getUtoTmapping:function(s,h,i){var l;if(h){var u=this.getLengths(i),d=u[u.length-1],f=Math.min(h,d);l=f/d}else l=s;return l},draw:function(s){return s.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),s},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});e.fromJSON=function(s){var h=s.points,i=new n(h[0],h[1]),l=new n(h[2],h[3]);return new e(i,l)},v.exports=e},14744:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(80021),a=t(32112),r=t(26099),n=new o({Extends:m,initialize:function(s,h,i){m.call(this,"QuadraticBezierCurve"),Array.isArray(s)&&(i=new r(s[4],s[5]),h=new r(s[2],s[3]),s=new r(s[0],s[1])),this.p0=s,this.p1=h,this.p2=i},getStartPoint:function(e){return e===void 0&&(e=new r),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,s){s===void 0&&(s=new r);var h=this.p0,i=this.p1,l=this.p2;return s.set(a(e,h.x,i.x,l.x),a(e,h.y,i.y,l.y))},draw:function(e,s){s===void 0&&(s=32);var h=this.getPoints(s);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var i=1;i<h.length;i++)e.lineTo(h[i].x,h[i].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});n.fromJSON=function(e){var s=e.points,h=new r(s[0],s[1]),i=new r(s[2],s[3]),l=new r(s[4],s[5]);return new n(h,i,l)},v.exports=n},42534:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87842),m=t(83419),a=t(80021),r=t(26099),n=new m({Extends:a,initialize:function(s){s===void 0&&(s=[]),a.call(this,"SplineCurve"),this.points=[],this.addPoints(s)},addPoints:function(e){for(var s=0;s<e.length;s++){var h=new r;typeof e[s]=="number"?(h.x=e[s],h.y=e[s+1],s++):Array.isArray(e[s])?(h.x=e[s][0],h.y=e[s][1]):(h.x=e[s].x,h.y=e[s].y),this.points.push(h)}return this},addPoint:function(e,s){var h=new r(e,s);return this.points.push(h),h},getStartPoint:function(e){return e===void 0&&(e=new r),e.copy(this.points[0])},getResolution:function(e){return e*this.points.length},getPoint:function(e,s){s===void 0&&(s=new r);var h=this.points,i=(h.length-1)*e,l=Math.floor(i),u=i-l,d=h[l===0?l:l-1],f=h[l],p=h[l>h.length-2?h.length-1:l+1],g=h[l>h.length-3?h.length-1:l+2];return s.set(o(u,d.x,f.x,p.x,g.x),o(u,d.y,f.y,p.y,g.y))},toJSON:function(){for(var e=[],s=0;s<this.points.length;s++)e.push(this.points[s].x),e.push(this.points[s].y);return{type:this.type,points:e}}});n.fromJSON=function(e){return new n(e.points)},v.exports=n},25410:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Path:t(46669),MoveTo:t(68618),CubicBezier:t(46728),Curve:t(80021),Ellipse:t(73825),Line:t(33951),QuadraticBezier:t(14744),Spline:t(42534)}},68618:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(26099),a=new o({initialize:function(n,e){this.active=!1,this.p0=new m(n,e)},getPoint:function(r,n){return n===void 0&&(n=new m),n.copy(this.p0)},getPointAt:function(r,n){return this.getPoint(r,n)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});v.exports=a},46669:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(46728),a=t(73825),r=t(39429),n=t(33951),e=t(68618),s=t(14744),h=t(87841),i=t(42534),l=t(26099),u=t(36383),d=new o({initialize:function(p,g){p===void 0&&(p=0),g===void 0&&(g=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new l,this._tmpVec2A=new l,this._tmpVec2B=new l,typeof p=="object"?this.fromJSON(p):this.startPoint.set(p,g)},add:function(f){return this.curves.push(f),this},circleTo:function(f,p,g){return p===void 0&&(p=!1),this.ellipseTo(f,f,0,360,p,g)},closePath:function(){var f=this.curves[0].getPoint(0),p=this.curves[this.curves.length-1].getPoint(1);return f.equals(p)||this.curves.push(new n(p,f)),this},cubicBezierTo:function(f,p,g,x,T,E){var C=this.getEndPoint(),R,w,F;return f instanceof l?(R=f,w=p,F=g):(R=new l(g,x),w=new l(T,E),F=new l(f,p)),this.add(new m(C,R,w,F))},quadraticBezierTo:function(f,p,g,x){var T=this.getEndPoint(),E,C;return f instanceof l?(E=f,C=p):(E=new l(g,x),C=new l(f,p)),this.add(new s(T,E,C))},draw:function(f,p){for(var g=0;g<this.curves.length;g++){var x=this.curves[g];x.active&&x.draw(f,p)}return f},ellipseTo:function(f,p,g,x,T,E){var C=new a(0,0,f,p,g,x,T,E),R=this.getEndPoint(this._tmpVec2A),w=C.getStartPoint(this._tmpVec2B);return R.subtract(w),C.x=R.x,C.y=R.y,this.add(C)},fromJSON:function(f){this.curves=[],this.cacheLengths=[],this.startPoint.set(f.x,f.y),this.autoClose=f.autoClose;for(var p=0;p<f.curves.length;p++){var g=f.curves[p];switch(g.type){case"LineCurve":this.add(n.fromJSON(g));break;case"EllipseCurve":this.add(a.fromJSON(g));break;case"SplineCurve":this.add(i.fromJSON(g));break;case"CubicBezierCurve":this.add(m.fromJSON(g));break;case"QuadraticBezierCurve":this.add(s.fromJSON(g));break}}return this},getBounds:function(f,p){f===void 0&&(f=new h),p===void 0&&(p=16),f.x=Number.MAX_VALUE,f.y=Number.MAX_VALUE;for(var g=new h,x=u.MIN_SAFE_INTEGER,T=u.MIN_SAFE_INTEGER,E=0;E<this.curves.length;E++){var C=this.curves[E];C.active&&(C.getBounds(g,p),f.x=Math.min(f.x,g.x),f.y=Math.min(f.y,g.y),x=Math.max(x,g.right),T=Math.max(T,g.bottom))}return f.right=x,f.bottom=T,f},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var f=[],p=0,g=0;g<this.curves.length;g++)p+=this.curves[g].getLength(),f.push(p);return this.cacheLengths=f,f},getCurveAt:function(f){for(var p=f*this.getLength(),g=this.getCurveLengths(),x=0;x<g.length;){if(g[x]>=p)return this.curves[x];x++}return null},getEndPoint:function(f){return f===void 0&&(f=new l),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,f):f.copy(this.startPoint),f},getLength:function(){var f=this.getCurveLengths();return f[f.length-1]},getPoint:function(f,p){p===void 0&&(p=new l);for(var g=f*this.getLength(),x=this.getCurveLengths(),T=0;T<x.length;){if(x[T]>=g){var E=x[T]-g,C=this.curves[T],R=C.getLength(),w=R===0?0:1-E/R;return C.getPointAt(w,p)}T++}return null},getPoints:function(f,p){!f&&!p&&(f=this.defaultDivisions);for(var g=[],x,T=0;T<this.curves.length;T++){var E=this.curves[T];if(E.active)for(var C=E.getResolution(f),R=E.getPoints(C,p),w=0;w<R.length;w++){var F=R[w];x&&x.equals(F)||(g.push(F),x=F)}}return this.autoClose&&g.length>1&&!g[g.length-1].equals(g[0])&&g.push(g[0]),g},getRandomPoint:function(f){return f===void 0&&(f=new l),this.getPoint(Math.random(),f)},getSpacedPoints:function(f){f===void 0&&(f=40);for(var p=[],g=0;g<=f;g++)p.push(this.getPoint(g/f));return this.autoClose&&p.push(p[0]),p},getStartPoint:function(f){return f===void 0&&(f=new l),f.copy(this.startPoint)},getTangent:function(f,p){p===void 0&&(p=new l);for(var g=f*this.getLength(),x=this.getCurveLengths(),T=0;T<x.length;){if(x[T]>=g){var E=x[T]-g,C=this.curves[T],R=C.getLength(),w=R===0?0:1-E/R;return C.getTangentAt(w,p)}T++}return null},lineTo:function(f,p){f instanceof l?this._tmpVec2B.copy(f):typeof f=="object"?this._tmpVec2B.setFromObject(f):this._tmpVec2B.set(f,p);var g=this.getEndPoint(this._tmpVec2A);return this.add(new n([g.x,g.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(f){return f.unshift(this.getEndPoint()),this.add(new i(f))},moveTo:function(f,p){return f instanceof l?this.add(new e(f.x,f.y)):this.add(new e(f,p))},toJSON:function(){for(var f=[],p=0;p<this.curves.length;p++)f.push(this.curves[p].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:f}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});r.register("path",function(f,p){return new d(f,p)}),v.exports=d},45893:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(24882),a=new o({initialize:function(n,e){this.parent=n,this.events=e,e||(this.events=n.events?n.events:n),this.list={},this.values={},this._frozen=!1,!n.hasOwnProperty("sys")&&this.events&&this.events.once(m.DESTROY,this.destroy,this)},get:function(r){var n=this.list;if(Array.isArray(r)){for(var e=[],s=0;s<r.length;s++)e.push(n[r[s]]);return e}else return n[r]},getAll:function(){var r={};for(var n in this.list)this.list.hasOwnProperty(n)&&(r[n]=this.list[n]);return r},query:function(r){var n={};for(var e in this.list)this.list.hasOwnProperty(e)&&e.match(r)&&(n[e]=this.list[e]);return n},set:function(r,n){if(this._frozen)return this;if(typeof r=="string")return this.setValue(r,n);for(var e in r)this.setValue(e,r[e]);return this},inc:function(r,n){if(this._frozen)return this;n===void 0&&(n=1);var e=this.get(r);return e===void 0&&(e=0),this.set(r,e+n),this},toggle:function(r){return this._frozen?this:(this.set(r,!this.get(r)),this)},setValue:function(r,n){if(this._frozen)return this;if(this.has(r))this.values[r]=n;else{var e=this,s=this.list,h=this.events,i=this.parent;Object.defineProperty(this.values,r,{enumerable:!0,configurable:!0,get:function(){return s[r]},set:function(l){if(!e._frozen){var u=s[r];s[r]=l,h.emit(m.CHANGE_DATA,i,r,l,u),h.emit(m.CHANGE_DATA_KEY+r,i,l,u)}}}),s[r]=n,h.emit(m.SET_DATA,i,r,n)}return this},each:function(r,n){for(var e=[this.parent,null,void 0],s=1;s<arguments.length;s++)e.push(arguments[s]);for(var h in this.list)e[1]=h,e[2]=this.list[h],r.apply(n,e);return this},merge:function(r,n){n===void 0&&(n=!0);for(var e in r)r.hasOwnProperty(e)&&(n||!n&&!this.has(e))&&this.setValue(e,r[e]);return this},remove:function(r){if(this._frozen)return this;if(Array.isArray(r))for(var n=0;n<r.length;n++)this.removeValue(r[n]);else return this.removeValue(r);return this},removeValue:function(r){if(this.has(r)){var n=this.list[r];delete this.list[r],delete this.values[r],this.events.emit(m.REMOVE_DATA,this.parent,r,n)}return this},pop:function(r){var n=void 0;return!this._frozen&&this.has(r)&&(n=this.list[r],delete this.list[r],delete this.values[r],this.events.emit(m.REMOVE_DATA,this.parent,r,n)),n},has:function(r){return this.list.hasOwnProperty(r)},setFreeze:function(r){return this._frozen=r,this},reset:function(){for(var r in this.list)delete this.list[r],delete this.values[r];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(m.CHANGE_DATA),this.events.off(m.SET_DATA),this.events.off(m.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(r){this._frozen=!!r}},count:{get:function(){var r=0;for(var n in this.list)this.list[n]!==void 0&&r++;return r}}});v.exports=a},63646:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(45893),a=t(37277),r=t(44594),n=new o({Extends:m,initialize:function(s){m.call(this,s,s.sys.events),this.scene=s,this.systems=s.sys,s.sys.events.once(r.BOOT,this.boot,this),s.sys.events.on(r.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(r.DESTROY,this.destroy,this)},start:function(){this.events.once(r.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){m.prototype.destroy.call(this),this.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});a.register("DataManagerPlugin",n,"data"),v.exports=n},10700:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="changedata"},93608:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="changedata-"},60883:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="destroy"},69780:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="removedata"},22166:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="setdata"},24882:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CHANGE_DATA:t(10700),CHANGE_DATA_KEY:t(93608),DESTROY:t(60883),REMOVE_DATA:t(69780),SET_DATA:t(22166)}},44965:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={DataManager:t(45893),DataManagerPlugin:t(63646),Events:t(24882)}},7098:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(84148),m={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function a(){if(typeof importScripts=="function")return m;m.audioData=!!window.Audio,m.webAudio=!!(window.AudioContext||window.webkitAudioContext);var r=document.createElement("audio"),n=!!r.canPlayType;try{if(n){var e=function(i,l){var u=r.canPlayType("audio/"+i).replace(/^no$/,"");return l?!!(u||r.canPlayType("audio/"+l).replace(/^no$/,"")):!!u};if(m.ogg=e('ogg; codecs="vorbis"'),m.opus=e('ogg; codecs="opus"',"opus"),m.mp3=e("mpeg"),m.wav=e("wav"),m.m4a=e("x-m4a"),m.aac=e("aac"),m.flac=e("flac","x-flac"),m.webm=e('webm; codecs="vorbis"'),r.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(o.edge)m.dolby=!0;else if(o.safari&&o.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var s=parseInt(RegExp.$1,10),h=parseInt(RegExp.$2,10);(s===10&&h>=11||s>10)&&(m.dolby=!0)}}}}catch{}return m}v.exports=a()},84148:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25892),m={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function a(){var r=navigator.userAgent;return/Edg\/\d+/.test(r)?(m.edge=!0,m.es2019=!0):/OPR/.test(r)?(m.opera=!0,m.es2019=!0):/Chrome\/(\d+)/.test(r)&&!o.windowsPhone?(m.chrome=!0,m.chromeVersion=parseInt(RegExp.$1,10),m.es2019=m.chromeVersion>69):/Firefox\D+(\d+)/.test(r)?(m.firefox=!0,m.firefoxVersion=parseInt(RegExp.$1,10),m.es2019=m.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(r)&&o.iOS?(m.mobileSafari=!0,m.es2019=!0):/MSIE (\d+\.\d+);/.test(r)?(m.ie=!0,m.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(r)&&!o.windowsPhone?(m.safari=!0,m.safariVersion=parseInt(RegExp.$1,10),m.es2019=m.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(r)&&(m.ie=!0,m.trident=!0,m.tridentVersion=parseInt(RegExp.$1,10),m.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(r)&&(m.silk=!0),m}v.exports=a()},89289:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(27919),m={supportInverseAlpha:!1,supportNewBlendModes:!1};function a(){var e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",s="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",h=new Image;return h.onload=function(){var i=new Image;i.onload=function(){var l=o.create2D(i,6),u=l.getContext("2d",{willReadFrequently:!0});if(u.globalCompositeOperation="multiply",u.drawImage(h,0,0),u.drawImage(i,2,0),!u.getImageData(2,0,1,1))return!1;var d=u.getImageData(2,0,1,1).data;o.remove(i),m.supportNewBlendModes=d[0]===255&&d[1]===0&&d[2]===0},i.src=e+"/wCKxvRF"+s},h.src=e+"AP804Oa6"+s,!1}function r(){var e=o.create2D(this,2),s=e.getContext("2d",{willReadFrequently:!0});s.fillStyle="rgba(10, 20, 30, 0.5)",s.fillRect(0,0,1,1);var h=s.getImageData(0,0,1,1);if(h===null)return!1;s.putImageData(h,1,0);var i=s.getImageData(1,0,1,1),l=i.data[0]===h.data[0]&&i.data[1]===h.data[1]&&i.data[2]===h.data[2]&&i.data[3]===h.data[3];return o.remove(this),l}function n(){return typeof importScripts!="function"&&document!==void 0&&(m.supportNewBlendModes=a(),m.supportInverseAlpha=r()),m}v.exports=n()},89357:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25892),m=t(84148),a=t(27919),r={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function n(){var s=new ArrayBuffer(4),h=new Uint8Array(s),i=new Uint32Array(s);return h[0]=161,h[1]=178,h[2]=195,h[3]=212,i[0]===3569595041?!0:i[0]===2712847316?!1:null}function e(){if(typeof importScripts=="function")return r;r.canvas=!!window.CanvasRenderingContext2D;try{r.localStorage=!!localStorage.getItem}catch{r.localStorage=!1}r.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,r.fileSystem=!!window.requestFileSystem;var s=!1,h=function(){if(window.WebGLRenderingContext)try{var i=a.createWebGL(this),l=i.getContext("webgl")||i.getContext("experimental-webgl"),u=a.create2D(this),d=u.getContext("2d",{willReadFrequently:!0}),f=d.createImageData(1,1);return s=f.data instanceof Uint8ClampedArray,a.remove(i),a.remove(u),!!l}catch{return!1}return!1};return r.webGL=h(),r.worker=!!window.Worker,r.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,r.getUserMedia=r.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,m.firefox&&m.firefoxVersion<21&&(r.getUserMedia=!1),!o.iOS&&(m.ie||m.firefox||m.chrome)&&(r.canvasBitBltShift=!0),(m.safari||m.mobileSafari)&&(r.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(r.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(r.littleEndian=n()),r.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&r.littleEndian!==null&&s,r}v.exports=e()},91639:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={available:!1,cancel:"",keyboard:!1,request:""};function t(){if(typeof importScripts=="function")return S;var o,m="Fullscreen",a="FullScreen",r=["request"+m,"request"+a,"webkitRequest"+m,"webkitRequest"+a,"msRequest"+m,"msRequest"+a,"mozRequest"+a,"mozRequest"+m];for(o=0;o<r.length;o++)if(document.documentElement[r[o]]){S.available=!0,S.request=r[o];break}var n=["cancel"+a,"exit"+m,"webkitCancel"+a,"webkitExit"+m,"msCancel"+a,"msExit"+m,"mozCancel"+a,"mozExit"+m];if(S.available){for(o=0;o<n.length;o++)if(document[n[o]]){S.cancel=n[o];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(S.keyboard=!0),Object.defineProperty(S,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),S}v.exports=t()},31784:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(84148),m={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function a(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(m.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(m.mspointer=!0),navigator.getGamepads&&(m.gamepads=!0),"onwheel"in window||o.ie&&"WheelEvent"in window?m.wheelEvent="wheel":"onmousewheel"in window?m.wheelEvent="mousewheel":o.firefox&&"MouseScrollEvent"in window&&(m.wheelEvent="DOMMouseScroll")),m}v.exports=a()},25892:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function t(){if(typeof importScripts=="function")return S;var o=navigator.userAgent;/Windows/.test(o)?S.windows=!0:/Mac OS/.test(o)&&!/like Mac OS/.test(o)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(S.iOS=!0,S.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),S.iOSVersion=parseInt(RegExp.$1,10)):S.macOS=!0:/Android/.test(o)?S.android=!0:/Linux/.test(o)?S.linux=!0:/iP[ao]d|iPhone/i.test(o)?(S.iOS=!0,navigator.appVersion.match(/OS (\d+)/),S.iOSVersion=parseInt(RegExp.$1,10),S.iPhone=o.toLowerCase().indexOf("iphone")!==-1,S.iPad=o.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(o)||/\bKF[A-Z][A-Z]+/.test(o)||/Silk.*Mobile Safari/.test(o)?S.kindle=!0:/CrOS/.test(o)&&(S.chromeOS=!0),(/Windows Phone/i.test(o)||/IEMobile/i.test(o))&&(S.android=!1,S.iOS=!1,S.macOS=!1,S.windows=!0,S.windowsPhone=!0);var m=/Silk/.test(o);return(S.windows||S.macOS||S.linux&&!m||S.chromeOS)&&(S.desktop=!0),(S.windowsPhone||/Windows NT/i.test(o)&&/Touch/i.test(o))&&(S.desktop=!1),navigator.standalone&&(S.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(S.cordova=!0),window.ejecta!==void 0&&(S.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(S.node=!0),S.node&&typeof process.versions=="object"&&(S.nodeWebkit=!!process.versions["node-webkit"],S.electron=!!process.versions.electron),/Crosswalk/.test(o)&&(S.crosswalk=!0),S.pixelRatio=window.devicePixelRatio||1,S}v.exports=t()},43267:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),m={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function a(){if(typeof importScripts=="function")return m;var r=document.createElement("video"),n=!!r.canPlayType,e=/^no$/;try{n&&(r.canPlayType('video/ogg; codecs="theora"').replace(e,"")&&(m.ogg=!0),r.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(e,"")&&(m.h264=!0,m.mp4=!0),r.canPlayType("video/x-m4v").replace(e,"")&&(m.m4v=!0),r.canPlayType('video/webm; codecs="vp8, vorbis"').replace(e,"")&&(m.webm=!0),r.canPlayType('video/webm; codecs="vp9"').replace(e,"")&&(m.vp9=!0),r.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(e,"")&&(m.hls=!0))}catch{}return r.parentNode&&r.parentNode.removeChild(r),m.getVideoURL=function(s){Array.isArray(s)||(s=[s]);for(var h=0;h<s.length;h++){var i=o(s[h],"url",s[h]);if(i.indexOf("blob:")===0)return{url:i,type:""};var l;if(i.indexOf("data:")===0?l=i.split(",")[0].match(/\/(.*?);/):l=i.match(/\.([a-zA-Z0-9]+)($|\?)/),l=o(s[h],"type",l?l[1]:"").toLowerCase(),m[l])return{url:i,type:l}}return null},m}v.exports=a()},82264:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={os:t(25892),browser:t(84148),features:t(89357),input:t(31784),audio:t(7098),video:t(43267),fullscreen:t(91639),canvasFeatures:t(89289)}},89422:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=new Float32Array(20),a=new o({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(r){return this._matrix.set(r),this._dirty=!0,this},reset:function(){var r=this._matrix;return r.fill(0),r[0]=1,r[6]=1,r[12]=1,r[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var r=this._data;return this._dirty&&(r.set(this._matrix),r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,this._dirty=!1),r},brightness:function(r,n){r===void 0&&(r=0),n===void 0&&(n=!1);var e=r;return this.multiply([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],n)},saturate:function(r,n){r===void 0&&(r=0),n===void 0&&(n=!1);var e=r*2/3+1,s=(e-1)*-.5;return this.multiply([e,s,s,0,0,s,e,s,0,0,s,s,e,0,0,0,0,0,1,0],n)},desaturate:function(r){return r===void 0&&(r=!1),this.saturate(-1,r)},hue:function(r,n){r===void 0&&(r=0),n===void 0&&(n=!1),r=r/180*Math.PI;var e=Math.cos(r),s=Math.sin(r),h=.213,i=.715,l=.072;return this.multiply([h+e*(1-h)+s*-.213,i+e*-.715+s*-.715,l+e*-.072+s*(1-l),0,0,h+e*-.213+s*.143,i+e*(1-i)+s*.14,l+e*-.072+s*-.283,0,0,h+e*-.213+s*-.787,i+e*-.715+s*i,l+e*(1-l)+s*l,0,0,0,0,0,1,0],n)},grayscale:function(r,n){return r===void 0&&(r=1),n===void 0&&(n=!1),this.saturate(-r,n)},blackWhite:function(r){return r===void 0&&(r=!1),this.multiply(a.BLACK_WHITE,r)},contrast:function(r,n){r===void 0&&(r=0),n===void 0&&(n=!1);var e=r+1,s=-.5*(e-1);return this.multiply([e,0,0,0,s,0,e,0,0,s,0,0,e,0,s,0,0,0,1,0],n)},negative:function(r){return r===void 0&&(r=!1),this.multiply(a.NEGATIVE,r)},desaturateLuminance:function(r){return r===void 0&&(r=!1),this.multiply(a.DESATURATE_LUMINANCE,r)},sepia:function(r){return r===void 0&&(r=!1),this.multiply(a.SEPIA,r)},night:function(r,n){return r===void 0&&(r=.1),n===void 0&&(n=!1),this.multiply([r*-2,-r,0,0,0,-r,0,r,0,0,0,r,r*2,0,0,0,0,0,1,0],n)},lsd:function(r){return r===void 0&&(r=!1),this.multiply(a.LSD,r)},brown:function(r){return r===void 0&&(r=!1),this.multiply(a.BROWN,r)},vintagePinhole:function(r){return r===void 0&&(r=!1),this.multiply(a.VINTAGE,r)},kodachrome:function(r){return r===void 0&&(r=!1),this.multiply(a.KODACHROME,r)},technicolor:function(r){return r===void 0&&(r=!1),this.multiply(a.TECHNICOLOR,r)},polaroid:function(r){return r===void 0&&(r=!1),this.multiply(a.POLAROID,r)},shiftToBGR:function(r){return r===void 0&&(r=!1),this.multiply(a.SHIFT_BGR,r)},multiply:function(r,n){n===void 0&&(n=!1),n||this.reset();var e=this._matrix,s=m;return s.set(e),e.set([s[0]*r[0]+s[1]*r[5]+s[2]*r[10]+s[3]*r[15],s[0]*r[1]+s[1]*r[6]+s[2]*r[11]+s[3]*r[16],s[0]*r[2]+s[1]*r[7]+s[2]*r[12]+s[3]*r[17],s[0]*r[3]+s[1]*r[8]+s[2]*r[13]+s[3]*r[18],s[0]*r[4]+s[1]*r[9]+s[2]*r[14]+s[3]*r[19]+s[4],s[5]*r[0]+s[6]*r[5]+s[7]*r[10]+s[8]*r[15],s[5]*r[1]+s[6]*r[6]+s[7]*r[11]+s[8]*r[16],s[5]*r[2]+s[6]*r[7]+s[7]*r[12]+s[8]*r[17],s[5]*r[3]+s[6]*r[8]+s[7]*r[13]+s[8]*r[18],s[5]*r[4]+s[6]*r[9]+s[7]*r[14]+s[8]*r[19]+s[9],s[10]*r[0]+s[11]*r[5]+s[12]*r[10]+s[13]*r[15],s[10]*r[1]+s[11]*r[6]+s[12]*r[11]+s[13]*r[16],s[10]*r[2]+s[11]*r[7]+s[12]*r[12]+s[13]*r[17],s[10]*r[3]+s[11]*r[8]+s[12]*r[13]+s[13]*r[18],s[10]*r[4]+s[11]*r[9]+s[12]*r[14]+s[13]*r[19]+s[14],s[15]*r[0]+s[16]*r[5]+s[17]*r[10]+s[18]*r[15],s[15]*r[1]+s[16]*r[6]+s[17]*r[11]+s[18]*r[16],s[15]*r[2]+s[16]*r[7]+s[17]*r[12]+s[18]*r[17],s[15]*r[3]+s[16]*r[8]+s[17]*r[13]+s[18]*r[18],s[15]*r[4]+s[16]*r[9]+s[17]*r[14]+s[18]*r[19]+s[19]]),this._dirty=!0,this}});a.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],a.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],a.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],a.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],a.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],a.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],a.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],a.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],a.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],a.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],a.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],v.exports=a},51767:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(29747),a=new o({initialize:function(n,e,s){this._rgb=[0,0,0],this.onChangeCallback=m,this.dirty=!1,this.set(n,e,s)},set:function(r,n,e){return r===void 0&&(r=0),n===void 0&&(n=0),e===void 0&&(e=0),this._rgb=[r,n,e],this.onChange(),this},equals:function(r,n,e){var s=this._rgb;return s[0]===r&&s[1]===n&&s[2]===e},onChange:function(){this.dirty=!0;var r=this._rgb;this.onChangeCallback.call(this,r[0],r[1],r[2])},r:{get:function(){return this._rgb[0]},set:function(r){this._rgb[0]=r,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(r){this._rgb[1]=r,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(r){this._rgb[2]=r,this.onChange()}},destroy:function(){this.onChangeCallback=null}});v.exports=a},60461:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};v.exports=S},54312:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),m=t(35893),a=t(86327),r=t(88417),n=function(e,s,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(e,m(s)+h),a(e,o(s)+i),e};v.exports=n},46768:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),m=t(26541),a=t(86327),r=t(385),n=function(e,s,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(e,m(s)-h),a(e,o(s)+i),e};v.exports=n},35827:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),m=t(54380),a=t(86327),r=t(40136),n=function(e,s,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(e,m(s)+h),a(e,o(s)+i),e};v.exports=n},46871:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66786),m=t(35893),a=t(7702),r=function(n,e,s,h){return s===void 0&&(s=0),h===void 0&&(h=0),o(n,m(e)+s,a(e)+h),n};v.exports=r},5198:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7702),m=t(26541),a=t(20786),r=t(385),n=function(e,s,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(e,m(s)-h),a(e,o(s)+i),e};v.exports=n},11879:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(60461),m=[];m[o.BOTTOM_CENTER]=t(54312),m[o.BOTTOM_LEFT]=t(46768),m[o.BOTTOM_RIGHT]=t(35827),m[o.CENTER]=t(46871),m[o.LEFT_CENTER]=t(5198),m[o.RIGHT_CENTER]=t(80503),m[o.TOP_CENTER]=t(89698),m[o.TOP_LEFT]=t(922),m[o.TOP_RIGHT]=t(21373),m[o.LEFT_BOTTOM]=m[o.BOTTOM_LEFT],m[o.LEFT_TOP]=m[o.TOP_LEFT],m[o.RIGHT_BOTTOM]=m[o.BOTTOM_RIGHT],m[o.RIGHT_TOP]=m[o.TOP_RIGHT];var a=function(r,n,e,s,h){return m[e](r,n,s,h)};v.exports=a},80503:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7702),m=t(54380),a=t(20786),r=t(40136),n=function(e,s,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(e,m(s)+h),a(e,o(s)+i),e};v.exports=n},89698:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35893),m=t(17717),a=t(88417),r=t(66737),n=function(e,s,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),a(e,o(s)+h),r(e,m(s)-i),e};v.exports=n},922:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26541),m=t(17717),a=t(385),r=t(66737),n=function(e,s,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),a(e,o(s)-h),r(e,m(s)-i),e};v.exports=n},21373:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(54380),m=t(17717),a=t(40136),r=t(66737),n=function(e,s,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),a(e,o(s)+h),r(e,m(s)-i),e};v.exports=n},91660:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BottomCenter:t(54312),BottomLeft:t(46768),BottomRight:t(35827),Center:t(46871),LeftCenter:t(5198),QuickSet:t(11879),RightCenter:t(80503),TopCenter:t(89698),TopLeft:t(922),TopRight:t(21373)}},71926:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(60461),m=t(79291),a={In:t(91660),To:t(16694)};a=m(!1,a,o),v.exports=a},21578:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),m=t(35893),a=t(88417),r=t(66737),n=function(e,s,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),a(e,m(s)+h),r(e,o(s)+i),e};v.exports=n},10210:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),m=t(26541),a=t(385),r=t(66737),n=function(e,s,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),a(e,m(s)-h),r(e,o(s)+i),e};v.exports=n},82341:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),m=t(54380),a=t(40136),r=t(66737),n=function(e,s,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),a(e,m(s)+h),r(e,o(s)+i),e};v.exports=n},87958:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),m=t(26541),a=t(86327),r=t(40136),n=function(e,s,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(e,m(s)-h),a(e,o(s)+i),e};v.exports=n},40080:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7702),m=t(26541),a=t(20786),r=t(40136),n=function(e,s,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(e,m(s)-h),a(e,o(s)+i),e};v.exports=n},88466:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26541),m=t(17717),a=t(40136),r=t(66737),n=function(e,s,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),a(e,o(s)-h),r(e,m(s)-i),e};v.exports=n},38829:(v,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(60461),m=[];m[o.BOTTOM_CENTER]=t(21578),m[o.BOTTOM_LEFT]=t(10210),m[o.BOTTOM_RIGHT]=t(82341),m[o.LEFT_BOTTOM]=t(87958),m[o.LEFT_CENTER]=t(40080),m[o.LEFT_TOP]=t(88466),m[o.RIGHT_BOTTOM]=t(19211),m[o.RIGHT_CENTER]=t(34609),m[o.RIGHT_TOP]=t(48741),m[o.TOP_CENTER]=t(49440),m[o.TOP_LEFT]=t(81288),m[o.TOP_RIGHT]=t(61323);var a=function(r,n,e,s,h){return m[e](r,n,s,h)};v.exports=a},19211:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),m=t(54380),a=t(86327),r=t(385),n=function(e,s,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(e,m(s)+h),a(e,o(s)+i),e};v.exports=n},34609:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7702),m=t(54380),a=t(20786),r=t(385),n=function(e,s,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(e,m(s)+h),a(e,o(s)+i),e};v.exports=n},48741:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(54380),m=t(17717),a=t(385),r=t(66737),n=function(e,s,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),a(e,o(s)+h),r(e,m(s)-i),e};v.exports=n},49440:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35893),m=t(17717),a=t(86327),r=t(88417),n=function(e,s,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(e,o(s)+h),a(e,m(s)-i),e};v.exports=n},81288:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26541),m=t(17717),a=t(86327),r=t(385),n=function(e,s,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(e,o(s)-h),a(e,m(s)-i),e};v.exports=n},61323:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(54380),m=t(17717),a=t(86327),r=t(40136),n=function(e,s,h,i){return h===void 0&&(h=0),i===void 0&&(i=0),r(e,o(s)+h),a(e,m(s)-i),e};v.exports=n},16694:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BottomCenter:t(21578),BottomLeft:t(10210),BottomRight:t(82341),LeftBottom:t(87958),LeftCenter:t(40080),LeftTop:t(88466),QuickSet:t(38829),RightBottom:t(19211),RightCenter:t(34609),RightTop:t(48741),TopCenter:t(49440),TopLeft:t(81288),TopRight:t(61323)}},66786:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(88417),m=t(20786),a=function(r,n,e){return o(r,n),m(r,e)};v.exports=a},62235:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.y+t.height-t.height*t.originY};v.exports=S},72873:(v,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62235),m=t(26541),a=t(54380),r=t(17717),n=t(87841),e=function(s,h){h===void 0&&(h=new n);var i=m(s),l=r(s);return h.x=i,h.y=l,h.width=a(s)-i,h.height=o(s)-l,h};v.exports=e},35893:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x-t.width*t.originX+t.width*.5};v.exports=S},7702:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.y-t.height*t.originY+t.height*.5};v.exports=S},26541:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x-t.width*t.originX};v.exports=S},87431:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.width*t.originX};v.exports=S},46928:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.height*t.originY};v.exports=S},54380:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x+t.width-t.width*t.originX};v.exports=S},17717:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.y-t.height*t.originY};v.exports=S},86327:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return t.y=o-t.height+t.height*t.originY,t};v.exports=S},88417:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){var m=t.width*t.originX;return t.x=o+m-t.width*.5,t};v.exports=S},20786:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){var m=t.height*t.originY;return t.y=o+m-t.height*.5,t};v.exports=S},385:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return t.x=o+t.width*t.originX,t};v.exports=S},40136:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return t.x=o-t.width+t.width*t.originX,t};v.exports=S},66737:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return t.y=o+t.height*t.originY,t};v.exports=S},58724:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CenterOn:t(66786),GetBottom:t(62235),GetBounds:t(72873),GetCenterX:t(35893),GetCenterY:t(7702),GetLeft:t(26541),GetOffsetX:t(87431),GetOffsetY:t(46928),GetRight:t(54380),GetTop:t(17717),SetBottom:t(86327),SetCenterX:t(88417),SetCenterY:t(20786),SetLeft:t(385),SetRight:t(40136),SetTop:t(66737)}},20623:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setCrisp:function(t){var o=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return o.forEach(function(m){t.style["image-rendering"]=m}),t.style.msInterpolationMode="nearest-neighbor",t},setBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}};v.exports=S},27919:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(8054),m=t(68703),a=[],r=!1,n=function(){var e=function(g,x,T,E,C){x===void 0&&(x=1),T===void 0&&(T=1),E===void 0&&(E=o.CANVAS),C===void 0&&(C=!1);var R,w=i(E);return w===null?(w={parent:g,canvas:document.createElement("canvas"),type:E},E===o.CANVAS&&a.push(w),R=w.canvas):(w.parent=g,R=w.canvas),C&&(w.parent=R),R.width=x,R.height=T,r&&E===o.CANVAS&&m.disable(R.getContext("2d",{willReadFrequently:!1})),R},s=function(g,x,T){return e(g,x,T,o.CANVAS)},h=function(g,x,T){return e(g,x,T,o.WEBGL)},i=function(g){if(g===void 0&&(g=o.CANVAS),g===o.WEBGL)return null;for(var x=0;x<a.length;x++){var T=a[x];if(!T.parent&&T.type===g)return T}return null},l=function(g){var x=g instanceof HTMLCanvasElement;a.forEach(function(T){(x&&T.canvas===g||!x&&T.parent===g)&&(T.parent=null,T.canvas.width=1,T.canvas.height=1)})},u=function(){var g=0;return a.forEach(function(x){x.parent&&g++}),g},d=function(){return a.length-u()},f=function(){r=!0},p=function(){r=!1};return{create2D:s,create:e,createWebGL:h,disableSmoothing:f,enableSmoothing:p,first:i,free:d,pool:a,remove:l,total:u}};v.exports=n()},68703:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S="",t=function(){var o=function(n){for(var e=["i","webkitI","msI","mozI","oI"],s=0;s<e.length;s++){var h=e[s]+"mageSmoothingEnabled";if(h in n)return h}return null},m=function(n){return S===""&&(S=o(n)),S&&(n[S]=!0),n},a=function(n){return S===""&&(S=o(n)),S&&(n[S]=!1),n},r=function(n){return S!==null?n[S]:null};return{disable:a,enable:m,getPrefix:o,isEnabled:r}};v.exports=t()},65208:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return o===void 0&&(o="none"),t.style.msTouchAction=o,t.style["ms-touch-action"]=o,t.style["touch-action"]=o,t};v.exports=S},91610:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){o===void 0&&(o="none");var m=["-webkit-","-khtml-","-moz-","-ms-",""];return m.forEach(function(a){t.style[a+"user-select"]=o}),t.style["-webkit-touch-callout"]=o,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t};v.exports=S},26253:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CanvasInterpolation:t(20623),CanvasPool:t(27919),Smoothing:t(68703),TouchAction:t(65208),UserSelect:t(91610)}},40987:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(37589),a=t(1e3),r=t(7537),n=t(87837),e=new o({initialize:function(h,i,l,u){h===void 0&&(h=0),i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(h,i,l,u)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(s,h,i,l,u){return l===void 0&&(l=255),u===void 0&&(u=!0),this._locked=!0,this.red=s,this.green=h,this.blue=i,this.alpha=l,this._locked=!1,this.update(u)},setGLTo:function(s,h,i,l){return l===void 0&&(l=1),this._locked=!0,this.redGL=s,this.greenGL=h,this.blueGL=i,this.alphaGL=l,this._locked=!1,this.update(!0)},setFromRGB:function(s){return this._locked=!0,this.red=s.r,this.green=s.g,this.blue=s.b,s.hasOwnProperty("a")&&(this.alpha=s.a),this._locked=!1,this.update(!0)},setFromHSV:function(s,h,i){return r(s,h,i,this)},update:function(s){if(s===void 0&&(s=!1),this._locked)return this;var h=this.r,i=this.g,l=this.b,u=this.a;return this._color=m(h,i,l),this._color32=a(h,i,l,u),this._rgba="rgba("+h+","+i+","+l+","+u/255+")",s&&n(h,i,l,this),this},updateHSV:function(){var s=this.r,h=this.g,i=this.b;return n(s,h,i,this),this},clone:function(){return new e(this.r,this.g,this.b,this.a)},gray:function(s){return this.setTo(s,s,s)},random:function(s,h){s===void 0&&(s=0),h===void 0&&(h=255);var i=Math.floor(s+Math.random()*(h-s)),l=Math.floor(s+Math.random()*(h-s)),u=Math.floor(s+Math.random()*(h-s));return this.setTo(i,l,u)},randomGray:function(s,h){s===void 0&&(s=0),h===void 0&&(h=255);var i=Math.floor(s+Math.random()*(h-s));return this.setTo(i,i,i)},saturate:function(s){return this.s+=s/100,this},desaturate:function(s){return this.s-=s/100,this},lighten:function(s){return this.v+=s/100,this},darken:function(s){return this.v-=s/100,this},brighten:function(s){var h=this.r,i=this.g,l=this.b;return h=Math.max(0,Math.min(255,h-Math.round(255*-(s/100)))),i=Math.max(0,Math.min(255,i-Math.round(255*-(s/100)))),l=Math.max(0,Math.min(255,l-Math.round(255*-(s/100)))),this.setTo(h,i,l)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(s){this.gl[0]=Math.min(Math.abs(s),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(s){this.gl[1]=Math.min(Math.abs(s),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(s){this.gl[2]=Math.min(Math.abs(s),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(s){this.gl[3]=Math.min(Math.abs(s),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(s){s=Math.floor(Math.abs(s)),this.r=Math.min(s,255),this.gl[0]=s/255,this.update(!0)}},green:{get:function(){return this.g},set:function(s){s=Math.floor(Math.abs(s)),this.g=Math.min(s,255),this.gl[1]=s/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(s){s=Math.floor(Math.abs(s)),this.b=Math.min(s,255),this.gl[2]=s/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(s){s=Math.floor(Math.abs(s)),this.a=Math.min(s,255),this.gl[3]=s/255,this.update()}},h:{get:function(){return this._h},set:function(s){this._h=s,r(s,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(s){this._s=s,r(this._h,s,this._v,this)}},v:{get:function(){return this._v},set:function(s){this._v=s,r(this._h,this._s,s,this)}}});v.exports=e},92728:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37589),m=function(a){a===void 0&&(a=1024);var r=[],n=255,e,s=255,h=0,i=0;for(e=0;e<=n;e++)r.push({r:s,g:e,b:i,color:o(s,e,i)});for(h=255,e=n;e>=0;e--)r.push({r:e,g:h,b:i,color:o(e,h,i)});for(s=0,e=0;e<=n;e++,h--)r.push({r:s,g:h,b:e,color:o(s,h,e)});for(h=0,i=255,e=0;e<=n;e++,i--,s++)r.push({r:s,g:h,b:i,color:o(s,h,i)});if(a===1024)return r;var l=[],u=0,d=1024/a;for(e=0;e<a;e++)l.push(r[Math.floor(u)]),u+=d;return l};v.exports=m},91588:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var o={r:t>>16&255,g:t>>8&255,b:t&255,a:255};return t>16777215&&(o.a=t>>>24),o};v.exports=S},62957:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var o=t.toString(16);return o.length===1?"0"+o:o};v.exports=S},37589:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){return t<<16|o<<8|m};v.exports=S},1e3:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a){return a<<24|t<<16|o<<8|m};v.exports=S},62183:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40987),m=t(89528),a=function(r,n,e){var s=e,h=e,i=e;if(n!==0){var l=e<.5?e*(1+n):e+n-e*n,u=2*e-l;s=m(u,l,r+1/3),h=m(u,l,r),i=m(u,l,r-1/3)}var d=new o;return d.setGLTo(s,h,i,1)};v.exports=a},27939:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7537),m=function(a,r){a===void 0&&(a=1),r===void 0&&(r=1);for(var n=[],e=0;e<=359;e++)n.push(o(e/359,a,r));return n};v.exports=m},7537:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37589);function m(r,n,e,s){var h=(r+n*6)%6,i=Math.min(h,4-h,1);return Math.round(255*(s-s*e*Math.max(0,i)))}var a=function(r,n,e,s){n===void 0&&(n=1),e===void 0&&(e=1);var h=m(5,r,n,e),i=m(3,r,n,e),l=m(1,r,n,e);return s?s.setTo?s.setTo(h,i,l,s.alpha,!0):(s.r=h,s.g=i,s.b=l,s.color=o(h,i,l),s):{r:h,g:i,b:l,color:o(h,i,l)}};v.exports=a},70238:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40987),m=function(a){var r=new o;a=a.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(i,l,u,d){return l+l+u+u+d+d});var n=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);if(n){var e=parseInt(n[1],16),s=parseInt(n[2],16),h=parseInt(n[3],16);r.setTo(e,s,h)}return r};v.exports=m},89528:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){return m<0&&(m+=1),m>1&&(m-=1),m<.16666666666666666?t+(o-t)*6*m:m<.5?o:m<.6666666666666666?t+(o-t)*(.6666666666666666-m)*6:t};v.exports=S},30100:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40987),m=t(90664),a=function(r){var n=m(r);return new o(n.r,n.g,n.b,n.a)};v.exports=a},90664:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t>16777215?{a:t>>>24,r:t>>16&255,g:t>>8&255,b:t&255}:{a:255,r:t>>16&255,g:t>>8&255,b:t&255}};v.exports=S},13699:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(28915),m=t(37589),a=function(e,s,h,i,l,u,d,f){d===void 0&&(d=100),f===void 0&&(f=0);var p=f/d,g=o(e,i,p),x=o(s,l,p),T=o(h,u,p);return{r:g,g:x,b:T,a:255,color:m(g,x,T)}},r=function(e,s,h,i){return h===void 0&&(h=100),i===void 0&&(i=0),a(e.r,e.g,e.b,s.r,s.g,s.b,h,i)},n=function(e,s,h,i,l,u){return l===void 0&&(l=100),u===void 0&&(u=0),a(e.r,e.g,e.b,s,h,i,l,u)};v.exports={RGBWithRGB:a,ColorWithRGB:n,ColorWithColor:r}},68957:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40987),m=function(a){return new o(a.r,a.g,a.b,a.a)};v.exports=m},87388:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40987),m=function(a){var r=new o,n=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(a.toLowerCase());if(n){var e=parseInt(n[1],10),s=parseInt(n[2],10),h=parseInt(n[3],10),i=n[4]!==void 0?parseFloat(n[4]):1;r.setTo(e,s,h,i*255)}return r};v.exports=m},87837:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a){a===void 0&&(a={h:0,s:0,v:0}),t/=255,o/=255,m/=255;var r=Math.min(t,o,m),n=Math.max(t,o,m),e=n-r,s=0,h=n===0?0:e/n,i=n;return n!==r&&(n===t?s=(o-m)/e+(o<m?6:0):n===o?s=(m-t)/e+2:n===m&&(s=(t-o)/e+4),s/=6),a.hasOwnProperty("_h")?(a._h=s,a._s=h,a._v=i):(a.h=s,a.s=h,a.v=i),a};v.exports=S},75723:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62957),m=function(a,r,n,e,s){return e===void 0&&(e=255),s===void 0&&(s="#"),s==="#"?"#"+((1<<24)+(a<<16)+(r<<8)+n).toString(16).slice(1,7):"0x"+o(e)+o(a)+o(r)+o(n)};v.exports=m},85386:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(30976),m=t(40987),a=function(r,n){return r===void 0&&(r=0),n===void 0&&(n=255),new m(o(r,n),o(r,n),o(r,n))};v.exports=a},80333:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70238),m=t(30100),a=t(68957),r=t(87388),n=function(e){var s=typeof e;switch(s){case"string":return e.substr(0,3).toLowerCase()==="rgb"?r(e):o(e);case"number":return m(e);case"object":return a(e)}};v.exports=n},3956:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40987);o.ColorSpectrum=t(92728),o.ColorToRGBA=t(91588),o.ComponentToHex=t(62957),o.GetColor=t(37589),o.GetColor32=t(1e3),o.HexStringToColor=t(70238),o.HSLToColor=t(62183),o.HSVColorWheel=t(27939),o.HSVToRGB=t(7537),o.HueToComponent=t(89528),o.IntegerToColor=t(30100),o.IntegerToRGB=t(90664),o.Interpolate=t(13699),o.ObjectToColor=t(68957),o.RandomRGB=t(85386),o.RGBStringToColor=t(87388),o.RGBToHSV=t(87837),o.RGBToString=t(75723),o.ValueToColor=t(80333),v.exports=o},27460:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Align:t(71926),BaseShader:t(73894),Bounds:t(58724),Canvas:t(26253),Color:t(3956),ColorMatrix:t(89422),Masks:t(69781),RGB:t(51767)}},6858:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(39429),a=new o({initialize:function(n,e,s,h,i,l){e||(e=n.sys.make.image({x:s,y:h,key:i,frame:l,add:!1})),this.bitmapMask=e,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(r){this.bitmapMask=r},preRenderWebGL:function(r,n,e){r.pipelines.BITMAPMASK_PIPELINE.beginMask(this,n,e)},postRenderWebGL:function(r,n,e){r.pipelines.BITMAPMASK_PIPELINE.endMask(this,n,e)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});m.register("bitmapMask",function(r,n,e,s,h){return new a(this.scene,r,n,e,s,h)}),v.exports=a},80661:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=new o({initialize:function(r,n){this.geometryMask=n,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(a){return this.geometryMask=a,this},setInvertAlpha:function(a){return a===void 0&&(a=!0),this.invertAlpha=a,this},preRenderWebGL:function(a,r,n){var e=a.gl;a.flush(),a.maskStack.length===0&&(e.enable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),a.maskCount=0),a.currentCameraMask.mask!==this&&(a.currentMask.mask=this),a.maskStack.push({mask:this,camera:n}),this.applyStencil(a,n,!0),a.maskCount++},applyStencil:function(a,r,n){var e=a.gl,s=this.geometryMask,h=a.maskCount,i=255;e.colorMask(!1,!1,!1,!1),n?(e.stencilFunc(e.EQUAL,h,i),e.stencilOp(e.KEEP,e.KEEP,e.INCR),h++):(e.stencilFunc(e.EQUAL,h+1,i),e.stencilOp(e.KEEP,e.KEEP,e.DECR)),this.level=h,s.renderWebGL(a,s,r),a.flush(),e.colorMask(!0,!0,!0,!0),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),this.invertAlpha?e.stencilFunc(e.NOTEQUAL,h,i):e.stencilFunc(e.EQUAL,h,i)},postRenderWebGL:function(a){var r=a.gl;a.maskStack.pop(),a.maskCount--,a.flush();var n=a.currentMask;if(a.maskStack.length===0)n.mask=null,r.disable(r.STENCIL_TEST);else{var e=a.maskStack[a.maskStack.length-1];e.mask.applyStencil(a,e.camera,!1),a.currentCameraMask.mask!==e.mask?(n.mask=e.mask,n.camera=e.camera):n.mask=null}},preRenderCanvas:function(a,r,n){var e=this.geometryMask;a.currentContext.save(),e.renderCanvas(a,e,n,null,null,!0),a.currentContext.clip()},postRenderCanvas:function(a){a.currentContext.restore()},destroy:function(){this.geometryMask=null}});v.exports=m},69781:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BitmapMask:t(6858),GeometryMask:t(80661)}},73894:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=new o({initialize:function(r,n,e,s){(!n||n==="")&&(n=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!e||e==="")&&(e=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),s===void 0&&(s=null),this.key=r,this.fragmentSrc=n,this.vertexSrc=e,this.uniforms=s}});v.exports=m},40366:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){var m;if(o)typeof o=="string"?m=document.getElementById(o):typeof o=="object"&&o.nodeType===1&&(m=o);else if(t.parentElement||o===null)return t;return m||(m=document.body),m.appendChild(t),t};v.exports=S},83719:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40366),m=function(a){var r=a.config;if(!(!r.parent||!r.domCreateContainer)){var n=document.createElement("div");n.style.cssText=["display: block;","width: "+a.scale.width+"px;","height: "+a.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+r.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),a.domContainer=n,o(n,r.parent)}};v.exports=m},57264:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25892),m=function(a){if(document.readyState==="complete"||document.readyState==="interactive"){a();return}var r=function(){document.removeEventListener("deviceready",r,!0),document.removeEventListener("DOMContentLoaded",r,!0),window.removeEventListener("load",r,!0),a()};document.body?o.cordova?document.addEventListener("deviceready",r,!1):(document.addEventListener("DOMContentLoaded",r,!0),window.addEventListener("load",r,!0)):window.setTimeout(r,20)};v.exports=m},57811:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(!t)return window.innerHeight;var o=Math.abs(window.orientation),m={w:0,h:0},a=document.createElement("div");return a.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(a),m.w=o===90?a.offsetHeight:window.innerWidth,m.h=o===90?window.innerWidth:a.offsetHeight,document.documentElement.removeChild(a),a=null,Math.abs(window.orientation)!==90?m.h:m.w};v.exports=S},45818:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(13560),m=function(a,r){var n=window.screen,e=n?n.orientation||n.mozOrientation||n.msOrientation:!1;if(e&&typeof e.type=="string")return e.type;if(typeof e=="string")return e;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?o.ORIENTATION.PORTRAIT:o.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return o.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return o.ORIENTATION.LANDSCAPE}else return r>a?o.ORIENTATION.PORTRAIT:o.ORIENTATION.LANDSCAPE};v.exports=m},74403:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var o;return t!==""&&(typeof t=="string"?o=document.getElementById(t):t&&t.nodeType===1&&(o=t)),o||(o=document.body),o};v.exports=S},56836:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var o="";try{if(window.DOMParser){var m=new DOMParser;o=m.parseFromString(t,"text/xml")}else o=new ActiveXObject("Microsoft.XMLDOM"),o.loadXML(t)}catch{o=null}return!o||!o.documentElement||o.getElementsByTagName("parsererror").length?null:o};v.exports=S},35846:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){t.parentNode&&t.parentNode.removeChild(t)};v.exports=S},43092:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(29747),a=new o({initialize:function(){this.isRunning=!1,this.callback=m,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var n=this;this.step=function e(s){n.callback(s),n.isRunning&&(n.timeOutID=window.requestAnimationFrame(e))},this.stepTimeout=function e(){n.isRunning&&(n.timeOutID=window.setTimeout(e,n.delay)),n.callback(window.performance.now())}},start:function(r,n,e){this.isRunning||(this.callback=r,this.isSetTimeOut=n,this.delay=e,this.isRunning=!0,this.timeOutID=n?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=m}});v.exports=a},84902:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={AddToDOM:t(40366),DOMContentLoaded:t(57264),GetInnerHeight:t(57811),GetScreenOrientation:t(45818),GetTarget:t(74403),ParseXML:t(56836),RemoveFromDOM:t(35846),RequestAnimationFrame:t(43092)};v.exports=o},47565:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(50792),a=t(37277),r=new o({Extends:m,initialize:function(){m.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});a.register("EventEmitter",r,"events"),v.exports=r},93055:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={EventEmitter:t(47565)}},20122:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(72898),a=t(14811),r=new o({Extends:m,initialize:function(e,s){s===void 0&&(s=1),m.call(this,a.BARREL,e),this.amount=s}});v.exports=r},32251:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(72898),a=t(14811),r=new o({Extends:m,initialize:function(e,s,h,i,l,u,d){h===void 0&&(h=1),i===void 0&&(i=1),l===void 0&&(l=1),u===void 0&&(u=1),d===void 0&&(d=4),m.call(this,a.BLOOM,e),this.steps=d,this.offsetX=h,this.offsetY=i,this.blurStrength=l,this.strength=u,this.glcolor=[1,1,1],s!=null&&(this.color=s)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}}});v.exports=r},9047:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(72898),a=t(14811),r=new o({Extends:m,initialize:function(e,s,h,i,l,u,d){s===void 0&&(s=0),h===void 0&&(h=2),i===void 0&&(i=2),l===void 0&&(l=1),d===void 0&&(d=4),m.call(this,a.BLUR,e),this.quality=s,this.x=h,this.y=i,this.steps=d,this.strength=l,this.glcolor=[1,1,1],u!=null&&(this.color=u)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}}});v.exports=r},27885:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(72898),a=t(14811),r=new o({Extends:m,initialize:function(e,s,h,i,l,u,d,f){s===void 0&&(s=.5),h===void 0&&(h=1),i===void 0&&(i=.2),l===void 0&&(l=!1),u===void 0&&(u=1),d===void 0&&(d=1),f===void 0&&(f=1),m.call(this,a.BOKEH,e),this.radius=s,this.amount=h,this.contrast=i,this.isTiltShift=l,this.strength=f,this.blurX=u,this.blurY=d}});v.exports=r},12578:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(72898),a=t(14811),r=new o({Extends:m,initialize:function(e,s,h,i,l,u){s===void 0&&(s=8),l===void 0&&(l=1),u===void 0&&(u=.005),m.call(this,a.CIRCLE,e),this.scale=l,this.feather=u,this.thickness=s,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],h!=null&&(this.color=h),i!=null&&(this.backgroundColor=i)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}},backgroundColor:{get:function(){var n=this.glcolor2;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor2;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(n){this.glcolor2[3]=n}}});v.exports=r},15802:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(89422),a=t(14811),r=new o({Extends:m,initialize:function(e){m.call(this),this.type=a.COLOR_MATRIX,this.gameObject=e,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});v.exports=r},72898:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=new o({initialize:function(r,n){this.type=r,this.gameObject=n,this.active=!0},setActive:function(a){return this.active=a,this},destroy:function(){this.gameObject=null,this.active=!1}});v.exports=m},44553:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(72898),a=t(14811),r=new o({Extends:m,initialize:function(e,s,h,i){s===void 0&&(s="__WHITE"),h===void 0&&(h=.005),i===void 0&&(i=.005),m.call(this,a.DISPLACEMENT,e),this.x=h,this.y=i,this.glTexture,this.setTexture(s)},setTexture:function(n){var e=this.gameObject.scene.sys.textures.getFrame(n);return e&&(this.glTexture=e.glTexture),this}});v.exports=r},68531:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(72898),a=t(14811),r=new o({Extends:m,initialize:function(e,s,h,i,l){h===void 0&&(h=4),i===void 0&&(i=0),l===void 0&&(l=!1),m.call(this,a.GLOW,e),this.outerStrength=h,this.innerStrength=i,this.knockout=l,this.glcolor=[1,1,1,1],s!==void 0&&(this.color=s)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}}});v.exports=r},37102:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(72898),a=t(14811),r=new o({Extends:m,initialize:function(e,s,h,i,l,u,d,f,p){i===void 0&&(i=.2),l===void 0&&(l=0),u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=1),p===void 0&&(p=0),m.call(this,a.GRADIENT,e),this.alpha=i,this.size=p,this.fromX=l,this.fromY=u,this.toX=d,this.toY=f,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],s!=null&&(this.color1=s),h!=null&&(this.color2=h)},color1:{get:function(){var n=this.glcolor1;return(n[0]<<16)+(n[1]<<8)+(n[2]|0)},set:function(n){var e=this.glcolor1;e[0]=n>>16&255,e[1]=n>>8&255,e[2]=n&255}},color2:{get:function(){var n=this.glcolor2;return(n[0]<<16)+(n[1]<<8)+(n[2]|0)},set:function(n){var e=this.glcolor2;e[0]=n>>16&255,e[1]=n>>8&255,e[2]=n&255}}});v.exports=r},86886:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(72898),a=t(14811),r=new o({Extends:m,initialize:function(e,s){s===void 0&&(s=1),m.call(this,a.PIXELATE,e),this.amount=s}});v.exports=r},92322:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(72898),a=t(14811),r=new o({Extends:m,initialize:function(e,s,h,i,l,u,d,f){s===void 0&&(s=0),h===void 0&&(h=0),i===void 0&&(i=.1),l===void 0&&(l=1),d===void 0&&(d=6),f===void 0&&(f=1),m.call(this,a.SHADOW,e),this.x=s,this.y=h,this.decay=i,this.power=l,this.glcolor=[0,0,0,1],this.samples=d,this.intensity=f,u!==void 0&&(this.color=u)},color:{get:function(){var n=this.glcolor;return(n[0]*255<<16)+(n[1]*255<<8)+(n[2]*255|0)},set:function(n){var e=this.glcolor;e[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(n&255)/255}}});v.exports=r},39563:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(72898),a=t(14811),r=new o({Extends:m,initialize:function(e,s,h,i,l){s===void 0&&(s=.5),h===void 0&&(h=.5),i===void 0&&(i=3),l===void 0&&(l=!1),m.call(this,a.SHINE,e),this.speed=s,this.lineWidth=h,this.gradient=i,this.reveal=l}});v.exports=r},56448:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(72898),a=t(14811),r=new o({Extends:m,initialize:function(e,s,h,i,l){s===void 0&&(s=.5),h===void 0&&(h=.5),i===void 0&&(i=.5),l===void 0&&(l=.5),m.call(this,a.VIGNETTE,e),this.x=s,this.y=h,this.radius=i,this.strength=l}});v.exports=r},38433:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(72898),a=t(14811),r=new o({Extends:m,initialize:function(e,s,h,i,l){s===void 0&&(s=.1),h===void 0&&(h=0),i===void 0&&(i=0),l===void 0&&(l=!1),m.call(this,a.WIPE,e),this.progress=0,this.wipeWidth=s,this.direction=h,this.axis=i,this.reveal=l}});v.exports=r},14811:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};v.exports=S},66064:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(79291),m=t(14811),a={Barrel:t(20122),Controller:t(72898),Bloom:t(32251),Blur:t(9047),Bokeh:t(27885),Circle:t(12578),ColorMatrix:t(15802),Displacement:t(44553),Glow:t(68531),Gradient:t(37102),Pixelate:t(86886),Shadow:t(92322),Shine:t(39563),Vignette:t(56448),Wipe:t(38433)};a=o(!1,a,m),v.exports=a},25305:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10312),m=t(23568),a=function(r,n,e){n.x=m(e,"x",0),n.y=m(e,"y",0),n.depth=m(e,"depth",0),n.flipX=m(e,"flipX",!1),n.flipY=m(e,"flipY",!1);var s=m(e,"scale",null);typeof s=="number"?n.setScale(s):s!==null&&(n.scaleX=m(s,"x",1),n.scaleY=m(s,"y",1));var h=m(e,"scrollFactor",null);typeof h=="number"?n.setScrollFactor(h):h!==null&&(n.scrollFactorX=m(h,"x",1),n.scrollFactorY=m(h,"y",1)),n.rotation=m(e,"rotation",0);var i=m(e,"angle",null);i!==null&&(n.angle=i),n.alpha=m(e,"alpha",1);var l=m(e,"origin",null);if(typeof l=="number")n.setOrigin(l);else if(l!==null){var u=m(l,"x",.5),d=m(l,"y",.5);n.setOrigin(u,d)}n.blendMode=m(e,"blendMode",o.NORMAL),n.visible=m(e,"visible",!0);var f=m(e,"add",!0);return f&&r.sys.displayList.add(n),n.preUpdate&&r.sys.updateList.add(n),n};v.exports=a},13059:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(23568),m=function(a,r){var n=o(r,"anims",null);if(n===null)return a;if(typeof n=="string")a.anims.play(n);else if(typeof n=="object"){var e=a.anims,s=o(n,"key",void 0);if(s){var h=o(n,"startFrame",void 0),i=o(n,"delay",0),l=o(n,"repeat",0),u=o(n,"repeatDelay",0),d=o(n,"yoyo",!1),f=o(n,"play",!1),p=o(n,"delayedPlay",0),g={key:s,delay:i,repeat:l,repeatDelay:u,yoyo:d,startFrame:h};f?e.play(g):p>0?e.playAfterDelay(g,p):e.load(g)}}return a};v.exports=m},8050:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(73162),a=t(37277),r=t(51708),n=t(44594),e=t(19186),s=new o({Extends:m,initialize:function(i){m.call(this,i),this.sortChildrenFlag=!1,this.scene=i,this.systems=i.sys,this.events=i.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(n.BOOT,this.boot,this),this.events.on(n.START,this.start,this)},boot:function(){this.events.once(n.DESTROY,this.destroy,this)},addChildCallback:function(h){h.displayList&&h.displayList!==this&&h.removeFromDisplayList(),h.parentContainer&&h.parentContainer.remove(h),h.displayList||(this.queueDepthSort(),h.displayList=this,h.emit(r.ADDED_TO_SCENE,h,this.scene),this.events.emit(n.ADDED_TO_SCENE,h,this.scene))},removeChildCallback:function(h){this.queueDepthSort(),h.displayList=null,h.emit(r.REMOVED_FROM_SCENE,h,this.scene),this.events.emit(n.REMOVED_FROM_SCENE,h,this.scene)},start:function(){this.events.once(n.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(e(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(h,i){return h._depth-i._depth},getChildren:function(){return this.list},shutdown:function(){for(var h=this.list,i=h.length;i--;)h[i].destroy(!0);h.length=0,this.events.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(n.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});a.register("DisplayList",s,"displayList"),v.exports=s},95643:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(53774),a=t(45893),r=t(50792),n=t(51708),e=t(44594),s=new o({Extends:r,initialize:function(i,l){r.call(this),this.scene=i,this.displayList=null,this.type=l,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(n.ADDED_TO_SCENE,this.addedToScene,this),this.on(n.REMOVED_FROM_SCENE,this.removedFromScene,this),i.sys.queueDepthSort()},setActive:function(h){return this.active=h,this},setName:function(h){return this.name=h,this},setState:function(h){return this.state=h,this},setDataEnabled:function(){return this.data||(this.data=new a(this)),this},setData:function(h,i){return this.data||(this.data=new a(this)),this.data.set(h,i),this},incData:function(h,i){return this.data||(this.data=new a(this)),this.data.inc(h,i),this},toggleData:function(h){return this.data||(this.data=new a(this)),this.data.toggle(h),this},getData:function(h){return this.data||(this.data=new a(this)),this.data.get(h)},setInteractive:function(h,i,l){return this.scene.sys.input.enable(this,h,i,l),this},disableInteractive:function(h){return h===void 0&&(h=!1),this.scene.sys.input.disable(this,h),this},removeInteractive:function(h){return h===void 0&&(h=!1),this.scene.sys.input.clear(this),h&&this.scene.sys.input.resetCursor(),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return m(this)},willRender:function(h){var i=this.displayList&&this.displayList.active?this.displayList.willRender(h):!0;return!(!i||s.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&h.id)},getIndexList:function(){for(var h=this,i=this.parentContainer,l=[];i&&(l.unshift(i.getIndex(h)),h=i,i.parentContainer);)i=i.parentContainer;return this.displayList?l.unshift(this.displayList.getIndex(h)):l.unshift(this.scene.sys.displayList.getIndex(h)),l},addToDisplayList:function(h){return h===void 0&&(h=this.scene.sys.displayList),this.displayList&&this.displayList!==h&&this.removeFromDisplayList(),h.exists(this)||(this.displayList=h,h.add(this,!0),h.queueDepthSort(),this.emit(n.ADDED_TO_SCENE,this,this.scene),h.events.emit(e.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var h=this.displayList||this.scene.sys.displayList;return h&&h.exists(this)&&(h.remove(this,!0),h.queueDepthSort(),this.displayList=null,this.emit(n.REMOVED_FROM_SCENE,this,this.scene),h.events.emit(e.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},getDisplayList:function(){var h=null;return this.parentContainer?h=this.parentContainer.list:this.displayList&&(h=this.displayList.list),h},destroy:function(h){!this.scene||this.ignoreDestroy||(h===void 0&&(h=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(n.DESTROY,this,h),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});s.RENDER_MASK=15,v.exports=s},44603:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(37277),a=t(44594),r=new o({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});r.register=function(n,e){r.prototype.hasOwnProperty(n)||(r.prototype[n]=e)},r.remove=function(n){r.prototype.hasOwnProperty(n)&&delete r.prototype[n]},m.register("GameObjectCreator",r,"make"),v.exports=r},39429:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(37277),a=t(44594),r=new o({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},existing:function(n){return(n.renderCanvas||n.renderWebGL)&&this.displayList.add(n),n.preUpdate&&this.updateList.add(n),n},shutdown:function(){this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});r.register=function(n,e){r.prototype.hasOwnProperty(n)||(r.prototype[n]=e)},r.remove=function(n){r.prototype.hasOwnProperty(n)&&delete r.prototype[n]},m.register("GameObjectFactory",r,"add"),v.exports=r},91296:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(61340),m=new o,a=new o,r=new o,n={camera:m,sprite:a,calc:r},e=function(s,h,i){var l=m,u=a,d=r;return u.applyITRS(s.x,s.y,s.rotation,s.scaleX,s.scaleY),l.copyFrom(h.matrix),i?(l.multiplyWithOffset(i,-h.scrollX*s.scrollFactorX,-h.scrollY*s.scrollFactorY),u.e=s.x,u.f=s.y):(u.e-=h.scrollX*s.scrollFactorX,u.f-=h.scrollY*s.scrollFactorY),l.multiply(u,d),n};v.exports=e},45027:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(25774),a=t(37277),r=t(44594),n=new o({Extends:m,initialize:function(s){m.call(this),this.checkQueue=!0,this.scene=s,this.systems=s.sys,s.sys.events.once(r.BOOT,this.boot,this),s.sys.events.on(r.START,this.start,this)},boot:function(){this.systems.events.once(r.DESTROY,this.destroy,this)},start:function(){var e=this.systems.events;e.on(r.PRE_UPDATE,this.update,this),e.on(r.UPDATE,this.sceneUpdate,this),e.once(r.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(e,s){for(var h=this._active,i=h.length,l=0;l<i;l++){var u=h[l];u.active&&u.preUpdate.call(u,e,s)}},shutdown:function(){for(var e=this._active.length;e--;)this._active[e].destroy(!0);for(e=this._pending.length;e--;)this._pending[e].destroy(!0);for(e=this._destroy.length;e--;)this._destroy[e].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var s=this.systems.events;s.off(r.PRE_UPDATE,this.update,this),s.off(r.UPDATE,this.sceneUpdate,this),s.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});a.register("UpdateList",n,"updateList"),v.exports=n},3217:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a,r,n,e,s,h,i,l,u,d,f,p){var g=m.x-o.displayOriginX+r,x=m.y-o.displayOriginY+n,T=g+m.w,E=x+m.h,C=e.a,R=e.b,w=e.c,F=e.d,I=e.e,L=e.f,D=g*C+x*w+I,B=g*R+x*F+L,U=g*C+E*w+I,W=g*R+E*F+L,K=T*C+E*w+I,Y=T*R+E*F+L,G=T*C+x*w+I,X=T*R+x*F+L;s&&(D=Math.round(D),B=Math.round(B),U=Math.round(U),W=Math.round(W),K=Math.round(K),Y=Math.round(Y),G=Math.round(G),X=Math.round(X)),t.batchQuad(o,D,B,U,W,K,Y,G,X,a.u0,a.v0,a.u1,a.v1,h,i,l,u,d,f,p)};v.exports=S},53048:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a){if(m===void 0&&(m=!1),a===void 0)return a={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},a;var r=t.text,n=r.length,e=t.maxWidth,s=t.wordWrapCharCode,h=Number.MAX_VALUE,i=Number.MAX_VALUE,l=0,u=0,d=t.fontData.chars,f=t.fontData.lineHeight,p=t.letterSpacing,g=t.lineSpacing,x=0,T=0,E=0,C=null,R=t._align,w=0,F=0,I=t.fontSize/t.fontData.size,L=I*t.scaleX,D=I*t.scaleY,B=null,U=0,W=[],K=Number.MAX_VALUE,Y=0,G=0,X=0,V,b,z,k=[],$=[],J=null,j=function(bt,Kt){for(var Lt=0,Vt=0;Vt<bt.length;Vt++){var Ut=bt.charCodeAt(Vt),$t=Kt.chars[Ut];$t&&(Lt+=$t.xAdvance)}return Lt*L};if(e>0){z=r.split(`
`);var q=[];for(V=0;V<z.length;V++){var _=z[V],tt="",et="",at="",ot="";for(b=0;b<_.length;b++)if(E=_.charCodeAt(b),tt+=_[b],E===s||b===_.length-1){ot=at+tt;var nt=j(ot,t.fontData);nt<=e?at=ot:(et=et.slice(0,-1),et+=(et?`
`:"")+at,at=tt),tt=""}et=et.slice(0,-1),et+=(et?`
`:"")+at,q.push(et)}r=q.join(`
`),a.wrappedText=r,n=r.length}var vt=0;for(V=0;V<n;V++){if(E=r.charCodeAt(V),E===10){J!==null&&(k.push({word:J.word,i:J.i,x:J.x*L,y:J.y*D,w:J.w*L,h:J.h*D}),J=null),B=null,W[G]=X,X>Y&&(Y=X),X<K&&(K=X),G++,X=0,x=0,T=(f+g)*G;continue}if(C=d[E],!!C){if(w=x,F=T,B!==null){var pt=C.kerning[U];w+=pt!==void 0?pt:0}h>w&&(h=w),i>F&&(i=F);var gt=w+C.xAdvance,rt=F+f;l<gt&&(l=gt),u<rt&&(u=rt);var ut=C.xOffset+C.xAdvance+(pt!==void 0?pt:0);E===s?J!==null&&(k.push({word:J.word,i:J.i,x:J.x*L,y:J.y*D,w:J.w*L,h:J.h*D}),J=null):(J===null&&(J={word:"",i:vt,x,y:T,w:0,h:f}),J.word=J.word.concat(r[V]),J.w+=ut),$.push({i:vt,idx:V,char:r[V],code:E,x:(C.xOffset+w)*I,y:(C.yOffset+T)*I,w:C.width*I,h:C.height*I,t:T*I,r:gt*I,b:f*I,line:G,glyph:C}),x+=C.xAdvance+p+(pt!==void 0?pt:0),B=C,U=E,X=gt*I,vt++}}if(J!==null&&k.push({word:J.word,i:J.i,x:J.x*L,y:J.y*D,w:J.w*L,h:J.h*D}),W[G]=X,X>Y&&(Y=X),X<K&&(K=X),R>0)for(var ft=0;ft<$.length;ft++){var St=$[ft];if(R===1){var Tt=(Y-W[St.line])/2;St.x+=Tt,St.r+=Tt}else if(R===2){var wt=Y-W[St.line];St.x+=wt,St.r+=wt}}var Pt=a.local,Mt=a.global;return z=a.lines,Pt.x=h*I,Pt.y=i*I,Pt.width=l*I,Pt.height=u*I,Mt.x=t.x-t._displayOriginX+h*L,Mt.y=t.y-t._displayOriginY+i*D,Mt.width=l*L,Mt.height=u*D,z.shortest=K,z.longest=Y,z.lengths=W,o&&(Pt.x=Math.ceil(Pt.x),Pt.y=Math.ceil(Pt.y),Pt.width=Math.ceil(Pt.width),Pt.height=Math.ceil(Pt.height),Mt.x=Math.ceil(Mt.x),Mt.y=Math.ceil(Mt.y),Mt.width=Math.ceil(Mt.width),Mt.height=Math.ceil(Mt.height),z.shortest=Math.ceil(K),z.longest=Math.ceil(Y)),m&&(t._displayOriginX=t.originX*Pt.width,t._displayOriginY=t.originY*Pt.height,Mt.x=t.x-t._displayOriginX*t.scaleX,Mt.y=t.y-t._displayOriginY*t.scaleY,o&&(Mt.x=Math.ceil(Mt.x),Mt.y=Math.ceil(Mt.y))),a.words=k,a.characters=$,a.lines.height=f,a.scale=I,a.scaleX=t.scaleX,a.scaleY=t.scaleY,a};v.exports=S},61327:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(21859),m=function(a,r,n,e,s,h,i){var l=a.sys.textures.get(n),u=l.get(e),d=a.sys.cache.xml.get(s);if(u&&d){var f=o(d,u,h,i,l);return a.sys.cache.bitmapFont.add(r,{data:f,texture:n,frame:e,fromAtlas:!0}),!0}else return!1};v.exports=m},6925:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35154),m=function(a,r){var n=r.width,e=r.height,s=Math.floor(n/2),h=Math.floor(e/2),i=o(r,"chars","");if(i!==""){var l=o(r,"image",""),u=a.sys.textures.getFrame(l),d=u.cutX,f=u.cutY,p=u.source.width,g=u.source.height,x=o(r,"offset.x",0),T=o(r,"offset.y",0),E=o(r,"spacing.x",0),C=o(r,"spacing.y",0),R=o(r,"lineSpacing",0),w=o(r,"charsPerRow",null);w===null&&(w=p/n,w>i.length&&(w=i.length));for(var F=x,I=T,L={retroFont:!0,font:l,size:n,lineHeight:e+R,chars:{}},D=0,B=0;B<i.length;B++){var U=i.charCodeAt(B),W=(d+F)/p,K=(f+I)/g,Y=(d+F+n)/p,G=(f+I+e)/g;L.chars[U]={x:F,y:I,width:n,height:e,centerX:s,centerY:h,xOffset:0,yOffset:0,xAdvance:n,data:{},kerning:{},u0:W,v0:K,u1:Y,v1:G},D++,D===w?(D=0,F=x,I+=e+C):F+=n+E}var X={data:L,frame:null,texture:l};return X}};v.exports=m},21859:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(o,m){return parseInt(o.getAttribute(m),10)}var t=function(o,m,a,r,n){a===void 0&&(a=0),r===void 0&&(r=0);var e=m.cutX,s=m.cutY,h=m.source.width,i=m.source.height,l=m.sourceIndex,u={},d=o.getElementsByTagName("info")[0],f=o.getElementsByTagName("common")[0];u.font=d.getAttribute("face"),u.size=S(d,"size"),u.lineHeight=S(f,"lineHeight")+r,u.chars={};var p=o.getElementsByTagName("char"),g=m!==void 0&&m.trimmed;if(g)var x=m.height,T=m.width;for(var E=0;E<p.length;E++){var C=p[E],R=S(C,"id"),w=String.fromCharCode(R),F=S(C,"x"),I=S(C,"y"),L=S(C,"width"),D=S(C,"height");g&&(F<T&&(T=F),I<x&&(x=I)),g&&x!==0&&T!==0&&(F-=m.x,I-=m.y);var B=(e+F)/h,U=(s+I)/i,W=(e+F+L)/h,K=(s+I+D)/i;if(u.chars[R]={x:F,y:I,width:L,height:D,centerX:Math.floor(L/2),centerY:Math.floor(D/2),xOffset:S(C,"xoffset"),yOffset:S(C,"yoffset"),xAdvance:S(C,"xadvance")+a,data:{},kerning:{},u0:B,v0:U,u1:W,v1:K},n&&L!==0&&D!==0){var Y=n.add(w,l,F,I,L,D);Y&&Y.setUVs(L,D,B,U,W,K)}}var G=o.getElementsByTagName("kerning");for(E=0;E<G.length;E++){var X=G[E],V=S(X,"first"),b=S(X,"second"),z=S(X,"amount");u.chars[b].kerning[V]=z}return u};v.exports=t},196:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87662),m=t(79291),a={Parse:t(6925)};a=m(!1,a,o),v.exports=a},87662:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};v.exports=S},2638:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(22186),m=t(83419),a=t(12310),r=new m({Extends:o,Mixins:[a],initialize:function(e,s,h,i,l,u,d){o.call(this,e,s,h,i,l,u,d),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(n,e){return this.cropWidth=n,this.cropHeight=e,this},setDisplayCallback:function(n){return this.displayCallback=n,this},setScrollX:function(n){return this.scrollX=n,this},setScrollY:function(n){return this.scrollY=n,this}});v.exports=r},86741:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20926),m=function(a,r,n,e){var s=r._text,h=s.length,i=a.currentContext;if(!(h===0||!o(a,i,r,n,e))){n.addToRenderList(r);var l=r.fromAtlas?r.frame:r.texture.frames.__BASE,u=r.displayCallback,d=r.callbackData,f=r.fontData.chars,p=r.fontData.lineHeight,g=r._letterSpacing,x=0,T=0,E=0,C=null,R=0,w=0,F=0,I=0,L=0,D=0,B=null,U=0,W=r.frame.source.image,K=l.cutX,Y=l.cutY,G=0,X=0,V=r._fontSize/r.fontData.size,b=r._align,z=0,k=0;r.getTextBounds(!1);var $=r._bounds.lines;b===1?k=($.longest-$.lengths[0])/2:b===2&&(k=$.longest-$.lengths[0]),i.translate(-r.displayOriginX,-r.displayOriginY);var J=n.roundPixels;r.cropWidth>0&&r.cropHeight>0&&(i.beginPath(),i.rect(0,0,r.cropWidth,r.cropHeight),i.clip());for(var j=0;j<h;j++){if(X=V,G=0,E=s.charCodeAt(j),E===10){z++,b===1?k=($.longest-$.lengths[z])/2:b===2&&(k=$.longest-$.lengths[z]),x=0,T+=p,B=null;continue}if(C=f[E],!!C){if(R=K+C.x,w=Y+C.y,F=C.width,I=C.height,L=C.xOffset+x-r.scrollX,D=C.yOffset+T-r.scrollY,B!==null){var q=C.kerning[U];L+=q!==void 0?q:0}if(u){d.index=j,d.charCode=E,d.x=L,d.y=D,d.scale=X,d.rotation=G,d.data=C.data;var _=u(d);L=_.x,D=_.y,X=_.scale,G=_.rotation}L*=X,D*=X,L+=k,x+=C.xAdvance+g+(q!==void 0?q:0),B=C,U=E,!(F===0||I===0||E===32)&&(J&&(L=Math.round(L),D=Math.round(D)),i.save(),i.translate(L,D),i.rotate(G),i.scale(X,X),i.drawImage(W,R,w,F,I,0,0,F,I),i.restore())}}i.restore()}};v.exports=m},11164:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2638),m=t(25305),a=t(44603),r=t(23568);a.register("dynamicBitmapText",function(n,e){n===void 0&&(n={});var s=r(n,"font",""),h=r(n,"text",""),i=r(n,"size",!1),l=new o(this.scene,0,0,s,h,i);return e!==void 0&&(n.add=e),m(this.scene,l,n),l})},72566:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2638),m=t(39429);m.register("dynamicBitmapText",function(a,r,n,e,s){return this.displayList.add(new o(this.scene,a,r,n,e,s))})},12310:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),m=o,a=o;m=t(73482),a=t(86741),v.exports={renderWebGL:m,renderCanvas:a}},73482:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),m=t(61340),a=t(70554),r=new m,n=function(e,s,h,i){var l=s.text,u=l.length;if(u!==0){h.addToRenderList(s);var d=e.pipelines.set(s.pipeline,s),f=o(s,h,i);e.pipelines.preBatch(s);var p=f.sprite,g=f.calc,x=r,T=s.cropWidth>0||s.cropHeight>0;T&&(d.flush(),e.pushScissor(g.tx,g.ty,s.cropWidth*g.scaleX,s.cropHeight*g.scaleY));var E=s.frame,C=E.glTexture,R=s.tintFill,w=a.getTintAppendFloatAlpha(s.tintTopLeft,h.alpha*s._alphaTL),F=a.getTintAppendFloatAlpha(s.tintTopRight,h.alpha*s._alphaTR),I=a.getTintAppendFloatAlpha(s.tintBottomLeft,h.alpha*s._alphaBL),L=a.getTintAppendFloatAlpha(s.tintBottomRight,h.alpha*s._alphaBR),D=d.setGameObject(s),B=0,U=0,W=0,K=0,Y=s.letterSpacing,G,X=0,V=0,b,z=s.scrollX,k=s.scrollY,$=s.fontData,J=$.chars,j=$.lineHeight,q=s.fontSize/$.size,_=0,tt=s._align,et=0,at=0,ot=s.getTextBounds(!1);s.maxWidth>0&&(l=ot.wrappedText,u=l.length);var nt=s._bounds.lines;tt===1?at=(nt.longest-nt.lengths[0])/2:tt===2&&(at=nt.longest-nt.lengths[0]);for(var vt=h.roundPixels,pt=s.displayCallback,gt=s.callbackData,rt=0;rt<u;rt++){if(W=l.charCodeAt(rt),W===10){et++,tt===1?at=(nt.longest-nt.lengths[et])/2:tt===2&&(at=nt.longest-nt.lengths[et]),B=0,U+=j,b=null;continue}if(G=J[W],!!G){X=G.width,V=G.height;var ut=G.xOffset+B-z,ft=G.yOffset+U-k;if(b!==null){var St=G.kerning[K]||0;ut+=St,B+=St}if(B+=G.xAdvance+Y,b=G,K=W,!(X===0||V===0||W===32)){if(q=s.fontSize/s.fontData.size,_=0,pt){gt.color=0,gt.tint.topLeft=w,gt.tint.topRight=F,gt.tint.bottomLeft=I,gt.tint.bottomRight=L,gt.index=rt,gt.charCode=W,gt.x=ut,gt.y=ft,gt.scale=q,gt.rotation=_,gt.data=G.data;var Tt=pt(gt);ut=Tt.x,ft=Tt.y,q=Tt.scale,_=Tt.rotation,Tt.color?(w=Tt.color,F=Tt.color,I=Tt.color,L=Tt.color):(w=Tt.tint.topLeft,F=Tt.tint.topRight,I=Tt.tint.bottomLeft,L=Tt.tint.bottomRight),w=a.getTintAppendFloatAlpha(w,h.alpha*s._alphaTL),F=a.getTintAppendFloatAlpha(F,h.alpha*s._alphaTR),I=a.getTintAppendFloatAlpha(I,h.alpha*s._alphaBL),L=a.getTintAppendFloatAlpha(L,h.alpha*s._alphaBR)}ut*=q,ft*=q,ut-=s.displayOriginX,ft-=s.displayOriginY,ut+=at,x.applyITRS(ut,ft,_,q,q),g.multiply(x,p);var wt=G.u0,Pt=G.v0,Mt=G.u1,bt=G.v1,Kt=X,Lt=V,Vt=p.e,Ut=p.f,$t=Lt*p.c+p.e,Oe=Lt*p.d+p.f,De=Kt*p.a+Lt*p.c+p.e,me=Kt*p.b+Lt*p.d+p.f,Ae=Kt*p.a+p.e,Pe=Kt*p.b+p.f;vt&&(Vt=Math.round(Vt),Ut=Math.round(Ut),$t=Math.round($t),Oe=Math.round(Oe),De=Math.round(De),me=Math.round(me),Ae=Math.round(Ae),Pe=Math.round(Pe)),d.shouldFlush(6)&&(d.flush(),D=d.setGameObject(s)),d.batchQuad(s,Vt,Ut,$t,Oe,De,me,Ae,Pe,wt,Pt,Mt,bt,w,F,I,L,R,C,D)}}}T&&(d.flush(),e.popScissor()),e.pipelines.postBatch(s)}};v.exports=n},22186:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(45319),a=t(31401),r=t(95643),n=t(53048),e=t(61327),s=t(21859),h=t(87841),i=t(18658),l=new o({Extends:r,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Texture,a.Tint,a.Transform,a.Visible,i],initialize:function(d,f,p,g,x,T,E){x===void 0&&(x=""),E===void 0&&(E=0),r.call(this,d,"BitmapText"),this.font=g;var C=this.scene.sys.cache.bitmapFont.get(g);if(!C)throw new Error("Invalid BitmapText key: "+g);this.fontData=C.data,this._text="",this._fontSize=T||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=E,this._bounds=n(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=C.fromAtlas,this.setTexture(C.texture,C.frame),this.setPosition(f,p),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(x)},setLeftAlign:function(){return this._align=l.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=l.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=l.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(u){return this._fontSize=u,this._dirty=!0,this},setLetterSpacing:function(u){return u===void 0&&(u=0),this._letterSpacing=u,this._dirty=!0,this},setLineSpacing:function(u){return u===void 0&&(u=0),this.lineSpacing=u,this},setText:function(u){return!u&&u!==0&&(u=""),Array.isArray(u)&&(u=u.join(`
`)),u!==this.text&&(this._text=u.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(u,d,f,p){return u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=0),p===void 0&&(p=.5),this.dropShadowX=u,this.dropShadowY=d,this.dropShadowColor=f,this.dropShadowAlpha=p,this},setCharacterTint:function(u,d,f,p,g,x,T){u===void 0&&(u=0),d===void 0&&(d=1),f===void 0&&(f=!1),p===void 0&&(p=-1),g===void 0&&(g=p,x=p,T=p);var E=this.text.length;d===-1&&(d=E),u<0&&(u=E+u),u=m(u,0,E-1);for(var C=m(u+d,u,E),R=this.charColors,w=u;w<C;w++){var F=R[w];if(p===-1)R[w]=null;else{var I=f?1:0;F?(F.tintEffect=I,F.tintTL=p,F.tintTR=g,F.tintBL=x,F.tintBR=T):R[w]={tintEffect:I,tintTL:p,tintTR:g,tintBL:x,tintBR:T}}}return this},setWordTint:function(u,d,f,p,g,x,T){d===void 0&&(d=1);for(var E=this.getTextBounds(),C=E.words,R=typeof u=="number",w=0,F=0;F<C.length;F++){var I=C[F];if((R&&F===u||!R&&I.word===u)&&(this.setCharacterTint(I.i,I.word.length,f,p,g,x,T),w++,w===d))return this}return this},getTextBounds:function(u){var d=this._bounds;return(this._dirty||u||this.scaleX!==d.scaleX||this.scaleY!==d.scaleY)&&(n(this,u,!0,d),this._dirty=!1),d},getCharacterAt:function(u,d,f){for(var p=this.getLocalPoint(u,d,null,f),g=this.getTextBounds(),x=g.characters,T=new h,E=0;E<x.length;E++){var C=x[E];if(T.setTo(C.x,C.t,C.r-C.x,C.b),T.contains(p.x,p.y))return C}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(u,d,f){d===void 0&&(d=this._fontSize),f===void 0&&(f=this._align);var p=this.scene.sys.cache.bitmapFont.get(u);return p&&(this.font=u,this.fontData=p.data,this._fontSize=d,this._align=f,this.fromAtlas=p.fromAtlas===!0,this.setTexture(p.texture,p.frame),n(this,!1,!0,this._bounds)),this},setMaxWidth:function(u,d){return this._maxWidth=u,this._dirty=!0,d!==void 0&&(this.wordWrapCharCode=d),this},align:{set:function(u){this._align=u,this._dirty=!0},get:function(){return this._align}},text:{set:function(u){this.setText(u)},get:function(){return this._text}},fontSize:{set:function(u){this._fontSize=u,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(u){this._letterSpacing=u,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(u){this._lineSpacing=u,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(u){this._maxWidth=u,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var u=a.ToJSON(this),d={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return u.data=d,u},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});l.ALIGN_LEFT=0,l.ALIGN_CENTER=1,l.ALIGN_RIGHT=2,l.ParseFromAtlas=e,l.ParseXMLBitmapFont=s,v.exports=l},37289:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20926),m=function(a,r,n,e){var s=r._text,h=s.length,i=a.currentContext;if(!(h===0||!o(a,i,r,n,e))){n.addToRenderList(r);var l=r.fromAtlas?r.frame:r.texture.frames.__BASE,u=r.fontData.chars,d=r.fontData.lineHeight,f=r._letterSpacing,p=r._lineSpacing,g=0,x=0,T=0,E=null,C=0,R=0,w=0,F=0,I=0,L=0,D=null,B=0,U=l.source.image,W=l.cutX,K=l.cutY,Y=r._fontSize/r.fontData.size,G=r._align,X=0,V=0,b=r.getTextBounds(!1);r.maxWidth>0&&(s=b.wrappedText,h=s.length);var z=r._bounds.lines;G===1?V=(z.longest-z.lengths[0])/2:G===2&&(V=z.longest-z.lengths[0]),i.translate(-r.displayOriginX,-r.displayOriginY);for(var k=n.roundPixels,$=0;$<h;$++){if(T=s.charCodeAt($),T===10){X++,G===1?V=(z.longest-z.lengths[X])/2:G===2&&(V=z.longest-z.lengths[X]),g=0,x+=d+p,D=null;continue}if(E=u[T],!!E){if(C=W+E.x,R=K+E.y,w=E.width,F=E.height,I=E.xOffset+g,L=E.yOffset+x,D!==null){var J=E.kerning[B];I+=J!==void 0?J:0}I*=Y,L*=Y,I+=V,g+=E.xAdvance+f+(J!==void 0?J:0),D=E,B=T,!(w===0||F===0||T===32)&&(k&&(I=Math.round(I),L=Math.round(L)),i.save(),i.translate(I,L),i.scale(Y,Y),i.drawImage(U,C,R,w,F,0,0,w,F),i.restore())}}i.restore()}};v.exports=m},57336:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(22186),m=t(25305),a=t(44603),r=t(23568),n=t(35154);a.register("bitmapText",function(e,s){e===void 0&&(e={});var h=n(e,"font",""),i=r(e,"text",""),l=r(e,"size",!1),u=n(e,"align",0),d=new o(this.scene,0,0,h,i,l,u);return s!==void 0&&(e.add=s),m(this.scene,d,e),d})},34914:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(22186),m=t(39429);m.register("bitmapText",function(a,r,n,e,s,h){return this.displayList.add(new o(this.scene,a,r,n,e,s,h))})},18658:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),m=o,a=o;m=t(33590),a=t(37289),v.exports={renderWebGL:m,renderCanvas:a}},33590:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(3217),m=t(91296),a=t(70554),r=function(n,e,s,h){var i=e._text,l=i.length;if(l!==0){s.addToRenderList(e);var u=n.pipelines.set(e.pipeline,e),d=m(e,s,h).calc;n.pipelines.preBatch(e);var f=s.roundPixels,p=s.alpha,g=e.charColors,x=e.tintFill,T=a.getTintAppendFloatAlpha,E=T(e.tintTopLeft,p*e._alphaTL),C=T(e.tintTopRight,p*e._alphaTR),R=T(e.tintBottomLeft,p*e._alphaBL),w=T(e.tintBottomRight,p*e._alphaBR),F=e.frame.glTexture,I=u.setGameObject(e),L=e.getTextBounds(!1),D,B,U,W=L.characters,K=e.dropShadowX,Y=e.dropShadowY,G=K!==0||Y!==0;if(G){var X=e.dropShadowColor,V=e.dropShadowAlpha,b=T(X,p*V*e._alphaTL),z=T(X,p*V*e._alphaTR),k=T(X,p*V*e._alphaBL),$=T(X,p*V*e._alphaBR);for(D=0;D<W.length;D++)B=W[D],U=B.glyph,!(B.code===32||U.width===0||U.height===0)&&o(u,e,B,U,K,Y,d,f,b,z,k,$,1,F,I)}for(D=0;D<W.length;D++)if(B=W[D],U=B.glyph,!(B.code===32||U.width===0||U.height===0))if(u.shouldFlush(6)&&(u.flush(),I=u.setGameObject(e)),g[B.i]){var J=g[B.i],j=J.tintEffect,q=T(J.tintTL,p*e._alphaTL),_=T(J.tintTR,p*e._alphaTR),tt=T(J.tintBL,p*e._alphaBL),et=T(J.tintBR,p*e._alphaBR);o(u,e,B,U,0,0,d,f,q,_,tt,et,j,F,I)}else o(u,e,B,U,0,0,d,f,E,C,R,w,x,F,I);n.pipelines.postBatch(e)}};v.exports=r},6107:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(48011),m=t(46590),a=t(83419),r=t(31401),n=t(4327),e=t(95643),s=t(73162),h=new a({Extends:e,Mixins:[r.Alpha,r.BlendMode,r.Depth,r.Mask,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Size,r.Texture,r.Transform,r.Visible,o],initialize:function(l,u,d,f,p){e.call(this,l,"Blitter"),this.setTexture(f,p),this.setPosition(u,d),this.initPipeline(),this.initPostPipeline(),this.children=new s,this.renderList=[],this.dirty=!1},create:function(i,l,u,d,f){d===void 0&&(d=!0),f===void 0&&(f=this.children.length),u===void 0?u=this.frame:u instanceof n||(u=this.texture.get(u));var p=new m(this,i,l,u,d);return this.children.addAt(p,f,!1),this.dirty=!0,p},createFromCallback:function(i,l,u,d){for(var f=this.createMultiple(l,u,d),p=0;p<f.length;p++){var g=f[p];i.call(this,g,p)}return f},createMultiple:function(i,l,u){l===void 0&&(l=this.frame.name),u===void 0&&(u=!0),Array.isArray(l)||(l=[l]);var d=[],f=this;return l.forEach(function(p){for(var g=0;g<i;g++)d.push(f.create(0,0,p,u))}),d},childCanRender:function(i){return i.visible&&i.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});v.exports=h},72396:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a){var r=o.getRenderList();if(r.length!==0){var n=t.currentContext,e=m.alpha*o.alpha;if(e!==0){m.addToRenderList(o),n.globalCompositeOperation=t.blendModes[o.blendMode],n.imageSmoothingEnabled=!o.frame.source.scaleMode;var s=o.x-m.scrollX*o.scrollFactorX,h=o.y-m.scrollY*o.scrollFactorY;n.save(),a&&a.copyToContext(n);for(var i=m.roundPixels,l=0;l<r.length;l++){var u=r[l],d=u.flipX||u.flipY,f=u.frame,p=f.canvasData,g=f.x,x=f.y,T=1,E=1,C=u.alpha*e;C!==0&&(n.globalAlpha=C,d?(u.flipX&&(T=-1,g-=p.width),u.flipY&&(E=-1,x-=p.height),p.width>0&&p.height>0&&(n.save(),n.translate(u.x+s,u.y+h),n.scale(T,E),n.drawImage(f.source.image,p.x,p.y,p.width,p.height,g,x,p.width,p.height),n.restore())):(i&&(g=Math.round(g),x=Math.round(x)),p.width>0&&p.height>0&&n.drawImage(f.source.image,p.x,p.y,p.width,p.height,g+u.x+s,x+u.y+h,p.width,p.height)))}n.restore()}}};v.exports=S},9403:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(6107),m=t(25305),a=t(44603),r=t(23568);a.register("blitter",function(n,e){n===void 0&&(n={});var s=r(n,"key",null),h=r(n,"frame",null),i=new o(this.scene,0,0,s,h);return e!==void 0&&(n.add=e),m(this.scene,i,n),i})},12709:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(6107),m=t(39429);m.register("blitter",function(a,r,n,e){return this.displayList.add(new o(this.scene,a,r,n,e))})},48011:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),m=o,a=o;m=t(99485),a=t(72396),v.exports={renderWebGL:m,renderCanvas:a}},99485:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(61340),m=t(70554),a=new o,r=function(n,e,s,h){var i=e.getRenderList(),l=s.alpha*e.alpha;if(!(i.length===0||l===0)){s.addToRenderList(e);var u=n.pipelines.set(this.pipeline,e),d=s.scrollX*e.scrollFactorX,f=s.scrollY*e.scrollFactorY,p=a.copyFrom(s.matrix);h&&(p.multiplyWithOffset(h,-d,-f),d=0,f=0);var g=e.x-d,x=e.y-f,T=-1,E=!1,C=s.roundPixels;n.pipelines.preBatch(e);for(var R=0;R<i.length;R++){var w=i[R],F=w.frame,I=w.alpha*l;if(I!==0){var L=F.width,D=F.height,B=g+w.x+F.x,U=x+w.y+F.y;w.flipX&&(L*=-1,B+=F.width),w.flipY&&(D*=-1,U+=F.height);var W=p.setQuad(B,U,B+L,U+D,C),K=m.getTintAppendFloatAlpha(w.tint,I);if(F.sourceIndex!==T){var Y=u.setGameObject(e,F);T=F.sourceIndex}u.batchQuad(e,W[0],W[1],W[2],W[3],W[4],W[5],W[6],W[7],F.u0,F.v0,F.u1,F.v1,K,K,K,K,E,F.glTexture,Y)&&(T=-1)}}n.pipelines.postBatch(e)}};v.exports=r},46590:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(4327),a=new o({initialize:function(n,e,s,h,i){this.parent=n,this.x=e,this.y=s,this.frame=h,this.data={},this.tint=16777215,this._visible=i,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(r){return r===void 0?this.frame=this.parent.frame:r instanceof m&&r.texture===this.parent.texture?this.frame=r:this.frame=this.parent.texture.get(r),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(r,n,e){return this.x=r,this.y=n,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,e&&this.setFrame(e),this},setPosition:function(r,n){return this.x=r,this.y=n,this},setFlipX:function(r){return this.flipX=r,this},setFlipY:function(r){return this.flipY=r,this},setFlip:function(r,n){return this.flipX=r,this.flipY=n,this},setVisible:function(r){return this.visible=r,this},setAlpha:function(r){return this.alpha=r,this},setTint:function(r){return this.tint=r,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(r){this.parent.dirty|=this._visible!==r,this._visible=r}},alpha:{get:function(){return this._alpha},set:function(r){this.parent.dirty|=this._alpha>0!=r>0,this._alpha=r}}});v.exports=a},16005:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),m=2,a={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(r,n,e,s){return r===void 0&&(r=1),n===void 0?this.alpha=r:(this._alphaTL=o(r,0,1),this._alphaTR=o(n,0,1),this._alphaBL=o(e,0,1),this._alphaBR=o(s,0,1)),this},alpha:{get:function(){return this._alpha},set:function(r){var n=o(r,0,1);this._alpha=n,this._alphaTL=n,this._alphaTR=n,this._alphaBL=n,this._alphaBR=n,n===0?this.renderFlags&=-3:this.renderFlags|=m}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(r){var n=o(r,0,1);this._alphaTL=n,n!==0&&(this.renderFlags|=m)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(r){var n=o(r,0,1);this._alphaTR=n,n!==0&&(this.renderFlags|=m)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(r){var n=o(r,0,1);this._alphaBL=n,n!==0&&(this.renderFlags|=m)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(r){var n=o(r,0,1);this._alphaBR=n,n!==0&&(this.renderFlags|=m)}}};v.exports=a},88509:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),m=2,a={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(r){return r===void 0&&(r=1),this.alpha=r,this},alpha:{get:function(){return this._alpha},set:function(r){var n=o(r,0,1);this._alpha=n,n===0?this.renderFlags&=-3:this.renderFlags|=m}}};v.exports=a},90065:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10312),m={_blendMode:o.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(a){typeof a=="string"&&(a=o[a]),a|=0,a>=-1&&(this._blendMode=a)}},setBlendMode:function(a){return this.blendMode=a,this}};v.exports=m},94215:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,o){return this.width=t,this.height=o,this},setDisplaySize:function(t,o){return this.displayWidth=t,this.displayHeight=o,this}};v.exports=S},61683:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={texture:null,frame:null,isCropped:!1,setCrop:function(t,o,m,a){if(t===void 0)this.isCropped=!1;else if(this.frame){if(typeof t=="number")this.frame.setCropUVs(this._crop,t,o,m,a,this.flipX,this.flipY);else{var r=t;this.frame.setCropUVs(this._crop,r.x,r.y,r.width,r.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};v.exports=S},89272:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37105),m={_depth:0,depth:{get:function(){return this._depth},set:function(a){this.displayList&&this.displayList.queueDepthSort(),this._depth=a}},setDepth:function(a){return a===void 0&&(a=0),this.depth=a,this},setToTop:function(){var a=this.getDisplayList();return a&&o.BringToTop(a,this),this},setToBack:function(){var a=this.getDisplayList();return a&&o.SendToBack(a,this),this},setAbove:function(a){var r=this.getDisplayList();return r&&a&&o.MoveAbove(r,this,a),this},setBelow:function(a){var r=this.getDisplayList();return r&&a&&o.MoveBelow(r,this,a),this}};v.exports=m},47059:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(66064),a=t(19133),r=new o({initialize:function(e,s){this.gameObject=e,this.isPost=s,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(n){return n===void 0&&(n=0),this.padding=n,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(n){if(!this.isPost){var e=this.gameObject.scene.sys.renderer;e&&e.pipelines?(this.gameObject.pipeline=e.pipelines.FX_PIPELINE,n!==void 0&&(this.padding=n),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var n=this.list,e=0;e<n.length;e++)n[e].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(n){var e;if(this.isPost){var s=this.gameObject.getPostPipeline(String(n.type));for(Array.isArray(s)||(s=[s]),e=0;e<s.length;e++){var h=s[e];if(h.controller===n){this.gameObject.removePostPipeline(h),n.destroy();break}}}else{var i=this.list;for(e=0;e<i.length;e++)i[e]===n&&(a(i,e),n.destroy())}return this.gameObject},disable:function(n){return n===void 0&&(n=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,n&&this.clear(),this.gameObject},add:function(n,e){if(this.isPost){var s=String(n.type);this.gameObject.setPostPipeline(s,e);var h=this.gameObject.getPostPipeline(s);if(h)return Array.isArray(h)&&(h=h.pop()),h&&(h.controller=n),n}else return this.enabled||this.enable(),this.list.push(n),n},addGlow:function(n,e,s,h,i,l){return this.add(new m.Glow(this.gameObject,n,e,s,h),{quality:i,distance:l})},addShadow:function(n,e,s,h,i,l,u){return this.add(new m.Shadow(this.gameObject,n,e,s,h,i,l,u))},addPixelate:function(n){return this.add(new m.Pixelate(this.gameObject,n))},addVignette:function(n,e,s,h){return this.add(new m.Vignette(this.gameObject,n,e,s,h))},addShine:function(n,e,s,h){return this.add(new m.Shine(this.gameObject,n,e,s,h))},addBlur:function(n,e,s,h,i,l){return this.add(new m.Blur(this.gameObject,n,e,s,h,i,l))},addGradient:function(n,e,s,h,i,l,u,d){return this.add(new m.Gradient(this.gameObject,n,e,s,h,i,l,u,d))},addBloom:function(n,e,s,h,i,l){return this.add(new m.Bloom(this.gameObject,n,e,s,h,i,l))},addColorMatrix:function(){return this.add(new m.ColorMatrix(this.gameObject))},addCircle:function(n,e,s,h,i){return this.add(new m.Circle(this.gameObject,n,e,s,h,i))},addBarrel:function(n){return this.add(new m.Barrel(this.gameObject,n))},addDisplacement:function(n,e,s){return this.add(new m.Displacement(this.gameObject,n,e,s))},addWipe:function(n,e,s){return this.add(new m.Wipe(this.gameObject,n,e,s))},addReveal:function(n,e,s){return this.add(new m.Wipe(this.gameObject,n,e,s,!0))},addBokeh:function(n,e,s){return this.add(new m.Bokeh(this.gameObject,n,e,s))},addTiltShift:function(n,e,s,h,i,l){return this.add(new m.Bokeh(this.gameObject,n,e,s,!0,h,i,l))},destroy:function(){this.clear(),this.gameObject=null}});v.exports=r},54434:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,o){return this.flipX=t,this.flipY=o,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};v.exports=S},8004:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),m=t(11520),a=t(26099),r={prepareBoundsOutput:function(n,e){if(e===void 0&&(e=!1),this.rotation!==0&&m(n,this.x,this.y,this.rotation),e&&this.parentContainer){var s=this.parentContainer.getBoundsTransformMatrix();s.transformPoint(n.x,n.y,n)}return n},getCenter:function(n,e){return n===void 0&&(n=new a),n.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,n.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(n,e)},getTopLeft:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX,n.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(n,e)},getTopCenter:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,n.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(n,e)},getTopRight:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX+this.displayWidth,n.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(n,e)},getLeftCenter:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX,n.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(n,e)},getRightCenter:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX+this.displayWidth,n.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(n,e)},getBottomLeft:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX,n.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(n,e)},getBottomCenter:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,n.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(n,e)},getBottomRight:function(n,e){return n||(n=new a),n.x=this.x-this.displayWidth*this.originX+this.displayWidth,n.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(n,e)},getBounds:function(n){n===void 0&&(n=new o);var e,s,h,i,l,u,d,f;if(this.parentContainer){var p=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(n),p.transformPoint(n.x,n.y,n),e=n.x,s=n.y,this.getTopRight(n),p.transformPoint(n.x,n.y,n),h=n.x,i=n.y,this.getBottomLeft(n),p.transformPoint(n.x,n.y,n),l=n.x,u=n.y,this.getBottomRight(n),p.transformPoint(n.x,n.y,n),d=n.x,f=n.y}else this.getTopLeft(n),e=n.x,s=n.y,this.getTopRight(n),h=n.x,i=n.y,this.getBottomLeft(n),l=n.x,u=n.y,this.getBottomRight(n),d=n.x,f=n.y;return n.x=Math.min(e,h,l,d),n.y=Math.min(s,i,u,f),n.width=Math.max(e,h,l,d)-n.x,n.height=Math.max(s,i,u,f)-n.y,n}};v.exports=r},8573:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(6858),m=t(80661),a={mask:null,setMask:function(r){return this.mask=r,this},clearMask:function(r){return r===void 0&&(r=!1),r&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(r,n,e,s,h){return r===void 0&&(this.texture||this.shader||this.geom)&&(r=this),new o(this.scene,r,n,e,s,h)},createGeometryMask:function(r){return r===void 0&&(this.type==="Graphics"||this.geom)&&(r=this),new m(this.scene,r)}};v.exports=a},27387:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(t){this._displayOriginX=t,this.originX=t/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(t){this._displayOriginY=t,this.originY=t/this.height}},setOrigin:function(t,o){return t===void 0&&(t=.5),o===void 0&&(o=t),this.originX=t,this.originY=o,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(t,o){return t===void 0&&(t=0),o===void 0&&(o=t),this.displayOriginX=t,this.displayOriginY=o,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};v.exports=S},37640:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39506),m=t(57355),a=t(35154),r=t(86353),n=t(26099),e={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:r.PLAYING_FORWARD,setPath:function(s,h){h===void 0&&(h=this.pathConfig);var i=this.pathTween;return i&&i.isPlaying()&&i.stop(),this.path=s,h&&this.startFollow(h),this},setRotateToPath:function(s,h){return h===void 0&&(h=0),this.rotateToPath=s,this.pathRotationOffset=h,this},isFollowing:function(){var s=this.pathTween;return s&&s.isPlaying()},startFollow:function(s,h){s===void 0&&(s={}),h===void 0&&(h=0);var i=this.pathTween;i&&i.isPlaying()&&i.stop(),typeof s=="number"&&(s={duration:s}),s.from=a(s,"from",0),s.to=a(s,"to",1);var l=m(s,"positionOnPath",!1);this.rotateToPath=m(s,"rotateToPath",!1),this.pathRotationOffset=a(s,"rotationOffset",0);var u=a(s,"startAt",h);if(u&&(s.onStart=function(f){var p=f.data[0];p.progress=u,p.elapsed=p.duration*u;var g=p.ease(p.progress);p.current=p.start+(p.end-p.start)*g,p.setTargetValue()}),this.pathOffset||(this.pathOffset=new n(this.x,this.y)),this.pathVector||(this.pathVector=new n),this.pathDelta||(this.pathDelta=new n),this.pathDelta.reset(),s.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(s),this.path.getStartPoint(this.pathOffset),l&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=r.PLAYING_FORWARD,this.rotateToPath){var d=this.path.getPoint(.1);this.rotation=Math.atan2(d.y-this.y,d.x-this.x)+o(this.pathRotationOffset)}return this.pathConfig=s,this},pauseFollow:function(){var s=this.pathTween;return s&&s.isPlaying()&&s.pause(),this},resumeFollow:function(){var s=this.pathTween;return s&&s.isPaused()&&s.resume(),this},stopFollow:function(){var s=this.pathTween;return s&&s.isPlaying()&&s.stop(),this},pathUpdate:function(){var s=this.pathTween;if(s&&s.data){var h=s.data[0],i=this.pathDelta,l=this.pathVector;if(i.copy(l).negate(),h.state===r.COMPLETE){this.path.getPoint(h.end,l),i.add(l),l.add(this.pathOffset),this.setPosition(l.x,l.y);return}else if(h.state!==r.PLAYING_FORWARD&&h.state!==r.PLAYING_BACKWARD)return;this.path.getPoint(s.getValue(),l),i.add(l),l.add(this.pathOffset);var u=this.x,d=this.y;this.setPosition(l.x,l.y);var f=this.x-u,p=this.y-d;if(f===0&&p===0)return;if(h.state!==this._prevDirection){this._prevDirection=h.state;return}this.rotateToPath&&(this.rotation=Math.atan2(p,f)+o(this.pathRotationOffset))}}};v.exports=e},72699:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62644),m={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(a){this.pipelineData={};var r=this.scene.sys.renderer;if(!r)return!1;var n=r.pipelines;if(n){a===void 0&&(a=n.default);var e=n.get(a);if(e)return this.defaultPipeline=e,this.pipeline=e,!0}return!1},setPipeline:function(a,r,n){var e=this.scene.sys.renderer;if(!e)return this;var s=e.pipelines;if(s){var h=s.get(a);h&&(this.pipeline=h),r&&(this.pipelineData=n?o(r):r)}return this},setPipelineData:function(a,r){var n=this.pipelineData;return r===void 0?delete n[a]:n[a]=r,this},resetPipeline:function(a){return a===void 0&&(a=!1),this.pipeline=this.defaultPipeline,a&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline===null?null:this.pipeline.name}};v.exports=m},17581:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62644),m=t(47059),a=t(19133),r={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(n){this.postPipelines=[],this.postPipelineData={},this.postFX=new m(this,!0),n&&(this.preFX=new m(this,!1))},setPostPipeline:function(n,e,s){var h=this.scene.sys.renderer;if(!h)return this;var i=h.pipelines;if(i){Array.isArray(n)||(n=[n]);for(var l=0;l<n.length;l++){var u=i.getPostPipeline(n[l],this,e);u&&this.postPipelines.push(u)}e&&(this.postPipelineData=s?o(e):e)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(n,e){var s=this.postPipelineData;return e===void 0?delete s[n]:s[n]=e,this},getPostPipeline:function(n){for(var e=typeof n=="string",s=this.postPipelines,h=[],i=0;i<s.length;i++){var l=s[i];(e&&l.name===n||!e&&l instanceof n)&&h.push(l)}return h.length===1?h[0]:h},resetPostPipeline:function(n){n===void 0&&(n=!1);for(var e=this.postPipelines,s=0;s<e.length;s++)e[s].destroy();this.postPipelines=[],this.hasPostPipeline=!1,n&&(this.postPipelineData={})},removePostPipeline:function(n){for(var e=typeof n=="string",s=this.postPipelines,h=s.length-1;h>=0;h--){var i=s[h];(e&&i.name===n||!e&&i===n)&&(i.destroy(),a(s,h))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};v.exports=r},80227:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(t,o){return o===void 0&&(o=t),this.scrollFactorX=t,this.scrollFactorY=o,this}};v.exports=S},16736:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){t||(t=this.frame),this.width=t.realWidth,this.height=t.realHeight;var o=this.input;return o&&!o.customHitArea&&(o.hitArea.width=this.width,o.hitArea.height=this.height),this},setSize:function(t,o){return this.width=t,this.height=o,this},setDisplaySize:function(t,o){return this.displayWidth=t,this.displayHeight=o,this}};v.exports=S},37726:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(4327),m=8,a={texture:null,frame:null,isCropped:!1,setTexture:function(r,n,e,s){return this.texture=this.scene.sys.textures.get(r),this.setFrame(n,e,s)},setFrame:function(r,n,e){return n===void 0&&(n=!0),e===void 0&&(e=!0),r instanceof o?(this.texture=this.scene.sys.textures.get(r.texture.key),this.frame=r):this.frame=this.texture.get(r),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=-9:this.renderFlags|=m,this._sizeComponent&&n&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};v.exports=a},79812:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(4327),m=8,a={texture:null,frame:null,isCropped:!1,setCrop:function(r,n,e,s){if(r===void 0)this.isCropped=!1;else if(this.frame){if(typeof r=="number")this.frame.setCropUVs(this._crop,r,n,e,s,this.flipX,this.flipY);else{var h=r;this.frame.setCropUVs(this._crop,h.x,h.y,h.width,h.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(r,n){return this.texture=this.scene.sys.textures.get(r),this.setFrame(n)},setFrame:function(r,n,e){return n===void 0&&(n=!0),e===void 0&&(e=!0),r instanceof o?(this.texture=this.scene.sys.textures.get(r.texture.key),this.frame=r):this.frame=this.texture.get(r),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=-9:this.renderFlags|=m,this._sizeComponent&&n&&this.setSizeToFrame(),this._originComponent&&e&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};v.exports=a},27472:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(t,o,m,a){return t===void 0&&(t=16777215),o===void 0&&(o=t,m=t,a=t),this.tintTopLeft=t,this.tintTopRight=o,this.tintBottomLeft=m,this.tintBottomRight=a,this.tintFill=!1,this},setTintFill:function(t,o,m,a){return this.setTint(t,o,m,a),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){var t=16777215;return this.tintFill||this.tintTopLeft!==t||this.tintTopRight!==t||this.tintBottomLeft!==t||this.tintBottomRight!==t}}};v.exports=S},53774:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var o={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(o.textureKey=t.texture.key,o.frameKey=t.frame.name),o};v.exports=S},16901:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),m=t(61340),a=t(85955),r=t(86554),n=t(30954),e=t(26099),s=4,h={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(i){this._scaleX=i,this._scaleY=i,i===0?this.renderFlags&=-5:this.renderFlags|=s}},scaleX:{get:function(){return this._scaleX},set:function(i){this._scaleX=i,i===0?this.renderFlags&=-5:this._scaleY!==0&&(this.renderFlags|=s)}},scaleY:{get:function(){return this._scaleY},set:function(i){this._scaleY=i,i===0?this.renderFlags&=-5:this._scaleX!==0&&(this.renderFlags|=s)}},angle:{get:function(){return n(this._rotation*o.RAD_TO_DEG)},set:function(i){this.rotation=n(i)*o.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(i){this._rotation=r(i)}},setPosition:function(i,l,u,d){return i===void 0&&(i=0),l===void 0&&(l=i),u===void 0&&(u=0),d===void 0&&(d=0),this.x=i,this.y=l,this.z=u,this.w=d,this},copyPosition:function(i){return i.x!==void 0&&(this.x=i.x),i.y!==void 0&&(this.y=i.y),i.z!==void 0&&(this.z=i.z),i.w!==void 0&&(this.w=i.w),this},setRandomPosition:function(i,l,u,d){return i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=this.scene.sys.scale.width),d===void 0&&(d=this.scene.sys.scale.height),this.x=i+Math.random()*u,this.y=l+Math.random()*d,this},setRotation:function(i){return i===void 0&&(i=0),this.rotation=i,this},setAngle:function(i){return i===void 0&&(i=0),this.angle=i,this},setScale:function(i,l){return i===void 0&&(i=1),l===void 0&&(l=i),this.scaleX=i,this.scaleY=l,this},setX:function(i){return i===void 0&&(i=0),this.x=i,this},setY:function(i){return i===void 0&&(i=0),this.y=i,this},setZ:function(i){return i===void 0&&(i=0),this.z=i,this},setW:function(i){return i===void 0&&(i=0),this.w=i,this},getLocalTransformMatrix:function(i){return i===void 0&&(i=new m),i.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(i,l){i===void 0&&(i=new m);var u=this.parentContainer;if(!u)return this.getLocalTransformMatrix(i);var d=!1;for(l||(l=new m,d=!0),i.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);u;)l.applyITRS(u.x,u.y,u._rotation,u._scaleX,u._scaleY),l.multiply(i,i),u=u.parentContainer;return d&&l.destroy(),i},getLocalPoint:function(i,l,u,d){u||(u=new e),d||(d=this.scene.sys.cameras.main);var f=d.scrollX,p=d.scrollY,g=i+f*this.scrollFactorX-f,x=l+p*this.scrollFactorY-p;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(g,x,u):a(g,x,this.x,this.y,this.rotation,this.scaleX,this.scaleY,u),this._originComponent&&(u.x+=this._displayOriginX,u.y+=this._displayOriginY),u},getWorldPoint:function(i,l,u){i===void 0&&(i=new e);var d=this.parentContainer;if(!d)return i.x=this.x,i.y=this.y,i;var f=this.getWorldTransformMatrix(l,u);return i.x=f.tx,i.y=f.ty,i},getParentRotation:function(){for(var i=0,l=this.parentContainer;l;)i+=l.rotation,l=l.parentContainer;return i}};v.exports=h},61340:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(36383),a=t(26099),r=new o({initialize:function(e,s,h,i,l,u){e===void 0&&(e=1),s===void 0&&(s=0),h===void 0&&(h=0),i===void 0&&(i=1),l===void 0&&(l=0),u===void 0&&(u=0),this.matrix=new Float32Array([e,s,h,i,l,u,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(n){this.matrix[0]=n}},b:{get:function(){return this.matrix[1]},set:function(n){this.matrix[1]=n}},c:{get:function(){return this.matrix[2]},set:function(n){this.matrix[2]=n}},d:{get:function(){return this.matrix[3]},set:function(n){this.matrix[3]=n}},e:{get:function(){return this.matrix[4]},set:function(n){this.matrix[4]=n}},f:{get:function(){return this.matrix[5]},set:function(n){this.matrix[5]=n}},tx:{get:function(){return this.matrix[4]},set:function(n){this.matrix[4]=n}},ty:{get:function(){return this.matrix[5]},set:function(n){this.matrix[5]=n}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var n=this.matrix,e=n[0],s=n[1],h=n[2],i=n[3];return e||s?s>0?Math.acos(e/this.scaleX):-Math.acos(e/this.scaleX):h||i?m.TAU-(i>0?Math.acos(-h/this.scaleY):-Math.acos(h/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var n=this.matrix;return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,this},translate:function(n,e){var s=this.matrix;return s[4]=s[0]*n+s[2]*e+s[4],s[5]=s[1]*n+s[3]*e+s[5],this},scale:function(n,e){var s=this.matrix;return s[0]*=n,s[1]*=n,s[2]*=e,s[3]*=e,this},rotate:function(n){var e=Math.sin(n),s=Math.cos(n),h=this.matrix,i=h[0],l=h[1],u=h[2],d=h[3];return h[0]=i*s+u*e,h[1]=l*s+d*e,h[2]=i*-e+u*s,h[3]=l*-e+d*s,this},multiply:function(n,e){var s=this.matrix,h=n.matrix,i=s[0],l=s[1],u=s[2],d=s[3],f=s[4],p=s[5],g=h[0],x=h[1],T=h[2],E=h[3],C=h[4],R=h[5],w=e===void 0?s:e.matrix;return w[0]=g*i+x*u,w[1]=g*l+x*d,w[2]=T*i+E*u,w[3]=T*l+E*d,w[4]=C*i+R*u+f,w[5]=C*l+R*d+p,w},multiplyWithOffset:function(n,e,s){var h=this.matrix,i=n.matrix,l=h[0],u=h[1],d=h[2],f=h[3],p=h[4],g=h[5],x=e*l+s*d+p,T=e*u+s*f+g,E=i[0],C=i[1],R=i[2],w=i[3],F=i[4],I=i[5];return h[0]=E*l+C*d,h[1]=E*u+C*f,h[2]=R*l+w*d,h[3]=R*u+w*f,h[4]=F*l+I*d+x,h[5]=F*u+I*f+T,this},transform:function(n,e,s,h,i,l){var u=this.matrix,d=u[0],f=u[1],p=u[2],g=u[3],x=u[4],T=u[5];return u[0]=n*d+e*p,u[1]=n*f+e*g,u[2]=s*d+h*p,u[3]=s*f+h*g,u[4]=i*d+l*p+x,u[5]=i*f+l*g+T,this},transformPoint:function(n,e,s){s===void 0&&(s={x:0,y:0});var h=this.matrix,i=h[0],l=h[1],u=h[2],d=h[3],f=h[4],p=h[5];return s.x=n*i+e*u+f,s.y=n*l+e*d+p,s},invert:function(){var n=this.matrix,e=n[0],s=n[1],h=n[2],i=n[3],l=n[4],u=n[5],d=e*i-s*h;return n[0]=i/d,n[1]=-s/d,n[2]=-h/d,n[3]=e/d,n[4]=(h*u-i*l)/d,n[5]=-(e*u-s*l)/d,this},copyFrom:function(n){var e=this.matrix;return e[0]=n.a,e[1]=n.b,e[2]=n.c,e[3]=n.d,e[4]=n.e,e[5]=n.f,this},copyFromArray:function(n){var e=this.matrix;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],this},copyToContext:function(n){var e=this.matrix;return n.transform(e[0],e[1],e[2],e[3],e[4],e[5]),n},setToContext:function(n){return n.setTransform(this.a,this.b,this.c,this.d,this.e,this.f),n},copyToArray:function(n){var e=this.matrix;return n===void 0?n=[e[0],e[1],e[2],e[3],e[4],e[5]]:(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5]),n},setTransform:function(n,e,s,h,i,l){var u=this.matrix;return u[0]=n,u[1]=e,u[2]=s,u[3]=h,u[4]=i,u[5]=l,this},decomposeMatrix:function(){var n=this.decomposedMatrix,e=this.matrix,s=e[0],h=e[1],i=e[2],l=e[3],u=s*l-h*i;if(n.translateX=e[4],n.translateY=e[5],s||h){var d=Math.sqrt(s*s+h*h);n.rotation=h>0?Math.acos(s/d):-Math.acos(s/d),n.scaleX=d,n.scaleY=u/d}else if(i||l){var f=Math.sqrt(i*i+l*l);n.rotation=Math.PI*.5-(l>0?Math.acos(-i/f):-Math.acos(i/f)),n.scaleX=u/f,n.scaleY=f}else n.rotation=0,n.scaleX=0,n.scaleY=0;return n},applyITRS:function(n,e,s,h,i){var l=this.matrix,u=Math.sin(s),d=Math.cos(s);return l[4]=n,l[5]=e,l[0]=d*h,l[1]=u*h,l[2]=-u*i,l[3]=d*i,this},applyInverse:function(n,e,s){s===void 0&&(s=new a);var h=this.matrix,i=h[0],l=h[1],u=h[2],d=h[3],f=h[4],p=h[5],g=1/(i*d+u*-l);return s.x=d*g*n+-u*g*e+(p*u-f*d)*g,s.y=i*g*e+-l*g*n+(-p*i+f*l)*g,s},setQuad:function(n,e,s,h,i,l){i===void 0&&(i=!1),l===void 0&&(l=this.quad);var u=this.matrix,d=u[0],f=u[1],p=u[2],g=u[3],x=u[4],T=u[5],E=n*d+e*p+x,C=n*f+e*g+T,R=n*d+h*p+x,w=n*f+h*g+T,F=s*d+h*p+x,I=s*f+h*g+T,L=s*d+e*p+x,D=s*f+e*g+T;if(i){var B=Math.floor(E+.5),U=Math.floor(C+.5),W=B-E,K=U-C;l[0]=B,l[1]=U,l[2]=R+W,l[3]=w+K,l[4]=F+W,l[5]=I+K,l[6]=L+W,l[7]=D+K}else l[0]=E,l[1]=C,l[2]=R,l[3]=w,l[4]=F,l[5]=I,l[6]=L,l[7]=D;return l},getX:function(n,e){return n*this.a+e*this.c+this.e},getY:function(n,e){return n*this.b+e*this.d+this.f},getXRound:function(n,e,s){var h=this.getX(n,e);return s&&(h=Math.floor(h+.5)),h},getYRound:function(n,e,s){var h=this.getY(n,e);return s&&(h=Math.floor(h+.5)),h},getCSSMatrix:function(){var n=this.matrix;return"matrix("+n[0]+","+n[1]+","+n[2]+","+n[3]+","+n[4]+","+n[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});v.exports=r},59715:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=1,t={_visible:!0,visible:{get:function(){return this._visible},set:function(o){o?(this._visible=!0,this.renderFlags|=S):(this._visible=!1,this.renderFlags&=-2)}},setVisible:function(o){return this.visible=o,this}};v.exports=t},31401:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Alpha:t(16005),AlphaSingle:t(88509),BlendMode:t(90065),ComputedSize:t(94215),Crop:t(61683),Depth:t(89272),Flip:t(54434),FX:t(47059),GetBounds:t(8004),Mask:t(8573),Origin:t(27387),PathFollower:t(37640),Pipeline:t(72699),PostPipeline:t(17581),ScrollFactor:t(80227),Size:t(16736),Texture:t(37726),TextureCrop:t(79812),Tint:t(27472),ToJSON:t(53774),Transform:t(16901),TransformMatrix:t(61340),Visible:t(59715)}},31559:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37105),m=t(10312),a=t(83419),r=t(31401),n=t(51708),e=t(95643),s=t(87841),h=t(29959),i=t(36899),l=t(26099),u=new r.TransformMatrix,d=new a({Extends:e,Mixins:[r.AlphaSingle,r.BlendMode,r.ComputedSize,r.Depth,r.Mask,r.PostPipeline,r.Transform,r.Visible,h],initialize:function(p,g,x,T){e.call(this,p,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new r.TransformMatrix,this._sortKey="",this._sysEvents=p.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(g,x),this.setBlendMode(m.SKIP_CHECK),T&&this.add(T)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(f){return f===void 0&&(f=!0),this.exclusive=f,this},getBounds:function(f){if(f===void 0&&(f=new s),f.setTo(this.x,this.y,0,0),this.parentContainer){var p=this.parentContainer.getBoundsTransformMatrix(),g=p.transformPoint(this.x,this.y);f.setTo(g.x,g.y,0,0)}if(this.list.length>0){var x=this.list,T=new s,E=!1;f.setEmpty();for(var C=0;C<x.length;C++){var R=x[C];R.getBounds&&(R.getBounds(T),E?i(T,f,f):(f.setTo(T.x,T.y,T.width,T.height),E=!0))}}return f},addHandler:function(f){f.once(n.DESTROY,this.onChildDestroyed,this),this.exclusive&&(f.parentContainer&&f.parentContainer.remove(f),f.parentContainer=this,f.removeFromDisplayList(),f.addedToScene())},removeHandler:function(f){f.off(n.DESTROY,this.remove,this),this.exclusive&&(f.parentContainer=null,f.removedFromScene(),f.addToDisplayList())},pointToContainer:function(f,p){p===void 0&&(p=new l),this.parentContainer?this.parentContainer.pointToContainer(f,p):(p.x=f.x,p.y=f.y);var g=u;return g.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),g.invert(),g.transformPoint(f.x,f.y,p),p},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(u,this.localTransform)},add:function(f){return o.Add(this.list,f,this.maxSize,this.addHandler,this),this},addAt:function(f,p){return o.AddAt(this.list,f,p,this.maxSize,this.addHandler,this),this},getAt:function(f){return this.list[f]},getIndex:function(f){return this.list.indexOf(f)},sort:function(f,p){return f?(p===void 0&&(p=function(g,x){return g[f]-x[f]}),o.StableSort(this.list,p),this):this},getByName:function(f){return o.GetFirst(this.list,"name",f)},getRandom:function(f,p){return o.GetRandom(this.list,f,p)},getFirst:function(f,p,g,x){return o.GetFirst(this.list,f,p,g,x)},getAll:function(f,p,g,x){return o.GetAll(this.list,f,p,g,x)},count:function(f,p,g,x){return o.CountAllMatching(this.list,f,p,g,x)},swap:function(f,p){return o.Swap(this.list,f,p),this},moveTo:function(f,p){return o.MoveTo(this.list,f,p),this},moveAbove:function(f,p){return o.MoveAbove(this.list,f,p),this},moveBelow:function(f,p){return o.MoveBelow(this.list,f,p),this},remove:function(f,p){var g=o.Remove(this.list,f,this.removeHandler,this);if(p&&g){Array.isArray(g)||(g=[g]);for(var x=0;x<g.length;x++)g[x].destroy()}return this},removeAt:function(f,p){var g=o.RemoveAt(this.list,f,this.removeHandler,this);return p&&g&&g.destroy(),this},removeBetween:function(f,p,g){var x=o.RemoveBetween(this.list,f,p,this.removeHandler,this);if(g)for(var T=0;T<x.length;T++)x[T].destroy();return this},removeAll:function(f){var p=this.list;if(f){for(var g=0;g<p.length;g++)p[g]&&p[g].scene&&(p[g].off(n.DESTROY,this.onChildDestroyed,this),p[g].destroy());this.list=[]}else o.RemoveBetween(p,0,p.length,this.removeHandler,this);return this},bringToTop:function(f){return o.BringToTop(this.list,f),this},sendToBack:function(f){return o.SendToBack(this.list,f),this},moveUp:function(f){return o.MoveUp(this.list,f),this},moveDown:function(f){return o.MoveDown(this.list,f),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return o.Shuffle(this.list),this},replace:function(f,p,g){var x=o.Replace(this.list,f,p);return x&&(this.addHandler(p),this.removeHandler(f),g&&f.destroy()),this},exists:function(f){return this.list.indexOf(f)>-1},setAll:function(f,p,g,x){return o.SetAll(this.list,f,p,g,x),this},each:function(f,p){var g=[null],x,T=this.list.slice(),E=T.length;for(x=2;x<arguments.length;x++)g.push(arguments[x]);for(x=0;x<E;x++)g[0]=T[x],f.apply(p,g);return this},iterate:function(f,p){var g=[null],x;for(x=2;x<arguments.length;x++)g.push(arguments[x]);for(x=0;x<this.list.length;x++)g[0]=this.list[x],f.apply(p,g);return this},setScrollFactor:function(f,p,g){return p===void 0&&(p=f),g===void 0&&(g=!1),this.scrollFactorX=f,this.scrollFactorY=p,g&&(o.SetAll(this.list,"scrollFactorX",f),o.SetAll(this.list,"scrollFactorY",p)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.list=[]},onChildDestroyed:function(f){o.Remove(this.list,f),this.exclusive&&(f.parentContainer=null,f.removedFromScene())}});v.exports=d},53584:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a){m.addToRenderList(o);var r=o.list;if(r.length!==0){var n=o.localTransform;a?(n.loadIdentity(),n.multiply(a),n.translate(o.x,o.y),n.rotate(o.rotation),n.scale(o.scaleX,o.scaleY)):n.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY);var e=o.blendMode!==-1;e||t.setBlendMode(0);var s=o._alpha,h=o.scrollFactorX,i=o.scrollFactorY;o.mask&&o.mask.preRenderCanvas(t,null,m);for(var l=0;l<r.length;l++){var u=r[l];if(u.willRender(m)){var d=u.alpha,f=u.scrollFactorX,p=u.scrollFactorY;!e&&u.blendMode!==t.currentBlendMode&&t.setBlendMode(u.blendMode),u.setScrollFactor(f*h,p*i),u.setAlpha(d*s),u.renderCanvas(t,u,m,n),u.setAlpha(d),u.setScrollFactor(f,p)}}o.mask&&o.mask.postRenderCanvas(t)}};v.exports=S},77143:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),m=t(31559),a=t(44603),r=t(23568),n=t(95540);a.register("container",function(e,s){e===void 0&&(e={});var h=r(e,"x",0),i=r(e,"y",0),l=n(e,"children",null),u=new m(this.scene,h,i,l);return s!==void 0&&(e.add=s),o(this.scene,u,e),u})},24961:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(31559),m=t(39429);m.register("container",function(a,r,n){return this.displayList.add(new o(this.scene,a,r,n))})},29959:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),m=o,a=o;m=t(72249),a=t(53584),v.exports={renderWebGL:m,renderCanvas:a}},72249:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a){m.addToRenderList(o);var r=o.list,n=r.length;if(n!==0){var e=o.localTransform;a?(e.loadIdentity(),e.multiply(a),e.translate(o.x,o.y),e.rotate(o.rotation),e.scale(o.scaleX,o.scaleY)):e.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY),t.pipelines.preBatch(o);var s=o.blendMode!==-1;s||t.setBlendMode(0);for(var h=o.alpha,i=o.scrollFactorX,l=o.scrollFactorY,u=0;u<n;u++){var d=r[u];if(d.willRender(m)){var f,p,g,x;if(d.alphaTopLeft!==void 0)f=d.alphaTopLeft,p=d.alphaTopRight,g=d.alphaBottomLeft,x=d.alphaBottomRight;else{var T=d.alpha;f=T,p=T,g=T,x=T}var E=d.scrollFactorX,C=d.scrollFactorY;!s&&d.blendMode!==t.currentBlendMode&&t.setBlendMode(d.blendMode);var R=d.mask;R&&R.preRenderWebGL(t,d,m);var w=d.type;w!==t.currentType&&(t.newType=!0,t.currentType=w),t.nextTypeMatch=u<n-1?r[u+1].type===t.currentType:!1,d.setScrollFactor(E*i,C*l),d.setAlpha(f*h,p*h,g*h,x*h),d.renderWebGL(t,d,m,e,o),d.setAlpha(f,p,g,x),d.setScrollFactor(E,C),R&&R.postRenderWebGL(t,m),t.newType=!1}}t.pipelines.postBatch(o)}};v.exports=S},47407:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(31401),a=t(441),r=t(95643),n=t(41212),e=t(35846),s=t(44594),h=t(61369),i=new o({Extends:r,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.Origin,m.ScrollFactor,m.Transform,m.Visible,a],initialize:function(u,d,f,p,g,x){r.call(this,u,"DOMElement"),this.parent=u.sys.game.domContainer,this.cache=u.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new h,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(d,f),typeof p=="string"?p[0]==="#"?this.setElement(p.substr(1),g,x):this.createElement(p,g,x):p&&this.setElement(p,g,x),u.sys.events.on(s.SLEEP,this.handleSceneEvent,this),u.sys.events.on(s.WAKE,this.handleSceneEvent,this),u.sys.events.on(s.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(l){var u=this.node,d=u.style;u&&(d.display=l.settings.visible?"block":"none")},setSkew:function(l,u){return l===void 0&&(l=0),u===void 0&&(u=l),this.skewX=l,this.skewY=u,this},setPerspective:function(l){return this.parent.style.perspective=l+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(l){this.parent.style.perspective=l+"px"}},addListener:function(l){if(this.node){l=l.split(" ");for(var u=0;u<l.length;u++)this.node.addEventListener(l[u],this.handler,!1)}return this},removeListener:function(l){if(this.node){l=l.split(" ");for(var u=0;u<l.length;u++)this.node.removeEventListener(l[u],this.handler)}return this},dispatchNativeEvent:function(l){this.emit(l.type,l)},createElement:function(l,u,d){return this.setElement(document.createElement(l),u,d)},setElement:function(l,u,d){this.removeElement();var f;if(typeof l=="string"?(l[0]==="#"&&(l=l.substr(1)),f=document.getElementById(l)):typeof l=="object"&&l.nodeType===1&&(f=l),!f)return this;if(this.node=f,u&&n(u))for(var p in u)f.style[p]=u[p];else typeof u=="string"&&(f.style=u);return f.style.zIndex="0",f.style.display="inline",f.style.position="absolute",f.phaser=this,this.parent&&this.parent.appendChild(f),d&&(f.innerText=d),this.updateSize()},createFromCache:function(l,u){var d=this.cache.get(l);return d&&this.createFromHTML(d,u),this},createFromHTML:function(l,u){u===void 0&&(u="div"),this.removeElement();var d=document.createElement(u);return this.node=d,d.style.zIndex="0",d.style.display="inline",d.style.position="absolute",d.phaser=this,this.parent&&this.parent.appendChild(d),d.innerHTML=l,this.updateSize()},removeElement:function(){return this.node&&(e(this.node),this.node=null),this},updateSize:function(){var l=this.node;return this.width=l.clientWidth,this.height=l.clientHeight,this.displayWidth=this.width*this.scaleX,this.displayHeight=this.height*this.scaleY,this},getChildByProperty:function(l,u){if(this.node){for(var d=this.node.querySelectorAll("*"),f=0;f<d.length;f++)if(d[f][l]===u)return d[f]}return null},getChildByID:function(l){return this.getChildByProperty("id",l)},getChildByName:function(l){return this.getChildByProperty("name",l)},setClassName:function(l){return this.node&&(this.node.className=l,this.updateSize()),this},setText:function(l){return this.node&&(this.node.innerText=l,this.updateSize()),this},setHTML:function(l){return this.node&&(this.node.innerHTML=l,this.updateSize()),this},preRender:function(){var l=this.parentContainer,u=this.node;u&&l&&!l.willRender()&&(u.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(s.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(s.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(s.PRE_RENDER,this.preRender,this)}});v.exports=i},49381:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(47407),m=t(95643),a=t(61340),r=new a,n=new a,e=new a,s=function(h,i,l,u){if(i.node){var d=i.node.style,f=i.scene.sys.settings;if(!d||!f.visible||m.RENDER_MASK!==i.renderFlags||i.cameraFilter!==0&&i.cameraFilter&l.id||i.parentContainer&&!i.parentContainer.willRender()){d.display="none";return}var p=i.parentContainer,g=l.alpha*i.alpha;p&&(g*=p.alpha);var x=r,T=n,E=e,C=0,R=0,w="0%",F="0%";u?(C=i.width*i.scaleX*i.originX,R=i.height*i.scaleY*i.originY,T.applyITRS(i.x-C,i.y-R,i.rotation,i.scaleX,i.scaleY),x.copyFrom(l.matrix),x.multiplyWithOffset(u,-l.scrollX*i.scrollFactorX,-l.scrollY*i.scrollFactorY),T.e=i.x-C,T.f=i.y-R,x.multiply(T,E)):(C=i.width*i.originX,R=i.height*i.originY,T.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),x.copyFrom(l.matrix),w=100*i.originX+"%",F=100*i.originY+"%",T.e-=l.scrollX*i.scrollFactorX,T.f-=l.scrollY*i.scrollFactorY,x.multiply(T,E),E.e-=C,E.f-=R),i.transformOnly||(d.display="block",d.opacity=g,d.zIndex=i._depth,d.pointerEvents=i.pointerEvents,d.mixBlendMode=o[i._blendMode]),d.transform=E.getCSSMatrix()+" skew("+i.skewX+"rad, "+i.skewY+"rad) rotate3d("+i.rotate3d.x+","+i.rotate3d.y+","+i.rotate3d.z+","+i.rotate3d.w+i.rotate3dAngle+")",d.transformOrigin=w+" "+F}};v.exports=s},2611:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(3069),m=t(39429);m.register("dom",function(a,r,n,e,s){var h=new o(this.scene,a,r,n,e,s);return this.displayList.add(h),h})},441:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),m=o,a=o;m=t(49381),a=t(49381),v.exports={renderWebGL:m,renderCanvas:a}},62980:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="addedtoscene"},41337:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="destroy"},44947:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="removedfromscene"},49358:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="complete"},35163:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="created"},97249:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="error"},19483:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="locked"},56059:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="loop"},26772:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="metadata"},64437:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="playing"},83411:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="play"},75780:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="seeked"},67799:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="seeking"},63500:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="stalled"},55541:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="stop"},53208:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="textureready"},4992:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="unlocked"},12:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="unsupported"},51708:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ADDED_TO_SCENE:t(62980),DESTROY:t(41337),REMOVED_FROM_SCENE:t(44947),VIDEO_COMPLETE:t(49358),VIDEO_CREATED:t(35163),VIDEO_ERROR:t(97249),VIDEO_LOCKED:t(19483),VIDEO_LOOP:t(56059),VIDEO_METADATA:t(26772),VIDEO_PLAY:t(83411),VIDEO_PLAYING:t(64437),VIDEO_SEEKED:t(75780),VIDEO_SEEKING:t(67799),VIDEO_STALLED:t(63500),VIDEO_STOP:t(55541),VIDEO_TEXTURE:t(53208),VIDEO_UNLOCKED:t(4992),VIDEO_UNSUPPORTED:t(12)}},42421:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(31401),a=t(95643),r=t(64993),n=new o({Extends:a,Mixins:[m.Alpha,m.BlendMode,m.Depth,m.Flip,m.Origin,m.ScrollFactor,m.Size,m.Texture,m.Tint,m.Transform,m.Visible,r],initialize:function(s){a.call(this,s,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});v.exports=n},70217:()=>{},56315:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(42421),m=t(39429);m.register("extern",function(){var a=new o(this.scene);return this.displayList.add(a),a})},64993:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),m=o,a=o;m=t(80287),a=t(70217),v.exports={renderWebGL:m,renderCanvas:a}},80287:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),m=function(a,r,n,e){a.pipelines.clear();var s=o(r,n,e).calc;r.render.call(r,a,n,s),a.pipelines.rebind()};v.exports=m},85592:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(71911),m=t(83419),a=t(85592),r=t(31401),n=t(8497),e=t(95643),s=t(95540),h=t(35154),i=t(36383),l=t(84503),u=new m({Extends:e,Mixins:[r.AlphaSingle,r.BlendMode,r.Depth,r.Mask,r.Pipeline,r.PostPipeline,r.Transform,r.Visible,r.ScrollFactor,l],initialize:function(f,p){var g=h(p,"x",0),x=h(p,"y",0);e.call(this,f,"Graphics"),this.setPosition(g,x),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(p)},setDefaultStyles:function(d){return h(d,"lineStyle",null)&&(this.defaultStrokeWidth=h(d,"lineStyle.width",1),this.defaultStrokeColor=h(d,"lineStyle.color",16777215),this.defaultStrokeAlpha=h(d,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),h(d,"fillStyle",null)&&(this.defaultFillColor=h(d,"fillStyle.color",16777215),this.defaultFillAlpha=h(d,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(d,f,p){return p===void 0&&(p=1),this.commandBuffer.push(a.LINE_STYLE,d,f,p),this._lineWidth=d,this},fillStyle:function(d,f){return f===void 0&&(f=1),this.commandBuffer.push(a.FILL_STYLE,d,f),this},fillGradientStyle:function(d,f,p,g,x,T,E,C){return x===void 0&&(x=1),T===void 0&&(T=x),E===void 0&&(E=x),C===void 0&&(C=x),this.commandBuffer.push(a.GRADIENT_FILL_STYLE,x,T,E,C,d,f,p,g),this},lineGradientStyle:function(d,f,p,g,x,T){return T===void 0&&(T=1),this.commandBuffer.push(a.GRADIENT_LINE_STYLE,d,T,f,p,g,x),this},beginPath:function(){return this.commandBuffer.push(a.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(a.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(a.FILL_PATH),this},fill:function(){return this.commandBuffer.push(a.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(a.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(a.STROKE_PATH),this},fillCircleShape:function(d){return this.fillCircle(d.x,d.y,d.radius)},strokeCircleShape:function(d){return this.strokeCircle(d.x,d.y,d.radius)},fillCircle:function(d,f,p){return this.beginPath(),this.arc(d,f,p,0,i.PI2),this.fillPath(),this},strokeCircle:function(d,f,p){return this.beginPath(),this.arc(d,f,p,0,i.PI2),this.strokePath(),this},fillRectShape:function(d){return this.fillRect(d.x,d.y,d.width,d.height)},strokeRectShape:function(d){return this.strokeRect(d.x,d.y,d.width,d.height)},fillRect:function(d,f,p,g){return this.commandBuffer.push(a.FILL_RECT,d,f,p,g),this},strokeRect:function(d,f,p,g){var x=this._lineWidth/2,T=d-x,E=d+x;return this.beginPath(),this.moveTo(d,f),this.lineTo(d,f+g),this.strokePath(),this.beginPath(),this.moveTo(d+p,f),this.lineTo(d+p,f+g),this.strokePath(),this.beginPath(),this.moveTo(T,f),this.lineTo(E+p,f),this.strokePath(),this.beginPath(),this.moveTo(T,f+g),this.lineTo(E+p,f+g),this.strokePath(),this},fillRoundedRect:function(d,f,p,g,x){x===void 0&&(x=20);var T=x,E=x,C=x,R=x;typeof x!="number"&&(T=s(x,"tl",20),E=s(x,"tr",20),C=s(x,"bl",20),R=s(x,"br",20));var w=T>=0,F=E>=0,I=C>=0,L=R>=0;return T=Math.abs(T),E=Math.abs(E),C=Math.abs(C),R=Math.abs(R),this.beginPath(),this.moveTo(d+T,f),this.lineTo(d+p-E,f),F?this.arc(d+p-E,f+E,E,-i.TAU,0):this.arc(d+p,f,E,Math.PI,i.TAU,!0),this.lineTo(d+p,f+g-R),L?this.arc(d+p-R,f+g-R,R,0,i.TAU):this.arc(d+p,f+g,R,-i.TAU,Math.PI,!0),this.lineTo(d+C,f+g),I?this.arc(d+C,f+g-C,C,i.TAU,Math.PI):this.arc(d,f+g,C,0,-i.TAU,!0),this.lineTo(d,f+T),w?this.arc(d+T,f+T,T,-Math.PI,-i.TAU):this.arc(d,f,T,i.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(d,f,p,g,x){x===void 0&&(x=20);var T=x,E=x,C=x,R=x,w=Math.min(p,g)/2;typeof x!="number"&&(T=s(x,"tl",20),E=s(x,"tr",20),C=s(x,"bl",20),R=s(x,"br",20));var F=T>=0,I=E>=0,L=C>=0,D=R>=0;return T=Math.min(Math.abs(T),w),E=Math.min(Math.abs(E),w),C=Math.min(Math.abs(C),w),R=Math.min(Math.abs(R),w),this.beginPath(),this.moveTo(d+T,f),this.lineTo(d+p-E,f),this.moveTo(d+p-E,f),I?this.arc(d+p-E,f+E,E,-i.TAU,0):this.arc(d+p,f,E,Math.PI,i.TAU,!0),this.lineTo(d+p,f+g-R),this.moveTo(d+p,f+g-R),D?this.arc(d+p-R,f+g-R,R,0,i.TAU):this.arc(d+p,f+g,R,-i.TAU,Math.PI,!0),this.lineTo(d+C,f+g),this.moveTo(d+C,f+g),L?this.arc(d+C,f+g-C,C,i.TAU,Math.PI):this.arc(d,f+g,C,0,-i.TAU,!0),this.lineTo(d,f+T),this.moveTo(d,f+T),F?this.arc(d+T,f+T,T,-Math.PI,-i.TAU):this.arc(d,f,T,i.TAU,0,!0),this.strokePath(),this},fillPointShape:function(d,f){return this.fillPoint(d.x,d.y,f)},fillPoint:function(d,f,p){return!p||p<1?p=1:(d-=p/2,f-=p/2),this.commandBuffer.push(a.FILL_RECT,d,f,p,p),this},fillTriangleShape:function(d){return this.fillTriangle(d.x1,d.y1,d.x2,d.y2,d.x3,d.y3)},strokeTriangleShape:function(d){return this.strokeTriangle(d.x1,d.y1,d.x2,d.y2,d.x3,d.y3)},fillTriangle:function(d,f,p,g,x,T){return this.commandBuffer.push(a.FILL_TRIANGLE,d,f,p,g,x,T),this},strokeTriangle:function(d,f,p,g,x,T){return this.commandBuffer.push(a.STROKE_TRIANGLE,d,f,p,g,x,T),this},strokeLineShape:function(d){return this.lineBetween(d.x1,d.y1,d.x2,d.y2)},lineBetween:function(d,f,p,g){return this.beginPath(),this.moveTo(d,f),this.lineTo(p,g),this.strokePath(),this},lineTo:function(d,f){return this.commandBuffer.push(a.LINE_TO,d,f),this},moveTo:function(d,f){return this.commandBuffer.push(a.MOVE_TO,d,f),this},strokePoints:function(d,f,p,g){f===void 0&&(f=!1),p===void 0&&(p=!1),g===void 0&&(g=d.length),this.beginPath(),this.moveTo(d[0].x,d[0].y);for(var x=1;x<g;x++)this.lineTo(d[x].x,d[x].y);return f&&this.lineTo(d[0].x,d[0].y),p&&this.closePath(),this.strokePath(),this},fillPoints:function(d,f,p,g){f===void 0&&(f=!1),p===void 0&&(p=!1),g===void 0&&(g=d.length),this.beginPath(),this.moveTo(d[0].x,d[0].y);for(var x=1;x<g;x++)this.lineTo(d[x].x,d[x].y);return f&&this.lineTo(d[0].x,d[0].y),p&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(d,f){f===void 0&&(f=32);var p=d.getPoints(f);return this.strokePoints(p,!0)},strokeEllipse:function(d,f,p,g,x){x===void 0&&(x=32);var T=new n(d,f,p,g),E=T.getPoints(x);return this.strokePoints(E,!0)},fillEllipseShape:function(d,f){f===void 0&&(f=32);var p=d.getPoints(f);return this.fillPoints(p,!0)},fillEllipse:function(d,f,p,g,x){x===void 0&&(x=32);var T=new n(d,f,p,g),E=T.getPoints(x);return this.fillPoints(E,!0)},arc:function(d,f,p,g,x,T,E){return T===void 0&&(T=!1),E===void 0&&(E=0),this.commandBuffer.push(a.ARC,d,f,p,g,x,T,E),this},slice:function(d,f,p,g,x,T,E){return T===void 0&&(T=!1),E===void 0&&(E=0),this.commandBuffer.push(a.BEGIN_PATH),this.commandBuffer.push(a.MOVE_TO,d,f),this.commandBuffer.push(a.ARC,d,f,p,g,x,T,E),this.commandBuffer.push(a.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(a.SAVE),this},restore:function(){return this.commandBuffer.push(a.RESTORE),this},translateCanvas:function(d,f){return this.commandBuffer.push(a.TRANSLATE,d,f),this},scaleCanvas:function(d,f){return this.commandBuffer.push(a.SCALE,d,f),this},rotateCanvas:function(d){return this.commandBuffer.push(a.ROTATE,d),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(d,f,p){var g=this.scene.sys,x=g.game.renderer;f===void 0&&(f=g.scale.width),p===void 0&&(p=g.scale.height),u.TargetCamera.setScene(this.scene),u.TargetCamera.setViewport(0,0,f,p),u.TargetCamera.scrollX=this.x,u.TargetCamera.scrollY=this.y;var T,E,C={willReadFrequently:!0};if(typeof d=="string")if(g.textures.exists(d)){T=g.textures.get(d);var R=T.getSourceImage();R instanceof HTMLCanvasElement&&(E=R.getContext("2d",C))}else T=g.textures.createCanvas(d,f,p),E=T.getSourceImage().getContext("2d",C);else d instanceof HTMLCanvasElement&&(E=d.getContext("2d",C));return E&&(this.renderCanvas(x,this,u.TargetCamera,null,E,!1),T&&T.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});u.TargetCamera=new o,v.exports=u},32768:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(85592),m=t(20926),a=function(r,n,e,s,h,i){var l=n.commandBuffer,u=l.length,d=h||r.currentContext;if(!(u===0||!m(r,d,n,e,s))){e.addToRenderList(n);var f=1,p=1,g=0,x=0,T=1,E=0,C=0,R=0;d.beginPath();for(var w=0;w<u;++w){var F=l[w];switch(F){case o.ARC:d.arc(l[w+1],l[w+2],l[w+3],l[w+4],l[w+5],l[w+6]),w+=7;break;case o.LINE_STYLE:T=l[w+1],g=l[w+2],f=l[w+3],E=(g&16711680)>>>16,C=(g&65280)>>>8,R=g&255,d.strokeStyle="rgba("+E+","+C+","+R+","+f+")",d.lineWidth=T,w+=3;break;case o.FILL_STYLE:x=l[w+1],p=l[w+2],E=(x&16711680)>>>16,C=(x&65280)>>>8,R=x&255,d.fillStyle="rgba("+E+","+C+","+R+","+p+")",w+=2;break;case o.BEGIN_PATH:d.beginPath();break;case o.CLOSE_PATH:d.closePath();break;case o.FILL_PATH:i||d.fill();break;case o.STROKE_PATH:i||d.stroke();break;case o.FILL_RECT:i?d.rect(l[w+1],l[w+2],l[w+3],l[w+4]):d.fillRect(l[w+1],l[w+2],l[w+3],l[w+4]),w+=4;break;case o.FILL_TRIANGLE:d.beginPath(),d.moveTo(l[w+1],l[w+2]),d.lineTo(l[w+3],l[w+4]),d.lineTo(l[w+5],l[w+6]),d.closePath(),i||d.fill(),w+=6;break;case o.STROKE_TRIANGLE:d.beginPath(),d.moveTo(l[w+1],l[w+2]),d.lineTo(l[w+3],l[w+4]),d.lineTo(l[w+5],l[w+6]),d.closePath(),i||d.stroke(),w+=6;break;case o.LINE_TO:d.lineTo(l[w+1],l[w+2]),w+=2;break;case o.MOVE_TO:d.moveTo(l[w+1],l[w+2]),w+=2;break;case o.LINE_FX_TO:d.lineTo(l[w+1],l[w+2]),w+=5;break;case o.MOVE_FX_TO:d.moveTo(l[w+1],l[w+2]),w+=5;break;case o.SAVE:d.save();break;case o.RESTORE:d.restore();break;case o.TRANSLATE:d.translate(l[w+1],l[w+2]),w+=2;break;case o.SCALE:d.scale(l[w+1],l[w+2]),w+=2;break;case o.ROTATE:d.rotate(l[w+1]),w+=1;break;case o.GRADIENT_FILL_STYLE:w+=5;break;case o.GRADIENT_LINE_STYLE:w+=6;break}}d.restore()}};v.exports=a},87079:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(44603),m=t(43831);o.register("graphics",function(a,r){a===void 0&&(a={}),r!==void 0&&(a.add=r);var n=new m(this.scene,a);return a.add&&this.scene.sys.displayList.add(n),n})},1201:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43831),m=t(39429);m.register("graphics",function(a){return this.displayList.add(new o(this.scene,a))})},84503:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),m=o,a=o;m=t(77545),a=t(32768),a=t(32768),v.exports={renderWebGL:m,renderCanvas:a}},77545:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(85592),m=t(91296),a=t(61340),r=t(70554),n=function(l,u,d){this.x=l,this.y=u,this.width=d},e=function(l,u,d){this.points=[],this.pointsLength=1,this.points[0]=new n(l,u,d)},s=[],h=new a,i=function(l,u,d,f){if(u.commandBuffer.length!==0){d.addToRenderList(u);var p=l.pipelines.set(u.pipeline,u);l.pipelines.preBatch(u);for(var g=m(u,d,f).calc,x=h.loadIdentity(),T=u.commandBuffer,E=d.alpha*u.alpha,C=1,R=p.fillTint,w=p.strokeTint,F=0,I=0,L=0,D=.01,B=Math.PI*2,U,W=[],K=0,Y=!0,G=null,X=r.getTintAppendFloatAlpha,V=0;V<T.length;V++)switch(U=T[V],U){case o.BEGIN_PATH:{W.length=0,G=null,Y=!0;break}case o.CLOSE_PATH:{Y=!1,G&&G.points.length&&G.points.push(G.points[0]);break}case o.FILL_PATH:{for(K=0;K<W.length;K++)p.batchFillPath(W[K].points,x,g);break}case o.STROKE_PATH:{for(K=0;K<W.length;K++)p.batchStrokePath(W[K].points,C,Y,x,g);break}case o.LINE_STYLE:{C=T[++V];var b=T[++V],z=T[++V]*E,k=X(b,z);w.TL=k,w.TR=k,w.BL=k,w.BR=k;break}case o.FILL_STYLE:{var $=T[++V],J=T[++V]*E,j=X($,J);R.TL=j,R.TR=j,R.BL=j,R.BR=j;break}case o.GRADIENT_FILL_STYLE:{var q=T[++V]*E,_=T[++V]*E,tt=T[++V]*E,et=T[++V]*E;R.TL=X(T[++V],q),R.TR=X(T[++V],_),R.BL=X(T[++V],tt),R.BR=X(T[++V],et);break}case o.GRADIENT_LINE_STYLE:{C=T[++V];var at=T[++V]*E;w.TL=X(T[++V],at),w.TR=X(T[++V],at),w.BL=X(T[++V],at),w.BR=X(T[++V],at);break}case o.ARC:{var ot=0,nt=T[++V],vt=T[++V],pt=T[++V],gt=T[++V],rt=T[++V],ut=T[++V],ft=T[++V];for(rt-=gt,ut?rt<-B?rt=-B:rt>0&&(rt=-B+rt%B):rt>B?rt=B:rt<0&&(rt=B+rt%B),G===null&&(G=new e(nt+Math.cos(gt)*pt,vt+Math.sin(gt)*pt,C),W.push(G),ot+=D);ot<1+ft;)L=rt*ot+gt,F=nt+Math.cos(L)*pt,I=vt+Math.sin(L)*pt,G.points.push(new n(F,I,C)),ot+=D;L=rt+gt,F=nt+Math.cos(L)*pt,I=vt+Math.sin(L)*pt,G.points.push(new n(F,I,C));break}case o.FILL_RECT:{p.batchFillRect(T[++V],T[++V],T[++V],T[++V],x,g);break}case o.FILL_TRIANGLE:{p.batchFillTriangle(T[++V],T[++V],T[++V],T[++V],T[++V],T[++V],x,g);break}case o.STROKE_TRIANGLE:{p.batchStrokeTriangle(T[++V],T[++V],T[++V],T[++V],T[++V],T[++V],C,x,g);break}case o.LINE_TO:{G!==null?G.points.push(new n(T[++V],T[++V],C)):(G=new e(T[++V],T[++V],C),W.push(G));break}case o.MOVE_TO:{G=new e(T[++V],T[++V],C),W.push(G);break}case o.SAVE:{s.push(x.copyToArray());break}case o.RESTORE:{x.copyFromArray(s.pop());break}case o.TRANSLATE:{nt=T[++V],vt=T[++V],x.translate(nt,vt);break}case o.SCALE:{nt=T[++V],vt=T[++V],x.scale(nt,vt);break}case o.ROTATE:{x.rotate(T[++V]);break}}l.pipelines.postBatch(u)}};v.exports=i},26479:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(61061),m=t(83419),a=t(51708),r=t(50792),n=t(46710),e=t(95540),s=t(35154),h=t(97022),i=t(41212),l=t(88492),u=t(35072),d=t(68287),f=new m({Extends:r,initialize:function(g,x,T){r.call(this),T?x&&!Array.isArray(x)&&(x=[x]):Array.isArray(x)?i(x[0])&&(T=x,x=null):i(x)&&(T=x,x=null),this.scene=g,this.children=new u,this.isParent=!0,this.type="Group",this.classType=e(T,"classType",d),this.name=e(T,"name",""),this.active=e(T,"active",!0),this.maxSize=e(T,"maxSize",-1),this.defaultKey=e(T,"defaultKey",null),this.defaultFrame=e(T,"defaultFrame",null),this.runChildUpdate=e(T,"runChildUpdate",!1),this.createCallback=e(T,"createCallback",null),this.removeCallback=e(T,"removeCallback",null),this.createMultipleCallback=e(T,"createMultipleCallback",null),this.internalCreateCallback=e(T,"internalCreateCallback",null),this.internalRemoveCallback=e(T,"internalRemoveCallback",null),x&&this.addMultiple(x),T&&this.createMultiple(T),this.on(a.ADDED_TO_SCENE,this.addedToScene,this),this.on(a.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(p,g,x,T,E,C){if(p===void 0&&(p=0),g===void 0&&(g=0),x===void 0&&(x=this.defaultKey),T===void 0&&(T=this.defaultFrame),E===void 0&&(E=!0),C===void 0&&(C=!0),this.isFull())return null;var R=new this.classType(this.scene,p,g,x,T);return R.addToDisplayList(this.scene.sys.displayList),R.addToUpdateList(),R.visible=E,R.setActive(C),this.add(R),R},createMultiple:function(p){if(this.isFull())return[];Array.isArray(p)||(p=[p]);var g=[];if(p[0].key)for(var x=0;x<p.length;x++){var T=this.createFromConfig(p[x]);g=g.concat(T)}return g},createFromConfig:function(p){if(this.isFull())return[];this.classType=e(p,"classType",this.classType);var g=e(p,"key",void 0),x=e(p,"frame",null),T=e(p,"visible",!0),E=e(p,"active",!0),C=[];if(g===void 0)return C;Array.isArray(g)||(g=[g]),Array.isArray(x)||(x=[x]);var R=e(p,"repeat",0),w=e(p,"randomKey",!1),F=e(p,"randomFrame",!1),I=e(p,"yoyo",!1),L=e(p,"quantity",!1),D=e(p,"frameQuantity",1),B=e(p,"max",0),U=l(g,x,{max:B,qty:L||D,random:w,randomB:F,repeat:R,yoyo:I});p.createCallback&&(this.createCallback=p.createCallback),p.removeCallback&&(this.removeCallback=p.removeCallback),p.internalCreateCallback&&(this.internalCreateCallback=p.internalCreateCallback),p.internalRemoveCallback&&(this.internalRemoveCallback=p.internalRemoveCallback);for(var W=0;W<U.length;W++){var K=this.create(0,0,U[W].a,U[W].b,T,E);if(!K)break;C.push(K)}if(h(p,"setXY")){var Y=s(p,"setXY.x",0),G=s(p,"setXY.y",0),X=s(p,"setXY.stepX",0),V=s(p,"setXY.stepY",0);o.SetXY(C,Y,G,X,V)}if(h(p,"setRotation")){var b=s(p,"setRotation.value",0),z=s(p,"setRotation.step",0);o.SetRotation(C,b,z)}if(h(p,"setScale")){var k=s(p,"setScale.x",1),$=s(p,"setScale.y",k),J=s(p,"setScale.stepX",0),j=s(p,"setScale.stepY",0);o.SetScale(C,k,$,J,j)}if(h(p,"setOrigin")){var q=s(p,"setOrigin.x",.5),_=s(p,"setOrigin.y",q),tt=s(p,"setOrigin.stepX",0),et=s(p,"setOrigin.stepY",0);o.SetOrigin(C,q,_,tt,et)}if(h(p,"setAlpha")){var at=s(p,"setAlpha.value",1),ot=s(p,"setAlpha.step",0);o.SetAlpha(C,at,ot)}if(h(p,"setDepth")){var nt=s(p,"setDepth.value",0),vt=s(p,"setDepth.step",0);o.SetDepth(C,nt,vt)}if(h(p,"setScrollFactor")){var pt=s(p,"setScrollFactor.x",1),gt=s(p,"setScrollFactor.y",pt),rt=s(p,"setScrollFactor.stepX",0),ut=s(p,"setScrollFactor.stepY",0);o.SetScrollFactor(C,pt,gt,rt,ut)}var ft=e(p,"hitArea",null),St=e(p,"hitAreaCallback",null);ft&&o.SetHitArea(C,ft,St);var Tt=e(p,"gridAlign",!1);return Tt&&o.GridAlign(C,Tt),this.createMultipleCallback&&this.createMultipleCallback.call(this,C),C},preUpdate:function(p,g){if(!(!this.runChildUpdate||this.children.size===0))for(var x=this.children.entries.slice(),T=0;T<x.length;T++){var E=x[T];E.active&&E.update(p,g)}},add:function(p,g){return g===void 0&&(g=!1),this.isFull()?this:(this.children.set(p),this.internalCreateCallback&&this.internalCreateCallback.call(this,p),this.createCallback&&this.createCallback.call(this,p),g&&(p.addToDisplayList(this.scene.sys.displayList),p.addToUpdateList()),p.on(a.DESTROY,this.remove,this),this)},addMultiple:function(p,g){if(g===void 0&&(g=!1),Array.isArray(p))for(var x=0;x<p.length;x++)this.add(p[x],g);return this},remove:function(p,g,x){return g===void 0&&(g=!1),x===void 0&&(x=!1),this.children.contains(p)?(this.children.delete(p),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,p),this.removeCallback&&this.removeCallback.call(this,p),p.off(a.DESTROY,this.remove,this),x?p.destroy():g&&(p.removeFromDisplayList(),p.removeFromUpdateList()),this):this},clear:function(p,g){p===void 0&&(p=!1),g===void 0&&(g=!1);for(var x=this.children,T=0;T<x.size;T++){var E=x.entries[T];E.off(a.DESTROY,this.remove,this),g?E.destroy():p&&(E.removeFromDisplayList(),E.removeFromUpdateList())}return this.children.clear(),this},contains:function(p){return this.children.contains(p)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(p,g,x,T){return n(this.children.entries,p,g,x,T)},getFirst:function(p,g,x,T,E,C,R){return this.getHandler(!0,1,p,g,x,T,E,C,R)},getFirstNth:function(p,g,x,T,E,C,R,w){return this.getHandler(!0,p,g,x,T,E,C,R,w)},getLast:function(p,g,x,T,E,C,R){return this.getHandler(!1,1,p,g,x,T,E,C,R)},getLastNth:function(p,g,x,T,E,C,R,w){return this.getHandler(!1,p,g,x,T,E,C,R,w)},getHandler:function(p,g,x,T,E,C,R,w,F){x===void 0&&(x=!1),T===void 0&&(T=!1);var I,L,D=0,B=this.children.entries;if(p)for(L=0;L<B.length;L++)if(I=B[L],I.active===x){if(D++,D===g)break}else I=null;else for(L=B.length-1;L>=0;L--)if(I=B[L],I.active===x){if(D++,D===g)break}else I=null;return I?(typeof E=="number"&&(I.x=E),typeof C=="number"&&(I.y=C),I):T?this.create(E,C,R,w,F):null},get:function(p,g,x,T,E){return this.getFirst(!1,!0,p,g,x,T,E)},getFirstAlive:function(p,g,x,T,E,C){return this.getFirst(!0,p,g,x,T,E,C)},getFirstDead:function(p,g,x,T,E,C){return this.getFirst(!1,p,g,x,T,E,C)},playAnimation:function(p,g){return o.PlayAnimation(this.children.entries,p,g),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(p){p===void 0&&(p=!0);for(var g=0,x=0;x<this.children.size;x++)this.children.entries[x].active===p&&g++;return g},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var p=this.getTotalUsed(),g=this.maxSize===-1?999999999999:this.maxSize;return g-p},setActive:function(p){return this.active=p,this},setName:function(p){return this.name=p,this},propertyValueSet:function(p,g,x,T,E){return o.PropertyValueSet(this.children.entries,p,g,x,T,E),this},propertyValueInc:function(p,g,x,T,E){return o.PropertyValueInc(this.children.entries,p,g,x,T,E),this},setX:function(p,g){return o.SetX(this.children.entries,p,g),this},setY:function(p,g){return o.SetY(this.children.entries,p,g),this},setXY:function(p,g,x,T){return o.SetXY(this.children.entries,p,g,x,T),this},incX:function(p,g){return o.IncX(this.children.entries,p,g),this},incY:function(p,g){return o.IncY(this.children.entries,p,g),this},incXY:function(p,g,x,T){return o.IncXY(this.children.entries,p,g,x,T),this},shiftPosition:function(p,g,x){return o.ShiftPosition(this.children.entries,p,g,x),this},angle:function(p,g){return o.Angle(this.children.entries,p,g),this},rotate:function(p,g){return o.Rotate(this.children.entries,p,g),this},rotateAround:function(p,g){return o.RotateAround(this.children.entries,p,g),this},rotateAroundDistance:function(p,g,x){return o.RotateAroundDistance(this.children.entries,p,g,x),this},setAlpha:function(p,g){return o.SetAlpha(this.children.entries,p,g),this},setTint:function(p,g,x,T){return o.SetTint(this.children.entries,p,g,x,T),this},setOrigin:function(p,g,x,T){return o.SetOrigin(this.children.entries,p,g,x,T),this},scaleX:function(p,g){return o.ScaleX(this.children.entries,p,g),this},scaleY:function(p,g){return o.ScaleY(this.children.entries,p,g),this},scaleXY:function(p,g,x,T){return o.ScaleXY(this.children.entries,p,g,x,T),this},setDepth:function(p,g){return o.SetDepth(this.children.entries,p,g),this},setBlendMode:function(p){return o.SetBlendMode(this.children.entries,p),this},setHitArea:function(p,g){return o.SetHitArea(this.children.entries,p,g),this},shuffle:function(){return o.Shuffle(this.children.entries),this},kill:function(p){this.children.contains(p)&&p.setActive(!1)},killAndHide:function(p){this.children.contains(p)&&(p.setActive(!1),p.setVisible(!1))},setVisible:function(p,g,x){return o.SetVisible(this.children.entries,p,g,x),this},toggleVisible:function(){return o.ToggleVisible(this.children.entries),this},destroy:function(p,g){p===void 0&&(p=!1),g===void 0&&(g=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(a.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(g,p),this.scene=void 0,this.children=void 0)}});v.exports=f},94975:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(44603),m=t(26479);o.register("group",function(a){return new m(this.scene,null,a)})},3385:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26479),m=t(39429);m.register("group",function(a,r){return this.updateList.add(new o(this.scene,a,r))})},88571:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(31401),a=t(95643),r=t(59819),n=new o({Extends:a,Mixins:[m.Alpha,m.BlendMode,m.Depth,m.Flip,m.GetBounds,m.Mask,m.Origin,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Size,m.TextureCrop,m.Tint,m.Transform,m.Visible,r],initialize:function(s,h,i,l,u){a.call(this,s,"Image"),this._crop=this.resetCropObject(),this.setTexture(l,u),this.setPosition(h,i),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});v.exports=n},40652:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a){m.addToRenderList(o),t.batchSprite(o,o.frame,m,a)};v.exports=S},82459:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),m=t(44603),a=t(23568),r=t(88571);m.register("image",function(n,e){n===void 0&&(n={});var s=a(n,"key",null),h=a(n,"frame",null),i=new r(this.scene,0,0,s,h);return e!==void 0&&(n.add=e),o(this.scene,i,n),i})},2117:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(88571),m=t(39429);m.register("image",function(a,r,n,e){return this.displayList.add(new o(this.scene,a,r,n,e))})},59819:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),m=o,a=o;m=t(99517),a=t(40652),v.exports={renderWebGL:m,renderCanvas:a}},99517:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a){m.addToRenderList(o),this.pipeline.batchSprite(o,m,a)};v.exports=S},77856:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={Events:t(51708),DisplayList:t(8050),GameObjectCreator:t(44603),GameObjectFactory:t(39429),UpdateList:t(45027),Components:t(31401),GetCalcMatrix:t(91296),BuildGameObject:t(25305),BuildGameObjectAnimation:t(13059),GameObject:t(95643),BitmapText:t(22186),Blitter:t(6107),Bob:t(46590),Container:t(31559),DOMElement:t(3069),DynamicBitmapText:t(2638),Extern:t(42421),Graphics:t(43831),Group:t(26479),Image:t(88571),Layer:t(93595),Particles:t(18404),PathFollower:t(1159),RenderTexture:t(591),RetroFont:t(196),Rope:t(77757),Sprite:t(68287),Text:t(50171),GetTextSize:t(14220),MeasureText:t(79557),TextStyle:t(35762),TileSprite:t(20839),Zone:t(41481),Video:t(18471),Shape:t(17803),Arc:t(23629),Curve:t(89),Ellipse:t(19921),Grid:t(30479),IsoBox:t(61475),IsoTriangle:t(16933),Line:t(57847),Polygon:t(24949),Rectangle:t(74561),Star:t(55911),Triangle:t(36931),Factories:{Blitter:t(12709),Container:t(24961),DOMElement:t(2611),DynamicBitmapText:t(72566),Extern:t(56315),Graphics:t(1201),Group:t(3385),Image:t(2117),Layer:t(20005),Particles:t(676),PathFollower:t(90145),RenderTexture:t(60505),Rope:t(96819),Sprite:t(46409),StaticBitmapText:t(34914),Text:t(68005),TileSprite:t(91681),Zone:t(84175),Video:t(89025),Arc:t(42563),Curve:t(40511),Ellipse:t(1543),Grid:t(34137),IsoBox:t(3933),IsoTriangle:t(49803),Line:t(2481),Polygon:t(64827),Rectangle:t(87959),Star:t(93697),Triangle:t(45245)},Creators:{Blitter:t(9403),Container:t(77143),DynamicBitmapText:t(11164),Graphics:t(87079),Group:t(94975),Image:t(82459),Layer:t(25179),Particles:t(92730),RenderTexture:t(34495),Rope:t(26209),Sprite:t(15567),StaticBitmapText:t(57336),Text:t(71259),TileSprite:t(14167),Zone:t(95261),Video:t(11511)}};o.Shader=t(20071),o.Mesh=t(4703),o.NineSlice=t(28103),o.PointLight=t(80321),o.Plane=t(33663),o.Factories.Shader=t(74177),o.Factories.Mesh=t(9225),o.Factories.NineSlice=t(47521),o.Factories.PointLight=t(71255),o.Factories.Plane=t(30985),o.Creators.Shader=t(54935),o.Creators.Mesh=t(20527),o.Creators.NineSlice=t(28279),o.Creators.PointLight=t(39829),o.Creators.Plane=t(56015),o.Light=t(41432),o.LightsManager=t(61356),o.LightsPlugin=t(88992),v.exports=o},93595:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10312),m=t(83419),a=t(31401),r=t(53774),n=t(45893),e=t(50792),s=t(51708),h=t(73162),i=t(33963),l=t(44594),u=t(19186),d=new m({Extends:h,Mixins:[a.AlphaSingle,a.BlendMode,a.Depth,a.Mask,a.PostPipeline,a.Visible,e,i],initialize:function(p,g){h.call(this,p),e.call(this),this.scene=p,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=p.sys,this.events=p.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(o.SKIP_CHECK),g&&this.add(g),p.sys.queueDepthSort()},setActive:function(f){return this.active=f,this},setName:function(f){return this.name=f,this},setState:function(f){return this.state=f,this},setDataEnabled:function(){return this.data||(this.data=new n(this)),this},setData:function(f,p){return this.data||(this.data=new n(this)),this.data.set(f,p),this},incData:function(f,p){return this.data||(this.data=new n(this)),this.data.inc(f,p),this},toggleData:function(f){return this.data||(this.data=new n(this)),this.data.toggle(f),this},getData:function(f){return this.data||(this.data=new n(this)),this.data.get(f)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return r(this)},willRender:function(f){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&f.id)},getIndexList:function(){for(var f=this,p=this.parentContainer,g=[];p&&(g.unshift(p.getIndex(f)),f=p,p.parentContainer);)p=p.parentContainer;return g.unshift(this.displayList.getIndex(f)),g},addChildCallback:function(f){var p=f.displayList;p&&p!==this&&f.removeFromDisplayList(),f.displayList||(this.queueDepthSort(),f.displayList=this,f.emit(s.ADDED_TO_SCENE,f,this.scene),this.events.emit(l.ADDED_TO_SCENE,f,this.scene))},removeChildCallback:function(f){this.queueDepthSort(),f.displayList=null,f.emit(s.REMOVED_FROM_SCENE,f,this.scene),this.events.emit(l.REMOVED_FROM_SCENE,f,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(u(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(f,p){return f._depth-p._depth},getChildren:function(){return this.list},addToDisplayList:function(f){return f===void 0&&(f=this.scene.sys.displayList),this.displayList&&this.displayList!==f&&this.removeFromDisplayList(),f.exists(this)||(this.displayList=f,f.add(this,!0),f.queueDepthSort(),this.emit(s.ADDED_TO_SCENE,this,this.scene),f.events.emit(l.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var f=this.displayList||this.scene.sys.displayList;return f.exists(this)&&(f.remove(this,!0),f.queueDepthSort(),this.displayList=null,this.emit(s.REMOVED_FROM_SCENE,this,this.scene),f.events.emit(l.REMOVED_FROM_SCENE,this,this.scene)),this},getDisplayList:function(){var f=null;return this.parentContainer?f=this.parentContainer.list:this.displayList&&(f=this.displayList.list),f},destroy:function(f){if(!(!this.scene||this.ignoreDestroy)){this.emit(s.DESTROY,this);for(var p=this.list;p.length;)p[0].destroy(f);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});v.exports=d},2956:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){var a=o.list;if(a.length!==0){o.depthSort();var r=o.blendMode!==-1;r||t.setBlendMode(0);var n=o._alpha;o.mask&&o.mask.preRenderCanvas(t,null,m);for(var e=0;e<a.length;e++){var s=a[e];if(s.willRender(m)){var h=s.alpha;!r&&s.blendMode!==t.currentBlendMode&&t.setBlendMode(s.blendMode),s.setAlpha(h*n),s.renderCanvas(t,s,m),s.setAlpha(h)}}o.mask&&o.mask.postRenderCanvas(t)}};v.exports=S},25179:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),m=t(93595),a=t(44603),r=t(23568);a.register("layer",function(n,e){n===void 0&&(n={});var s=r(n,"children",null),h=new m(this.scene,s);return e!==void 0&&(n.add=e),o(this.scene,h,n),h})},20005:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(93595),m=t(39429);m.register("layer",function(a){return this.displayList.add(new o(this.scene,a))})},33963:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),m=o,a=o;m=t(15869),a=t(2956),v.exports={renderWebGL:m,renderCanvas:a}},15869:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){var a=o.list,r=a.length;if(r!==0){o.depthSort(),t.pipelines.preBatch(o);var n=o.blendMode!==-1;n||t.setBlendMode(0);for(var e=o.alpha,s=0;s<r;s++){var h=a[s];if(h.willRender(m)){var i,l,u,d;if(h.alphaTopLeft!==void 0)i=h.alphaTopLeft,l=h.alphaTopRight,u=h.alphaBottomLeft,d=h.alphaBottomRight;else{var f=h.alpha;i=f,l=f,u=f,d=f}!n&&h.blendMode!==t.currentBlendMode&&t.setBlendMode(h.blendMode);var p=h.mask;p&&p.preRenderWebGL(t,h,m);var g=h.type;g!==t.currentType&&(t.newType=!0,t.currentType=g),t.nextTypeMatch=s<r-1?a[s+1].type===t.currentType:!1,h.setAlpha(i*e,l*e,u*e,d*e),h.renderWebGL(t,h,m),h.setAlpha(i,l,u,d),p&&p.postRenderWebGL(t,m),t.newType=!1}}t.pipelines.postBatch(o)}};v.exports=S},41432:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(96503),m=t(83419),a=t(31401),r=t(51767),n=t(70554),e=new m({Extends:o,Mixins:[a.Origin,a.ScrollFactor,a.Visible],initialize:function(h,i,l,u,d,f,p){o.call(this,h,i,l),this.color=new r(u,d,f),this.intensity=p,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(l)},displayWidth:{get:function(){return this.diameter},set:function(s){this.diameter=s}},displayHeight:{get:function(){return this.diameter},set:function(s){this.diameter=s}},width:{get:function(){return this.diameter},set:function(s){this.diameter=s}},height:{get:function(){return this.diameter},set:function(s){this.diameter=s}},willRender:function(s){return!(e.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&s.id)},setColor:function(s){var h=n.getFloatsFromUintRGB(s);return this.color.set(h[0],h[1],h[2]),this},setIntensity:function(s){return this.intensity=s,this},setRadius:function(s){return this.radius=s,this}});e.RENDER_MASK=15,v.exports=e},61356:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(81491),m=t(83419),a=t(20339),r=t(41432),n=t(80321),e=t(51767),s=t(19133),h=t(19186),i=t(70554),l=new m({initialize:function(){this.lights=[],this.ambientColor=new e(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(u,d,f,p,g,x){return this.systems.displayList.add(new n(this.scene,u,d,f,p,g,x))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(u){for(var d=this.lights,f=u.worldView,p=[],g=0;g<d.length;g++){var x=d[g];x.willRender(u)&&o(x,f)&&p.push({light:x,distance:a(x.x,x.y,f.centerX,f.centerY)})}return p.length>this.maxLights&&(h(p,this.sortByDistance),p=p.slice(0,this.maxLights)),this.visibleLights=p.length,p},sortByDistance:function(u,d){return u.distance>=d.distance},setAmbientColor:function(u){var d=i.getFloatsFromUintRGB(u);return this.ambientColor.set(d[0],d[1],d[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(u,d,f,p,g){u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=128),p===void 0&&(p=16777215),g===void 0&&(g=1);var x=i.getFloatsFromUintRGB(p),T=new r(u,d,f,x[0],x[1],x[2],g);return this.lights.push(T),T},removeLight:function(u){var d=this.lights.indexOf(u);return d>=0&&s(this.lights,d),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});v.exports=l},88992:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(61356),a=t(37277),r=t(44594),n=new o({Extends:m,initialize:function(s){this.scene=s,this.systems=s.sys,s.sys.settings.isBooted||s.sys.events.once(r.BOOT,this.boot,this),m.call(this)},boot:function(){var e=this.systems.events;e.on(r.SHUTDOWN,this.shutdown,this),e.on(r.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});a.register("LightsPlugin",n,"lights"),v.exports=n},4703:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(31401),a=t(39506),r=t(83997),n=t(95643),e=t(34684),s=t(92515),h=t(91296),i=t(37867),l=t(29807),u=t(43396),d=t(19186),f=t(25836),p=t(39318),g=new o({Extends:n,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.Mask,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Size,m.Texture,m.Transform,m.Visible,l],initialize:function(T,E,C,R,w,F,I,L,D,B,U,W){E===void 0&&(E=0),C===void 0&&(C=0),R===void 0&&(R="__WHITE"),n.call(this,T,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new f,this.modelScale=new f(1,1,1),this.modelRotation=new f,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new i,this.viewPosition=new f,this.viewMatrix=new i,this.projectionMatrix=new i,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var K=T.sys.renderer;this.setPosition(E,C),this.setTexture(R,w),this.setSize(K.width,K.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(K.width,K.height),F&&this.addVertices(F,I,L,D,B,U,W)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(x){return this.viewPosition.addScale(f.LEFT,x),this.dirtyCache[10]=1,this},panY:function(x){return this.viewPosition.y+=f.DOWN.y*x,this.dirtyCache[10]=1,this},panZ:function(x){return this.viewPosition.z+=x,this.dirtyCache[10]=1,this},setPerspective:function(x,T,E,C,R){return E===void 0&&(E=45),C===void 0&&(C=.01),R===void 0&&(R=1e3),this.fov=E,this.projectionMatrix.perspective(a(E),x/T,C,R),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(x,T,E,C){return x===void 0&&(x=this.scene.sys.renderer.getAspectRatio()),T===void 0&&(T=1),E===void 0&&(E=-1e3),C===void 0&&(C=1e3),this.fov=0,this.projectionMatrix.ortho(-x,x,-T,T,E,C),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(x){x.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(x,T,E,C,R,w,F,I,L){var D=this.scene.sys.cache.obj.get(x),B;return D&&(B=e(D,this,T,E,C,R,w,F,I,L)),(!B||B.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",x),this},sortByDepth:function(x,T){return x.depth-T.depth},depthSort:function(){return d(this.faces,this.sortByDepth),this},addVertex:function(x,T,E,C,R,w,F){var I=new p(x,T,E,C,R,w,F);return this.vertices.push(I),I},addFace:function(x,T,E){var C=new r(x,T,E);return this.faces.push(C),this.dirtyCache[9]=-1,C},addVertices:function(x,T,E,C,R,w,F){var I=s(x,T,E,C,R,w,F);return I?(this.faces=this.faces.concat(I.faces),this.vertices=this.vertices.concat(I.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(x){return this.faces[x]},hasFaceAt:function(x,T,E){E===void 0&&(E=this.scene.sys.cameras.main);for(var C=h(this,E).calc,R=this.faces,w=0;w<R.length;w++){var F=R[w];if(F.contains(x,T,C))return!0}return!1},getFaceAt:function(x,T,E){E===void 0&&(E=this.scene.sys.cameras.main);for(var C=h(this,E).calc,R=this.faces,w=[],F=0;F<R.length;F++){var I=R[F];I.contains(x,T,C)&&w.push(I)}return d(w,this.sortByDepth)},setDebug:function(x,T){return this.debugGraphic=x,!x&&!T?this.debugCallback=null:T?this.debugCallback=T:this.debugCallback=this.renderDebug,this},isDirty:function(){var x=this.modelPosition,T=this.modelRotation,E=this.modelScale,C=this.dirtyCache,R=x.x,w=x.y,F=x.z,I=T.x,L=T.y,D=T.z,B=E.x,U=E.y,W=E.z,K=this.getFaceCount(),Y=C[0],G=C[1],X=C[2],V=C[3],b=C[4],z=C[5],k=C[6],$=C[7],J=C[8],j=C[9];return C[0]=R,C[1]=w,C[2]=F,C[3]=I,C[4]=L,C[5]=D,C[6]=B,C[7]=U,C[8]=W,C[9]=K,Y!==R||G!==w||X!==F||V!==I||b!==L||z!==D||k!==B||$!==U||J!==W||j!==K},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var x=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!x[10]&&!this.isDirty())){var T=this.width,E=this.height,C=this.viewMatrix,R=this.viewPosition;x[10]&&(C.identity(),C.translate(R),C.invert(),x[10]=0);var w=this.transformMatrix;w.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var F=R.z,I=this.faces,L=0;L<I.length;L++)I[L].transformCoordinatesLocal(w,T,E,F);this.depthSort()}},renderDebug:function(x,T){for(var E=x.debugGraphic,C=0;C<T.length;C++){var R=T[C],w=R.vertex1.tx,F=R.vertex1.ty,I=R.vertex2.tx,L=R.vertex2.ty,D=R.vertex3.tx,B=R.vertex3.ty;E.strokeTriangle(w,F,I,L,D,B)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(x){x===void 0&&(x={});var T=(function(E,C,R){for(var w=this.faces,F=0;F<w.length;F++){var I=w[F];if(I.contains(C,R))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,x,T),this},setTint:function(x){x===void 0&&(x=16777215);for(var T=this.vertices,E=0;E<T.length;E++)T[E].color=x;return this},uvScroll:function(x,T){for(var E=this.faces,C=0;C<E.length;C++)E[C].scrollUV(x,T);return this},uvScale:function(x,T){for(var E=this.faces,C=0;C<E.length;C++)E[C].scaleUV(x,T);return this},tint:{set:function(x){this.setTint(x)}},rotateX:{get:function(){return u(this.modelRotation.x)},set:function(x){this.modelRotation.x=a(x)}},rotateY:{get:function(){return u(this.modelRotation.y)},set:function(x){this.modelRotation.y=a(x)}},rotateZ:{get:function(){return u(this.modelRotation.z)},set:function(x){this.modelRotation.z=a(x)}}});v.exports=g},36488:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};v.exports=S},20527:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),m=t(44603),a=t(23568),r=t(35154),n=t(4703);m.register("mesh",function(e,s){e===void 0&&(e={});var h=a(e,"key",null),i=a(e,"frame",null),l=r(e,"vertices",[]),u=r(e,"uvs",[]),d=r(e,"indicies",[]),f=r(e,"containsZ",!1),p=r(e,"normals",[]),g=r(e,"colors",16777215),x=r(e,"alphas",1),T=new n(this.scene,0,0,h,i,l,u,d,f,p,g,x);return s!==void 0&&(e.add=s),o(this.scene,T,e),T})},9225:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(4703),m=t(39429);m.register("mesh",function(a,r,n,e,s,h,i,l,u,d,f){return this.displayList.add(new o(this.scene,a,r,n,e,s,h,i,l,u,d,f))})},29807:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),m=o,a=o;m=t(48833),a=t(36488),v.exports={renderWebGL:m,renderCanvas:a}},48833:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),m=function(a,r,n,e){var s=r.faces,h=s.length;if(h!==0){n.addToRenderList(r);var i=a.pipelines.set(r.pipeline,r),l=o(r,n,e).calc;a.pipelines.preBatch(r);for(var u=i.setGameObject(r),d=i.vertexViewF32,f=i.vertexViewU32,p=i.vertexCount*i.currentShader.vertexComponentCount-1,g=r.tintFill,x=[],T=r.debugCallback,E=l.a,C=l.b,R=l.c,w=l.d,F=l.e,I=l.f,L=r.viewPosition.z,D=r.hideCCW,B=n.roundPixels,U=n.alpha*r.alpha,W=0,K=0;K<h;K++){var Y=s[K];Y.isInView(n,D,L,U,E,C,R,w,F,I,B)&&(i.shouldFlush(3)&&(i.flush(),u=i.setGameObject(r),p=i.vertexCount*i.currentShader.vertexComponentCount-1),p=Y.load(d,f,p,u,g),W++,i.vertexCount+=3,i.currentBatch.count=i.vertexCount-i.currentBatch.start,T&&x.push(Y))}r.totalFrame+=W,T&&T.call(r,r,x),a.pipelines.postBatch(r)}};v.exports=m},28103:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(31401),a=t(95643),r=t(78023),n=t(39318),e=new o({Extends:a,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.GetBounds,m.Mask,m.Origin,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Texture,m.Transform,m.Visible,r],initialize:function(h,i,l,u,d,f,p,g,x,T,E){a.call(this,h,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var C=h.textures.getFrame(u,d);this.is3Slice=!T&&!E,C&&C.scale9&&(this.is3Slice=C.is3Slice);for(var R=this.is3Slice?18:54,w=0;w<R;w++)this.vertices.push(new n);this.setPosition(i,l),this.setTexture(u,d),this.setSlices(f,p,g,x,T,E,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(s,h,i,l,u,d,f){i===void 0&&(i=10),l===void 0&&(l=10),u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=!1);var p=this.frame,g=!1;if(this.is3Slice&&f&&u!==0&&d!==0&&(g=!0),g)console.warn("Cannot change 9 slice to 3 slice");else{if(p&&p.scale9&&!f){var x=p.data.scale9Borders,T=x.x,E=x.y;i=T,l=p.width-x.w-T,u=E,d=p.height-x.h-E,s===void 0&&(s=p.width),h===void 0&&(h=p.height)}else s===void 0&&(s=256),h===void 0&&(h=256);this._width=s,this._height=h,this.leftWidth=i,this.rightWidth=l,this.topHeight=u,this.bottomHeight=d,this.is3Slice&&(h=p.height,this._height=h,this.topHeight=h,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var s=this.leftWidth,h=this.rightWidth,i=this.topHeight,l=this.bottomHeight,u=this.frame.width,d=this.frame.height;this.updateQuadUVs(0,0,0,s/u,i/d),this.updateQuadUVs(6,s/u,0,1-h/u,i/d),this.updateQuadUVs(12,1-h/u,0,1,i/d),this.is3Slice||(this.updateQuadUVs(18,0,i/d,s/u,1-l/d),this.updateQuadUVs(24,s/u,i/d,1-h/u,1-l/d),this.updateQuadUVs(30,1-h/u,i/d,1,1-l/d),this.updateQuadUVs(36,0,1-l/d,s/u,1),this.updateQuadUVs(42,s/u,1-l/d,1-h/u,1),this.updateQuadUVs(48,1-h/u,1-l/d,1,1))},updateVertices:function(){var s=this.leftWidth,h=this.rightWidth,i=this.topHeight,l=this.bottomHeight,u=this.width,d=this.height;this.updateQuad(0,-.5,.5,-.5+s/u,.5-i/d),this.updateQuad(6,-.5+s/u,.5,.5-h/u,.5-i/d),this.updateQuad(12,.5-h/u,.5,.5,.5-i/d),this.is3Slice||(this.updateQuad(18,-.5,.5-i/d,-.5+s/u,-.5+l/d),this.updateQuad(24,-.5+s/u,.5-i/d,.5-h/u,-.5+l/d),this.updateQuad(30,.5-h/u,.5-i/d,.5,-.5+l/d),this.updateQuad(36,-.5,-.5+l/d,-.5+s/u,-.5),this.updateQuad(42,-.5+s/u,-.5+l/d,.5-h/u,-.5),this.updateQuad(48,.5-h/u,-.5+l/d,.5,-.5))},updateQuad:function(s,h,i,l,u){var d=this.width,f=this.height,p=this.originX,g=this.originY,x=this.vertices;x[s+0].resize(h,i,d,f,p,g),x[s+1].resize(h,u,d,f,p,g),x[s+2].resize(l,i,d,f,p,g),x[s+3].resize(h,u,d,f,p,g),x[s+4].resize(l,u,d,f,p,g),x[s+5].resize(l,i,d,f,p,g)},updateQuadUVs:function(s,h,i,l,u){var d=this.vertices,f=this.frame,p=f.u0,g=f.v0,x=f.u1,T=f.v1;if(p!==0||x!==1){var E=x-p;h=p+h*E,l=p+l*E}if(g!==0||T!==1){var C=T-g;i=g+i*C,u=g+u*C}d[s+0].setUVs(h,i),d[s+1].setUVs(h,u),d[s+2].setUVs(l,i),d[s+3].setUVs(h,u),d[s+4].setUVs(l,u),d[s+5].setUVs(l,i)},clearTint:function(){return this.setTint(16777215),this},setTint:function(s){return s===void 0&&(s=16777215),this.tint=s,this.tintFill=!1,this},setTintFill:function(s){return this.setTint(s),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(s){this._width=Math.max(s,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(s){this.is3Slice||(this._height=Math.max(s,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(s){this.scaleX=s/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(s){this.scaleY=s/this.height}},setSize:function(s,h){this.width=s,this.height=h,this.updateDisplayOrigin();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=this.width,i.hitArea.height=this.height),this},setDisplaySize:function(s,h){return this.displayWidth=s,this.displayHeight=h,this},originX:{get:function(){return this._originX},set:function(s){this._originX=s,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(s){this._originY=s,this.updateVertices()}},setOrigin:function(s,h){return s===void 0&&(s=.5),h===void 0&&(h=s),this._originX=s,this._originY=h,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var s=this.frame.height;this._height=s,this.topHeight=s,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});v.exports=e},28279:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),m=t(44603),a=t(23568),r=t(35154),n=t(28103);m.register("nineslice",function(e,s){e===void 0&&(e={});var h=a(e,"key",null),i=a(e,"frame",null),l=r(e,"width",256),u=r(e,"height",256),d=r(e,"leftWidth",10),f=r(e,"rightWidth",10),p=r(e,"topHeight",0),g=r(e,"bottomHeight",0),x=new n(this.scene,0,0,h,i,l,u,d,f,p,g);return s!==void 0&&(e.add=s),o(this.scene,x,e),x})},47521:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(28103),m=t(39429);m.register("nineslice",function(a,r,n,e,s,h,i,l,u,d){return this.displayList.add(new o(this.scene,a,r,n,e,s,h,i,l,u,d))})},78023:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),m=o,a=o;m=t(52230),v.exports={renderWebGL:m,renderCanvas:a}},52230:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),m=t(70554),a=function(r,n,e,s){var h=n.vertices,i=h.length;if(i!==0){e.addToRenderList(n);var l=r.pipelines.set(n.pipeline,n),u=o(n,e,s,!1).calc;r.pipelines.preBatch(n);var d=l.setGameObject(n),f=l.vertexViewF32,p=l.vertexViewU32,g=l.vertexCount*l.currentShader.vertexComponentCount-1,x=e.roundPixels,T=n.tintFill,E=e.alpha*n.alpha,C=m.getTintAppendFloatAlpha(n.tint,E),R=l.vertexAvailable(),w=-1;R<i&&(w=R);for(var F=0;F<i;F++){var I=h[F];F===w&&(l.flush(),d=l.setGameObject(n),g=0),f[++g]=u.getXRound(I.vx,I.vy,x),f[++g]=u.getYRound(I.vx,I.vy,x),f[++g]=I.u,f[++g]=I.v,f[++g]=d,f[++g]=T,p[++g]=C,l.vertexCount++,l.currentBatch.count=l.vertexCount-l.currentBatch.start}r.pipelines.postBatch(n)}};v.exports=a},76472:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(44777),a=t(37589),r=t(6113),n=t(91389),e=t(90664),s=new o({Extends:m,initialize:function(i){m.call(this,i,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var h=this.propertyValue,i=h,l=this.defaultEmit,u=this.defaultUpdate;if(this.method===9){this.start=h[0],this.ease=r("Linear"),this.interpolation=n("linear"),l=this.easedValueEmit,u=this.easeValueUpdate,i=h[0],this.active=!0;for(var d=0;d<h.length;d++){var f=e(h[d]);this.r.push(f.r),this.g.push(f.g),this.b.push(f.b)}}return this.onEmit=l,this.onUpdate=u,this.current=i,this},setEase:function(h){this.easeName=h,this.ease=r(h)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(h,i,l){var u=this.ease(l),d=this.interpolation(this.r,u),f=this.interpolation(this.g,u),p=this.interpolation(this.b,u),g=a(d,f,p);return this.current=g,g}});v.exports=s},44777:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(30976),m=t(45319),a=t(83419),r=t(99472),n=t(6113),e=t(95540),s=t(91389),h=t(77720),i=t(15994),l=new a({initialize:function(d,f,p){p===void 0&&(p=!1),this.propertyKey=d,this.propertyValue=f,this.defaultValue=f,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=p,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(u,d){u===void 0&&(u={}),d&&(this.propertyKey=d),this.propertyValue=e(u,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(u){var d;switch(this.method){case 1:case 3:case 8:d=u;break;case 2:this.propertyValue.indexOf(u)>=0&&(d=u);break;case 4:var f=(this.end-this.start)/this.steps;d=h(u,f),this.counter=d;break;case 5:case 6:case 7:d=m(u,this.start,this.end);break;case 9:d=this.start[0];break}return this.current=d,this},getMethod:function(){var u=this.propertyValue;if(u===null)return 0;var d=typeof u;if(d==="number")return 1;if(Array.isArray(u))return 2;if(d==="function")return 3;if(d==="object"){if(this.hasBoth(u,"start","end"))return this.has(u,"steps")?4:5;if(this.hasBoth(u,"min","max"))return 6;if(this.has(u,"random"))return 7;if(this.hasEither(u,"onEmit","onUpdate"))return 8;if(this.hasEither(u,"values","interpolation"))return 9}return 0},setMethods:function(){var u=this.propertyValue,d=u,f=this.defaultEmit,p=this.defaultUpdate;switch(this.method){case 1:f=this.staticValueEmit;break;case 2:f=this.randomStaticValueEmit,d=u[0];break;case 3:this._onEmit=u,f=this.proxyEmit,d=this.defaultValue;break;case 4:this.start=u.start,this.end=u.end,this.steps=u.steps,this.counter=this.start,this.yoyo=this.has(u,"yoyo")?u.yoyo:!1,this.direction=0,f=this.steppedEmit,d=this.start;break;case 5:this.start=u.start,this.end=u.end;var g=this.has(u,"ease")?u.ease:"Linear";this.ease=n(g,u.easeParams),f=this.has(u,"random")&&u.random?this.randomRangedValueEmit:this.easedValueEmit,p=this.easeValueUpdate,d=this.start;break;case 6:this.start=u.min,this.end=u.max,f=this.has(u,"int")&&u.int?this.randomRangedIntEmit:this.randomRangedValueEmit,d=this.start;break;case 7:var x=u.random;Array.isArray(x)&&(this.start=x[0],this.end=x[1]),f=this.randomRangedIntEmit,d=this.start;break;case 8:this._onEmit=this.has(u,"onEmit")?u.onEmit:this.defaultEmit,this._onUpdate=this.has(u,"onUpdate")?u.onUpdate:this.defaultUpdate,f=this.proxyEmit,p=this.proxyUpdate,d=this.defaultValue;break;case 9:this.start=u.values;var T=this.has(u,"ease")?u.ease:"Linear";this.ease=n(T,u.easeParams),this.interpolation=s(u.interpolation),f=this.easedValueEmit,p=this.easeValueUpdate,d=this.start[0];break}return this.onEmit=f,this.onUpdate=p,this.current=d,this},has:function(u,d){return u.hasOwnProperty(d)},hasBoth:function(u,d,f){return u.hasOwnProperty(d)&&u.hasOwnProperty(f)},hasEither:function(u,d,f){return u.hasOwnProperty(d)||u.hasOwnProperty(f)},defaultEmit:function(){return this.defaultValue},defaultUpdate:function(u,d,f,p){return p},proxyEmit:function(u,d,f){var p=this._onEmit(u,d,f);return this.current=p,p},proxyUpdate:function(u,d,f,p){var g=this._onUpdate(u,d,f,p);return this.current=g,g},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var u=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[u],this.current},randomRangedValueEmit:function(u,d){var f=r(this.start,this.end);return u&&u.data[d]&&(u.data[d].min=f,u.data[d].max=this.end),this.current=f,f},randomRangedIntEmit:function(u,d){var f=o(this.start,this.end);return u&&u.data[d]&&(u.data[d].min=f,u.data[d].max=this.end),this.current=f,f},steppedEmit:function(){var u=this.counter,d=u,f=(this.end-this.start)/this.steps;if(this.yoyo){var p;this.direction===0?(d+=f,d>=this.end&&(p=d-this.end,d=this.end-p,this.direction=1)):(d-=f,d<=this.start&&(p=this.start-d,d=this.start+p,this.direction=0)),this.counter=d}else this.counter=i(d+f,this.start,this.end);return this.current=u,u},easedValueEmit:function(u,d){if(u&&u.data[d]){var f=u.data[d];f.min=this.start,f.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(u,d,f){var p=u.data[d],g,x=this.ease(f);return this.interpolation?g=this.interpolation(this.start,x):g=(p.max-p.min)*x+p.min,this.current=g,g},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});v.exports=l},24502:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(95540),a=t(20286),r=new o({Extends:a,initialize:function(e,s,h,i,l){if(typeof e=="object"){var u=e;e=m(u,"x",0),s=m(u,"y",0),h=m(u,"power",0),i=m(u,"epsilon",100),l=m(u,"gravity",50)}else e===void 0&&(e=0),s===void 0&&(s=0),h===void 0&&(h=0),i===void 0&&(i=100),l===void 0&&(l=50);a.call(this,e,s,!0),this._gravity=l,this._power=h*l,this._epsilon=i*i},update:function(n,e){var s=this.x-n.x,h=this.y-n.y,i=s*s+h*h;if(i!==0){var l=Math.sqrt(i);i<this._epsilon&&(i=this._epsilon);var u=this._power*e/(i*l)*100;n.velocityX+=s*u,n.velocityY+=h*u}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(n){this._epsilon=n*n}},power:{get:function(){return this._power/this._gravity},set:function(n){this._power=n*this._gravity}},gravity:{get:function(){return this._gravity},set:function(n){var e=this.power;this._gravity=n,this.power=e}}});v.exports=r},56480:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(9674),m=t(45319),a=t(83419),r=t(39506),n=t(87841),e=t(11520),s=t(26099),h=new a({initialize:function(l){this.emitter=l,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new s,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=l.scene,this.anims=null,this.emitter.anims.length>0&&(this.anims=new o(this)),this.bounds=new n},emit:function(i,l,u,d,f,p){return this.emitter.emit(i,l,u,d,f,p)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(i,l){i===void 0&&(i=0),l===void 0&&(l=0),this.x=i,this.y=l},fire:function(i,l){var u=this.emitter,d=u.ops,f=u.getAnim();if(f?this.anims.play(f):(this.frame=u.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(u.getEmitZone(this),i===void 0?this.x+=d.x.onEmit(this,"x"):d.x.steps>0?this.x+=i+d.x.onEmit(this,"x"):this.x+=i,l===void 0?this.y+=d.y.onEmit(this,"y"):d.y.steps>0?this.y+=l+d.y.onEmit(this,"y"):this.y+=l,this.life=d.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=d.delay.onEmit(this,"delay"),this.holdCurrent=d.hold.onEmit(this,"hold"),this.scaleX=d.scaleX.onEmit(this,"scaleX"),this.scaleY=d.scaleY.active?d.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=d.rotate.onEmit(this,"rotate"),this.rotation=r(this.angle),u.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&u.getDeathZone(this))return this.lifeCurrent=0,!1;var p=d.speedX.onEmit(this,"speedX"),g=d.speedY.active?d.speedY.onEmit(this,"speedY"):p;if(u.radial){var x=r(d.angle.onEmit(this,"angle"));this.velocityX=Math.cos(x)*Math.abs(p),this.velocityY=Math.sin(x)*Math.abs(g)}else if(u.moveTo){var T=d.moveToX.onEmit(this,"moveToX"),E=d.moveToY.onEmit(this,"moveToY"),C=this.life/1e3;this.velocityX=(T-this.x)/C,this.velocityY=(E-this.y)/C}else this.velocityX=p,this.velocityY=g;return u.acceleration&&(this.accelerationX=d.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=d.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=d.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=d.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=d.bounce.onEmit(this,"bounce"),this.alpha=d.alpha.onEmit(this,"alpha"),d.color.active?this.tint=d.color.onEmit(this,"tint"):this.tint=d.tint.onEmit(this,"tint"),!0},update:function(i,l,u){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=i,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=i,!1;this.anims&&this.anims.update(0,i);var d=this.emitter,f=d.ops,p=1-this.lifeCurrent/this.life;if(this.lifeT=p,this.x=f.x.onUpdate(this,"x",p,this.x),this.y=f.y.onUpdate(this,"y",p,this.y),d.moveTo){var g=f.moveToX.onUpdate(this,"moveToX",p,d.moveToX),x=f.moveToY.onUpdate(this,"moveToY",p,d.moveToY),T=this.lifeCurrent/1e3;this.velocityX=(g-this.x)/T,this.velocityY=(x-this.y)/T}return this.computeVelocity(d,i,l,u,p),this.scaleX=f.scaleX.onUpdate(this,"scaleX",p,this.scaleX),f.scaleY.active?this.scaleY=f.scaleY.onUpdate(this,"scaleY",p,this.scaleY):this.scaleY=this.scaleX,this.angle=f.rotate.onUpdate(this,"rotate",p,this.angle),this.rotation=r(this.angle),d.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=m(f.alpha.onUpdate(this,"alpha",p,this.alpha),0,1),f.color.active?this.tint=f.color.onUpdate(this,"color",p,this.tint):this.tint=f.tint.onUpdate(this,"tint",p,this.tint),this.lifeCurrent-=i,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(i,l,u,d,f){var p=i.ops,g=this.velocityX,x=this.velocityY,T=p.accelerationX.onUpdate(this,"accelerationX",f,this.accelerationX),E=p.accelerationY.onUpdate(this,"accelerationY",f,this.accelerationY),C=p.maxVelocityX.onUpdate(this,"maxVelocityX",f,this.maxVelocityX),R=p.maxVelocityY.onUpdate(this,"maxVelocityY",f,this.maxVelocityY);this.bounce=p.bounce.onUpdate(this,"bounce",f,this.bounce),g+=i.gravityX*u+T*u,x+=i.gravityY*u+E*u,g=m(g,-C,C),x=m(x,-R,R),this.velocityX=g,this.velocityY=x,this.x+=g*u,this.y+=x*u,i.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var w=0;w<d.length;w++){var F=d[w];F.active&&F.update(this,l,u,f)}},setSizeToFrame:function(){},getBounds:function(i){i===void 0&&(i=this.emitter.getWorldTransformMatrix());var l=Math.abs(i.scaleX)*this.scaleX,u=Math.abs(i.scaleY)*this.scaleY,d=this.x,f=this.y,p=this.rotation,g=this.frame.width*l/2,x=this.frame.height*u/2,T=this.bounds,E=new s(d-g,f-x),C=new s(d+g,f-x),R=new s(d-g,f+x),w=new s(d+g,f+x);return p!==0&&(e(E,d,f,p),e(C,d,f,p),e(R,d,f,p),e(w,d,f,p)),i.transformPoint(E.x,E.y,E),i.transformPoint(C.x,C.y,C),i.transformPoint(R.x,R.y,R),i.transformPoint(w.x,w.y,w),T.x=Math.min(E.x,C.x,R.x,w.x),T.y=Math.min(E.y,C.y,R.y,w.y),T.width=Math.max(E.x,C.x,R.x,w.x)-T.x,T.height=Math.max(E.y,C.y,R.y,w.y)-T.y,T},destroy:function(){this.anims&&this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});v.exports=h},69601:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(20286),a=t(87841),r=new o({Extends:m,initialize:function(e,s,h,i,l,u,d,f){l===void 0&&(l=!0),u===void 0&&(u=!0),d===void 0&&(d=!0),f===void 0&&(f=!0),m.call(this,e,s,!0),this.bounds=new a(e,s,h,i),this.collideLeft=l,this.collideRight=u,this.collideTop=d,this.collideBottom=f},update:function(n){var e=this.bounds,s=-n.bounce,h=n.worldPosition;h.x<e.x&&this.collideLeft?(n.x+=e.x-h.x,n.velocityX*=s):h.x>e.right&&this.collideRight&&(n.x-=h.x-e.right,n.velocityX*=s),h.y<e.y&&this.collideTop?(n.y+=e.y-h.y,n.velocityY*=s):h.y>e.bottom&&this.collideBottom&&(n.y-=h.y-e.bottom,n.velocityY*=s)}});v.exports=r},31600:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(31401),a=t(53774),r=t(43459),n=t(26388),e=t(19909),s=t(76472),h=t(44777),i=t(20696),l=t(95643),u=t(95540),d=t(26546),f=t(24502),p=t(1985),g=t(97022),x=t(86091),T=t(73162),E=t(20074),C=t(269),R=t(56480),w=t(69601),F=t(68875),I=t(87841),L=t(59996),D=t(72905),B=t(90668),U=t(19186),W=t(61340),K=t(26099),Y=t(15994),G=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],X=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],V=new o({Extends:l,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.Mask,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Texture,m.Transform,m.Visible,B],initialize:function(z,k,$,J,j){l.call(this,z,"ParticleEmitter"),this.particleClass=R,this.config=null,this.ops={accelerationX:new h("accelerationX",0),accelerationY:new h("accelerationY",0),alpha:new h("alpha",1),angle:new h("angle",{min:0,max:360},!0),bounce:new h("bounce",0),color:new s("color"),delay:new h("delay",0,!0),hold:new h("hold",0,!0),lifespan:new h("lifespan",1e3,!0),maxVelocityX:new h("maxVelocityX",1e4),maxVelocityY:new h("maxVelocityY",1e4),moveToX:new h("moveToX",0),moveToY:new h("moveToY",0),quantity:new h("quantity",1,!0),rotate:new h("rotate",0),scaleX:new h("scaleX",1),scaleY:new h("scaleY",1),speedX:new h("speedX",0,!0),speedY:new h("speedY",0,!0),tint:new h("tint",16777215),x:new h("x",0),y:new h("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new K,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new W,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new T(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(k,$),this.setTexture(J),j&&this.setConfig(j)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(b){if(!b)return this;this.config=b;var z=0,k="",$=this.ops;for(z=0;z<X.length;z++)k=X[z],$[k].loadConfig(b);for(z=0;z<G.length;z++)k=G[z],g(b,k)&&(this[k]=u(b,k));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,g(b,"speed")&&($.speedX.loadConfig(b,"speed"),$.speedY.active=!1),(p(b,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),g(b,"scale")&&($.scaleX.loadConfig(b,"scale"),$.scaleY.active=!1),g(b,"callbackScope")){var J=u(b,"callbackScope",null);this.emitCallbackScope=J,this.deathCallbackScope=J}if(g(b,"emitZone")&&this.addEmitZone(b.emitZone),g(b,"deathZone")&&this.addDeathZone(b.deathZone),g(b,"bounds")){var j=this.addParticleBounds(b.bounds);j.collideLeft=u(b,"collideLeft",!0),j.collideRight=u(b,"collideRight",!0),j.collideTop=u(b,"collideTop",!0),j.collideBottom=u(b,"collideBottom",!0)}return g(b,"followOffset")&&this.followOffset.setFromObject(u(b,"followOffset",0)),g(b,"texture")&&this.setTexture(b.texture),g(b,"frame")?this.setEmitterFrame(b.frame):g(b,"anim")&&this.setAnim(b.anim),g(b,"reserve")&&this.reserve(b.reserve),g(b,"advance")&&this.fastForward(b.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(i.START,this),this},updateConfig:function(b){return b&&(this.config?this.setConfig(C(this.config,b)):this.setConfig(b)),this},toJSON:function(){var b=a(this),z=0,k="";for(z=0;z<G.length;z++)k=G[z],b[k]=this[k];var $=this.ops;for(z=0;z<X.length;z++)k=X[z],$[k]&&(b[k]=$[k].toJSON());return $.speedY.active||(delete b.speedX,b.speed=$.speedX.toJSON()),this.scaleX===this.scaleY&&(delete b.scaleX,delete b.scaleY,b.scale=$.scaleX.toJSON()),b},resetCounters:function(b,z){var k=this.counters;k.fill(0),k[0]=b,z&&(k[5]=1)},startFollow:function(b,z,k,$){return z===void 0&&(z=0),k===void 0&&(k=0),$===void 0&&($=!1),this.follow=b,this.followOffset.set(z,k),this.trackVisible=$,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var b=this.frames,z=b.length,k;return z===1?k=b[0]:this.randomFrame?k=d(b):(k=b[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===z&&(this.currentFrame=0))),this.texture.get(k)},setEmitterFrame:function(b,z,k){z===void 0&&(z=!0),k===void 0&&(k=1),this.randomFrame=z,this.frameQuantity=k,this.currentFrame=0;var $=typeof b;if(this.frames.length=0,Array.isArray(b))this.frames=this.frames.concat(b);else if($==="string"||$==="number")this.frames.push(b);else if($==="object"){var J=b;b=u(J,"frames",null),b&&(this.frames=this.frames.concat(b));var j=u(J,"cycle",!1);this.randomFrame=!j,this.frameQuantity=u(J,"quantity",k)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var b=this.anims,z=b.length;if(z===0)return null;if(z===1)return b[0];if(this.randomAnim)return d(b);var k=b[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=Y(this.currentAnim+1,0,z)),k},setAnim:function(b,z,k){z===void 0&&(z=!0),k===void 0&&(k=1),this.randomAnim=z,this.animQuantity=k,this.currentAnim=0;var $=typeof b;if(this.anims.length=0,Array.isArray(b))this.anims=this.anims.concat(b);else if($==="string")this.anims.push(b);else if($==="object"){var J=b;b=u(J,"anims",null),b&&(this.anims=this.anims.concat(b));var j=u(J,"cycle",!1);this.randomAnim=!j,this.animQuantity=u(J,"quantity",k)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(b){return b===void 0&&(b=!0),this.radial=b,this},addParticleBounds:function(b,z,k,$,J,j,q,_){if(typeof b=="object"){var tt=b;b=tt.x,z=tt.y,k=g(tt,"w")?tt.w:tt.width,$=g(tt,"h")?tt.h:tt.height}return this.addParticleProcessor(new w(b,z,k,$,J,j,q,_))},setParticleSpeed:function(b,z){return z===void 0&&(z=b),this.ops.speedX.onChange(b),b===z?this.ops.speedY.active=!1:this.ops.speedY.onChange(z),this.radial=!0,this},setParticleScale:function(b,z){return b===void 0&&(b=1),z===void 0&&(z=b),this.ops.scaleX.onChange(b),this.ops.scaleY.onChange(z),this},setParticleGravity:function(b,z){return this.gravityX=b,this.gravityY=z,this},setParticleAlpha:function(b){return this.ops.alpha.onChange(b),this},setParticleTint:function(b){return this.ops.tint.onChange(b),this},setEmitterAngle:function(b){return this.ops.angle.onChange(b),this},setParticleLifespan:function(b){return this.ops.lifespan.onChange(b),this},setQuantity:function(b){return this.quantity=b,this},setFrequency:function(b,z){return this.frequency=b,this.flowCounter=b>0?b:0,z&&(this.quantity=z),this},addDeathZone:function(b){Array.isArray(b)||(b=[b]);for(var z,k=[],$=0;$<b.length;$++)if(z=b[$],z instanceof n)k.push(z);else if(typeof z.contains=="function")z=new n(z,!0),k.push(z);else{var J=u(z,"type","onEnter"),j=u(z,"source",null);if(j&&typeof j.contains=="function"){var q=J==="onEnter";z=new n(j,q),k.push(z)}}return this.deathZones=this.deathZones.concat(k),k},removeDeathZone:function(b){return D(this.deathZones,b),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(b){Array.isArray(b)||(b=[b]);for(var z,k=[],$=0;$<b.length;$++)if(z=b[$],z instanceof F||z instanceof e)k.push(z);else{var J=u(z,"source",null);if(J){var j=u(z,"type","random");if(j==="random"&&typeof J.getRandomPoint=="function")z=new F(J),k.push(z);else if(j==="edge"&&typeof J.getPoints=="function"){var q=u(z,"quantity",1),_=u(z,"stepRate",0),tt=u(z,"yoyo",!1),et=u(z,"seamless",!0),at=u(z,"total",-1);z=new e(J,q,_,tt,et,at),k.push(z)}}}return this.emitZones=this.emitZones.concat(k),k},removeEmitZone:function(b){return D(this.emitZones,b),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(b){var z=this.emitZones,k=z.length;if(k!==0){var $=z[this.zoneIndex];$.getPoint(b),$.total>-1&&(this.zoneTotal++,this.zoneTotal===$.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===k&&(this.zoneIndex=0)))}},getDeathZone:function(b){for(var z=this.deathZones,k=0;k<z.length;k++){var $=z[k];if($.willKill(b))return this.emit(i.DEATH_ZONE,this,b,$),!0}return!1},setEmitZone:function(b){var z;return isFinite(b)?z=b:z=this.emitZones.indexOf(b),z>=0&&(this.zoneIndex=z),this},addParticleProcessor:function(b){return this.processors.exists(b)||(b.emitter&&b.emitter.removeParticleProcessor(b),this.processors.add(b),b.emitter=this),b},removeParticleProcessor:function(b){return this.processors.exists(b)&&(this.processors.remove(b,!0),b.emitter=null),b},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(b){return this.addParticleProcessor(new f(b))},reserve:function(b){var z=this.dead;if(this.maxParticles>0){var k=this.getParticleCount();k+b>this.maxParticles&&(b=this.maxParticles-(k+b))}for(var $=0;$<b;$++)z.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(b,z){return b===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof b=="function"&&(this.emitCallback=b,z&&(this.emitCallbackScope=z)),this},onParticleDeath:function(b,z){return b===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof b=="function"&&(this.deathCallback=b,z&&(this.deathCallbackScope=z)),this},killAll:function(){for(var b=this.dead,z=this.alive;z.length>0;)b.push(z.pop());return this},forEachAlive:function(b,z){for(var k=this.alive,$=k.length,J=0;J<$;J++)b.call(z,k[J],this);return this},forEachDead:function(b,z){for(var k=this.dead,$=k.length,J=0;J<$;J++)b.call(z,k[J],this);return this},start:function(b,z){return b===void 0&&(b=0),this.emitting||(b>0&&this.fastForward(b),this.emitting=!0,this.resetCounters(this.frequency,!0),z!==void 0&&(this.duration=Math.abs(z)),this.emit(i.START,this)),this},stop:function(b){return b===void 0&&(b=!1),this.emitting&&(this.emitting=!1,b&&this.killAll(),this.emit(i.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(b,z){return b===void 0&&(b=""),z===void 0&&(z=this.true),this.sortProperty=b,this.sortOrderAsc=z,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(b){return this.sortProperty!==""?b=this.depthSortCallback:b=null,this.sortCallback=b,this},depthSort:function(){return U(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(b,z){var k=this.sortProperty;return this.sortOrderAsc?b[k]-z[k]:z[k]-b[k]},flow:function(b,z,k){return z===void 0&&(z=1),this.emitting=!1,this.frequency=b,this.quantity=z,k!==void 0&&(this.stopAfter=k),this.start()},explode:function(b,z,k){this.frequency=-1,this.resetCounters(-1,!0);var $=this.emitParticle(b,z,k);return this.emit(i.EXPLODE,this,$),$},emitParticleAt:function(b,z,k){return this.emitParticle(k,b,z)},emitParticle:function(b,z,k){if(!this.atLimit()){b===void 0&&(b=this.ops.quantity.onEmit());for(var $=this.dead,J=this.stopAfter,j=this.follow?this.follow.x+this.followOffset.x:z,q=this.follow?this.follow.y+this.followOffset.y:k,_=0;_<b;_++){var tt=$.pop();if(tt||(tt=new this.particleClass(this)),tt.fire(j,q)?(this.particleBringToTop?this.alive.push(tt):this.alive.unshift(tt),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,tt,this)):this.dead.push(tt),J>0&&(this.stopCounter++,this.stopCounter>=J)||this.atLimit())break}return tt}},fastForward:function(b,z){z===void 0&&(z=1e3/60);var k=0;for(this.skipping=!0;k<Math.abs(b);)this.preUpdate(0,z),k+=z;return this.skipping=!1,this},preUpdate:function(b,z){z*=this.timeScale;var k=z/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var $=this.getProcessors(),J=this.alive,j=this.dead,q=0,_=[],tt=J.length;for(q=0;q<tt;q++){var et=J[q];et.update(z,k,$)&&_.push({index:q,particle:et})}if(tt=_.length,tt>0){var at=this.deathCallback,ot=this.deathCallbackScope;for(q=tt-1;q>=0;q--){var nt=_[q];J.splice(nt.index,1),j.push(nt.particle),at&&at.call(ot,nt.particle),nt.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&J.length===0&&(this.completeFlag=0,this.emit(i.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=z;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=z,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(b){for(var z=this.getWorldTransformMatrix(),k=this.alive,$=k.length,J=[],j=0;j<$;j++){var q=k[j];L(b,q.getBounds(z))&&J.push(q)}return J},getBounds:function(b,z,k,$){b===void 0&&(b=0),z===void 0&&(z=0),k===void 0&&(k=1e3/60),$===void 0&&($=new I);var J=this.getWorldTransformMatrix(),j,q,_=this.alive,tt=!1;if($.setTo(0,0,0,0),z>0){var et=0;for(this.skipping=!0;et<Math.abs(z);){for(this.preUpdate(0,k),j=0;j<_.length;j++)q=_[j].getBounds(J),tt?E($,q):(tt=!0,r(q,$));et+=k}this.skipping=!1}else for(j=0;j<_.length;j++)q=_[j].getBounds(J),tt?E($,q):(tt=!0,r(q,$));return b>0&&x($,b,b),$},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(b){this.ops.x.onChange(b)}},particleY:{get:function(){return this.ops.y.current},set:function(b){this.ops.y.onChange(b)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(b){this.ops.accelerationX.onChange(b)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(b){this.ops.accelerationY.onChange(b)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(b){this.ops.maxVelocityX.onChange(b)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(b){this.ops.maxVelocityY.onChange(b)}},speed:{get:function(){return this.ops.speedX.current},set:function(b){this.ops.speedX.onChange(b),this.ops.speedY.onChange(b)}},speedX:{get:function(){return this.ops.speedX.current},set:function(b){this.ops.speedX.onChange(b)}},speedY:{get:function(){return this.ops.speedY.current},set:function(b){this.ops.speedY.onChange(b)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(b){this.ops.moveToX.onChange(b)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(b){this.ops.moveToY.onChange(b)}},bounce:{get:function(){return this.ops.bounce.current},set:function(b){this.ops.bounce.onChange(b)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(b){this.ops.scaleX.onChange(b)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(b){this.ops.scaleY.onChange(b)}},particleColor:{get:function(){return this.ops.color.current},set:function(b){this.ops.color.onChange(b)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(b){this.ops.color.setEase(b)}},particleTint:{get:function(){return this.ops.tint.current},set:function(b){this.ops.tint.onChange(b)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(b){this.ops.alpha.onChange(b)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(b){this.ops.lifespan.onChange(b)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(b){this.ops.angle.onChange(b)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(b){this.ops.rotate.onChange(b)}},quantity:{get:function(){return this.ops.quantity.current},set:function(b){this.ops.quantity.onChange(b)}},delay:{get:function(){return this.ops.delay.current},set:function(b){this.ops.delay.onChange(b)}},hold:{get:function(){return this.ops.hold.current},set:function(b){this.ops.hold.onChange(b)}},flowCounter:{get:function(){return this.counters[0]},set:function(b){this.counters[0]=b}},frameCounter:{get:function(){return this.counters[1]},set:function(b){this.counters[1]=b}},animCounter:{get:function(){return this.counters[2]},set:function(b){this.counters[2]=b}},elapsed:{get:function(){return this.counters[3]},set:function(b){this.counters[3]=b}},stopCounter:{get:function(){return this.counters[4]},set:function(b){this.counters[4]=b}},completeFlag:{get:function(){return this.counters[5]},set:function(b){this.counters[5]=b}},zoneIndex:{get:function(){return this.counters[6]},set:function(b){this.counters[6]=b}},zoneTotal:{get:function(){return this.counters[7]},set:function(b){this.counters[7]=b}},currentFrame:{get:function(){return this.counters[8]},set:function(b){this.counters[8]=b}},currentAnim:{get:function(){return this.counters[9]},set:function(b){this.counters[9]=b}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var b,z=this.ops;for(b=0;b<X.length;b++){var k=X[b];z[k].destroy()}for(b=0;b<this.alive.length;b++)this.alive[b].destroy();for(b=0;b<this.dead.length;b++)this.dead[b].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});v.exports=V},9871:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(59996),m=t(61340),a=new m,r=new m,n=new m,e=new m,s=function(h,i,l,u){var d=a,f=r,p=n,g=e;u?(g.loadIdentity(),g.multiply(u),g.translate(i.x,i.y),g.rotate(i.rotation),g.scale(i.scaleX,i.scaleY)):g.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY);var x=h.currentContext,T=l.roundPixels,E=l.alpha,C=i.alpha,R=i.alive,w=R.length,F=i.viewBounds;if(!(!i.visible||w===0||F&&!o(F,l.worldView))){i.sortCallback&&i.depthSort(),l.addToRenderList(i);var I=i.scrollFactorX,L=i.scrollFactorY;x.save(),x.globalCompositeOperation=h.blendModes[i.blendMode];for(var D=0;D<w;D++){var B=R[D],U=B.alpha*C*E;if(!(U<=0||B.scaleX===0||B.scaleY===0)){p.applyITRS(B.x,B.y,B.rotation,B.scaleX,B.scaleY),d.copyFrom(l.matrix),d.multiplyWithOffset(g,-l.scrollX*I,-l.scrollY*L),p.e=B.x,p.f=B.y,d.multiply(p,f);var W=B.frame,K=W.canvasData;if(K.width>0&&K.height>0){var Y=-W.halfWidth,G=-W.halfHeight;x.globalAlpha=U,x.save(),f.setToContext(x),T&&(Y=Math.round(Y),G=Math.round(G)),x.imageSmoothingEnabled=!W.source.scaleMode,x.drawImage(W.source.image,K.x,K.y,K.width,K.height,Y,G,K.width,K.height),x.restore()}}}x.restore()}};v.exports=s},92730:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),m=t(44603),a=t(23568),r=t(95540),n=t(31600);m.register("particles",function(e,s){e===void 0&&(e={});var h=a(e,"key",null),i=r(e,"config",null),l=new n(this.scene,0,0,h);return s!==void 0&&(e.add=s),o(this.scene,l,e),i&&l.setConfig(i),l})},676:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),m=t(31600);o.register("particles",function(a,r,n,e){return a!==void 0&&typeof a=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new m(this.scene,a,r,n,e))})},90668:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),m=o,a=o;m=t(21188),a=t(9871),v.exports={renderWebGL:m,renderCanvas:a}},21188:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(59996),m=t(61340),a=t(70554),r=new m,n=new m,e=new m,s=new m,h=function(i,l,u,d){var f=i.pipelines.set(l.pipeline),p=r,g=n,x=e,T=s;d?(T.loadIdentity(),T.multiply(d),T.translate(l.x,l.y),T.rotate(l.rotation),T.scale(l.scaleX,l.scaleY)):T.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY);var E=a.getTintAppendFloatAlpha,C=u.alpha,R=l.alpha;i.pipelines.preBatch(l);var w=l.alive,F=w.length,I=l.viewBounds;if(!(F===0||I&&!o(I,u.worldView))){l.sortCallback&&l.depthSort(),u.addToRenderList(l),p.copyFrom(u.matrix),p.multiplyWithOffset(T,-u.scrollX*l.scrollFactorX,-u.scrollY*l.scrollFactorY),i.setBlendMode(l.blendMode),l.mask&&(l.mask.preRenderWebGL(i,l,u),i.pipelines.set(l.pipeline));for(var L=l.tintFill,D,B,U=0;U<F;U++){var W=w[U],K=W.alpha*R*C;if(!(K<=0||W.scaleX===0||W.scaleY===0)){x.applyITRS(W.x,W.y,W.rotation,W.scaleX,W.scaleY),x.e=W.x,x.f=W.y,p.multiply(x,g);var Y=W.frame;Y.glTexture!==B&&(B=Y.glTexture,D=f.setGameObject(l,Y));var G=-Y.halfWidth,X=-Y.halfHeight,V=g.setQuad(G,X,G+Y.width,X+Y.height),b=E(W.tint,K);f.shouldFlush(6)&&(f.flush(),D=f.setGameObject(l,Y)),f.batchQuad(l,V[0],V[1],V[2],V[3],V[4],V[5],V[6],V[7],Y.u0,Y.v0,Y.u1,Y.v1,b,b,b,b,L,B,D)}}l.mask&&l.mask.postRenderWebGL(i,u),i.pipelines.postBatch(l)}};v.exports=h},20286:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=new o({initialize:function(r,n,e){r===void 0&&(r=0),n===void 0&&(n=0),e===void 0&&(e=!0),this.emitter,this.x=r,this.y=n,this.active=e},update:function(){},destroy:function(){this.emitter=null}});v.exports=m},9774:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="complete"},812:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="deathzone"},30522:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="explode"},96695:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="start"},18677:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="stop"},20696:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={COMPLETE:t(9774),DEATH_ZONE:t(812),EXPLODE:t(30522),START:t(96695),STOP:t(18677)}},18404:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={EmitterColorOp:t(76472),EmitterOp:t(44777),Events:t(20696),GravityWell:t(24502),Particle:t(56480),ParticleBounds:t(69601),ParticleEmitter:t(31600),ParticleProcessor:t(20286),Zones:t(21024)}},26388:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=new o({initialize:function(r,n){this.source=r,this.killOnEnter=n},willKill:function(a){var r=a.worldPosition,n=this.source.contains(r.x,r.y);return n&&this.killOnEnter||!n&&!this.killOnEnter}});v.exports=m},19909:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=new o({initialize:function(r,n,e,s,h,i){s===void 0&&(s=!1),h===void 0&&(h=!0),i===void 0&&(i=-1),this.source=r,this.points=[],this.quantity=n,this.stepRate=e,this.yoyo=s,this.counter=-1,this.seamless=h,this._length=0,this._direction=0,this.total=i,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var a=this.points[0],r=this.points[this.points.length-1];a.x===r.x&&a.y===r.y&&this.points.pop()}var n=this._length;return this._length=this.points.length,this._length<n&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(a){return this.source=a,this.updateSource()},getPoint:function(a){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var r=this.points[this.counter];r&&(a.x=r.x,a.y=r.y)}});v.exports=m},68875:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(26099),a=new o({initialize:function(n){this.source=n,this._tempVec=new m,this.total=-1},getPoint:function(r){var n=this._tempVec;this.source.getRandomPoint(n),r.x=n.x,r.y=n.y}});v.exports=a},21024:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={DeathZone:t(26388),EdgeZone:t(19909),RandomZone:t(68875)}},1159:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(31401),a=t(68287),r=new o({Extends:a,Mixins:[m.PathFollower],initialize:function(e,s,h,i,l,u){a.call(this,e,h,i,l,u),this.path=s},preUpdate:function(n,e){this.anims.update(n,e),this.pathUpdate(n)}});v.exports=r},90145:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),m=t(1159);o.register("follower",function(a,r,n,e,s){var h=new m(this.scene,a,r,n,e,s);return this.displayList.add(h),this.updateList.add(h),h})},33663:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(9674),m=t(83419),a=t(48803),r=t(90664),n=t(4703),e=t(45650),s=new m({Extends:n,initialize:function(i,l,u,d,f,p,g,x){d||(d="__DEFAULT"),n.call(this,i,l,u,d,f),this.type="Plane",this.anims=new o(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(p,g,x),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(h,i,l){h===void 0&&(h=8),i===void 0&&(i=8),l===void 0&&(l=!1);var u=!1;return l&&(u=!0),this.gridWidth=h,this.gridHeight=i,this.isTiled=l,this.clear(),a({mesh:this,widthSegments:h,heightSegments:i,isOrtho:!1,tile:l,flipY:u}),this},setSizeToFrame:function(h){h===void 0&&(h=!0);var i=this.frame;if(this.setPerspective(this.width/i.width,this.height/i.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!h)return this;var l=this.gridWidth,u=this.gridHeight,d=this.vertices,f=i.u0,p=i.u1,g=i.v0,x=i.v1,T,E,C=0;if(this.isTiled)for(g=i.v1,x=i.v0,E=0;E<u;E++)for(T=0;T<l;T++)d[C++].setUVs(f,x),d[C++].setUVs(f,g),d[C++].setUVs(p,x),d[C++].setUVs(f,g),d[C++].setUVs(p,g),d[C++].setUVs(p,x);else{var R=l+1,w=u+1,F=p-f,I=x-g,L=[];for(E=0;E<w;E++)for(T=0;T<R;T++){var D=f+F*(T/l),B=g+I*(E/u);L.push(D,B)}for(E=0;E<u;E++)for(T=0;T<l;T++){var U=(T+R*E)*2,W=(T+R*(E+1))*2,K=(T+1+R*(E+1))*2,Y=(T+1+R*E)*2;d[C++].setUVs(L[U],L[U+1]),d[C++].setUVs(L[W],L[W+1]),d[C++].setUVs(L[Y],L[Y+1]),d[C++].setUVs(L[W],L[W+1]),d[C++].setUVs(L[K],L[K+1]),d[C++].setUVs(L[Y],L[Y+1])}}return this},setViewHeight:function(h){h===void 0&&(h=this.frame.height);var i=this.fov*(Math.PI/180);this.viewPosition.z=this.height/h/Math.tan(i/2),this.dirtyCache[10]=1},createCheckerboard:function(h,i,l,u,d){h===void 0&&(h=16777215),i===void 0&&(i=255),l===void 0&&(l=255),u===void 0&&(u=255),d===void 0&&(d=128);for(var f=r(h),p=r(i),g=[],x=0;x<16;x++)for(var T=0;T<16;T++)x<8&&T<8||x>7&&T>7?g.push(f.r,f.g,f.b,l):g.push(p.r,p.g,p.b,u);var E=this.scene.sys.textures.addUint8Array(e(),new Uint8Array(g),16,16);return this.removeCheckerboard(),this.setTexture(E),this.setSizeToFrame(),this.setViewHeight(d),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(h,i){return this.anims.play(h,i)},playReverse:function(h,i){return this.anims.playReverse(h,i)},playAfterDelay:function(h,i){return this.anims.playAfterDelay(h,i)},playAfterRepeat:function(h,i){return this.anims.playAfterRepeat(h,i)},stop:function(){return this.anims.stop()},stopAfterDelay:function(h){return this.anims.stopAfterDelay(h)},stopAfterRepeat:function(h){return this.anims.stopAfterRepeat(h)},stopOnFrame:function(h){return this.anims.stopOnFrame(h)},preUpdate:function(h,i){n.prototype.preUpdate.call(this,h,i),this.anims.update(h,i)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});v.exports=s},56015:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),m=t(13059),a=t(44603),r=t(23568),n=t(35154),e=t(33663);a.register("plane",function(s,h){s===void 0&&(s={});var i=r(s,"key",null),l=r(s,"frame",null),u=n(s,"width",8),d=n(s,"height",8),f=n(s,"tile",!1),p=new e(this.scene,0,0,i,l,u,d,f);h!==void 0&&(s.add=h);var g=n(s,"checkerboard",null);if(g){var x=n(g,"color1",16777215),T=n(g,"color2",255),E=n(g,"alpha1",255),C=n(g,"alpha2",255),R=n(g,"height",128);p.createCheckerboard(x,T,E,C,R)}return o(this.scene,p,s),m(p,s),p})},30985:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(33663),m=t(39429);m.register("plane",function(a,r,n,e,s,h,i){return this.displayList.add(new o(this.scene,a,r,n,e,s,h,i))})},80321:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(31401),a=t(95643),r=t(30100),n=t(36060),e=t(67277),s=new o({Extends:a,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.Mask,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Transform,m.Visible,e],initialize:function(i,l,u,d,f,p,g){d===void 0&&(d=16777215),f===void 0&&(f=128),p===void 0&&(p=1),g===void 0&&(g=.1),a.call(this,i,"PointLight"),this.initPipeline(n.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(l,u),this.color=r(d),this.intensity=p,this.attenuation=g,this.width=f*2,this.height=f*2,this._radius=f},radius:{get:function(){return this._radius},set:function(h){this._radius=h,this.width=h*2,this.height=h*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});v.exports=s},39829:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),m=t(44603),a=t(23568),r=t(80321);m.register("pointlight",function(n,e){n===void 0&&(n={});var s=a(n,"color",16777215),h=a(n,"radius",128),i=a(n,"intensity",1),l=a(n,"attenuation",.1),u=new r(this.scene,0,0,s,h,i,l);return e!==void 0&&(n.add=e),o(this.scene,u,n),u})},71255:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),m=t(80321);o.register("pointlight",function(a,r,n,e,s,h){return this.displayList.add(new m(this.scene,a,r,n,e,s,h))})},67277:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),m=o,a=o;m=t(57787),v.exports={renderWebGL:m,renderCanvas:a}},57787:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),m=function(a,r,n,e){n.addToRenderList(r);var s=a.pipelines.set(r.pipeline),h=o(r,n,e).calc,i=r.width,l=r.height,u=-r._radius,d=-r._radius,f=u+i,p=d+l,g=h.getX(0,0),x=h.getY(0,0),T=h.getX(u,d),E=h.getY(u,d),C=h.getX(u,p),R=h.getY(u,p),w=h.getX(f,p),F=h.getY(f,p),I=h.getX(f,d),L=h.getY(f,d);a.pipelines.preBatch(r),s.batchPointLight(r,n,T,E,C,R,w,F,I,L,g,x),a.pipelines.postBatch(r)};v.exports=m},591:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(81320),a=t(88571),r=new o({Extends:a,initialize:function(e,s,h,i,l,u){s===void 0&&(s=0),h===void 0&&(h=0),i===void 0&&(i=32),l===void 0&&(l=32),u===void 0&&(u=!0);var d=new m(e.sys.textures,"",i,l,u);a.call(this,e,s,h,d),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(n,e){this.width=n,this.height=e,this.updateDisplayOrigin();var s=this.input;return s&&!s.customHitArea&&(s.hitArea.width=n,s.hitArea.height=e),this},resize:function(n,e,s){return this.texture.setSize(n,e,s),this.setSize(this.texture.width,this.texture.height),this},saveTexture:function(n){var e=this.texture;return e.key=n,e.manager.addDynamicTexture(e)&&(this._saved=!0),e},fill:function(n,e,s,h,i,l){return this.texture.fill(n,e,s,h,i,l),this},clear:function(){return this.texture.clear(),this},stamp:function(n,e,s,h,i){return this.texture.stamp(n,e,s,h,i),this},erase:function(n,e,s){return this.texture.erase(n,e,s),this},draw:function(n,e,s,h,i){return this.texture.draw(n,e,s,h,i),this},drawFrame:function(n,e,s,h,i,l){return this.texture.drawFrame(n,e,s,h,i,l),this},repeat:function(n,e,s,h,i,l,u,d,f){return this.texture.repeat(n,e,s,h,i,l,u,d,f),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(n,e,s,h,i){return this.texture.batchDraw(n,e,s,h,i),this},batchDrawFrame:function(n,e,s,h,i,l){return this.texture.batchDrawFrame(n,e,s,h,i,l),this},endDraw:function(n){return this.texture.endDraw(n),this},snapshotArea:function(n,e,s,h,i,l,u){return this.texture.snapshotArea(n,e,s,h,i,l,u),this},snapshot:function(n,e,s){return this.snapshotArea(0,0,this.width,this.height,n,e,s)},snapshotPixel:function(n,e,s){return this.snapshotArea(n,e,1,1,s,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});v.exports=r},34495:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),m=t(44603),a=t(23568),r=t(591);m.register("renderTexture",function(n,e){n===void 0&&(n={});var s=a(n,"x",0),h=a(n,"y",0),i=a(n,"width",32),l=a(n,"height",32),u=new r(this.scene,s,h,i,l);return e!==void 0&&(n.add=e),o(this.scene,u,n),u})},60505:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),m=t(591);o.register("renderTexture",function(a,r,n,e){return this.displayList.add(new m(this.scene,a,r,n,e))})},77757:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(9674),m=t(83419),a=t(31401),r=t(95643),n=t(36060),e=t(38745),s=t(26099),h=new m({Extends:r,Mixins:[a.AlphaSingle,a.BlendMode,a.Depth,a.Flip,a.Mask,a.Pipeline,a.PostPipeline,a.Size,a.Texture,a.Transform,a.Visible,a.ScrollFactor,e],initialize:function(l,u,d,f,p,g,x,T,E){f===void 0&&(f="__DEFAULT"),g===void 0&&(g=2),x===void 0&&(x=!0),r.call(this,l,"Rope"),this.anims=new o(this),this.points=g,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=f==="__DEFAULT",this.dirty=!1,this.horizontal=x,this._flipX=!1,this._flipY=!1,this._perp=new s,this.debugCallback=null,this.debugGraphic=null,this.setTexture(f,p),this.setPosition(u,d),this.setSizeToFrame(),this.initPipeline(n.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(g)&&this.resizeArrays(g.length),this.setPoints(g,T,E),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(i,l){var u=this.anims.currentFrame;this.anims.update(i,l),this.anims.currentFrame!==u&&(this.updateUVs(),this.updateVertices())},play:function(i,l,u){return this.anims.play(i,l,u),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(i,l,u){return i===void 0&&(i=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(i,l,u))},setVertical:function(i,l,u){return i===void 0&&(i=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(i,l,u)):this},setTintFill:function(i){return i===void 0&&(i=!1),this.tintFill=i,this},setAlphas:function(i,l){var u=this.points.length;if(u<1)return this;var d=this.alphas;i===void 0?i=[1]:!Array.isArray(i)&&l===void 0&&(i=[i]);var f,p=0;if(l!==void 0)for(f=0;f<u;f++)p=f*2,d[p]=i,d[p+1]=l;else if(i.length===u)for(f=0;f<u;f++)p=f*2,d[p]=i[f],d[p+1]=i[f];else{var g=i[0];for(f=0;f<u;f++)p=f*2,i.length>p&&(g=i[p]),d[p]=g,i.length>p+1&&(g=i[p+1]),d[p+1]=g}return this},setColors:function(i){var l=this.points.length;if(l<1)return this;var u=this.colors;i===void 0?i=[16777215]:Array.isArray(i)||(i=[i]);var d,f=0;if(i.length===l)for(d=0;d<l;d++)f=d*2,u[f]=i[d],u[f+1]=i[d];else{var p=i[0];for(d=0;d<l;d++)f=d*2,i.length>f&&(p=i[f]),u[f]=p,i.length>f+1&&(p=i[f+1]),u[f+1]=p}return this},setPoints:function(i,l,u){if(i===void 0&&(i=2),typeof i=="number"){var d=i;d<2&&(d=2),i=[];var f,p,g;if(this.horizontal)for(g=-this.frame.halfWidth,p=this.frame.width/(d-1),f=0;f<d;f++)i.push({x:g+f*p,y:0});else for(g=-this.frame.halfHeight,p=this.frame.height/(d-1),f=0;f<d;f++)i.push({x:0,y:g+f*p})}var x=i.length,T=this.points.length;return x<1?(console.warn("Rope: Not enough points given"),this):(x===1&&(i.unshift({x:0,y:0}),x++),T!==x&&this.resizeArrays(x),this.dirty=!0,this.points=i,this.updateUVs(),l!=null&&this.setColors(l),u!=null&&this.setAlphas(u),this)},updateUVs:function(){for(var i=this.uv,l=this.points.length,u=this.frame.u0,d=this.frame.v0,f=this.frame.u1,p=this.frame.v1,g=(f-u)/(l-1),x=(p-d)/(l-1),T=0;T<l;T++){var E=T*4,C,R,w,F;this.horizontal?(this._flipX?(C=f-T*g,w=f-T*g):(C=u+T*g,w=u+T*g),this._flipY?(R=p,F=d):(R=d,F=p)):(this._flipX?(C=u,w=f):(C=f,w=u),this._flipY?(R=p-T*x,F=p-T*x):(R=d+T*x,F=d+T*x)),i[E+0]=C,i[E+1]=R,i[E+2]=w,i[E+3]=F}return this},resizeArrays:function(i){var l=this.colors,u=this.alphas;this.vertices=new Float32Array(i*4),this.uv=new Float32Array(i*4),l=new Uint32Array(i*2),u=new Float32Array(i*2);for(var d=0;d<i*2;d++)l[d]=16777215,u[d]=1;return this.colors=l,this.alphas=u,this.dirty=!0,this},updateVertices:function(){var i=this._perp,l=this.points,u=this.vertices,d=l.length;if(this.dirty=!1,!(d<1)){for(var f,p=l[0],g=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,x=0;x<d;x++){var T=l[x],E=x*4;x<d-1?f=l[x+1]:f=T,i.x=f.y-p.y,i.y=-(f.x-p.x);var C=i.length();i.x/=C,i.y/=C,i.x*=g,i.y*=g,u[E]=T.x+i.x,u[E+1]=T.y+i.y,u[E+2]=T.x-i.x,u[E+3]=T.y-i.y,p=T}return this}},setDebug:function(i,l){return this.debugGraphic=i,!i&&!l?this.debugCallback=null:l?this.debugCallback=l:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(i,l,u){var d=i.debugGraphic,f=u[0],p=u[1],g=u[2],x=u[3];d.lineBetween(f,p,g,x);for(var T=4;T<l;T+=4){var E=u[T+0],C=u[T+1],R=u[T+2],w=u[T+3];d.lineBetween(f,p,E,C),d.lineBetween(g,x,R,w),d.lineBetween(g,x,E,C),d.lineBetween(E,C,R,w),f=E,p=C,g=R,x=w}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(i){return this._flipX=i,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(i){return this._flipY=i,this.updateUVs()}}});v.exports=h},95262:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};v.exports=S},26209:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),m=t(44603),a=t(23568),r=t(35154),n=t(77757);m.register("rope",function(e,s){e===void 0&&(e={});var h=a(e,"key",null),i=a(e,"frame",null),l=a(e,"horizontal",!0),u=r(e,"points",void 0),d=r(e,"colors",void 0),f=r(e,"alphas",void 0),p=new n(this.scene,0,0,h,i,u,l,d,f);return s!==void 0&&(e.add=s),o(this.scene,p,e),p})},96819:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(77757),m=t(39429);m.register("rope",function(a,r,n,e,s,h,i,l){return this.displayList.add(new o(this.scene,a,r,n,e,s,h,i,l))})},38745:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),m=o,a=o;m=t(20439),a=t(95262),v.exports={renderWebGL:m,renderCanvas:a}},20439:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),m=t(70554),a=function(r,n,e,s){e.addToRenderList(n);var h=r.pipelines.set(n.pipeline,n),i=o(n,e,s).calc,l=n.vertices,u=n.uv,d=n.colors,f=n.alphas,p=n.alpha,g=m.getTintAppendFloatAlpha,x=e.roundPixels,T=l.length,E=Math.floor(T*.5);h.flush(),r.pipelines.preBatch(n);var C=h.setGameObject(n),R=h.vertexViewF32,w=h.vertexViewU32,F=h.vertexCount*h.currentShader.vertexComponentCount-1,I=0,L=n.tintFill;n.dirty&&n.updateVertices();for(var D=n.debugCallback,B=[],U=0;U<T;U+=2){var W=l[U+0],K=l[U+1],Y=W*i.a+K*i.c+i.e,G=W*i.b+K*i.d+i.f;x&&(Y=Math.round(Y),G=Math.round(G)),R[++F]=Y,R[++F]=G,R[++F]=u[U+0],R[++F]=u[U+1],R[++F]=C,R[++F]=L,w[++F]=g(d[I],e.alpha*(f[I]*p)),I++,D&&(B[U+0]=Y,B[U+1]=G)}D&&D.call(n,n,T,B),h.vertexCount+=E,h.currentBatch.count=h.vertexCount-h.currentBatch.start,r.pipelines.postBatch(n)};v.exports=a},20071:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(31401),a=t(95643),r=t(95540),n=t(79291),e=t(61622),s=t(25479),h=t(61340),i=t(95428),l=t(92503),u=new o({Extends:a,Mixins:[m.ComputedSize,m.Depth,m.GetBounds,m.Mask,m.Origin,m.ScrollFactor,m.Transform,m.Visible,s],initialize:function(f,p,g,x,T,E,C,R){g===void 0&&(g=0),x===void 0&&(x=0),T===void 0&&(T=128),E===void 0&&(E=128),a.call(this,f,"Shader"),this.blendMode=-1,this.shader;var w=f.sys.renderer;this.renderer=w,this.gl=w.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=w.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new h,this._tempMatrix2=new h,this._tempMatrix3=new h,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=w.width,this._rendererHeight=w.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(g,x),this.setSize(T,E),this.setOrigin(.5,.5),this.setShader(p,C,R),this.renderer.on(l.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(d){return this.renderToTexture?!0:!(a.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&d.id)},setRenderToTexture:function(d,f){if(!this.renderToTexture){var p=this.width,g=this.height,x=this.renderer;this.glTexture=x.createTextureFromSource(null,p,g,0),this.framebuffer=x.createFramebuffer(p,g,this.glTexture,!1),this._rendererWidth=p,this._rendererHeight=g,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),d&&(this.texture=this.scene.sys.textures.addGLTexture(d,this.glTexture))}return this.shader&&(x.pipelines.clear(),this.load(),this.flush(),x.pipelines.rebind()),this},setShader:function(d,f,p){if(this.renderer.contextLost)return this._deferSetShader={key:d,textures:f,textureData:p},this;if(f===void 0&&(f=[]),typeof d=="string"){var g=this.scene.sys.cache.shader;if(!g.has(d))return console.warn("Shader missing: "+d),this;this.shader=g.get(d)}else this.shader=d;var x=this.gl,T=this.renderer;this.program&&T.deleteProgram(this.program);var E=T.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);x.uniformMatrix4fv(x.getUniformLocation(E.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),x.uniformMatrix4fv(x.getUniformLocation(E.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),x.uniform2f(x.getUniformLocation(E.webGLProgram,"uResolution"),this.width,this.height),this.program=E;var C=new Date,R={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[C.getFullYear(),C.getMonth(),C.getDate(),C.getHours()*60*60+C.getMinutes()*60+C.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=n(!0,{},this.shader.uniforms,R):this.uniforms=R;for(var w=0;w<4;w++)f[w]&&this.setSampler2D("iChannel"+w,f[w],w,p);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(d){return this.pointer=d,this},projOrtho:function(d,f,p,g){if(this.renderer.contextLost){this._deferProjOrtho={left:d,right:f,bottom:p,top:g};return}var x=-1e3,T=1e3,E=1/(d-f),C=1/(p-g),R=1/(x-T),w=this.projectionMatrix;w[0]=-2*E,w[5]=-2*C,w[10]=2*R,w[12]=(d+f)*E,w[13]=(g+p)*C,w[14]=(T+x)*R;var F=this.program,I=this.gl,L=this.renderer;L.setProgram(F),I.uniformMatrix4fv(I.getUniformLocation(F.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=f,this._rendererHeight=p},initUniforms:function(){var d=this.renderer.glFuncMap,f=this.program;this._textureCount=0;for(var p in this.uniforms){var g=this.uniforms[p],x=g.type,T=d[x];g.uniformLocation=this.renderer.createUniformLocation(f,p),x!=="sampler2D"&&(g.glMatrix=T.matrix,g.glValueLength=T.length,g.glFunc=T.func)}},setSampler2DBuffer:function(d,f,p,g,x,T){x===void 0&&(x=0),T===void 0&&(T={});var E=this.uniforms[d];return E.value=f,T.width=p,T.height=g,E.textureData=T,this._textureCount=x,this.initSampler2D(E),this},setSampler2D:function(d,f,p,g){p===void 0&&(p=0);var x=this.scene.sys.textures;if(x.exists(f)){var T=x.getFrame(f);if(T.glTexture&&T.glTexture.isRenderTexture)return this.setSampler2DBuffer(d,T.glTexture,T.width,T.height,p,g);var E=this.uniforms[d],C=T.source;E.textureKey=f,E.source=C.image,E.value=T.glTexture,C.isGLTexture&&(g||(g={}),g.width=C.width,g.height=C.height),g&&(E.textureData=g),this._textureCount=p,this.initSampler2D(E)}return this},setUniform:function(d,f){return e(this.uniforms,d,f),this},getUniform:function(d){return r(this.uniforms,d,null)},setChannel0:function(d,f){return this.setSampler2D("iChannel0",d,0,f)},setChannel1:function(d,f){return this.setSampler2D("iChannel1",d,1,f)},setChannel2:function(d,f){return this.setSampler2D("iChannel2",d,2,f)},setChannel3:function(d,f){return this.setSampler2D("iChannel3",d,3,f)},initSampler2D:function(d){if(d.value){var f=d.textureData;if(f&&!d.value.isRenderTexture){var p=this.gl,g=d.value,x=p[r(f,"magFilter","linear").toUpperCase()],T=p[r(f,"minFilter","linear").toUpperCase()],E=p[r(f,"wrapS","repeat").toUpperCase()],C=p[r(f,"wrapT","repeat").toUpperCase()],R=p[r(f,"format","rgba").toUpperCase()],w=r(f,"flipY",!1),F=r(f,"width",g.width),I=r(f,"height",g.height),L=r(f,"source",g.pixels);f.repeat&&(E=p.REPEAT,C=p.REPEAT),f.width&&(L=null),g.update(L,F,I,w,E,C,T,x,R)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var d=this.gl,f=this.uniforms,p,g,x,T,E,C=0;for(var R in f)p=f[R],x=p.glFunc,g=p.glValueLength,T=p.uniformLocation,E=p.value,E!==null&&(g===1?p.glMatrix?x.call(d,T.webGLUniformLocation,p.transpose,E):x.call(d,T.webGLUniformLocation,E):g===2?x.call(d,T.webGLUniformLocation,E.x,E.y):g===3?x.call(d,T.webGLUniformLocation,E.x,E.y,E.z):g===4?x.call(d,T.webGLUniformLocation,E.x,E.y,E.z,E.w):p.type==="sampler2D"&&(d.activeTexture(d.TEXTURE0+C),d.bindTexture(d.TEXTURE_2D,E.webGLTexture),d.uniform1i(T.webGLUniformLocation,C),C++))},load:function(d){var f=this.gl,p=this.width,g=this.height,x=this.renderer,T=this.program,E=this.viewMatrix;if(!this.renderToTexture){var C=-this._displayOriginX,R=-this._displayOriginY;E[0]=d[0],E[1]=d[1],E[4]=d[2],E[5]=d[3],E[8]=d[4],E[9]=d[5],E[12]=E[0]*C+E[4]*R,E[13]=E[1]*C+E[5]*R}f.useProgram(T.webGLProgram),f.uniformMatrix4fv(f.getUniformLocation(T.webGLProgram,"uViewMatrix"),!1,E),f.uniformMatrix4fv(f.getUniformLocation(T.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),f.uniform2f(f.getUniformLocation(T.webGLProgram,"uResolution"),this.width,this.height);var w=this.uniforms,F=w.resolution;F.value.x=p,F.value.y=g,w.time.value=x.game.loop.getDuration();var I=this.pointer;if(I){var L=w.mouse,D=I.x/p,B=1-I.y/g;L.value.x=D.toFixed(2),L.value.y=B.toFixed(2)}this.syncUniforms()},flush:function(){var d=this.width,f=this.height,p=this.program,g=this.gl,x=this.vertexBuffer,T=this.renderer,E=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(T.setFramebuffer(this.framebuffer),g.clearColor(0,0,0,0),g.clear(g.COLOR_BUFFER_BIT)),g.bindBuffer(g.ARRAY_BUFFER,x.webGLBuffer);var C=g.getAttribLocation(p.webGLProgram,"inPosition");C!==-1&&(g.enableVertexAttribArray(C),g.vertexAttribPointer(C,2,g.FLOAT,!1,E,0));var R=this.vertexViewF32;R[3]=f,R[4]=d,R[5]=f,R[8]=d,R[9]=f,R[10]=d;var w=6;g.bufferSubData(g.ARRAY_BUFFER,0,this.bytes.subarray(0,w*E)),g.drawArrays(g.TRIANGLES,0,w),this.renderToTexture&&T.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var d=this._deferSetShader.key,f=this._deferSetShader.textures,p=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(d,f,p)}if(this._deferProjOrtho!==null){var g=this._deferProjOrtho.left,x=this._deferProjOrtho.right,T=this._deferProjOrtho.bottom,E=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(g,x,T,E)}},preDestroy:function(){var d=this.renderer;d.off(l.RESTORE_WEBGL,this.onContextRestored,this),d.deleteProgram(this.program),d.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(d.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),i(this.uniforms,function(f){d.deleteUniformLocation(f.uniformLocation),f.uniformLocation=null})}});v.exports=u},80464:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};v.exports=S},54935:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),m=t(44603),a=t(23568),r=t(20071);m.register("shader",function(n,e){n===void 0&&(n={});var s=a(n,"key",null),h=a(n,"x",0),i=a(n,"y",0),l=a(n,"width",128),u=a(n,"height",128),d=new r(this.scene,s,h,i,l,u);return e!==void 0&&(n.add=e),o(this.scene,d,n),d})},74177:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20071),m=t(39429);m.register("shader",function(a,r,n,e,s,h,i){return this.displayList.add(new o(this.scene,a,r,n,e,s,h,i))})},25479:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),m=o,a=o;m=t(19257),a=t(80464),v.exports={renderWebGL:m,renderCanvas:a}},19257:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),m=function(a,r,n,e){if(r.shader){if(n.addToRenderList(r),a.pipelines.clear(),r.renderToTexture)r.load(),r.flush();else{var s=o(r,n,e).calc;(a.width!==r._rendererWidth||a.height!==r._rendererHeight)&&r.projOrtho(0,a.width,a.height,0),r.load(s.matrix),r.flush()}a.pipelines.rebind()}};v.exports=m},10441:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70554),m=function(a,r,n,e,s,h){for(var i=o.getTintAppendFloatAlpha(n.fillColor,n.fillAlpha*e),l=n.pathData,u=n.pathIndexes,d=0;d<u.length;d+=3){var f=u[d]*2,p=u[d+1]*2,g=u[d+2]*2,x=l[f+0]-s,T=l[f+1]-h,E=l[p+0]-s,C=l[p+1]-h,R=l[g+0]-s,w=l[g+1]-h,F=r.getX(x,T),I=r.getY(x,T),L=r.getX(E,C),D=r.getY(E,C),B=r.getX(R,w),U=r.getY(R,w);a.batchTri(n,F,I,L,D,B,U,0,0,1,1,i,i,i,2)}};v.exports=m},65960:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a){var r=m||o.fillColor,n=a||o.fillAlpha,e=(r&16711680)>>>16,s=(r&65280)>>>8,h=r&255;t.fillStyle="rgba("+e+","+s+","+h+","+n+")"};v.exports=S},75177:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a){var r=m||o.strokeColor,n=a||o.strokeAlpha,e=(r&16711680)>>>16,s=(r&65280)>>>8,h=r&255;t.strokeStyle="rgba("+e+","+s+","+h+","+n+")",t.lineWidth=o.lineWidth};v.exports=S},17803:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(31401),a=t(95643),r=t(23031),n=new o({Extends:a,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.GetBounds,m.Mask,m.Origin,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Transform,m.Visible],initialize:function(s,h,i){h===void 0&&(h="Shape"),a.call(this,s,h),this.geom=i,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new r,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(e,s){return s===void 0&&(s=1),e===void 0?this.isFilled=!1:(this.fillColor=e,this.fillAlpha=s,this.isFilled=!0),this},setStrokeStyle:function(e,s,h){return h===void 0&&(h=1),e===void 0?this.isStroked=!1:(this.lineWidth=e,this.strokeColor=s,this.strokeAlpha=h,this.isStroked=!0),this},setClosePath:function(e){return this.closePath=e,this},setSize:function(e,s){return this.width=e,this.height=s,this},setDisplaySize:function(e,s){return this.displayWidth=e,this.displayHeight=s,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}}});v.exports=n},34682:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70554),m=function(a,r,n,e,s){var h=a.strokeTint,i=o.getTintAppendFloatAlpha(r.strokeColor,r.strokeAlpha*n);h.TL=i,h.TR=i,h.BL=i,h.BR=i;var l=r.pathData,u=l.length-1,d=r.lineWidth,f=d/2,p=l[0]-e,g=l[1]-s;r.closePath||(u-=2);for(var x=2;x<u;x+=2){var T=l[x]-e,E=l[x+1]-s;a.batchLine(p,g,T,E,f,f,d,x-2,r.closePath?x===u-1:!1),p=T,g=E}};v.exports=m},23629:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(13609),m=t(83419),a=t(39506),r=t(94811),n=t(96503),e=t(36383),s=t(17803),h=new m({Extends:s,Mixins:[o],initialize:function(l,u,d,f,p,g,x,T,E){u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=128),p===void 0&&(p=0),g===void 0&&(g=360),x===void 0&&(x=!1),s.call(this,l,"Arc",new n(0,0,f)),this._startAngle=p,this._endAngle=g,this._anticlockwise=x,this._iterations=.01,this.setPosition(u,d);var C=this.geom.radius*2;this.setSize(C,C),T!==void 0&&this.setFillStyle(T,E),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(i){this._iterations=i,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(i){this.geom.radius=i;var l=i*2;this.setSize(l,l),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(i){this._startAngle=i,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(i){this._endAngle=i,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(i){this._anticlockwise=i,this.updateData()}},setRadius:function(i){return this.radius=i,this},setIterations:function(i){return i===void 0&&(i=.01),this.iterations=i,this},setStartAngle:function(i,l){return this._startAngle=i,l!==void 0&&(this._anticlockwise=l),this.updateData()},setEndAngle:function(i,l){return this._endAngle=i,l!==void 0&&(this._anticlockwise=l),this.updateData()},updateData:function(){var i=this._iterations,l=i,u=this.geom.radius,d=a(this._startAngle),f=a(this._endAngle),p=this._anticlockwise,g=u,x=u;f-=d,p?f<-e.PI2?f=-e.PI2:f>0&&(f=-e.PI2+f%e.PI2):f>e.PI2?f=e.PI2:f<0&&(f=e.PI2+f%e.PI2);for(var T=[g+Math.cos(d)*u,x+Math.sin(d)*u],E;l<1;)E=f*l+d,T.push(g+Math.cos(E)*u,x+Math.sin(E)*u),l+=i;return E=f+d,T.push(g+Math.cos(E)*u,x+Math.sin(E)*u),T.push(g+Math.cos(d)*u,x+Math.sin(d)*u),this.pathIndexes=r(T),this.pathData=T,this}});v.exports=h},42542:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39506),m=t(65960),a=t(75177),r=t(20926),n=function(e,s,h,i){h.addToRenderList(s);var l=e.currentContext;if(r(e,l,s,h,i)){var u=s.radius;l.beginPath(),l.arc(u-s.originX*(u*2),u-s.originY*(u*2),u,o(s._startAngle),o(s._endAngle),s.anticlockwise),s.closePath&&l.closePath(),s.isFilled&&(m(l,s),l.fill()),s.isStroked&&(a(l,s),l.stroke()),l.restore()}};v.exports=n},42563:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(23629),m=t(39429);m.register("arc",function(a,r,n,e,s,h,i,l){return this.displayList.add(new o(this.scene,a,r,n,e,s,h,i,l))}),m.register("circle",function(a,r,n,e,s){return this.displayList.add(new o(this.scene,a,r,n,0,360,!1,e,s))})},13609:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),m=o,a=o;m=t(41447),a=t(42542),v.exports={renderWebGL:m,renderCanvas:a}},41447:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),m=t(10441),a=t(34682),r=function(n,e,s,h){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),l=o(e,s,h),u=i.calcMatrix.copyFrom(l.calc),d=e._displayOriginX,f=e._displayOriginY,p=s.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&m(i,u,e,p,d,f),e.isStroked&&a(i,e,p,d,f),n.pipelines.postBatch(e)};v.exports=r},89:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(33141),a=t(94811),r=t(87841),n=t(17803),e=new o({Extends:n,Mixins:[m],initialize:function(h,i,l,u,d,f){i===void 0&&(i=0),l===void 0&&(l=0),n.call(this,h,"Curve",u),this._smoothness=32,this._curveBounds=new r,this.closePath=!1,this.setPosition(i,l),d!==void 0&&this.setFillStyle(d,f),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(s){this._smoothness=s,this.updateData()}},setSmoothness:function(s){return this._smoothness=s,this.updateData()},updateData:function(){var s=this._curveBounds,h=this._smoothness;this.geom.getBounds(s,h),this.setSize(s.width,s.height),this.updateDisplayOrigin();for(var i=[],l=this.geom.getPoints(h),u=0;u<l.length;u++)i.push(l[u].x,l[u].y);return i.push(l[0].x,l[0].y),this.pathIndexes=a(i),this.pathData=i,this}});v.exports=e},3170:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),m=t(75177),a=t(20926),r=function(n,e,s,h){s.addToRenderList(e);var i=n.currentContext;if(a(n,i,e,s,h)){var l=e._displayOriginX+e._curveBounds.x,u=e._displayOriginY+e._curveBounds.y,d=e.pathData,f=d.length-1,p=d[0]-l,g=d[1]-u;i.beginPath(),i.moveTo(p,g),e.closePath||(f-=2);for(var x=2;x<f;x+=2){var T=d[x]-l,E=d[x+1]-u;i.lineTo(T,E)}e.closePath&&i.closePath(),e.isFilled&&(o(i,e),i.fill()),e.isStroked&&(m(i,e),i.stroke()),i.restore()}};v.exports=r},40511:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),m=t(89);o.register("curve",function(a,r,n,e,s){return this.displayList.add(new m(this.scene,a,r,n,e,s))})},33141:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),m=o,a=o;m=t(53987),a=t(3170),v.exports={renderWebGL:m,renderCanvas:a}},53987:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10441),m=t(91296),a=t(34682),r=function(n,e,s,h){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),l=m(e,s,h),u=i.calcMatrix.copyFrom(l.calc),d=e._displayOriginX+e._curveBounds.x,f=e._displayOriginY+e._curveBounds.y,p=s.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&o(i,u,e,p,d,f),e.isStroked&&a(i,e,p,d,f),n.pipelines.postBatch(e)};v.exports=r},19921:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(94811),a=t(54205),r=t(8497),n=t(17803),e=new o({Extends:n,Mixins:[a],initialize:function(h,i,l,u,d,f,p){i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=128),d===void 0&&(d=128),n.call(this,h,"Ellipse",new r(u/2,d/2,u,d)),this._smoothness=64,this.setPosition(i,l),this.width=u,this.height=d,f!==void 0&&this.setFillStyle(f,p),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(s){this._smoothness=s,this.updateData()}},setSize:function(s,h){return this.width=s,this.height=h,this.geom.setPosition(s/2,h/2),this.geom.setSize(s,h),this.updateDisplayOrigin(),this.updateData()},setSmoothness:function(s){return this._smoothness=s,this.updateData()},updateData:function(){for(var s=[],h=this.geom.getPoints(this._smoothness),i=0;i<h.length;i++)s.push(h[i].x,h[i].y);return s.push(h[0].x,h[0].y),this.pathIndexes=m(s),this.pathData=s,this}});v.exports=e},7930:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),m=t(75177),a=t(20926),r=function(n,e,s,h){s.addToRenderList(e);var i=n.currentContext;if(a(n,i,e,s,h)){var l=e._displayOriginX,u=e._displayOriginY,d=e.pathData,f=d.length-1,p=d[0]-l,g=d[1]-u;i.beginPath(),i.moveTo(p,g),e.closePath||(f-=2);for(var x=2;x<f;x+=2){var T=d[x]-l,E=d[x+1]-u;i.lineTo(T,E)}i.closePath(),e.isFilled&&(o(i,e),i.fill()),e.isStroked&&(m(i,e),i.stroke()),i.restore()}};v.exports=r},1543:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(19921),m=t(39429);m.register("ellipse",function(a,r,n,e,s,h){return this.displayList.add(new o(this.scene,a,r,n,e,s,h))})},54205:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),m=o,a=o;m=t(19467),a=t(7930),v.exports={renderWebGL:m,renderCanvas:a}},19467:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10441),m=t(91296),a=t(34682),r=function(n,e,s,h){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),l=m(e,s,h),u=i.calcMatrix.copyFrom(l.calc),d=e._displayOriginX,f=e._displayOriginY,p=s.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&o(i,u,e,p,d,f),e.isStroked&&a(i,e,p,d,f),n.pipelines.postBatch(e)};v.exports=r},30479:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(17803),a=t(26015),r=new o({Extends:m,Mixins:[a],initialize:function(e,s,h,i,l,u,d,f,p,g,x){s===void 0&&(s=0),h===void 0&&(h=0),i===void 0&&(i=128),l===void 0&&(l=128),u===void 0&&(u=32),d===void 0&&(d=32),m.call(this,e,"Grid",null),this.cellWidth=u,this.cellHeight=d,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(s,h),this.setSize(i,l),this.setFillStyle(f,p),g!==void 0&&this.setOutlineStyle(g,x),this.updateDisplayOrigin()},setFillStyle:function(n,e){return e===void 0&&(e=1),n===void 0?this.showCells=!1:(this.fillColor=n,this.fillAlpha=e,this.showCells=!0),this},setAltFillStyle:function(n,e){return e===void 0&&(e=1),n===void 0?this.showAltCells=!1:(this.altFillColor=n,this.altFillAlpha=e,this.showAltCells=!0),this},setOutlineStyle:function(n,e){return e===void 0&&(e=1),n===void 0?this.showOutline=!1:(this.outlineFillColor=n,this.outlineFillAlpha=e,this.showOutline=!0),this}});v.exports=r},49912:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),m=t(75177),a=t(20926),r=function(n,e,s,h){s.addToRenderList(e);var i=n.currentContext;if(a(n,i,e,s,h)){var l=-e._displayOriginX,u=-e._displayOriginY,d=s.alpha*e.alpha,f=e.width,p=e.height,g=e.cellWidth,x=e.cellHeight,T=Math.ceil(f/g),E=Math.ceil(p/x),C=g,R=x,w=g-(T*g-f),F=x-(E*x-p),I=e.showCells,L=e.showAltCells,D=e.showOutline,B=0,U=0,W=0,K=0,Y=0;if(D&&(C--,R--,w===g&&w--,F===x&&F--),I&&e.fillAlpha>0)for(o(i,e),U=0;U<E;U++)for(L&&(W=U%2),B=0;B<T;B++){if(L&&W){W=0;continue}W++,K=B<T-1?C:w,Y=U<E-1?R:F,i.fillRect(l+B*g,u+U*x,K,Y)}if(L&&e.altFillAlpha>0)for(o(i,e,e.altFillColor,e.altFillAlpha*d),U=0;U<E;U++)for(L&&(W=U%2),B=0;B<T;B++){if(L&&!W){W=1;continue}W=0,K=B<T-1?C:w,Y=U<E-1?R:F,i.fillRect(l+B*g,u+U*x,K,Y)}if(D&&e.outlineFillAlpha>0){for(m(i,e,e.outlineFillColor,e.outlineFillAlpha*d),B=1;B<T;B++){var G=B*g;i.beginPath(),i.moveTo(G+l,u),i.lineTo(G+l,p+u),i.stroke()}for(U=1;U<E;U++){var X=U*x;i.beginPath(),i.moveTo(l,X+u),i.lineTo(l+f,X+u),i.stroke()}}i.restore()}};v.exports=r},34137:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),m=t(30479);o.register("grid",function(a,r,n,e,s,h,i,l,u,d){return this.displayList.add(new m(this.scene,a,r,n,e,s,h,i,l,u,d))})},26015:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),m=o,a=o;m=t(46161),a=t(49912),v.exports={renderWebGL:m,renderCanvas:a}},46161:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),m=t(70554),a=function(r,n,e,s){e.addToRenderList(n);var h=r.pipelines.set(n.pipeline),i=o(n,e,s),l=h.calcMatrix.copyFrom(i.calc);l.translate(-n._displayOriginX,-n._displayOriginY);var u=e.alpha*n.alpha,d=n.width,f=n.height,p=n.cellWidth,g=n.cellHeight,x=Math.ceil(d/p),T=Math.ceil(f/g),E=p,C=g,R=p-(x*p-d),w=g-(T*g-f),F,I,L=n.showCells,D=n.showAltCells,B=n.showOutline,U=0,W=0,K=0,Y=0,G=0;if(B&&(E--,C--,R===p&&R--,w===g&&w--),r.pipelines.preBatch(n),L&&n.fillAlpha>0)for(F=h.fillTint,I=m.getTintAppendFloatAlpha(n.fillColor,n.fillAlpha*u),F.TL=I,F.TR=I,F.BL=I,F.BR=I,W=0;W<T;W++)for(D&&(K=W%2),U=0;U<x;U++){if(D&&K){K=0;continue}K++,Y=U<x-1?E:R,G=W<T-1?C:w,h.batchFillRect(U*p,W*g,Y,G)}if(D&&n.altFillAlpha>0)for(F=h.fillTint,I=m.getTintAppendFloatAlpha(n.altFillColor,n.altFillAlpha*u),F.TL=I,F.TR=I,F.BL=I,F.BR=I,W=0;W<T;W++)for(D&&(K=W%2),U=0;U<x;U++){if(D&&!K){K=1;continue}K=0,Y=U<x-1?E:R,G=W<T-1?C:w,h.batchFillRect(U*p,W*g,Y,G)}if(B&&n.outlineFillAlpha>0){var X=h.strokeTint,V=m.getTintAppendFloatAlpha(n.outlineFillColor,n.outlineFillAlpha*u);for(X.TL=V,X.TR=V,X.BL=V,X.BR=V,U=1;U<x;U++){var b=U*p;h.batchLine(b,0,b,f,1,1,1,0,!1)}for(W=1;W<T;W++){var z=W*g;h.batchLine(0,z,d,z,1,1,1,0,!1)}}r.pipelines.postBatch(n)};v.exports=a},61475:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(99651),m=t(83419),a=t(17803),r=new m({Extends:a,Mixins:[o],initialize:function(e,s,h,i,l,u,d,f){s===void 0&&(s=0),h===void 0&&(h=0),i===void 0&&(i=48),l===void 0&&(l=32),u===void 0&&(u=15658734),d===void 0&&(d=10066329),f===void 0&&(f=13421772),a.call(this,e,"IsoBox",null),this.projection=4,this.fillTop=u,this.fillLeft=d,this.fillRight=f,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(s,h),this.setSize(i,l),this.updateDisplayOrigin()},setProjection:function(n){return this.projection=n,this},setFaces:function(n,e,s){return n===void 0&&(n=!0),e===void 0&&(e=!0),s===void 0&&(s=!0),this.showTop=n,this.showLeft=e,this.showRight=s,this},setFillStyle:function(n,e,s){return this.fillTop=n,this.fillLeft=e,this.fillRight=s,this.isFilled=!0,this}});v.exports=r},11508:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),m=t(20926),a=function(r,n,e,s){e.addToRenderList(n);var h=r.currentContext;if(m(r,h,n,e,s)&&n.isFilled){var i=n.width,l=n.height,u=i/2,d=i/n.projection;n.showTop&&(o(h,n,n.fillTop),h.beginPath(),h.moveTo(-u,-l),h.lineTo(0,-d-l),h.lineTo(u,-l),h.lineTo(u,-1),h.lineTo(0,d-1),h.lineTo(-u,-1),h.lineTo(-u,-l),h.fill()),n.showLeft&&(o(h,n,n.fillLeft),h.beginPath(),h.moveTo(-u,0),h.lineTo(0,d),h.lineTo(0,d-l),h.lineTo(-u,-l),h.lineTo(-u,0),h.fill()),n.showRight&&(o(h,n,n.fillRight),h.beginPath(),h.moveTo(u,0),h.lineTo(0,d),h.lineTo(0,d-l),h.lineTo(u,-l),h.lineTo(u,0),h.fill()),h.restore()}};v.exports=a},3933:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),m=t(61475);o.register("isobox",function(a,r,n,e,s,h,i){return this.displayList.add(new m(this.scene,a,r,n,e,s,h,i))})},99651:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),m=o,a=o;m=t(68149),a=t(11508),v.exports={renderWebGL:m,renderCanvas:a}},68149:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),m=t(70554),a=function(r,n,e,s){e.addToRenderList(n);var h=r.pipelines.set(n.pipeline),i=o(n,e,s),l=h.calcMatrix.copyFrom(i.calc),u=n.width,d=n.height,f=u/2,p=u/n.projection,g=e.alpha*n.alpha;if(n.isFilled){var x,T,E,C,R,w,F,I,L;r.pipelines.preBatch(n),n.showTop&&(x=m.getTintAppendFloatAlpha(n.fillTop,g),T=l.getX(-f,-d),E=l.getY(-f,-d),C=l.getX(0,-p-d),R=l.getY(0,-p-d),w=l.getX(f,-d),F=l.getY(f,-d),I=l.getX(0,p-d),L=l.getY(0,p-d),h.batchQuad(n,T,E,C,R,w,F,I,L,0,0,1,1,x,x,x,x,2)),n.showLeft&&(x=m.getTintAppendFloatAlpha(n.fillLeft,g),T=l.getX(-f,0),E=l.getY(-f,0),C=l.getX(0,p),R=l.getY(0,p),w=l.getX(0,p-d),F=l.getY(0,p-d),I=l.getX(-f,-d),L=l.getY(-f,-d),h.batchQuad(n,T,E,C,R,w,F,I,L,0,0,1,1,x,x,x,x,2)),n.showRight&&(x=m.getTintAppendFloatAlpha(n.fillRight,g),T=l.getX(f,0),E=l.getY(f,0),C=l.getX(0,p),R=l.getY(0,p),w=l.getX(0,p-d),F=l.getY(0,p-d),I=l.getX(f,-d),L=l.getY(f,-d),h.batchQuad(n,T,E,C,R,w,F,I,L,0,0,1,1,x,x,x,x,2)),r.pipelines.postBatch(n)}};v.exports=a},16933:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(60561),a=t(17803),r=new o({Extends:a,Mixins:[m],initialize:function(e,s,h,i,l,u,d,f,p){s===void 0&&(s=0),h===void 0&&(h=0),i===void 0&&(i=48),l===void 0&&(l=32),u===void 0&&(u=!1),d===void 0&&(d=15658734),f===void 0&&(f=10066329),p===void 0&&(p=13421772),a.call(this,e,"IsoTriangle",null),this.projection=4,this.fillTop=d,this.fillLeft=f,this.fillRight=p,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=u,this.isFilled=!0,this.setPosition(s,h),this.setSize(i,l),this.updateDisplayOrigin()},setProjection:function(n){return this.projection=n,this},setReversed:function(n){return this.isReversed=n,this},setFaces:function(n,e,s){return n===void 0&&(n=!0),e===void 0&&(e=!0),s===void 0&&(s=!0),this.showTop=n,this.showLeft=e,this.showRight=s,this},setFillStyle:function(n,e,s){return this.fillTop=n,this.fillLeft=e,this.fillRight=s,this.isFilled=!0,this}});v.exports=r},79590:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),m=t(20926),a=function(r,n,e,s){e.addToRenderList(n);var h=r.currentContext;if(m(r,h,n,e,s)&&n.isFilled){var i=n.width,l=n.height,u=i/2,d=i/n.projection,f=n.isReversed;n.showTop&&f&&(o(h,n,n.fillTop),h.beginPath(),h.moveTo(-u,-l),h.lineTo(0,-d-l),h.lineTo(u,-l),h.lineTo(0,d-l),h.fill()),n.showLeft&&(o(h,n,n.fillLeft),h.beginPath(),f?(h.moveTo(-u,-l),h.lineTo(0,d),h.lineTo(0,d-l)):(h.moveTo(-u,0),h.lineTo(0,d),h.lineTo(0,d-l)),h.fill()),n.showRight&&(o(h,n,n.fillRight),h.beginPath(),f?(h.moveTo(u,-l),h.lineTo(0,d),h.lineTo(0,d-l)):(h.moveTo(u,0),h.lineTo(0,d),h.lineTo(0,d-l)),h.fill()),h.restore()}};v.exports=a},49803:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),m=t(16933);o.register("isotriangle",function(a,r,n,e,s,h,i,l){return this.displayList.add(new m(this.scene,a,r,n,e,s,h,i,l))})},60561:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),m=o,a=o;m=t(51503),a=t(79590),v.exports={renderWebGL:m,renderCanvas:a}},51503:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),m=t(70554),a=function(r,n,e,s){e.addToRenderList(n);var h=r.pipelines.set(n.pipeline),i=o(n,e,s),l=h.calcMatrix.copyFrom(i.calc),u=n.width,d=n.height,f=u/2,p=u/n.projection,g=n.isReversed,x=e.alpha*n.alpha;if(n.isFilled){r.pipelines.preBatch(n);var T,E,C,R,w,F,I;if(n.showTop&&g){T=m.getTintAppendFloatAlpha(n.fillTop,x),E=l.getX(-f,-d),C=l.getY(-f,-d),R=l.getX(0,-p-d),w=l.getY(0,-p-d),F=l.getX(f,-d),I=l.getY(f,-d);var L=l.getX(0,p-d),D=l.getY(0,p-d);h.batchQuad(n,E,C,R,w,F,I,L,D,0,0,1,1,T,T,T,T,2)}n.showLeft&&(T=m.getTintAppendFloatAlpha(n.fillLeft,x),g?(E=l.getX(-f,-d),C=l.getY(-f,-d),R=l.getX(0,p),w=l.getY(0,p),F=l.getX(0,p-d),I=l.getY(0,p-d)):(E=l.getX(-f,0),C=l.getY(-f,0),R=l.getX(0,p),w=l.getY(0,p),F=l.getX(0,p-d),I=l.getY(0,p-d)),h.batchTri(n,E,C,R,w,F,I,0,0,1,1,T,T,T,2)),n.showRight&&(T=m.getTintAppendFloatAlpha(n.fillRight,x),g?(E=l.getX(f,-d),C=l.getY(f,-d),R=l.getX(0,p),w=l.getY(0,p),F=l.getX(0,p-d),I=l.getY(0,p-d)):(E=l.getX(f,0),C=l.getY(f,0),R=l.getX(0,p),w=l.getY(0,p),F=l.getX(0,p-d),I=l.getY(0,p-d)),h.batchTri(n,E,C,R,w,F,I,0,0,1,1,T,T,T,2)),r.pipelines.postBatch(n)}};v.exports=a},57847:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(17803),a=t(23031),r=t(36823),n=new o({Extends:m,Mixins:[r],initialize:function(s,h,i,l,u,d,f,p,g){h===void 0&&(h=0),i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=0),d===void 0&&(d=128),f===void 0&&(f=0),m.call(this,s,"Line",new a(l,u,d,f));var x=Math.max(1,this.geom.right-this.geom.left),T=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(h,i),this.setSize(x,T),p!==void 0&&this.setStrokeStyle(1,p,g),this.updateDisplayOrigin()},setLineWidth:function(e,s){return s===void 0&&(s=e),this._startWidth=e,this._endWidth=s,this.lineWidth=e,this},setTo:function(e,s,h,i){return this.geom.setTo(e,s,h,i),this}});v.exports=n},17440:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(75177),m=t(20926),a=function(r,n,e,s){e.addToRenderList(n);var h=r.currentContext;if(m(r,h,n,e,s)){var i=n._displayOriginX,l=n._displayOriginY;n.isStroked&&(o(h,n),h.beginPath(),h.moveTo(n.geom.x1-i,n.geom.y1-l),h.lineTo(n.geom.x2-i,n.geom.y2-l),h.stroke()),h.restore()}};v.exports=a},2481:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),m=t(57847);o.register("line",function(a,r,n,e,s,h,i,l){return this.displayList.add(new m(this.scene,a,r,n,e,s,h,i,l))})},36823:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),m=o,a=o;m=t(77385),a=t(17440),v.exports={renderWebGL:m,renderCanvas:a}},77385:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),m=t(70554),a=function(r,n,e,s){e.addToRenderList(n);var h=r.pipelines.set(n.pipeline),i=o(n,e,s);h.calcMatrix.copyFrom(i.calc);var l=n._displayOriginX,u=n._displayOriginY,d=e.alpha*n.alpha;if(r.pipelines.preBatch(n),n.isStroked){var f=h.strokeTint,p=m.getTintAppendFloatAlpha(n.strokeColor,n.strokeAlpha*d);f.TL=p,f.TR=p,f.BL=p,f.BR=p,h.batchLine(n.geom.x1-l,n.geom.y1-u,n.geom.x2-l,n.geom.y2-u,n._startWidth/2,n._endWidth/2,1,0,!1,i.sprite,i.camera)}r.pipelines.postBatch(n)};v.exports=a},24949:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(90273),m=t(83419),a=t(94811),r=t(13829),n=t(25717),e=t(17803),s=t(5469),h=new m({Extends:e,Mixins:[o],initialize:function(l,u,d,f,p,g){u===void 0&&(u=0),d===void 0&&(d=0),e.call(this,l,"Polygon",new n(f));var x=r(this.geom);this.setPosition(u,d),this.setSize(x.width,x.height),p!==void 0&&this.setFillStyle(p,g),this.updateDisplayOrigin(),this.updateData()},smooth:function(i){i===void 0&&(i=1);for(var l=0;l<i;l++)s(this.geom);return this.updateData()},setTo:function(i){this.geom.setTo(i);var l=r(this.geom);return this.setSize(l.width,l.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var i=[],l=this.geom.points,u=0;u<l.length;u++)i.push(l[u].x,l[u].y);return i.push(l[0].x,l[0].y),this.pathIndexes=a(i),this.pathData=i,this}});v.exports=h},38710:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),m=t(75177),a=t(20926),r=function(n,e,s,h){s.addToRenderList(e);var i=n.currentContext;if(a(n,i,e,s,h)){var l=e._displayOriginX,u=e._displayOriginY,d=e.pathData,f=d.length-1,p=d[0]-l,g=d[1]-u;i.beginPath(),i.moveTo(p,g),e.closePath||(f-=2);for(var x=2;x<f;x+=2){var T=d[x]-l,E=d[x+1]-u;i.lineTo(T,E)}e.closePath&&i.closePath(),e.isFilled&&(o(i,e),i.fill()),e.isStroked&&(m(i,e),i.stroke()),i.restore()}};v.exports=r},64827:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),m=t(24949);o.register("polygon",function(a,r,n,e,s){return this.displayList.add(new m(this.scene,a,r,n,e,s))})},90273:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),m=o,a=o;m=t(73695),a=t(38710),v.exports={renderWebGL:m,renderCanvas:a}},73695:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10441),m=t(91296),a=t(34682),r=function(n,e,s,h){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),l=m(e,s,h),u=i.calcMatrix.copyFrom(l.calc),d=e._displayOriginX,f=e._displayOriginY,p=s.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&o(i,u,e,p,d,f),e.isStroked&&a(i,e,p,d,f),n.pipelines.postBatch(e)};v.exports=r},74561:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(87841),a=t(17803),r=t(95597),n=new o({Extends:a,Mixins:[r],initialize:function(s,h,i,l,u,d,f){h===void 0&&(h=0),i===void 0&&(i=0),l===void 0&&(l=128),u===void 0&&(u=128),a.call(this,s,"Rectangle",new m(0,0,l,u)),this.setPosition(h,i),this.setSize(l,u),d!==void 0&&this.setFillStyle(d,f),this.updateDisplayOrigin(),this.updateData()},setSize:function(e,s){this.width=e,this.height=s,this.geom.setSize(e,s),this.updateData(),this.updateDisplayOrigin();var h=this.input;return h&&!h.customHitArea&&(h.hitArea.width=e,h.hitArea.height=s),this},updateData:function(){var e=[],s=this.geom,h=this._tempLine;return s.getLineA(h),e.push(h.x1,h.y1,h.x2,h.y2),s.getLineB(h),e.push(h.x2,h.y2),s.getLineC(h),e.push(h.x2,h.y2),s.getLineD(h),e.push(h.x2,h.y2),this.pathData=e,this}});v.exports=n},48682:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),m=t(75177),a=t(20926),r=function(n,e,s,h){s.addToRenderList(e);var i=n.currentContext;if(a(n,i,e,s,h)){var l=e._displayOriginX,u=e._displayOriginY;e.isFilled&&(o(i,e),i.fillRect(-l,-u,e.width,e.height)),e.isStroked&&(m(i,e),i.beginPath(),i.rect(-l,-u,e.width,e.height),i.stroke()),i.restore()}};v.exports=r},87959:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),m=t(74561);o.register("rectangle",function(a,r,n,e,s,h){return this.displayList.add(new m(this.scene,a,r,n,e,s,h))})},95597:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),m=o,a=o;m=t(52059),a=t(48682),v.exports={renderWebGL:m,renderCanvas:a}},52059:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),m=t(34682),a=t(70554),r=function(n,e,s,h){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),l=o(e,s,h);i.calcMatrix.copyFrom(l.calc);var u=e._displayOriginX,d=e._displayOriginY,f=s.alpha*e.alpha;if(n.pipelines.preBatch(e),e.isFilled){var p=i.fillTint,g=a.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*f);p.TL=g,p.TR=g,p.BL=g,p.BR=g,i.batchFillRect(-u,-d,e.width,e.height)}e.isStroked&&m(i,e,f,u,d),n.pipelines.postBatch(e)};v.exports=r},55911:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(81991),m=t(83419),a=t(94811),r=t(17803),n=new m({Extends:r,Mixins:[o],initialize:function(s,h,i,l,u,d,f,p){h===void 0&&(h=0),i===void 0&&(i=0),l===void 0&&(l=5),u===void 0&&(u=32),d===void 0&&(d=64),r.call(this,s,"Star",null),this._points=l,this._innerRadius=u,this._outerRadius=d,this.setPosition(h,i),this.setSize(d*2,d*2),f!==void 0&&this.setFillStyle(f,p),this.updateDisplayOrigin(),this.updateData()},setPoints:function(e){return this._points=e,this.updateData()},setInnerRadius:function(e){return this._innerRadius=e,this.updateData()},setOuterRadius:function(e){return this._outerRadius=e,this.updateData()},points:{get:function(){return this._points},set:function(e){this._points=e,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this.updateData()}},updateData:function(){var e=[],s=this._points,h=this._innerRadius,i=this._outerRadius,l=Math.PI/2*3,u=Math.PI/s,d=i,f=i;e.push(d,f+-i);for(var p=0;p<s;p++)e.push(d+Math.cos(l)*i,f+Math.sin(l)*i),l+=u,e.push(d+Math.cos(l)*h,f+Math.sin(l)*h),l+=u;return e.push(d,f+-i),this.pathIndexes=a(e),this.pathData=e,this}});v.exports=n},64272:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),m=t(75177),a=t(20926),r=function(n,e,s,h){s.addToRenderList(e);var i=n.currentContext;if(a(n,i,e,s,h)){var l=e._displayOriginX,u=e._displayOriginY,d=e.pathData,f=d.length-1,p=d[0]-l,g=d[1]-u;i.beginPath(),i.moveTo(p,g),e.closePath||(f-=2);for(var x=2;x<f;x+=2){var T=d[x]-l,E=d[x+1]-u;i.lineTo(T,E)}i.closePath(),e.isFilled&&(o(i,e),i.fill()),e.isStroked&&(m(i,e),i.stroke()),i.restore()}};v.exports=r},93697:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(55911),m=t(39429);m.register("star",function(a,r,n,e,s,h,i){return this.displayList.add(new o(this.scene,a,r,n,e,s,h,i))})},81991:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),m=o,a=o;m=t(57017),a=t(64272),v.exports={renderWebGL:m,renderCanvas:a}},57017:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10441),m=t(91296),a=t(34682),r=function(n,e,s,h){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),l=m(e,s,h),u=i.calcMatrix.copyFrom(l.calc),d=e._displayOriginX,f=e._displayOriginY,p=s.alpha*e.alpha;n.pipelines.preBatch(e),e.isFilled&&o(i,u,e,p,d,f),e.isStroked&&a(i,e,p,d,f),n.pipelines.postBatch(e)};v.exports=r},36931:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(17803),a=t(16483),r=t(96195),n=new o({Extends:m,Mixins:[r],initialize:function(s,h,i,l,u,d,f,p,g,x,T){h===void 0&&(h=0),i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=128),d===void 0&&(d=64),f===void 0&&(f=0),p===void 0&&(p=128),g===void 0&&(g=128),m.call(this,s,"Triangle",new a(l,u,d,f,p,g));var E=this.geom.right-this.geom.left,C=this.geom.bottom-this.geom.top;this.setPosition(h,i),this.setSize(E,C),x!==void 0&&this.setFillStyle(x,T),this.updateDisplayOrigin(),this.updateData()},setTo:function(e,s,h,i,l,u){return this.geom.setTo(e,s,h,i,l,u),this.updateData()},updateData:function(){var e=[],s=this.geom,h=this._tempLine;return s.getLineA(h),e.push(h.x1,h.y1,h.x2,h.y2),s.getLineB(h),e.push(h.x2,h.y2),s.getLineC(h),e.push(h.x2,h.y2),this.pathData=e,this}});v.exports=n},85172:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(65960),m=t(75177),a=t(20926),r=function(n,e,s,h){s.addToRenderList(e);var i=n.currentContext;if(a(n,i,e,s,h)){var l=e._displayOriginX,u=e._displayOriginY,d=e.geom.x1-l,f=e.geom.y1-u,p=e.geom.x2-l,g=e.geom.y2-u,x=e.geom.x3-l,T=e.geom.y3-u;i.beginPath(),i.moveTo(d,f),i.lineTo(p,g),i.lineTo(x,T),i.closePath(),e.isFilled&&(o(i,e),i.fill()),e.isStroked&&(m(i,e),i.stroke()),i.restore()}};v.exports=r},45245:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),m=t(36931);o.register("triangle",function(a,r,n,e,s,h,i,l,u,d){return this.displayList.add(new m(this.scene,a,r,n,e,s,h,i,l,u,d))})},96195:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),m=o,a=o;m=t(83253),a=t(85172),v.exports={renderWebGL:m,renderCanvas:a}},83253:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),m=t(34682),a=t(70554),r=function(n,e,s,h){s.addToRenderList(e);var i=n.pipelines.set(e.pipeline),l=o(e,s,h);i.calcMatrix.copyFrom(l.calc);var u=e._displayOriginX,d=e._displayOriginY,f=s.alpha*e.alpha;if(n.pipelines.preBatch(e),e.isFilled){var p=i.fillTint,g=a.getTintAppendFloatAlpha(e.fillColor,e.fillAlpha*f);p.TL=g,p.TR=g,p.BL=g,p.BR=g;var x=e.geom.x1-u,T=e.geom.y1-d,E=e.geom.x2-u,C=e.geom.y2-d,R=e.geom.x3-u,w=e.geom.y3-d;i.batchFillTriangle(x,T,E,C,R,w,l.sprite,l.camera)}e.isStroked&&m(i,e,f,u,d),n.pipelines.postBatch(e)};v.exports=r},68287:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(9674),m=t(83419),a=t(31401),r=t(95643),n=t(92751),e=new m({Extends:r,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Size,a.TextureCrop,a.Tint,a.Transform,a.Visible,n],initialize:function(h,i,l,u,d){r.call(this,h,"Sprite"),this._crop=this.resetCropObject(),this.anims=new o(this),this.setTexture(u,d),this.setPosition(i,l),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(s,h){this.anims.update(s,h)},play:function(s,h){return this.anims.play(s,h)},playReverse:function(s,h){return this.anims.playReverse(s,h)},playAfterDelay:function(s,h){return this.anims.playAfterDelay(s,h)},playAfterRepeat:function(s,h){return this.anims.playAfterRepeat(s,h)},chain:function(s){return this.anims.chain(s)},stop:function(){return this.anims.stop()},stopAfterDelay:function(s){return this.anims.stopAfterDelay(s)},stopAfterRepeat:function(s){return this.anims.stopAfterRepeat(s)},stopOnFrame:function(s){return this.anims.stopOnFrame(s)},toJSON:function(){return a.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});v.exports=e},76552:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a){m.addToRenderList(o),t.batchSprite(o,o.frame,m,a)};v.exports=S},15567:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),m=t(13059),a=t(44603),r=t(23568),n=t(68287);a.register("sprite",function(e,s){e===void 0&&(e={});var h=r(e,"key",null),i=r(e,"frame",null),l=new n(this.scene,0,0,h,i);return s!==void 0&&(e.add=s),o(this.scene,l,e),m(l,e),l})},46409:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),m=t(68287);o.register("sprite",function(a,r,n,e){return this.displayList.add(new m(this.scene,a,r,n,e))})},92751:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),m=o,a=o;m=t(9409),a=t(76552),v.exports={renderWebGL:m,renderCanvas:a}},9409:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a){m.addToRenderList(o),o.pipeline.batchSprite(o,m,a)};v.exports=S},14220:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){var a=t.canvas,r=t.context,n=t.style,e=[],s=0,h=m.length;n.maxLines>0&&n.maxLines<m.length&&(h=n.maxLines),n.syncFont(a,r);for(var i=t.letterSpacing,l=0;l<h;l++){var u=n.strokeThickness;if(i===0)u+=r.measureText(m[l]).width;else{for(var d=m[l],f=0;f<d.length;f++)u+=r.measureText(d[f]).width;d.length>1&&(u+=i*(d.length-1))}n.wordWrap&&(u-=r.measureText(" ").width),e[l]=Math.ceil(u),s=Math.max(s,e[l])}var p=o.fontSize+n.strokeThickness,g=p*h,x=t.lineSpacing;return h>1&&(g+=x*(h-1)),{width:s,height:g,lines:h,lineWidths:e,lineSpacing:x,lineHeight:p}};v.exports=S},79557:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(27919),m=function(a){var r=o.create(this),n=r.getContext("2d",{willReadFrequently:!0});a.syncFont(r,n);var e=n.measureText(a.testString);if("actualBoundingBoxAscent"in e){var s=e.actualBoundingBoxAscent,h=e.actualBoundingBoxDescent;return o.remove(r),{ascent:s,descent:h,fontSize:s+h}}var i=Math.ceil(e.width*a.baselineX),l=i,u=2*l;l=l*a.baselineY|0,r.width=i,r.height=u,n.fillStyle="#f00",n.fillRect(0,0,i,u),n.font=a._font,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(a.testString,0,l);var d={ascent:0,descent:0,fontSize:0},f=n.getImageData(0,0,i,u);if(!f)return d.ascent=l,d.descent=l+6,d.fontSize=d.ascent+d.descent,o.remove(r),d;var p=f.data,g=p.length,x=i*4,T,E,C=0,R=!1;for(T=0;T<l;T++){for(E=0;E<x;E+=4)if(p[C+E]!==255){R=!0;break}if(!R)C+=x;else break}for(d.ascent=l-T,C=g-x,R=!1,T=u;T>l;T--){for(E=0;E<x;E+=4)if(p[C+E]!==255){R=!0;break}if(!R)C-=x;else break}return d.descent=T-l,d.fontSize=d.ascent+d.descent,o.remove(r),d};v.exports=m},50171:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(40366),m=t(27919),a=t(83419),r=t(31401),n=t(95643),e=t(14220),s=t(35154),h=t(35846),i=t(61771),l=t(35762),u=t(45650),d=new a({Extends:n,Mixins:[r.Alpha,r.BlendMode,r.ComputedSize,r.Crop,r.Depth,r.Flip,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.PostPipeline,r.ScrollFactor,r.Tint,r.Transform,r.Visible,i],initialize:function(p,g,x,T,E){g===void 0&&(g=0),x===void 0&&(x=0),n.call(this,p,"Text"),this.renderer=p.sys.renderer,this.setPosition(g,x),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=m.create(this),this.context,this.style=new l(this,E),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=u(),this.texture=p.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(T),E&&E.padding&&this.setPadding(E.padding),E&&E.lineSpacing&&this.setLineSpacing(E.lineSpacing),E&&E.letterSpacing&&this.setLetterSpacing(E.letterSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",o(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(f){var p=this.style;if(p.wordWrapCallback){var g=p.wordWrapCallback.call(p.wordWrapCallbackScope,f,this);return Array.isArray(g)&&(g=g.join(`
`)),g}else return p.wordWrapWidth?p.wordWrapUseAdvanced?this.advancedWordWrap(f,this.context,this.style.wordWrapWidth):this.basicWordWrap(f,this.context,this.style.wordWrapWidth):f},advancedWordWrap:function(f,p,g){for(var x="",T=f.replace(/ +/gi," ").split(this.splitRegExp),E=T.length,C=0;C<E;C++){var R=T[C],w="";R=R.replace(/^ *|\s*$/gi,"");var F=R.length*this.letterSpacing,I=p.measureText(R).width+F;if(I<g){x+=R+`
`;continue}for(var L=g,D=R.split(" "),B=0;B<D.length;B++){var U=D[B],W=U+" ",K=W.length*this.letterSpacing,Y=p.measureText(W).width+K;if(console.log(D.length,U),Y>L){if(B===0){for(var G=W;G.length;){G=G.slice(0,-1);var X=G.length*this.letterSpacing;if(Y=p.measureText(G).width+X,Y<=L)break}if(!G.length)throw new Error("wordWrapWidth < a single character");var V=U.substr(G.length);D[B]=V,w+=G}var b=D[B].length?B:B+1,z=D.slice(b).join(" ").replace(/[ \n]*$/gi,"");T.splice(C+1,0,z),E=T.length;break}else w+=W,L-=Y}x+=w.replace(/[ \n]*$/gi,"")+`
`}return x=x.replace(/[\s|\n]*$/gi,""),x},basicWordWrap:function(f,p,g){for(var x="",T=f.split(this.splitRegExp),E=T.length-1,C=p.measureText(" ").width,R=0;R<=E;R++){for(var w=g,F=T[R].split(" "),I=F.length-1,L=0;L<=I;L++){var D=F[L],B=D.length*this.letterSpacing,U=p.measureText(D).width+B,W=U;L<I&&(W+=C),W>w&&L>0&&(x+=`
`,w=g),x+=D,L<I?(x+=" ",w-=W):w-=U}R<E&&(x+=`
`)}return x},getWrappedText:function(f){f===void 0&&(f=this._text),this.style.syncFont(this.canvas,this.context);var p=this.runWordWrap(f);return p.split(this.splitRegExp)},setText:function(f){return!f&&f!==0&&(f=""),Array.isArray(f)&&(f=f.join(`
`)),f!==this._text&&(this._text=f.toString(),this.updateText()),this},appendText:function(f,p){p===void 0&&(p=!0),!f&&f!==0&&(f=""),Array.isArray(f)&&(f=f.join(`
`)),f=f.toString();var g=this._text.concat(p?`
`+f:f);return g!==this._text&&(this._text=g,this.updateText()),this},setStyle:function(f){return this.style.setStyle(f)},setFont:function(f){return this.style.setFont(f)},setFontFamily:function(f){return this.style.setFontFamily(f)},setFontSize:function(f){return this.style.setFontSize(f)},setFontStyle:function(f){return this.style.setFontStyle(f)},setFixedSize:function(f,p){return this.style.setFixedSize(f,p)},setBackgroundColor:function(f){return this.style.setBackgroundColor(f)},setFill:function(f){return this.style.setFill(f)},setColor:function(f){return this.style.setColor(f)},setStroke:function(f,p){return this.style.setStroke(f,p)},setShadow:function(f,p,g,x,T,E){return this.style.setShadow(f,p,g,x,T,E)},setShadowOffset:function(f,p){return this.style.setShadowOffset(f,p)},setShadowColor:function(f){return this.style.setShadowColor(f)},setShadowBlur:function(f){return this.style.setShadowBlur(f)},setShadowStroke:function(f){return this.style.setShadowStroke(f)},setShadowFill:function(f){return this.style.setShadowFill(f)},setWordWrapWidth:function(f,p){return this.style.setWordWrapWidth(f,p)},setWordWrapCallback:function(f,p){return this.style.setWordWrapCallback(f,p)},setAlign:function(f){return this.style.setAlign(f)},setResolution:function(f){return this.style.setResolution(f)},setLineSpacing:function(f){return this.lineSpacing=f,this.updateText()},setLetterSpacing:function(f){return this.letterSpacing=f,this.updateText()},setPadding:function(f,p,g,x){if(typeof f=="object"){var T=f,E=s(T,"x",null);E!==null?(f=E,g=E):(f=s(T,"left",0),g=s(T,"right",f));var C=s(T,"y",null);C!==null?(p=C,x=C):(p=s(T,"top",0),x=s(T,"bottom",p))}else f===void 0&&(f=0),p===void 0&&(p=f),g===void 0&&(g=f),x===void 0&&(x=p);return this.padding.left=f,this.padding.top=p,this.padding.right=g,this.padding.bottom=x,this.updateText()},setMaxLines:function(f){return this.style.setMaxLines(f)},setRTL:function(f){f===void 0&&(f=!0);var p=this.style;return p.rtl===f?this:(p.rtl=f,f?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",o(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),p.align==="left"?p.align="right":p.align==="right"&&(p.align="left"),this)},updateText:function(){var f=this.canvas,p=this.context,g=this.style,x=g.resolution,T=g.metrics;g.syncFont(f,p);var E=this._text;(g.wordWrapWidth||g.wordWrapCallback)&&(E=this.runWordWrap(this._text));var C=E.split(this.splitRegExp),R=e(this,T,C),w=this.padding,F;g.fixedWidth===0?(this.width=R.width+w.left+w.right,F=R.width):(this.width=g.fixedWidth,F=this.width-w.left-w.right,F<R.width&&(F=R.width)),g.fixedHeight===0?this.height=R.height+w.top+w.bottom:this.height=g.fixedHeight;var I=this.width,L=this.height;this.updateDisplayOrigin(),I*=x,L*=x,I=Math.max(I,1),L=Math.max(L,1),f.width!==I||f.height!==L?(f.width=I,f.height=L,this.frame.setSize(I,L),g.syncFont(f,p),g.rtl&&(p.direction="rtl")):p.clearRect(0,0,I,L),p.save(),p.scale(x,x),g.backgroundColor&&(p.fillStyle=g.backgroundColor,p.fillRect(0,0,I,L)),g.syncStyle(f,p),p.translate(w.left,w.top);for(var D,B,U=0;U<R.lines;U++){if(D=g.strokeThickness/2,B=g.strokeThickness/2+U*R.lineHeight+T.ascent,U>0&&(B+=R.lineSpacing*U),g.rtl)D=I-D-w.left-w.right;else if(g.align==="right")D+=F-R.lineWidths[U];else if(g.align==="center")D+=(F-R.lineWidths[U])/2;else if(g.align==="justify"){var W=.85;if(R.lineWidths[U]/R.width>=W){var K=R.width-R.lineWidths[U],Y=p.measureText(" ").width,G=C[U].trim(),X=G.split(" ");K+=(C[U].length-G.length)*Y;for(var V=Math.floor(K/Y),b=0;V>0;)X[b]+=" ",b=(b+1)%(X.length-1||1),--V;C[U]=X.join(" ")}}this.autoRound&&(D=Math.round(D),B=Math.round(B));var z=this.letterSpacing;if(g.strokeThickness&&z===0&&(g.syncShadow(p,g.shadowStroke),p.strokeText(C[U],D,B)),g.color)if(g.syncShadow(p,g.shadowFill),z!==0)for(var k=0,$=C[U].split(""),J=0;J<$.length;J++)g.strokeThickness&&(g.syncShadow(p,g.shadowStroke),p.strokeText($[J],D+k,B),g.syncShadow(p,g.shadowFill)),p.fillText($[J],D+k,B),k+=p.measureText($[J]).width+z;else p.fillText(C[U],D,B)}p.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(f,this.frame.source.glTexture,!0));var j=this.input;return j&&!j.customHitArea&&(j.hitArea.width=this.width,j.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(f){this.setText(f)}},toJSON:function(){var f=r.ToJSON(this),p={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return f.data=p,f},preDestroy:function(){h(this.canvas),m.remove(this.canvas);var f=this.texture;f&&f.destroy()}});v.exports=d},79724:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a){o.width===0||o.height===0||(m.addToRenderList(o),t.batchSprite(o,o.frame,m,a))};v.exports=S},71259:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),m=t(44603),a=t(23568),r=t(50171);m.register("text",function(n,e){n===void 0&&(n={});var s=a(n,"text",""),h=a(n,"style",null),i=a(n,"padding",null);i!==null&&(h.padding=i);var l=new r(this.scene,0,0,s,h);return e!==void 0&&(n.add=e),o(this.scene,l,n),l.autoRound=a(n,"autoRound",!0),l.resolution=a(n,"resolution",1),l})},68005:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(50171),m=t(39429);m.register("text",function(a,r,n,e){return this.displayList.add(new o(this.scene,a,r,n,e))})},61771:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),m=o,a=o;m=t(34397),a=t(79724),v.exports={renderWebGL:m,renderCanvas:a}},35762:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(23568),a=t(35154),r=t(79557),n={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|MÃ‰qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},e=new o({initialize:function(h,i){this.parent=h,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(i,!1,!0)},setStyle:function(s,h,i){h===void 0&&(h=!0),i===void 0&&(i=!1);for(var l in n){var u=i?n[l][1]:this[l];l==="wordWrapCallback"||l==="wordWrapCallbackScope"?this[l]=a(s,n[l][0],u):s&&l==="fontSize"&&typeof s.fontSize=="number"?this[l]=s.fontSize.toString()+"px":this[l]=m(s,n[l][0],u)}var d=a(s,"font",null);d!==null&&this.setFont(d,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var f=a(s,"fill",null);f!==null&&(this.color=f);var p=a(s,"metrics",!1);return p?this.metrics={ascent:a(p,"ascent",0),descent:a(p,"descent",0),fontSize:a(p,"fontSize",0)}:(h||!this.metrics)&&(this.metrics=r(this)),h?this.parent.updateText():this.parent},syncFont:function(s,h){h.font=this._font},syncStyle:function(s,h){h.textBaseline="alphabetic",h.fillStyle=this.color,h.strokeStyle=this.stroke,h.lineWidth=this.strokeThickness,h.lineCap="round",h.lineJoin="round"},syncShadow:function(s,h){h?(s.shadowOffsetX=this.shadowOffsetX,s.shadowOffsetY=this.shadowOffsetY,s.shadowColor=this.shadowColor,s.shadowBlur=this.shadowBlur):(s.shadowOffsetX=0,s.shadowOffsetY=0,s.shadowColor=0,s.shadowBlur=0)},update:function(s){return s&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=r(this)),this.parent.updateText()},setFont:function(s,h){h===void 0&&(h=!0);var i=s,l="",u="";if(typeof s!="string")i=a(s,"fontFamily","Courier"),l=a(s,"fontSize","16px"),u=a(s,"fontStyle","");else{var d=s.split(" "),f=0;u=d.length>2?d[f++]:"",l=d[f++]||"16px",i=d[f++]||"Courier"}return(i!==this.fontFamily||l!==this.fontSize||u!==this.fontStyle)&&(this.fontFamily=i,this.fontSize=l,this.fontStyle=u,h&&this.update(!0)),this.parent},setFontFamily:function(s){return this.fontFamily!==s&&(this.fontFamily=s,this.update(!0)),this.parent},setFontStyle:function(s){return this.fontStyle!==s&&(this.fontStyle=s,this.update(!0)),this.parent},setFontSize:function(s){return typeof s=="number"&&(s=s.toString()+"px"),this.fontSize!==s&&(this.fontSize=s,this.update(!0)),this.parent},setTestString:function(s){return this.testString=s,this.update(!0)},setFixedSize:function(s,h){return this.fixedWidth=s,this.fixedHeight=h,s&&(this.parent.width=s),h&&(this.parent.height=h),this.update(!1)},setBackgroundColor:function(s){return this.backgroundColor=s,this.update(!1)},setFill:function(s){return this.color=s,this.update(!1)},setColor:function(s){return this.color=s,this.update(!1)},setResolution:function(s){return this.resolution=s,this.update(!1)},setStroke:function(s,h){return h===void 0&&(h=this.strokeThickness),s===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==s||this.strokeThickness!==h)&&(this.stroke=s,this.strokeThickness=h,this.update(!0)),this.parent},setShadow:function(s,h,i,l,u,d){return s===void 0&&(s=0),h===void 0&&(h=0),i===void 0&&(i="#000"),l===void 0&&(l=0),u===void 0&&(u=!1),d===void 0&&(d=!0),this.shadowOffsetX=s,this.shadowOffsetY=h,this.shadowColor=i,this.shadowBlur=l,this.shadowStroke=u,this.shadowFill=d,this.update(!1)},setShadowOffset:function(s,h){return s===void 0&&(s=0),h===void 0&&(h=s),this.shadowOffsetX=s,this.shadowOffsetY=h,this.update(!1)},setShadowColor:function(s){return s===void 0&&(s="#000"),this.shadowColor=s,this.update(!1)},setShadowBlur:function(s){return s===void 0&&(s=0),this.shadowBlur=s,this.update(!1)},setShadowStroke:function(s){return this.shadowStroke=s,this.update(!1)},setShadowFill:function(s){return this.shadowFill=s,this.update(!1)},setWordWrapWidth:function(s,h){return h===void 0&&(h=!1),this.wordWrapWidth=s,this.wordWrapUseAdvanced=h,this.update(!1)},setWordWrapCallback:function(s,h){return h===void 0&&(h=null),this.wordWrapCallback=s,this.wordWrapCallbackScope=h,this.update(!1)},setAlign:function(s){return s===void 0&&(s="left"),this.align=s,this.update(!1)},setMaxLines:function(s){return s===void 0&&(s=0),this.maxLines=s,this.update(!1)},getTextMetrics:function(){var s=this.metrics;return{ascent:s.ascent,descent:s.descent,fontSize:s.fontSize}},toJSON:function(){var s={};for(var h in n)s[h]=this[h];return s.metrics=this.getTextMetrics(),s},destroy:function(){this.parent=void 0}});v.exports=e},34397:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70554),m=function(a,r,n,e){if(!(r.width===0||r.height===0)){n.addToRenderList(r);var s=r.frame,h=s.width,i=s.height,l=o.getTintAppendFloatAlpha,u=a.pipelines.set(r.pipeline,r),d=u.setTexture2D(s.glTexture,r);u.batchTexture(r,s.glTexture,h,i,r.x,r.y,h/r.style.resolution,i/r.style.resolution,r.scaleX,r.scaleY,r.rotation,r.flipX,r.flipY,r.scrollFactorX,r.scrollFactorY,r.displayOriginX,r.displayOriginY,0,0,h,i,l(r.tintTopLeft,n.alpha*r._alphaTL),l(r.tintTopRight,n.alpha*r._alphaTR),l(r.tintBottomLeft,n.alpha*r._alphaBL),l(r.tintBottomRight,n.alpha*r._alphaBR),r.tintFill,0,0,n,e,!1,d)}};v.exports=m},20839:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(27919),m=t(83419),a=t(31401),r=t(95643),n=t(98439),e=t(68703),s=t(56295),h=t(45650),i=t(26099),l=8,u=new m({Extends:r,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Crop,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.Tint,a.Transform,a.Visible,s],initialize:function(f,p,g,x,T,E,C){var R=f.sys.renderer;r.call(this,f,"TileSprite");var w=f.sys.textures.get(E),F=w.get(C);F.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),w=f.sys.textures.get("__MISSING"),F=w.get()),w.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),w=f.sys.textures.get("__MISSING"),F=w.get()),!x||!T?(x=x||F.width,T=T||F.height):(x=Math.floor(x),T=Math.floor(T)),this._tilePosition=new i,this._tileScale=new i(1,1),this.dirty=!1,this.renderer=R,this.canvas=o.create(this,x,T),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=w,this.displayFrame=F,this._crop=this.resetCropObject(),this._textureKey=h(),this.texture=f.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=n(F.width),this.potHeight=n(F.height),this.fillCanvas=o.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(p,g),this.setSize(x,T),this.setFrame(C),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(d,f){return this.displayTexture=this.scene.sys.textures.get(d),this.setFrame(f)},setFrame:function(d){var f=this.displayTexture.get(d);return this.potWidth=n(f.width),this.potHeight=n(f.height),this.canvas.width=0,!f.cutWidth||!f.cutHeight?this.renderFlags&=-9:this.renderFlags|=l,this.displayFrame=f,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(d,f){return d!==void 0&&(this.tilePositionX=d),f!==void 0&&(this.tilePositionY=f),this},setTileScale:function(d,f){return d===void 0&&(d=this.tileScaleX),f===void 0&&(f=d),this.tileScaleX=d,this.tileScaleY=f,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var d=this.displayFrame;if(d.source.isRenderTexture||d.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var f=this.fillContext,p=this.fillCanvas,g=this.potWidth,x=this.potHeight;(!this.renderer||!this.renderer.gl)&&(g=d.cutWidth,x=d.cutHeight),f.clearRect(0,0,g,x),p.width=g,p.height=x,f.drawImage(d.source.image,d.cutX,d.cutY,d.cutWidth,d.cutHeight,0,0,g,x),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(p,this.fillPattern):this.fillPattern=f.createPattern(p,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var d=this.canvas;if((d.width!==this.width||d.height!==this.height)&&(d.width=this.width,d.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var f=this.context;this.scene.sys.game.config.antialias||e.disable(f);var p=this._tileScale.x,g=this._tileScale.y,x=this._tilePosition.x,T=this._tilePosition.y;f.clearRect(0,0,this.width,this.height),f.save(),f.scale(p,g),f.translate(-x,-T),f.fillStyle=this.fillPattern,f.fillRect(x,T,this.width/p,this.height/g),f.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),o.remove(this.canvas),o.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var d=this.texture;d&&d.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(d){this._tilePosition.x=d,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(d){this._tilePosition.y=d,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(d){this._tileScale.x=d,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(d){this._tileScale.y=d,this.dirty=!0}}});v.exports=u},46992:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a){o.updateCanvas(),m.addToRenderList(o),t.batchSprite(o,o.frame,m,a)};v.exports=S},14167:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),m=t(44603),a=t(23568),r=t(20839);m.register("tileSprite",function(n,e){n===void 0&&(n={});var s=a(n,"x",0),h=a(n,"y",0),i=a(n,"width",512),l=a(n,"height",512),u=a(n,"key",""),d=a(n,"frame",""),f=new r(this.scene,s,h,i,l,u,d);return e!==void 0&&(n.add=e),o(this.scene,f,n),f})},91681:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20839),m=t(39429);m.register("tileSprite",function(a,r,n,e,s,h){return this.displayList.add(new o(this.scene,a,r,n,e,s,h))})},56295:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),m=o,a=o;m=t(18553),a=t(46992),v.exports={renderWebGL:m,renderCanvas:a}},18553:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70554),m=function(a,r,n,e){r.updateCanvas();var s=r.width,h=r.height;if(!(s===0||h===0)){n.addToRenderList(r);var i=o.getTintAppendFloatAlpha,l=a.pipelines.set(r.pipeline,r),u=l.setTexture2D(r.fillPattern,r);l.batchTexture(r,r.fillPattern,r.displayFrame.width*r.tileScaleX,r.displayFrame.height*r.tileScaleY,r.x,r.y,s,h,r.scaleX,r.scaleY,r.rotation,r.flipX,r.flipY,r.scrollFactorX,r.scrollFactorY,r.originX*s,r.originY*h,0,0,s,h,i(r.tintTopLeft,n.alpha*r._alphaTL),i(r.tintTopRight,n.alpha*r._alphaTR),i(r.tintBottomLeft,n.alpha*r._alphaBL),i(r.tintBottomRight,n.alpha*r._alphaBR),r.tintFill,r.tilePositionX%r.displayFrame.width/r.displayFrame.width,r.tilePositionY%r.displayFrame.height/r.displayFrame.height,n,e,!1,u)}};v.exports=m},18471:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),m=t(83419),a=t(31401),r=t(51708),n=t(8443),e=t(95643),s=t(36383),h=t(14463),i=t(45650),l=t(10247),u=new m({Extends:e,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.ScrollFactor,a.TextureCrop,a.Tint,a.Transform,a.Visible,l],initialize:function(f,p,g,x){e.call(this,f,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=i(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._getFrame=!1,this._rfvCallbackId=0;var T=f.sys.game;this._device=T.device.video,this.setPosition(p,g),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),T.events.on(n.PAUSE,this.globalPause,this),T.events.on(n.RESUME,this.globalResume,this);var E=f.sys.sound;E&&E.on(h.GLOBAL_MUTE,this.globalMute,this),x&&this.load(x)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(d){var f=this.scene.sys.cache.video.get(d);return f?(this.cacheKey=d,this.loadHandler(f.url,f.noAudio,f.crossOrigin)):console.warn("No video in cache for key: "+d),this},changeSource:function(d,f,p,g,x){f===void 0&&(f=!0),p===void 0&&(p=!1),this.cacheKey!==d&&(this.load(d),f&&this.play(p,g,x))},getVideoKey:function(){return this.cacheKey},loadURL:function(d,f,p){f===void 0&&(f=!1);var g=this._device.getVideoURL(d);return g?(this.cacheKey="",this.loadHandler(g.url,f,p)):console.warn("No supported video format found for "+d),this},loadMediaStream:function(d,f,p){return this.loadHandler(null,f,p,d)},loadHandler:function(d,f,p,g){f||(f=!1);var x=this.video;if(x?(this.removeLoadEventHandlers(),this.stop()):(x=document.createElement("video"),x.controls=!1,x.setAttribute("playsinline","playsinline"),x.setAttribute("preload","auto"),x.setAttribute("disablePictureInPicture","true")),f?(x.muted=!0,x.defaultMuted=!0,x.setAttribute("autoplay","autoplay")):(x.muted=!1,x.defaultMuted=!1,x.removeAttribute("autoplay")),p?x.setAttribute("crossorigin",p):x.removeAttribute("crossorigin"),g)if("srcObject"in x)try{x.srcObject=g}catch(E){if(E.name!=="TypeError")throw E;x.src=URL.createObjectURL(g)}else x.src=URL.createObjectURL(g);else x.src=d;this.retry=0,this.video=x,this._playCalled=!1,x.load(),this.addLoadEventHandlers();var T=this.scene.sys.textures.get(this._key);return this.setTexture(T),this},requestVideoFrame:function(d,f){var p=this.video;if(p){var g=f.width,x=f.height,T=this.videoTexture,E=this.videoTextureSource,C=!T||E.source!==p;C?(this._codePaused=p.paused,this._codeMuted=p.muted,T?(E.source=p,E.width=g,E.height=x,T.get().setSize(g,x)):(T=this.scene.sys.textures.create(this._key,p,g,x),T.add("__BASE",0,0,0,g,x),this.setTexture(T),this.videoTexture=T,this.videoTextureSource=T.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(r.VIDEO_TEXTURE,this,T)),this.setSizeToFrame(),this.updateDisplayOrigin()):E.update(),this.isStalled=!1,this.metadata=f;var R=f.mediaTime;C&&(this._lastUpdate=R,this.emit(r.VIDEO_CREATED,this,g,x),this.frameReady||(this.frameReady=!0,this.emit(r.VIDEO_PLAY,this))),this._playingMarker?R>=this._markerOut&&(p.loop?(p.currentTime=this._markerIn,this.emit(r.VIDEO_LOOP,this)):(this.stop(!1),this.emit(r.VIDEO_COMPLETE,this))):R<this._lastUpdate&&this.emit(r.VIDEO_LOOP,this),this._lastUpdate=R,this._getFrame?(this.removeEventHandlers(),p.pause(),this._getFrame=!1):this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(d,f,p){f===void 0&&(f=-1),p===void 0&&(p=s.MAX_SAFE_INTEGER);var g=this.video;return!g||this.isPlaying()?(g||console.warn("Video not loaded"),this):(d===void 0&&(d=g.loop),g.loop=d,this._markerIn=f,this._markerOut=p,this._playingMarker=f>-1&&p>f&&p<s.MAX_SAFE_INTEGER,this._playCalled||(this._getFrame=!1,this._rfvCallbackId=g.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},getFirstFrame:function(){var d=this.video;return!d||this.isPlaying()?(d||console.warn("Video not loaded"),this):(this._playCalled||(this._getFrame=!0,this._rfvCallbackId=d.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this.createPlayPromise()),this)},addLoadEventHandlers:function(){var d=this.video;d&&(d.addEventListener("error",this._loadCallbackHandler),d.addEventListener("abort",this._loadCallbackHandler),d.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var d=this.video;d&&(d.removeEventListener("error",this._loadCallbackHandler),d.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var d=this.video;if(d){var f=this._callbacks;for(var p in f)d.addEventListener(p,f[p])}},removeEventHandlers:function(){var d=this.video;if(d){var f=this._callbacks;for(var p in f)d.removeEventListener(p,f[p])}},createPlayPromise:function(d){d===void 0&&(d=!0);var f=this.video,p=f.play();if(p!==void 0){var g=this.playSuccess.bind(this),x=this.playError.bind(this);if(!d){var T=this;x=function(){T.failedPlayAttempts++}}p.then(g).catch(x)}else f.addEventListener("playing",this._callbacks.legacy),d||this.failedPlayAttempts++},addMarker:function(d,f,p){return!isNaN(f)&&f>=0&&!isNaN(p)&&p>f&&(this.markers[d]=[f,p]),this},playMarker:function(d,f){var p=this.markers[d];return p&&this.play(f,p[0],p[1]),this},removeMarker:function(d){return delete this.markers[d],this},snapshot:function(d,f){return d===void 0&&(d=this.width),f===void 0&&(f=this.height),this.snapshotArea(0,0,this.width,this.height,d,f)},snapshotArea:function(d,f,p,g,x,T){d===void 0&&(d=0),f===void 0&&(f=0),p===void 0&&(p=this.width),g===void 0&&(g=this.height),x===void 0&&(x=p),T===void 0&&(T=g);var E=this.video,C=this.snapshotTexture;return C?(C.setSize(x,T),E&&C.context.drawImage(E,d,f,p,g,0,0,x,T)):(C=this.scene.sys.textures.createCanvas(i(),x,T),this.snapshotTexture=C,E&&C.context.drawImage(E,d,f,p,g,0,0,x,T)),C.update()},saveSnapshotTexture:function(d){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,d):this.snapshotTexture=this.scene.sys.textures.createCanvas(d,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(r.VIDEO_UNLOCKED,this));var d=this.scene.sys.sound;d&&d.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(d){var f=d.name;f==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(r.VIDEO_LOCKED,this)):f==="NotSupportedError"?(this.stop(!1),this.emit(r.VIDEO_UNSUPPORTED,this,d)):(this.stop(!1),this.emit(r.VIDEO_ERROR,this,d))},legacyPlayHandler:function(){var d=this.video;d&&(this.playSuccess(),d.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(r.VIDEO_PLAYING,this)},loadErrorHandler:function(d){this.stop(!1),this.emit(r.VIDEO_ERROR,this,d)},metadataHandler:function(d){this.emit(r.VIDEO_METADATA,this,d)},setSizeToFrame:function(d){d||(d=this.frame),this.width=d.realWidth,this.height=d.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var f=this.input;return f&&!f.customHitArea&&(f.hitArea.width=this.width,f.hitArea.height=this.height),this},stalledHandler:function(d){this.isStalled=!0,this.emit(r.VIDEO_STALLED,this,d)},completeHandler:function(){this._playCalled=!1,this.emit(r.VIDEO_COMPLETE,this)},preUpdate:function(d,f){var p=this.video;!p||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=f,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(d){var f=this.video;if(f){var p=f.duration;if(p!==1/0&&!isNaN(p)){var g=p*d;this.setCurrentTime(g)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(d){var f=this.video;if(f){if(typeof d=="string"){var p=d[0],g=parseFloat(d.substr(1));p==="+"?d=f.currentTime+g:p==="-"&&(d=f.currentTime-g)}f.currentTime=d}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(r.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(r.VIDEO_SEEKED,this)},getProgress:function(){var d=this.video;if(d){var f=d.duration;if(f!==1/0&&!isNaN(f))return d.currentTime/f}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(d){d===void 0&&(d=!0),this._codeMuted=d;var f=this.video;return f&&(f.muted=this._systemMuted?!0:d),this},isMuted:function(){return this._codeMuted},globalMute:function(d,f){this._systemMuted=f;var p=this.video;p&&(p.muted=this._codeMuted?!0:f)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(d){d===void 0&&(d=!0);var f=this.video;return this._codePaused=d,f&&!f.ended&&(d?f.paused||(this.removeEventHandlers(),f.pause()):d||(this._playCalled?f.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(d){return d===void 0&&(d=1),this.video&&(this.video.volume=o(d,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(d){return this.video&&(this.video.playbackRate=d),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(d){return d===void 0&&(d=!0),this.video&&(this.video.loop=d),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(d,f){return f===void 0&&(f=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,d),this.videoTextureSource.setFlipY(f)),this._key=d,this.flipY=f,!!this.videoTexture},stop:function(d){d===void 0&&(d=!0);var f=this.video;return f&&(this.removeEventHandlers(),f.cancelVideoFrameCallback(this._rfvCallbackId),f.pause()),this.retry=0,this._playCalled=!1,d&&this.emit(r.VIDEO_STOP,this),this},removeVideoElement:function(){var d=this.video;if(d){for(d.parentNode&&d.parentNode.removeChild(d);d.hasChildNodes();)d.removeChild(d.firstChild);d.removeAttribute("autoplay"),d.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var d=this.scene.sys.game.events;d.off(n.PAUSE,this.globalPause,this),d.off(n.RESUME,this.globalResume,this);var f=this.scene.sys.sound;f&&f.off(h.GLOBAL_MUTE,this.globalMute,this)}});v.exports=u},58352:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a){o.videoTexture&&(m.addToRenderList(o),t.batchSprite(o,o.frame,m,a))};v.exports=S},11511:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25305),m=t(44603),a=t(23568),r=t(18471);m.register("video",function(n,e){n===void 0&&(n={});var s=a(n,"key",null),h=new r(this.scene,0,0,s);return e!==void 0&&(n.add=e),o(this.scene,h,n),h})},89025:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(18471),m=t(39429);m.register("video",function(a,r,n){return this.displayList.add(new o(this.scene,a,r,n))})},10247:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),m=o,a=o;m=t(29849),a=t(58352),v.exports={renderWebGL:m,renderCanvas:a}},29849:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a){o.videoTexture&&(m.addToRenderList(o),o.pipeline.batchSprite(o,m,a))};v.exports=S},41481:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10312),m=t(96503),a=t(87902),r=t(83419),n=t(31401),e=t(95643),s=t(87841),h=t(37303),i=new r({Extends:e,Mixins:[n.Depth,n.GetBounds,n.Origin,n.Transform,n.ScrollFactor,n.Visible],initialize:function(u,d,f,p,g){p===void 0&&(p=1),g===void 0&&(g=p),e.call(this,u,"Zone"),this.setPosition(d,f),this.width=p,this.height=g,this.blendMode=o.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(l){this.scaleX=l/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(l){this.scaleY=l/this.height}},setSize:function(l,u,d){d===void 0&&(d=!0),this.width=l,this.height=u,this.updateDisplayOrigin();var f=this.input;return d&&f&&!f.customHitArea&&(f.hitArea.width=l,f.hitArea.height=u),this},setDisplaySize:function(l,u){return this.displayWidth=l,this.displayHeight=u,this},setCircleDropZone:function(l){return this.setDropZone(new m(0,0,l),a)},setRectangleDropZone:function(l,u){return this.setDropZone(new s(0,0,l,u),h)},setDropZone:function(l,u){return this.input||this.setInteractive(l,u,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(l,u,d){d.addToRenderList(u)},renderWebGL:function(l,u,d){d.addToRenderList(u)}});v.exports=i},95261:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(44603),m=t(23568),a=t(41481);o.register("zone",function(r){var n=m(r,"x",0),e=m(r,"y",0),s=m(r,"width",1),h=m(r,"height",s);return new a(this.scene,n,e,s,h)})},84175:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(41481),m=t(39429);m.register("zone",function(a,r,n,e){return this.displayList.add(new o(this.scene,a,r,n,e))})},95166:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.radius>0?Math.PI*t.radius*t.radius:0};v.exports=S},96503:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(87902),a=t(26241),r=t(79124),n=t(23777),e=t(28176),s=new o({initialize:function(i,l,u){i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=0),this.type=n.CIRCLE,this.x=i,this.y=l,this._radius=u,this._diameter=u*2},contains:function(h,i){return m(this,h,i)},getPoint:function(h,i){return a(this,h,i)},getPoints:function(h,i,l){return r(this,h,i,l)},getRandomPoint:function(h){return e(this,h)},setTo:function(h,i,l){return this.x=h,this.y=i,this._radius=l,this._diameter=l*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(h,i){return i===void 0&&(i=h),this.x=h,this.y=i,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(h){this._radius=h,this._diameter=h*2}},diameter:{get:function(){return this._diameter},set:function(h){this._diameter=h,this._radius=h*.5}},left:{get:function(){return this.x-this._radius},set:function(h){this.x=h+this._radius}},right:{get:function(){return this.x+this._radius},set:function(h){this.x=h-this._radius}},top:{get:function(){return this.y-this._radius},set:function(h){this.y=h+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(h){this.y=h-this._radius}}});v.exports=s},71562:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 2*(Math.PI*t.radius)};v.exports=S},92110:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),m=function(a,r,n){return n===void 0&&(n=new o),n.x=a.x+a.radius*Math.cos(r),n.y=a.y+a.radius*Math.sin(r),n};v.exports=m},42250:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(96503),m=function(a){return new o(a.x,a.y,a.radius)};v.exports=m},87902:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){if(t.radius>0&&o>=t.left&&o<=t.right&&m>=t.top&&m<=t.bottom){var a=(t.x-o)*(t.x-o),r=(t.y-m)*(t.y-m);return a+r<=t.radius*t.radius}else return!1};v.exports=S},5698:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87902),m=function(a,r){return o(a,r.x,r.y)};v.exports=m},70588:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87902),m=function(a,r){return o(a,r.x,r.y)&&o(a,r.right,r.y)&&o(a,r.x,r.bottom)&&o(a,r.right,r.bottom)};v.exports=m},26394:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return o.setTo(t.x,t.y,t.radius)};v.exports=S},76278:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return t.x===o.x&&t.y===o.y&&t.radius===o.radius};v.exports=S},2074:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),m=function(a,r){return r===void 0&&(r=new o),r.x=a.left,r.y=a.top,r.width=a.diameter,r.height=a.diameter,r};v.exports=m},26241:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(92110),m=t(62945),a=t(36383),r=t(2141),n=function(e,s,h){h===void 0&&(h=new r);var i=m(s,0,a.PI2);return o(e,i,h)};v.exports=n},79124:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(71562),m=t(92110),a=t(62945),r=t(36383),n=function(e,s,h,i){i===void 0&&(i=[]),!s&&h>0&&(s=o(e)/h);for(var l=0;l<s;l++){var u=a(l/s,0,r.PI2);i.push(m(e,u))}return i};v.exports=n},50884:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){return t.x+=o,t.y+=m,t};v.exports=S},39212:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return t.x+=o.x,t.y+=o.y,t};v.exports=S},28176:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),m=function(a,r){r===void 0&&(r=new o);var n=2*Math.PI*Math.random(),e=Math.random()+Math.random(),s=e>1?2-e:e,h=s*Math.cos(n),i=s*Math.sin(n);return r.x=a.x+h*a.radius,r.y=a.y+i*a.radius,r};v.exports=m},88911:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(96503);o.Area=t(95166),o.Circumference=t(71562),o.CircumferencePoint=t(92110),o.Clone=t(42250),o.Contains=t(87902),o.ContainsPoint=t(5698),o.ContainsRect=t(70588),o.CopyFrom=t(26394),o.Equals=t(76278),o.GetBounds=t(2074),o.GetPoint=t(26241),o.GetPoints=t(79124),o.Offset=t(50884),o.OffsetPoint=t(39212),o.Random=t(28176),v.exports=o},23777:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};v.exports=S},78874:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI};v.exports=S},92990:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var o=t.width/2,m=t.height/2,a=Math.pow(o-m,2)/Math.pow(o+m,2);return Math.PI*(o+m)*(1+3*a/(10+Math.sqrt(4-3*a)))};v.exports=S},79522:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),m=function(a,r,n){n===void 0&&(n=new o);var e=a.width/2,s=a.height/2;return n.x=a.x+e*Math.cos(r),n.y=a.y+s*Math.sin(r),n};v.exports=m},58102:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(8497),m=function(a){return new o(a.x,a.y,a.width,a.height)};v.exports=m},81154:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){if(t.width<=0||t.height<=0)return!1;var a=(o-t.x)/t.width,r=(m-t.y)/t.height;return a*=a,r*=r,a+r<.25};v.exports=S},46662:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(81154),m=function(a,r){return o(a,r.x,r.y)};v.exports=m},1632:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(81154),m=function(a,r){return o(a,r.x,r.y)&&o(a,r.right,r.y)&&o(a,r.x,r.bottom)&&o(a,r.right,r.bottom)};v.exports=m},65534:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return o.setTo(t.x,t.y,t.width,t.height)};v.exports=S},8497:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(81154),a=t(90549),r=t(48320),n=t(23777),e=t(24820),s=new o({initialize:function(i,l,u,d){i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=0),d===void 0&&(d=0),this.type=n.ELLIPSE,this.x=i,this.y=l,this.width=u,this.height=d},contains:function(h,i){return m(this,h,i)},getPoint:function(h,i){return a(this,h,i)},getPoints:function(h,i,l){return r(this,h,i,l)},getRandomPoint:function(h){return e(this,h)},setTo:function(h,i,l,u){return this.x=h,this.y=i,this.width=l,this.height=u,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(h,i){return i===void 0&&(i=h),this.x=h,this.y=i,this},setSize:function(h,i){return i===void 0&&(i=h),this.width=h,this.height=i,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(h){this.x=h+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(h){this.x=h-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(h){this.y=h+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(h){this.y=h-this.height/2}}});v.exports=s},36146:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return t.x===o.x&&t.y===o.y&&t.width===o.width&&t.height===o.height};v.exports=S},23694:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),m=function(a,r){return r===void 0&&(r=new o),r.x=a.left,r.y=a.top,r.width=a.width,r.height=a.height,r};v.exports=m},90549:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(79522),m=t(62945),a=t(36383),r=t(2141),n=function(e,s,h){h===void 0&&(h=new r);var i=m(s,0,a.PI2);return o(e,i,h)};v.exports=n},48320:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(92990),m=t(79522),a=t(62945),r=t(36383),n=function(e,s,h,i){i===void 0&&(i=[]),!s&&h>0&&(s=o(e)/h);for(var l=0;l<s;l++){var u=a(l/s,0,r.PI2);i.push(m(e,u))}return i};v.exports=n},73424:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){return t.x+=o,t.y+=m,t};v.exports=S},44808:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return t.x+=o.x,t.y+=o.y,t};v.exports=S},24820:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),m=function(a,r){r===void 0&&(r=new o);var n=Math.random()*Math.PI*2,e=Math.sqrt(Math.random());return r.x=a.x+e*Math.cos(n)*a.width/2,r.y=a.y+e*Math.sin(n)*a.height/2,r};v.exports=m},49203:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(8497);o.Area=t(78874),o.Circumference=t(92990),o.CircumferencePoint=t(79522),o.Clone=t(58102),o.Contains=t(81154),o.ContainsPoint=t(46662),o.ContainsRect=t(1632),o.CopyFrom=t(65534),o.Equals=t(36146),o.GetBounds=t(23694),o.GetPoint=t(90549),o.GetPoints=t(48320),o.Offset=t(73424),o.OffsetPoint=t(44808),o.Random=t(24820),v.exports=o},55738:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(23777),m=t(79291),a={Circle:t(88911),Ellipse:t(49203),Intersects:t(91865),Line:t(2529),Mesh:t(73090),Point:t(43711),Polygon:t(58423),Rectangle:t(93232),Triangle:t(84435)};a=m(!1,a,o),v.exports=a},2044:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20339),m=function(a,r){return o(a.x,a.y,r.x,r.y)<=a.radius+r.radius};v.exports=m},81491:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){var m=o.width/2,a=o.height/2,r=Math.abs(t.x-o.x-m),n=Math.abs(t.y-o.y-a),e=m+t.radius,s=a+t.radius;if(r>e||n>s)return!1;if(r<=m||n<=a)return!0;var h=r-m,i=n-a,l=h*h,u=i*i,d=t.radius*t.radius;return l+u<=d};v.exports=S},63376:(v,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),m=t(2044),a=function(r,n,e){if(e===void 0&&(e=[]),m(r,n)){var s=r.x,h=r.y,i=r.radius,l=n.x,u=n.y,d=n.radius,f,p,g,x,T;if(h===u)T=(d*d-i*i-l*l+s*s)/(2*(s-l)),f=1,p=-2*u,g=l*l+T*T-2*l*T+u*u-d*d,x=p*p-4*f*g,x===0?e.push(new o(T,-p/(2*f))):x>0&&(e.push(new o(T,(-p+Math.sqrt(x))/(2*f))),e.push(new o(T,(-p-Math.sqrt(x))/(2*f))));else{var E=(s-l)/(h-u),C=(d*d-i*i-l*l+s*s-u*u+h*h)/(2*(h-u));f=E*E+1,p=2*h*E-2*C*E-2*s,g=s*s+h*h+C*C-i*i-2*h*C,x=p*p-4*f*g,x===0?(T=-p/(2*f),e.push(new o(T,C-T*E))):x>0&&(T=(-p+Math.sqrt(x))/(2*f),e.push(new o(T,C-T*E)),T=(-p-Math.sqrt(x))/(2*f),e.push(new o(T,C-T*E)))}}return e};v.exports=a},97439:(v,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(4042),m=t(81491),a=function(r,n,e){if(e===void 0&&(e=[]),m(r,n)){var s=n.getLineA(),h=n.getLineB(),i=n.getLineC(),l=n.getLineD();o(s,r,e),o(h,r,e),o(i,r,e),o(l,r,e)}return e};v.exports=a},4042:(v,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),m=t(80462),a=function(r,n,e){if(e===void 0&&(e=[]),m(r,n)){var s=r.x1,h=r.y1,i=r.x2,l=r.y2,u=n.x,d=n.y,f=n.radius,p=i-s,g=l-h,x=s-u,T=h-d,E=p*p+g*g,C=2*(p*x+g*T),R=x*x+T*T-f*f,w=C*C-4*E*R,F,I;if(w===0){var L=-C/(2*E);F=s+L*p,I=h+L*g,L>=0&&L<=1&&e.push(new o(F,I))}else if(w>0){var D=(-C-Math.sqrt(w))/(2*E);F=s+D*p,I=h+D*g,D>=0&&D<=1&&e.push(new o(F,I));var B=(-C+Math.sqrt(w))/(2*E);F=s+B*p,I=h+B*g,B>=0&&B<=1&&e.push(new o(F,I))}}return e};v.exports=a},36100:(v,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25836),m=function(a,r,n,e){n===void 0&&(n=!1);var s=a.x1,h=a.y1,i=a.x2,l=a.y2,u=r.x1,d=r.y1,f=r.x2,p=r.y2,g=i-s,x=l-h,T=f-u,E=p-d,C=g*E-x*T;if(C===0)return null;var R,w,F;if(n){if(R=(g*(d-h)+x*(s-u))/(T*x-E*g),g!==0)w=(u+T*R-s)/g;else if(x!==0)w=(d+E*R-h)/x;else return null;if(w<0||R<0||R>1)return null;F=w}else{if(R=((u-s)*E-(d-h)*T)/C,w=((h-d)*g-(s-u)*x)/C,R<0||R>1||w<0||w>1)return null;F=R}return e===void 0&&(e=new o),e.set(s+g*F,h+x*F,F)};v.exports=m},3073:(v,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36100),m=t(23031),a=t(25836),r=new m,n=new a,e=function(s,h,i,l){i===void 0&&(i=!1),l===void 0&&(l=new a);var u=!1;l.set(),n.set();for(var d=h[h.length-1],f=0;f<h.length;f++){var p=h[f];r.setTo(d.x,d.y,p.x,p.y),d=p,o(s,r,i,n)&&(!u||n.z<l.z)&&(l.copy(n),u=!0)}return u?l:null};v.exports=e},56362:(v,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25836),m=t(61369),a=t(3073),r=new o,n=function(e,s,h,i){i===void 0&&(i=new m),Array.isArray(s)||(s=[s]);var l=!1;i.set(),r.set();for(var u=0;u<s.length;u++)a(e,s[u].points,h,r)&&(!l||r.z<i.z)&&(i.set(r.x,r.y,r.z,u),l=!0);return l?i:null};v.exports=n},60646:(v,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),m=t(76112),a=t(92773),r=function(n,e,s){if(s===void 0&&(s=[]),a(n,e))for(var h=e.getLineA(),i=e.getLineB(),l=e.getLineC(),u=e.getLineD(),d=[new o,new o,new o,new o],f=[m(h,n,d[0]),m(i,n,d[1]),m(l,n,d[2]),m(u,n,d[3])],p=0;p<4;p++)f[p]&&s.push(d[p]);return s};v.exports=r},71147:(v,S,t)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(61369),m=t(56362),a=t(23031),r=new a;function n(h,i,l,u,d){var f=Math.cos(h),p=Math.sin(h);r.setTo(i,l,i+f,l+p);var g=m(r,u,!0);g&&d.push(new o(g.x,g.y,h,g.w))}function e(h,i){return h.z-i.z}var s=function(h,i,l){Array.isArray(l)||(l=[l]);for(var u=[],d=[],f=0;f<l.length;f++)for(var p=l[f].points,g=0;g<p.length;g++){var x=Math.atan2(p[g].y-i,p[g].x-h);d.indexOf(x)===-1&&(n(x,h,i,l,u),n(x-1e-5,h,i,l,u),n(x+1e-5,h,i,l,u),d.push(x))}return u.sort(e)};v.exports=s},68389:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),m=t(59996),a=function(r,n,e){return e===void 0&&(e=new o),m(r,n)&&(e.x=Math.max(r.x,n.x),e.y=Math.max(r.y,n.y),e.width=Math.min(r.right,n.right)-e.x,e.height=Math.min(r.bottom,n.bottom)-e.y),e};v.exports=a},52784:(v,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(60646),m=t(59996),a=function(r,n,e){if(e===void 0&&(e=[]),m(r,n)){var s=r.getLineA(),h=r.getLineB(),i=r.getLineC(),l=r.getLineD();o(s,n,e),o(h,n,e),o(i,n,e),o(l,n,e)}return e};v.exports=a},26341:(v,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(89265),m=t(60646),a=function(r,n,e){if(e===void 0&&(e=[]),o(r,n)){var s=n.getLineA(),h=n.getLineB(),i=n.getLineC();m(s,r,e),m(h,r,e),m(i,r,e)}return e};v.exports=a},38720:(v,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(4042),m=t(67636),a=function(r,n,e){if(e===void 0&&(e=[]),m(r,n)){var s=r.getLineA(),h=r.getLineB(),i=r.getLineC();o(s,n,e),o(h,n,e),o(i,n,e)}return e};v.exports=a},13882:(v,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),m=t(2822),a=t(76112),r=function(n,e,s){if(s===void 0&&(s=[]),m(n,e))for(var h=n.getLineA(),i=n.getLineB(),l=n.getLineC(),u=[new o,new o,new o],d=[a(h,e,u[0]),a(i,e,u[1]),a(l,e,u[2])],f=0;f<3;f++)d[f]&&s.push(u[f]);return s};v.exports=r},75636:(v,S,t)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(82944),m=t(13882),a=function(r,n,e){if(e===void 0&&(e=[]),o(r,n)){var s=n.getLineA(),h=n.getLineB(),i=n.getLineC();m(r,s,e),m(r,h,e),m(r,i,e)}return e};v.exports=a},80462:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87902),m=t(2141),a=new m,r=function(n,e,s){if(s===void 0&&(s=a),o(e,n.x1,n.y1))return s.x=n.x1,s.y=n.y1,!0;if(o(e,n.x2,n.y2))return s.x=n.x2,s.y=n.y2,!0;var h=n.x2-n.x1,i=n.y2-n.y1,l=e.x-n.x1,u=e.y-n.y1,d=h*h+i*i,f=h,p=i;if(d>0){var g=(l*h+u*i)/d;f*=g,p*=g}s.x=n.x1+f,s.y=n.y1+p;var x=f*f+p*p;return x<=d&&f*h+p*i>=0&&o(e,s.x,s.y)};v.exports=r},76112:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){var a=t.x1,r=t.y1,n=t.x2,e=t.y2,s=o.x1,h=o.y1,i=o.x2,l=o.y2;if(a===n&&r===e||s===i&&h===l)return!1;var u=(l-h)*(n-a)-(i-s)*(e-r);if(u===0)return!1;var d=((i-s)*(r-h)-(l-h)*(a-s))/u,f=((n-a)*(r-h)-(e-r)*(a-s))/u;return d<0||d>1||f<0||f>1?!1:(m&&(m.x=a+d*(n-a),m.y=r+d*(e-r)),!0)};v.exports=S},92773:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){var m=t.x1,a=t.y1,r=t.x2,n=t.y2,e=o.x,s=o.y,h=o.right,i=o.bottom,l=0;if(m>=e&&m<=h&&a>=s&&a<=i||r>=e&&r<=h&&n>=s&&n<=i)return!0;if(m<e&&r>=e){if(l=a+(n-a)*(e-m)/(r-m),l>s&&l<=i)return!0}else if(m>h&&r<=h&&(l=a+(n-a)*(h-m)/(r-m),l>=s&&l<=i))return!0;if(a<s&&n>=s){if(l=m+(r-m)*(s-a)/(n-a),l>=e&&l<=h)return!0}else if(a>i&&n<=i&&(l=m+(r-m)*(i-a)/(n-a),l>=e&&l<=h))return!0;return!1};v.exports=S},16204:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){m===void 0&&(m=1);var a=o.x1,r=o.y1,n=o.x2,e=o.y2,s=t.x,h=t.y,i=(n-a)*(n-a)+(e-r)*(e-r);if(i===0)return!1;var l=((s-a)*(n-a)+(h-r)*(e-r))/i;if(l<0)return Math.sqrt((a-s)*(a-s)+(r-h)*(r-h))<=m;if(l>=0&&l<=1){var u=((r-h)*(n-a)-(a-s)*(e-r))/i;return Math.abs(u)*Math.sqrt(i)<=m}else return Math.sqrt((n-s)*(n-s)+(e-h)*(e-h))<=m};v.exports=S},14199:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(16204),m=function(a,r){if(!o(a,r))return!1;var n=Math.min(r.x1,r.x2),e=Math.max(r.x1,r.x2),s=Math.min(r.y1,r.y2),h=Math.max(r.y1,r.y2);return a.x>=n&&a.x<=e&&a.y>=s&&a.y<=h};v.exports=m},59996:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return t.width<=0||t.height<=0||o.width<=0||o.height<=0?!1:!(t.right<o.x||t.bottom<o.y||t.x>o.right||t.y>o.bottom)};v.exports=S},89265:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(76112),m=t(37303),a=t(48653),r=t(77493),n=function(e,s){if(s.left>e.right||s.right<e.left||s.top>e.bottom||s.bottom<e.top)return!1;var h=s.getLineA(),i=s.getLineB(),l=s.getLineC();if(m(e,h.x1,h.y1)||m(e,h.x2,h.y2)||m(e,i.x1,i.y1)||m(e,i.x2,i.y2)||m(e,l.x1,l.y1)||m(e,l.x2,l.y2))return!0;var u=e.getLineA(),d=e.getLineB(),f=e.getLineC(),p=e.getLineD();if(o(h,u)||o(h,d)||o(h,f)||o(h,p)||o(i,u)||o(i,d)||o(i,f)||o(i,p)||o(l,u)||o(l,d)||o(l,f)||o(l,p))return!0;var g=r(e),x=a(s,g,!0);return x.length>0};v.exports=n},84411:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a,r,n){return n===void 0&&(n=0),!(o>t.right+n||m<t.left-n||a>t.bottom+n||r<t.top-n)};v.exports=S},67636:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(80462),m=t(10690),a=function(r,n){return r.left>n.right||r.right<n.left||r.top>n.bottom||r.bottom<n.top?!1:!!(m(r,n.x,n.y)||o(r.getLineA(),n)||o(r.getLineB(),n)||o(r.getLineC(),n))};v.exports=a},2822:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(76112),m=function(a,r){return!!(a.contains(r.x1,r.y1)||a.contains(r.x2,r.y2)||o(a.getLineA(),r)||o(a.getLineB(),r)||o(a.getLineC(),r))};v.exports=m},82944:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(48653),m=t(71694),a=t(76112),r=function(n,e){if(n.left>e.right||n.right<e.left||n.top>e.bottom||n.bottom<e.top)return!1;var s=n.getLineA(),h=n.getLineB(),i=n.getLineC(),l=e.getLineA(),u=e.getLineB(),d=e.getLineC();if(a(s,l)||a(s,u)||a(s,d)||a(h,l)||a(h,u)||a(h,d)||a(i,l)||a(i,u)||a(i,d))return!0;var f=m(n),p=o(e,f,!0);return p.length>0||(f=m(e),p=o(n,f,!0),p.length>0)};v.exports=r},91865:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CircleToCircle:t(2044),CircleToRectangle:t(81491),GetCircleToCircle:t(63376),GetCircleToRectangle:t(97439),GetLineToCircle:t(4042),GetLineToLine:t(36100),GetLineToPoints:t(3073),GetLineToPolygon:t(56362),GetLineToRectangle:t(60646),GetRaysFromPointToPolygon:t(71147),GetRectangleIntersection:t(68389),GetRectangleToRectangle:t(52784),GetRectangleToTriangle:t(26341),GetTriangleToCircle:t(38720),GetTriangleToLine:t(13882),GetTriangleToTriangle:t(75636),LineToCircle:t(80462),LineToLine:t(76112),LineToRectangle:t(92773),PointToLine:t(16204),PointToLineSegment:t(14199),RectangleToRectangle:t(59996),RectangleToTriangle:t(89265),RectangleToValues:t(84411),TriangleToCircle:t(67636),TriangleToLine:t(2822),TriangleToTriangle:t(82944)}},91938:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)};v.exports=S},84993:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){o===void 0&&(o=1),m===void 0&&(m=[]);var a=Math.round(t.x1),r=Math.round(t.y1),n=Math.round(t.x2),e=Math.round(t.y2),s=Math.abs(n-a),h=Math.abs(e-r),i=a<n?1:-1,l=r<e?1:-1,u=s-h;m.push({x:a,y:r});for(var d=1;!(a===n&&r===e);){var f=u<<1;f>-h&&(u-=h,a+=i),f<s&&(u+=s,r+=l),d%o===0&&m.push({x:a,y:r}),d++}return m};v.exports=S},36469:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){var a=o-(t.x1+t.x2)/2,r=m-(t.y1+t.y2)/2;return t.x1+=a,t.y1+=r,t.x2+=a,t.y2+=r,t};v.exports=S},31116:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(23031),m=function(a){return new o(a.x1,a.y1,a.x2,a.y2)};v.exports=m},59944:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return o.setTo(t.x1,t.y1,t.x2,t.y2)};v.exports=S},59220:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return t.x1===o.x1&&t.y1===o.y1&&t.x2===o.x2&&t.y2===o.y2};v.exports=S},78177:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35001),m=function(a,r,n){n===void 0&&(n=r);var e=o(a),s=a.x2-a.x1,h=a.y2-a.y1;return r&&(a.x1=a.x1-s/e*r,a.y1=a.y1-h/e*r),n&&(a.x2=a.x2+s/e*n,a.y2=a.y2+h/e*n),a};v.exports=m},26708:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(52816),m=t(6113),a=t(2141),r=function(n,e,s,h,i){h===void 0&&(h=0),i===void 0&&(i=[]);var l=[],u=n.x1,d=n.y1,f=n.x2-u,p=n.y2-d,g=m(e,i),x,T,E=s-1;for(x=0;x<E;x++)T=g(x/E),l.push(new a(u+f*T,d+p*T));if(T=g(1),l.push(new a(u+f*T,d+p*T)),h>0){var C=l[0],R=[C];for(x=1;x<l.length-1;x++){var w=l[x];o(C,w)>=h&&(R.push(w),C=w)}var F=l[l.length-1];return o(C,F)<h&&R.pop(),R.push(F),R}else return l};v.exports=r},32125:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),m=function(a,r){return r===void 0&&(r=new o),r.x=(a.x1+a.x2)/2,r.y=(a.y1+a.y2)/2,r};v.exports=m},99569:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),m=function(a,r,n){n===void 0&&(n=new o);var e=a.x1,s=a.y1,h=a.x2,i=a.y2,l=(h-e)*(h-e)+(i-s)*(i-s);if(l===0)return n;var u=((r.x-e)*(h-e)+(r.y-s)*(i-s))/l;return n.x=e+u*(h-e),n.y=s+u*(i-s),n};v.exports=m},34638:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),m=t(91938),a=t(2141),r=function(n,e){e===void 0&&(e=new a);var s=m(n)-o.TAU;return e.x=Math.cos(s),e.y=Math.sin(s),e};v.exports=r},13151:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),m=function(a,r,n){return n===void 0&&(n=new o),n.x=a.x1+(a.x2-a.x1)*r,n.y=a.y1+(a.y2-a.y1)*r,n};v.exports=m},15258:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35001),m=t(2141),a=function(r,n,e,s){s===void 0&&(s=[]),!n&&e>0&&(n=o(r)/e);for(var h=r.x1,i=r.y1,l=r.x2,u=r.y2,d=0;d<n;d++){var f=d/n,p=h+(l-h)*f,g=i+(u-i)*f;s.push(new m(p,g))}return s};v.exports=a},26408:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){var m=t.x1,a=t.y1,r=t.x2,n=t.y2,e=(r-m)*(r-m)+(n-a)*(n-a);if(e===0)return!1;var s=((a-o.y)*(r-m)-(m-o.x)*(n-a))/e;return Math.abs(s)*Math.sqrt(e)};v.exports=S},98770:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.abs(t.y1-t.y2)};v.exports=S},35001:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))};v.exports=S},23031:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(13151),a=t(15258),r=t(23777),n=t(65822),e=t(26099),s=new o({initialize:function(i,l,u,d){i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=0),d===void 0&&(d=0),this.type=r.LINE,this.x1=i,this.y1=l,this.x2=u,this.y2=d},getPoint:function(h,i){return m(this,h,i)},getPoints:function(h,i,l){return a(this,h,i,l)},getRandomPoint:function(h){return n(this,h)},setTo:function(h,i,l,u){return h===void 0&&(h=0),i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=0),this.x1=h,this.y1=i,this.x2=l,this.y2=u,this},setFromObjects:function(h,i){return this.x1=h.x,this.y1=h.y,this.x2=i.x,this.y2=i.y,this},getPointA:function(h){return h===void 0&&(h=new e),h.set(this.x1,this.y1),h},getPointB:function(h){return h===void 0&&(h=new e),h.set(this.x2,this.y2),h},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(h){this.x1<=this.x2?this.x1=h:this.x2=h}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(h){this.x1>this.x2?this.x1=h:this.x2=h}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(h){this.y1<=this.y2?this.y1=h:this.y2=h}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(h){this.y1>this.y2?this.y1=h:this.y2=h}}});v.exports=s},64795:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),m=t(15994),a=t(91938),r=function(n){var e=a(n)-o.TAU;return m(e,-Math.PI,Math.PI)};v.exports=r},52616:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),m=t(91938),a=function(r){return Math.cos(m(r)-o.TAU)};v.exports=a},87231:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),m=t(91938),a=function(r){return Math.sin(m(r)-o.TAU)};v.exports=a},89662:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){return t.x1+=o,t.y1+=m,t.x2+=o,t.y2+=m,t};v.exports=S},71165:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return-((t.x2-t.x1)/(t.y2-t.y1))};v.exports=S},65822:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),m=function(a,r){r===void 0&&(r=new o);var n=Math.random();return r.x=a.x1+n*(a.x2-a.x1),r.y=a.y1+n*(a.y2-a.y1),r};v.exports=m},69777:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91938),m=t(64795),a=function(r,n){return 2*m(n)-Math.PI-o(r)};v.exports=a},39706:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(64400),m=function(a,r){var n=(a.x1+a.x2)/2,e=(a.y1+a.y2)/2;return o(a,n,e,r)};v.exports=m},82585:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(64400),m=function(a,r,n){return o(a,r.x,r.y,n)};v.exports=m},64400:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a){var r=Math.cos(a),n=Math.sin(a),e=t.x1-o,s=t.y1-m;return t.x1=e*r-s*n+o,t.y1=e*n+s*r+m,e=t.x2-o,s=t.y2-m,t.x2=e*r-s*n+o,t.y2=e*n+s*r+m,t};v.exports=S},62377:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a,r){return t.x1=o,t.y1=m,t.x2=o+Math.cos(a)*r,t.y2=m+Math.sin(a)*r,t};v.exports=S},71366:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t.y2-t.y1)/(t.x2-t.x1)};v.exports=S},10809:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.abs(t.x1-t.x2)};v.exports=S},2529:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(23031);o.Angle=t(91938),o.BresenhamPoints=t(84993),o.CenterOn=t(36469),o.Clone=t(31116),o.CopyFrom=t(59944),o.Equals=t(59220),o.Extend=t(78177),o.GetEasedPoints=t(26708),o.GetMidPoint=t(32125),o.GetNearestPoint=t(99569),o.GetNormal=t(34638),o.GetPoint=t(13151),o.GetPoints=t(15258),o.GetShortestDistance=t(26408),o.Height=t(98770),o.Length=t(35001),o.NormalAngle=t(64795),o.NormalX=t(52616),o.NormalY=t(87231),o.Offset=t(89662),o.PerpSlope=t(71165),o.Random=t(65822),o.ReflectAngle=t(69777),o.Rotate=t(39706),o.RotateAroundPoint=t(82585),o.RotateAroundXY=t(64400),o.SetToAngle=t(62377),o.Slope=t(71366),o.Width=t(10809),v.exports=o},83997:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(87841),a=t(26099);function r(e,s,h,i){var l=e-h,u=s-i,d=l*l+u*u;return Math.sqrt(d)}var n=new o({initialize:function(s,h,i){this.vertex1=s,this.vertex2=h,this.vertex3=i,this.bounds=new m,this._inCenter=new a},getInCenter:function(e){e===void 0&&(e=!0);var s=this.vertex1,h=this.vertex2,i=this.vertex3,l,u,d,f,p,g;e?(l=s.x,u=s.y,d=h.x,f=h.y,p=i.x,g=i.y):(l=s.vx,u=s.vy,d=h.vx,f=h.vy,p=i.vx,g=i.vy);var x=r(p,g,d,f),T=r(l,u,p,g),E=r(d,f,l,u),C=x+T+E;return this._inCenter.set((l*x+d*T+p*E)/C,(u*x+f*T+g*E)/C)},contains:function(e,s,h){var i=this.vertex1,l=this.vertex2,u=this.vertex3,d=i.vx,f=i.vy,p=l.vx,g=l.vy,x=u.vx,T=u.vy;if(h){var E=h.a,C=h.b,R=h.c,w=h.d,F=h.e,I=h.f;d=i.vx*E+i.vy*R+F,f=i.vx*C+i.vy*w+I,p=l.vx*E+l.vy*R+F,g=l.vx*C+l.vy*w+I,x=u.vx*E+u.vy*R+F,T=u.vx*C+u.vy*w+I}var L=x-d,D=T-f,B=p-d,U=g-f,W=e-d,K=s-f,Y=L*L+D*D,G=L*B+D*U,X=L*W+D*K,V=B*B+U*U,b=B*W+U*K,z=Y*V-G*G,k=z===0?0:1/z,$=(V*X-G*b)*k,J=(Y*b-G*X)*k;return $>=0&&J>=0&&$+J<1},isCounterClockwise:function(e){var s=this.vertex1,h=this.vertex2,i=this.vertex3,l=(h.vx-s.vx)*(i.vy-s.vy)-(h.vy-s.vy)*(i.vx-s.vx);return e<=0?l>=0:l<0},load:function(e,s,h,i,l){return h=this.vertex1.load(e,s,h,i,l),h=this.vertex2.load(e,s,h,i,l),h=this.vertex3.load(e,s,h,i,l),h},transformCoordinatesLocal:function(e,s,h,i){return this.vertex1.transformCoordinatesLocal(e,s,h,i),this.vertex2.transformCoordinatesLocal(e,s,h,i),this.vertex3.transformCoordinatesLocal(e,s,h,i),this},updateBounds:function(){var e=this.vertex1,s=this.vertex2,h=this.vertex3,i=this.bounds;return i.x=Math.min(e.vx,s.vx,h.vx),i.y=Math.min(e.vy,s.vy,h.vy),i.width=Math.max(e.vx,s.vx,h.vx)-i.x,i.height=Math.max(e.vy,s.vy,h.vy)-i.y,this},isInView:function(e,s,h,i,l,u,d,f,p,g,x){this.update(i,l,u,d,f,p,g,x);var T=this.vertex1,E=this.vertex2,C=this.vertex3;if(T.ta<=0&&E.ta<=0&&C.ta<=0||s&&!this.isCounterClockwise(h))return!1;var R=this.bounds;R.x=Math.min(T.tx,E.tx,C.tx),R.y=Math.min(T.ty,E.ty,C.ty),R.width=Math.max(T.tx,E.tx,C.tx)-R.x,R.height=Math.max(T.ty,E.ty,C.ty)-R.y;var w=e.x+e.width,F=e.y+e.height;return R.width<=0||R.height<=0||e.width<=0||e.height<=0?!1:!(R.right<e.x||R.bottom<e.y||R.x>w||R.y>F)},scrollUV:function(e,s){return this.vertex1.scrollUV(e,s),this.vertex2.scrollUV(e,s),this.vertex3.scrollUV(e,s),this},scaleUV:function(e,s){return this.vertex1.scaleUV(e,s),this.vertex2.scaleUV(e,s),this.vertex3.scaleUV(e,s),this},setColor:function(e){return this.vertex1.color=e,this.vertex2.color=e,this.vertex3.color=e,this},update:function(e,s,h,i,l,u,d,f){return this.vertex1.update(s,h,i,l,u,d,f,e),this.vertex2.update(s,h,i,l,u,d,f,e),this.vertex3.update(s,h,i,l,u,d,f,e),this},translate:function(e,s){s===void 0&&(s=0);var h=this.vertex1,i=this.vertex2,l=this.vertex3;return h.x+=e,h.y+=s,i.x+=e,i.y+=s,l.x+=e,l.y+=s,this},x:{get:function(){return this.getInCenter().x},set:function(e){var s=this.getInCenter();this.translate(e-s.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(e){var s=this.getInCenter();this.translate(0,e-s.y)}},alpha:{get:function(){var e=this.vertex1,s=this.vertex2,h=this.vertex3;return(e.alpha+s.alpha+h.alpha)/3},set:function(e){this.vertex1.alpha=e,this.vertex2.alpha=e,this.vertex3.alpha=e}},depth:{get:function(){var e=this.vertex1,s=this.vertex2,h=this.vertex3;return(e.vz+s.vz+h.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});v.exports=n},48803:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83997),m=t(95540),a=t(37867),r=t(25836),n=t(39318),e=new r,s=new r,h=new a,i=function(l){var u=m(l,"mesh"),d=m(l,"texture",null),f=m(l,"frame"),p=m(l,"width",1),g=m(l,"height",p),x=m(l,"widthSegments",1),T=m(l,"heightSegments",x),E=m(l,"x",0),C=m(l,"y",0),R=m(l,"z",0),w=m(l,"rotateX",0),F=m(l,"rotateY",0),I=m(l,"rotateZ",0),L=m(l,"zIsUp",!0),D=m(l,"isOrtho",u?u.dirtyCache[11]:!1),B=m(l,"colors",[16777215]),U=m(l,"alphas",[1]),W=m(l,"tile",!1),K=m(l,"flipY",!1),Y=m(l,"width",null),G={faces:[],verts:[]};e.set(E,C,R),s.set(w,F,I),h.fromRotationXYTranslation(s,e,L);var X;if(!d&&u)d=u.texture,f||(X=u.frame);else if(u&&typeof d=="string")d=u.scene.sys.textures.get(d);else if(!d)return G;X||(X=d.get(f)),!Y&&D&&d&&u&&(p=X.width/u.height,g=X.height/u.height);var V=p/2,b=g/2,z=Math.floor(x),k=Math.floor(T),$=z+1,J=k+1,j=p/z,q=g/k,_=[],tt=[],et,at,ot=0,nt=1,vt=0,pt=1;X&&(ot=X.u0,nt=X.u1,K?(vt=X.v1,pt=X.v0):(vt=X.v0,pt=X.v1));var gt=nt-ot,rt=pt-vt;for(at=0;at<J;at++){var ut=at*q-b;for(et=0;et<$;et++){var ft=et*j-V;tt.push(ft,-ut);var St=ot+gt*(et/z),Tt=vt+rt*(at/k);_.push(St,Tt)}}Array.isArray(B)||(B=[B]),Array.isArray(U)||(U=[U]);var wt=0,Pt=0;for(at=0;at<k;at++)for(et=0;et<z;et++){var Mt=(et+$*at)*2,bt=(et+$*(at+1))*2,Kt=(et+1+$*(at+1))*2,Lt=(et+1+$*at)*2,Vt=B[Pt],Ut=U[wt],$t=new n(tt[Mt],tt[Mt+1],0,_[Mt],_[Mt+1],Vt,Ut).transformMat4(h),Oe=new n(tt[bt],tt[bt+1],0,_[bt],_[bt+1],Vt,Ut).transformMat4(h),De=new n(tt[Lt],tt[Lt+1],0,_[Lt],_[Lt+1],Vt,Ut).transformMat4(h),me=new n(tt[bt],tt[bt+1],0,_[bt],_[bt+1],Vt,Ut).transformMat4(h),Ae=new n(tt[Kt],tt[Kt+1],0,_[Kt],_[Kt+1],Vt,Ut).transformMat4(h),Pe=new n(tt[Lt],tt[Lt+1],0,_[Lt],_[Lt+1],Vt,Ut).transformMat4(h);W&&($t.setUVs(ot,pt),Oe.setUVs(ot,vt),De.setUVs(nt,pt),me.setUVs(ot,vt),Ae.setUVs(nt,vt),Pe.setUVs(nt,pt)),Pt++,Pt===B.length&&(Pt=0),wt++,wt===U.length&&(wt=0),G.verts.push($t,Oe,De,me,Ae,Pe),G.faces.push(new o($t,Oe,De),new o(me,Ae,Pe))}return u&&(u.faces=u.faces.concat(G.faces),u.vertices=u.vertices.concat(G.verts)),G};v.exports=i},34684:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83997),m=t(37867),a=t(25836),r=t(39318),n=new a,e=new a,s=new m,h=function(i,l,u,d,f,p,g,x,T,E){u===void 0&&(u=1),d===void 0&&(d=0),f===void 0&&(f=0),p===void 0&&(p=0),g===void 0&&(g=0),x===void 0&&(x=0),T===void 0&&(T=0),E===void 0&&(E=!0);var C={faces:[],verts:[]},R=i.materials;n.set(d,f,p),e.set(g,x,T),s.fromRotationXYTranslation(e,n,E);for(var w=0;w<i.models.length;w++)for(var F=i.models[w],I=F.vertices,L=F.textureCoords,D=F.faces,B=0;B<D.length;B++){var U=D[B],W=U.vertices[0],K=U.vertices[1],Y=U.vertices[2],G=I[W.vertexIndex],X=I[K.vertexIndex],V=I[Y.vertexIndex],b=W.textureCoordsIndex,z=K.textureCoordsIndex,k=Y.textureCoordsIndex,$=b===-1?{u:0,v:1}:L[b],J=z===-1?{u:0,v:0}:L[z],j=k===-1?{u:1,v:1}:L[k],q=16777215;U.material!==""&&R[U.material]&&(q=R[U.material]);var _=new r(G.x*u,G.y*u,G.z*u,$.u,$.v,q).transformMat4(s),tt=new r(X.x*u,X.y*u,X.z*u,J.u,J.v,q).transformMat4(s),et=new r(V.x*u,V.y*u,V.z*u,j.u,j.v,q).transformMat4(s);C.verts.push(_,tt,et),C.faces.push(new o(_,tt,et))}return l&&(l.faces=l.faces.concat(C.faces),l.vertices=l.vertices.concat(C.verts)),C};v.exports=h},92515:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83997),m=t(39318),a=function(r,n,e,s,h,i,l,u){if(s===void 0&&(s=!1),i===void 0&&(i=16777215),l===void 0&&(l=1),u===void 0&&(u=!1),r.length!==n.length&&!s){console.warn("GenerateVerts: vertices and uvs count not equal");return}var d={faces:[],vertices:[]},f,p,g,x,T,E,C,R,w,F,I,L=s?3:2,D=Array.isArray(i),B=Array.isArray(l);if(Array.isArray(e)&&e.length>0)for(f=0;f<e.length;f++){var U=e[f],W=e[f]*2,K=e[f]*L;p=r[K],g=r[K+1],x=s?r[K+2]:0,T=n[W],E=n[W+1],u&&(E=1-E),C=D?i[U]:i,R=B?l[U]:l,w=0,F=0,I=0,h&&(w=h[K],F=h[K+1],I=s?h[K+2]:0),d.vertices.push(new m(p,g,x,T,E,C,R,w,F,I))}else{var Y=0,G=0;for(f=0;f<r.length;f+=L)p=r[f],g=r[f+1],x=s?r[f+2]:0,T=n[Y],E=n[Y+1],C=D?i[G]:i,R=B?l[G]:l,w=0,F=0,I=0,h&&(w=h[f],F=h[f+1],I=s?h[f+2]:0),d.vertices.push(new m(p,g,x,T,E,C,R,w,F,I)),Y+=2,G++}for(f=0;f<d.vertices.length;f+=3){var X=d.vertices[f],V=d.vertices[f+1],b=d.vertices[f+2];d.faces.push(new o(X,V,b))}return d};v.exports=a},85048:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=!0,t="untitled",o="",m="";function a(p){var g=p.indexOf("#");return g>-1?p.substring(0,g):p}function r(p){return p.models.length===0&&p.models.push({faces:[],name:t,textureCoords:[],vertexNormals:[],vertices:[]}),o="",p.models[p.models.length-1]}function n(p,g){var x=p.length>=2?p[1]:t;g.models.push({faces:[],name:x,textureCoords:[],vertexNormals:[],vertices:[]}),o=""}function e(p){p.length===2&&(o=p[1])}function s(p,g){var x=p.length,T=x>=2?parseFloat(p[1]):0,E=x>=3?parseFloat(p[2]):0,C=x>=4?parseFloat(p[3]):0;r(g).vertices.push({x:T,y:E,z:C})}function h(p,g){var x=p.length,T=x>=2?parseFloat(p[1]):0,E=x>=3?parseFloat(p[2]):0,C=x>=4?parseFloat(p[3]):0;isNaN(T)&&(T=0),isNaN(E)&&(E=0),isNaN(C)&&(C=0),S&&(E=1-E),r(g).textureCoords.push({u:T,v:E,w:C})}function i(p,g){var x=p.length,T=x>=2?parseFloat(p[1]):0,E=x>=3?parseFloat(p[2]):0,C=x>=4?parseFloat(p[3]):0;r(g).vertexNormals.push({x:T,y:E,z:C})}function l(p,g){var x=p.length-1;if(!(x<3)){for(var T={group:o,material:m,vertices:[]},E=0;E<x;E++){var C=p[E+1],R=C.split("/"),w=R.length;if(!(w<1||w>3)){var F=0,I=0,L=0;F=parseInt(R[0],10),w>1&&R[1]!==""&&(I=parseInt(R[1],10)),w>2&&(L=parseInt(R[2],10)),F!==0&&(F<0&&(F=r(g).vertices.length+1+F),I-=1,F-=1,L-=1,T.vertices.push({textureCoordsIndex:I,vertexIndex:F,vertexNormalIndex:L}))}}r(g).faces.push(T)}}function u(p,g){p.length>=2&&g.materialLibraries.push(p[1])}function d(p){p.length>=2&&(m=p[1])}var f=function(p,g){g===void 0&&(g=!0),S=g;var x={materials:{},materialLibraries:[],models:[]};o="",m="";for(var T=p.split(`
`),E=0;E<T.length;E++){var C=a(T[E]),R=C.replace(/\s\s+/g," ").trim().split(" ");switch(R[0].toLowerCase()){case"o":n(R,x);break;case"g":e(R);break;case"v":s(R,x);break;case"vt":h(R,x);break;case"vn":i(R,x);break;case"f":l(R,x);break;case"mtllib":u(R,x);break;case"usemtl":d(R);break}}return x};v.exports=f},61485:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37589),m=function(a){for(var r={},n=a.split(`
`),e="",s=0;s<n.length;s++){var h=n[s].trim();if(!(h.indexOf("#")===0||h==="")){var i=h.replace(/\s\s+/g," ").trim().split(" ");switch(i[0].toLowerCase()){case"newmtl":{e=i[1];break}case"kd":{var l=Math.floor(i[1]*255),u=i.length>=2?Math.floor(i[2]*255):l,d=i.length>=3?Math.floor(i[3]*255):l;r[e]=o(l,u,d);break}}}}return r};v.exports=m},92570:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a){var r,n;if(m===void 0&&a===void 0){var e=t.getInCenter();r=e.x,n=e.y}var s=Math.cos(o),h=Math.sin(o),i=t.vertex1,l=t.vertex2,u=t.vertex3,d=i.x-r,f=i.y-n;i.set(d*s-f*h+r,d*h+f*s+n),d=l.x-r,f=l.y-n,l.set(d*s-f*h+r,d*h+f*s+n),d=u.x-r,f=u.y-n,u.set(d*s-f*h+r,d*h+f*s+n)};v.exports=S},39318:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(70554),a=t(25836),r=new o({Extends:a,initialize:function(e,s,h,i,l,u,d,f,p,g){u===void 0&&(u=16777215),d===void 0&&(d=1),f===void 0&&(f=0),p===void 0&&(p=0),g===void 0&&(g=0),a.call(this,e,s,h),this.vx=0,this.vy=0,this.vz=0,this.nx=f,this.ny=p,this.nz=g,this.u=i,this.v=l,this.color=u,this.alpha=d,this.tx=0,this.ty=0,this.ta=0,this.tu=i,this.tv=l},setUVs:function(n,e){return this.u=n,this.v=e,this.tu=n,this.tv=e,this},scrollUV:function(n,e){return this.tu+=n,this.tv+=e,this},scaleUV:function(n,e){return this.tu=this.u*n,this.tv=this.v*e,this},transformCoordinatesLocal:function(n,e,s,h){var i=this.x,l=this.y,u=this.z,d=n.val,f=i*d[0]+l*d[4]+u*d[8]+d[12],p=i*d[1]+l*d[5]+u*d[9]+d[13],g=i*d[2]+l*d[6]+u*d[10]+d[14],x=i*d[3]+l*d[7]+u*d[11]+d[15];this.vx=f/x*e,this.vy=-(p/x)*s,h<=0?this.vz=g/x:this.vz=-(g/x)},resize:function(n,e,s,h,i,l){return this.x=n,this.y=e,this.vx=this.x*s,this.vy=-this.y*h,this.vz=0,i<.5?this.vx+=s*(.5-i):i>.5&&(this.vx-=s*(i-.5)),l<.5?this.vy+=h*(.5-l):l>.5&&(this.vy-=h*(l-.5)),this},update:function(n,e,s,h,i,l,u,d){var f=this.vx*n+this.vy*s+i,p=this.vx*e+this.vy*h+l;return u&&(f=Math.round(f),p=Math.round(p)),this.tx=f,this.ty=p,this.ta=this.alpha*d,this},load:function(n,e,s,h,i){return n[++s]=this.tx,n[++s]=this.ty,n[++s]=this.tu,n[++s]=this.tv,n[++s]=h,n[++s]=i,e[++s]=m.getTintAppendFloatAlpha(this.color,this.ta),s}});v.exports=r},73090:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={Face:t(83997),GenerateGridVerts:t(48803),GenerateObjVerts:t(34684),GenerateVerts:t(92515),ParseObj:t(85048),ParseObjMaterial:t(61485),RotateFace:t(92570),Vertex:t(39318)};v.exports=o},96550:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.setTo(Math.ceil(t.x),Math.ceil(t.y))};v.exports=S},99706:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),m=function(a){return new o(a.x,a.y)};v.exports=m},68010:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return o.setTo(t.x,t.y)};v.exports=S},27814:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return t.x===o.x&&t.y===o.y};v.exports=S},73565:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.setTo(Math.floor(t.x),Math.floor(t.y))};v.exports=S},87555:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),m=function(a,r){if(r===void 0&&(r=new o),!Array.isArray(a))throw new Error("GetCentroid points argument must be an array");var n=a.length;if(n<1)throw new Error("GetCentroid points array must not be empty");if(n===1)r.x=a[0].x,r.y=a[0].y;else{for(var e=0;e<n;e++)r.x+=a[e].x,r.y+=a[e].y;r.x/=n,r.y/=n}return r};v.exports=m},28793:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)};v.exports=S},44405:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x*t.x+t.y*t.y};v.exports=S},20873:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),m=function(a,r){r===void 0&&(r=new o);for(var n=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,h=Number.POSITIVE_INFINITY,i=0;i<a.length;i++){var l=a[i];l.x>n&&(n=l.x),l.x<e&&(e=l.x),l.y>s&&(s=l.y),l.y<h&&(h=l.y)}return r.x=e,r.y=h,r.width=n-e,r.height=s-h,r};v.exports=m},26152:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),m=function(a,r,n,e){return n===void 0&&(n=0),e===void 0&&(e=new o),e.x=a.x+(r.x-a.x)*n,e.y=a.y+(r.y-a.y)*n,e};v.exports=m},55767:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.setTo(t.y,t.x)};v.exports=S},79432:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),m=function(a,r){return r===void 0&&(r=new o),r.setTo(-a.x,-a.y)};v.exports=m},2141:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(23777),a=new o({initialize:function(n,e){n===void 0&&(n=0),e===void 0&&(e=n),this.type=m.POINT,this.x=n,this.y=e},setTo:function(r,n){return r===void 0&&(r=0),n===void 0&&(n=r),this.x=r,this.y=n,this}});v.exports=a},72930:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),m=t(44405),a=function(r,n,e){e===void 0&&(e=new o);var s=r.x*n.x+r.y*n.y,h=s/m(n);return h!==0&&(e.x=h*n.x,e.y=h*n.y),e};v.exports=a},62880:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),m=function(a,r,n){n===void 0&&(n=new o);var e=a.x*r.x+a.y*r.y;return e!==0&&(n.x=e*r.x,n.y=e*r.y),n};v.exports=m},15093:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(28793),m=function(a,r){if(a.x!==0||a.y!==0){var n=o(a);a.x/=n,a.y/=n}return a.x*=r,a.y*=r,a};v.exports=m},43711:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141);o.Ceil=t(96550),o.Clone=t(99706),o.CopyFrom=t(68010),o.Equals=t(27814),o.Floor=t(73565),o.GetCentroid=t(87555),o.GetMagnitude=t(28793),o.GetMagnitudeSq=t(44405),o.GetRectangleFromPoints=t(20873),o.Interpolate=t(26152),o.Invert=t(55767),o.Negative=t(79432),o.Project=t(72930),o.ProjectUnit=t(62880),o.SetMagnitude=t(15093),v.exports=o},12306:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25717),m=function(a){return new o(a.points)};v.exports=m},63814:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){for(var a=!1,r=-1,n=t.points.length-1;++r<t.points.length;n=r){var e=t.points[r].x,s=t.points[r].y,h=t.points[n].x,i=t.points[n].y;(s<=m&&m<i||i<=m&&m<s)&&o<(h-e)*(m-s)/(i-s)+e&&(a=!a)}return a};v.exports=S},99338:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(63814),m=function(a,r){return o(a,r.x,r.y)};v.exports=m},94811:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(G,X,V){V=V||2;var b=X&&X.length,z=b?X[0]*V:G.length,k=t(G,0,z,V,!0),$=[];if(!k||k.next===k.prev)return $;var J,j,q,_,tt,et,at;if(b&&(k=s(G,X,k,V)),G.length>80*V){J=q=G[0],j=_=G[1];for(var ot=V;ot<z;ot+=V)tt=G[ot],et=G[ot+1],tt<J&&(J=tt),et<j&&(j=et),tt>q&&(q=tt),et>_&&(_=et);at=Math.max(q-J,_-j),at=at!==0?32767/at:0}return m(k,$,V,J,j,at,0),$}function t(G,X,V,b,z){var k,$;if(z===Y(G,X,V,b)>0)for(k=X;k<V;k+=b)$=U(k,G[k],G[k+1],$);else for(k=V-b;k>=X;k-=b)$=U(k,G[k],G[k+1],$);return $&&C($,$.next)&&(W($),$=$.next),$}function o(G,X){if(!G)return G;X||(X=G);var V=G,b;do if(b=!1,!V.steiner&&(C(V,V.next)||E(V.prev,V,V.next)===0)){if(W(V),V=X=V.prev,V===V.next)break;b=!0}else V=V.next;while(b||V!==X);return X}function m(G,X,V,b,z,k,$){if(G){!$&&k&&d(G,b,z,k);for(var J=G,j,q;G.prev!==G.next;){if(j=G.prev,q=G.next,k?r(G,b,z,k):a(G)){X.push(j.i/V|0),X.push(G.i/V|0),X.push(q.i/V|0),W(G),G=q.next,J=q.next;continue}if(G=q,G===J){$?$===1?(G=n(o(G),X,V),m(G,X,V,b,z,k,2)):$===2&&e(G,X,V,b,z,k):m(o(G),X,V,b,z,k,1);break}}}}function a(G){var X=G.prev,V=G,b=G.next;if(E(X,V,b)>=0)return!1;for(var z=X.x,k=V.x,$=b.x,J=X.y,j=V.y,q=b.y,_=z<k?z<$?z:$:k<$?k:$,tt=J<j?J<q?J:q:j<q?j:q,et=z>k?z>$?z:$:k>$?k:$,at=J>j?J>q?J:q:j>q?j:q,ot=b.next;ot!==X;){if(ot.x>=_&&ot.x<=et&&ot.y>=tt&&ot.y<=at&&x(z,J,k,j,$,q,ot.x,ot.y)&&E(ot.prev,ot,ot.next)>=0)return!1;ot=ot.next}return!0}function r(G,X,V,b){var z=G.prev,k=G,$=G.next;if(E(z,k,$)>=0)return!1;for(var J=z.x,j=k.x,q=$.x,_=z.y,tt=k.y,et=$.y,at=J<j?J<q?J:q:j<q?j:q,ot=_<tt?_<et?_:et:tt<et?tt:et,nt=J>j?J>q?J:q:j>q?j:q,vt=_>tt?_>et?_:et:tt>et?tt:et,pt=p(at,ot,X,V,b),gt=p(nt,vt,X,V,b),rt=G.prevZ,ut=G.nextZ;rt&&rt.z>=pt&&ut&&ut.z<=gt;){if(rt.x>=at&&rt.x<=nt&&rt.y>=ot&&rt.y<=vt&&rt!==z&&rt!==$&&x(J,_,j,tt,q,et,rt.x,rt.y)&&E(rt.prev,rt,rt.next)>=0||(rt=rt.prevZ,ut.x>=at&&ut.x<=nt&&ut.y>=ot&&ut.y<=vt&&ut!==z&&ut!==$&&x(J,_,j,tt,q,et,ut.x,ut.y)&&E(ut.prev,ut,ut.next)>=0))return!1;ut=ut.nextZ}for(;rt&&rt.z>=pt;){if(rt.x>=at&&rt.x<=nt&&rt.y>=ot&&rt.y<=vt&&rt!==z&&rt!==$&&x(J,_,j,tt,q,et,rt.x,rt.y)&&E(rt.prev,rt,rt.next)>=0)return!1;rt=rt.prevZ}for(;ut&&ut.z<=gt;){if(ut.x>=at&&ut.x<=nt&&ut.y>=ot&&ut.y<=vt&&ut!==z&&ut!==$&&x(J,_,j,tt,q,et,ut.x,ut.y)&&E(ut.prev,ut,ut.next)>=0)return!1;ut=ut.nextZ}return!0}function n(G,X,V){var b=G;do{var z=b.prev,k=b.next.next;!C(z,k)&&R(z,b,b.next,k)&&L(z,k)&&L(k,z)&&(X.push(z.i/V|0),X.push(b.i/V|0),X.push(k.i/V|0),W(b),W(b.next),b=G=k),b=b.next}while(b!==G);return o(b)}function e(G,X,V,b,z,k){var $=G;do{for(var J=$.next.next;J!==$.prev;){if($.i!==J.i&&T($,J)){var j=B($,J);$=o($,$.next),j=o(j,j.next),m($,X,V,b,z,k,0),m(j,X,V,b,z,k,0);return}J=J.next}$=$.next}while($!==G)}function s(G,X,V,b){var z=[],k,$,J,j,q;for(k=0,$=X.length;k<$;k++)J=X[k]*b,j=k<$-1?X[k+1]*b:G.length,q=t(G,J,j,b,!1),q===q.next&&(q.steiner=!0),z.push(g(q));for(z.sort(h),k=0;k<z.length;k++)V=i(z[k],V);return V}function h(G,X){return G.x-X.x}function i(G,X){var V=l(G,X);if(!V)return X;var b=B(V,G);return o(b,b.next),o(V,V.next)}function l(G,X){var V=X,b=G.x,z=G.y,k=-1/0,$;do{if(z<=V.y&&z>=V.next.y&&V.next.y!==V.y){var J=V.x+(z-V.y)*(V.next.x-V.x)/(V.next.y-V.y);if(J<=b&&J>k&&(k=J,$=V.x<V.next.x?V:V.next,J===b))return $}V=V.next}while(V!==X);if(!$)return null;var j=$,q=$.x,_=$.y,tt=1/0,et;V=$;do b>=V.x&&V.x>=q&&b!==V.x&&x(z<_?b:k,z,q,_,z<_?k:b,z,V.x,V.y)&&(et=Math.abs(z-V.y)/(b-V.x),L(V,G)&&(et<tt||et===tt&&(V.x>$.x||V.x===$.x&&u($,V)))&&($=V,tt=et)),V=V.next;while(V!==j);return $}function u(G,X){return E(G.prev,G,X.prev)<0&&E(X.next,G,G.next)<0}function d(G,X,V,b){var z=G;do z.z===0&&(z.z=p(z.x,z.y,X,V,b)),z.prevZ=z.prev,z.nextZ=z.next,z=z.next;while(z!==G);z.prevZ.nextZ=null,z.prevZ=null,f(z)}function f(G){var X,V,b,z,k,$,J,j,q=1;do{for(V=G,G=null,k=null,$=0;V;){for($++,b=V,J=0,X=0;X<q&&(J++,b=b.nextZ,!!b);X++);for(j=q;J>0||j>0&&b;)J!==0&&(j===0||!b||V.z<=b.z)?(z=V,V=V.nextZ,J--):(z=b,b=b.nextZ,j--),k?k.nextZ=z:G=z,z.prevZ=k,k=z;V=b}k.nextZ=null,q*=2}while($>1);return G}function p(G,X,V,b,z){return G=(G-V)*z|0,X=(X-b)*z|0,G=(G|G<<8)&16711935,G=(G|G<<4)&252645135,G=(G|G<<2)&858993459,G=(G|G<<1)&1431655765,X=(X|X<<8)&16711935,X=(X|X<<4)&252645135,X=(X|X<<2)&858993459,X=(X|X<<1)&1431655765,G|X<<1}function g(G){var X=G,V=G;do(X.x<V.x||X.x===V.x&&X.y<V.y)&&(V=X),X=X.next;while(X!==G);return V}function x(G,X,V,b,z,k,$,J){return(z-$)*(X-J)>=(G-$)*(k-J)&&(G-$)*(b-J)>=(V-$)*(X-J)&&(V-$)*(k-J)>=(z-$)*(b-J)}function T(G,X){return G.next.i!==X.i&&G.prev.i!==X.i&&!I(G,X)&&(L(G,X)&&L(X,G)&&D(G,X)&&(E(G.prev,G,X.prev)||E(G,X.prev,X))||C(G,X)&&E(G.prev,G,G.next)>0&&E(X.prev,X,X.next)>0)}function E(G,X,V){return(X.y-G.y)*(V.x-X.x)-(X.x-G.x)*(V.y-X.y)}function C(G,X){return G.x===X.x&&G.y===X.y}function R(G,X,V,b){var z=F(E(G,X,V)),k=F(E(G,X,b)),$=F(E(V,b,G)),J=F(E(V,b,X));return!!(z!==k&&$!==J||z===0&&w(G,V,X)||k===0&&w(G,b,X)||$===0&&w(V,G,b)||J===0&&w(V,X,b))}function w(G,X,V){return X.x<=Math.max(G.x,V.x)&&X.x>=Math.min(G.x,V.x)&&X.y<=Math.max(G.y,V.y)&&X.y>=Math.min(G.y,V.y)}function F(G){return G>0?1:G<0?-1:0}function I(G,X){var V=G;do{if(V.i!==G.i&&V.next.i!==G.i&&V.i!==X.i&&V.next.i!==X.i&&R(V,V.next,G,X))return!0;V=V.next}while(V!==G);return!1}function L(G,X){return E(G.prev,G,G.next)<0?E(G,X,G.next)>=0&&E(G,G.prev,X)>=0:E(G,X,G.prev)<0||E(G,G.next,X)<0}function D(G,X){var V=G,b=!1,z=(G.x+X.x)/2,k=(G.y+X.y)/2;do V.y>k!=V.next.y>k&&V.next.y!==V.y&&z<(V.next.x-V.x)*(k-V.y)/(V.next.y-V.y)+V.x&&(b=!b),V=V.next;while(V!==G);return b}function B(G,X){var V=new K(G.i,G.x,G.y),b=new K(X.i,X.x,X.y),z=G.next,k=X.prev;return G.next=X,X.prev=G,V.next=z,z.prev=V,b.next=V,V.prev=b,k.next=b,b.prev=k,b}function U(G,X,V,b){var z=new K(G,X,V);return b?(z.next=b.next,z.prev=b,b.next.prev=z,b.next=z):(z.prev=z,z.next=z),z}function W(G){G.next.prev=G.prev,G.prev.next=G.next,G.prevZ&&(G.prevZ.nextZ=G.nextZ),G.nextZ&&(G.nextZ.prevZ=G.prevZ)}function K(G,X,V){this.i=G,this.x=X,this.y=V,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}S.deviation=function(G,X,V,b){var z=X&&X.length,k=z?X[0]*V:G.length,$=Math.abs(Y(G,0,k,V));if(z)for(var J=0,j=X.length;J<j;J++){var q=X[J]*V,_=J<j-1?X[J+1]*V:G.length;$-=Math.abs(Y(G,q,_,V))}var tt=0;for(J=0;J<b.length;J+=3){var et=b[J]*V,at=b[J+1]*V,ot=b[J+2]*V;tt+=Math.abs((G[et]-G[ot])*(G[at+1]-G[et+1])-(G[et]-G[at])*(G[ot+1]-G[et+1]))}return $===0&&tt===0?0:Math.abs((tt-$)/$)};function Y(G,X,V,b){for(var z=0,k=X,$=V-b;k<V;k+=b)z+=(G[$]-G[k])*(G[k+1]+G[$+1]),$=k;return z}S.flatten=function(G){for(var X=G[0][0].length,V={vertices:[],holes:[],dimensions:X},b=0,z=0;z<G.length;z++){for(var k=0;k<G[z].length;k++)for(var $=0;$<X;$++)V.vertices.push(G[z][k][$]);z>0&&(b+=G[z-1].length,V.holes.push(b))}return V},v.exports=S},13829:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),m=function(a,r){r===void 0&&(r=new o);for(var n=1/0,e=1/0,s=-n,h=-e,i,l=0;l<a.points.length;l++)i=a.points[l],n=Math.min(n,i.x),e=Math.min(e,i.y),s=Math.max(s,i.x),h=Math.max(h,i.y);return r.x=n,r.y=e,r.width=s-n,r.height=h-e,r};v.exports=m},26173:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){o===void 0&&(o=[]);for(var m=0;m<t.points.length;m++)o.push(t.points[m].x),o.push(t.points[m].y);return o};v.exports=S},9564:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35001),m=t(23031),a=t(30052),r=function(n,e,s,h){h===void 0&&(h=[]);var i=n.points,l=a(n);!e&&s>0&&(e=l/s);for(var u=0;u<e;u++)for(var d=l*(u/e),f=0,p=0;p<i.length;p++){var g=i[p],x=i[(p+1)%i.length],T=new m(g.x,g.y,x.x,x.y),E=o(T);if(d<f||d>f+E){f+=E;continue}var C=T.getPoint((d-f)/E);h.push(C);break}return h};v.exports=r},30052:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35001),m=t(23031),a=function(r){for(var n=r.points,e=0,s=0;s<n.length;s++){var h=n[s],i=n[(s+1)%n.length],l=new m(h.x,h.y,i.x,i.y);e+=o(l)}return e};v.exports=a},25717:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(63814),a=t(9564),r=t(23777),n=new o({initialize:function(s){this.type=r.POLYGON,this.area=0,this.points=[],s&&this.setTo(s)},contains:function(e,s){return m(this,e,s)},setTo:function(e){if(this.area=0,this.points=[],typeof e=="string"&&(e=e.split(" ")),!Array.isArray(e))return this;for(var s,h=0;h<e.length;h++)s={x:0,y:0},typeof e[h]=="number"||typeof e[h]=="string"?(s.x=parseFloat(e[h]),s.y=parseFloat(e[h+1]),h++):Array.isArray(e[h])?(s.x=e[h][0],s.y=e[h][1]):(s.x=e[h].x,s.y=e[h].y),this.points.push(s);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var e=0,s,h,i=0;i<this.points.length-1;i++)s=this.points[i],h=this.points[i+1],e+=(h.x-s.x)*(s.y+h.y);return s=this.points[0],h=this.points[this.points.length-1],e+=(s.x-h.x)*(h.y+s.y),this.area=-e*.5,this.area},getPoints:function(e,s,h){return a(this,e,s,h)}});v.exports=n},8133:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.points.reverse(),t};v.exports=S},29524:v=>{function S(n,e){var s=n.x-e.x,h=n.y-e.y;return s*s+h*h}function t(n,e,s){var h=e.x,i=e.y,l=s.x-h,u=s.y-i;if(l!==0||u!==0){var d=((n.x-h)*l+(n.y-i)*u)/(l*l+u*u);d>1?(h=s.x,i=s.y):d>0&&(h+=l*d,i+=u*d)}return l=n.x-h,u=n.y-i,l*l+u*u}function o(n,e){for(var s=n[0],h=[s],i,l=1,u=n.length;l<u;l++)i=n[l],S(i,s)>e&&(h.push(i),s=i);return s!==i&&h.push(i),h}function m(n,e,s,h,i){for(var l=h,u,d=e+1;d<s;d++){var f=t(n[d],n[e],n[s]);f>l&&(u=d,l=f)}l>h&&(u-e>1&&m(n,e,u,h,i),i.push(n[u]),s-u>1&&m(n,u,s,h,i))}function a(n,e){var s=n.length-1,h=[n[0]];return m(n,0,s,e,h),h.push(n[s]),h}var r=function(n,e,s){e===void 0&&(e=1),s===void 0&&(s=!1);var h=n.points;if(h.length>2){var i=e*e;s||(h=o(h,i)),n.setTo(a(h,i))}return n};v.exports=r},5469:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(o,m){return o[0]=m[0],o[1]=m[1],o},t=function(o){var m,a=[],r=o.points;for(m=0;m<r.length;m++)a.push([r[m].x,r[m].y]);var n=[];for(a.length>0&&n.push(S([0,0],a[0])),m=0;m<a.length-1;m++){var e=a[m],s=a[m+1],h=e[0],i=e[1],l=s[0],u=s[1];n.push([.85*h+.15*l,.85*i+.15*u]),n.push([.15*h+.85*l,.15*i+.85*u])}return a.length>1&&n.push(S([0,0],a[a.length-1])),o.setTo(n)};v.exports=t},24709:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){for(var a=t.points,r=0;r<a.length;r++)a[r].x+=o,a[r].y+=m;return t};v.exports=S},58423:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25717);o.Clone=t(12306),o.Contains=t(63814),o.ContainsPoint=t(99338),o.Earcut=t(94811),o.GetAABB=t(13829),o.GetNumberArray=t(26173),o.GetPoints=t(9564),o.Perimeter=t(30052),o.Reverse=t(8133),o.Simplify=t(29524),o.Smooth=t(5469),o.Translate=t(24709),v.exports=o},62224:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.width*t.height};v.exports=S},98615:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t};v.exports=S},31688:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t};v.exports=S},67502:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){return t.x=o-t.width/2,t.y=m-t.height/2,t};v.exports=S},65085:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),m=function(a){return new o(a.x,a.y,a.width,a.height)};v.exports=m},37303:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){return t.width<=0||t.height<=0?!1:t.x<=o&&t.x+t.width>=o&&t.y<=m&&t.y+t.height>=m};v.exports=S},96553:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37303),m=function(a,r){return o(a,r.x,r.y)};v.exports=m},70273:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return o.width*o.height>t.width*t.height?!1:o.x>t.x&&o.x<t.right&&o.right>t.x&&o.right<t.right&&o.y>t.y&&o.y<t.bottom&&o.bottom>t.y&&o.bottom<t.bottom};v.exports=S},43459:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return o.setTo(t.x,t.y,t.width,t.height)};v.exports=S},77493:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return o===void 0&&(o=[]),o.push({x:t.x,y:t.y}),o.push({x:t.right,y:t.y}),o.push({x:t.right,y:t.bottom}),o.push({x:t.x,y:t.bottom}),o};v.exports=S},9219:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return t.x===o.x&&t.y===o.y&&t.width===o.width&&t.height===o.height};v.exports=S},53751:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(8249),m=function(a,r){var n=o(a);return n<o(r)?a.setSize(r.height*n,r.height):a.setSize(r.width,r.width/n),a.setPosition(r.centerX-a.width/2,r.centerY-a.height/2)};v.exports=m},16088:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(8249),m=function(a,r){var n=o(a);return n>o(r)?a.setSize(r.height*n,r.height):a.setSize(r.width,r.width/n),a.setPosition(r.centerX-a.width/2,r.centerY-a.height/2)};v.exports=m},80774:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t};v.exports=S},83859:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.width=Math.floor(t.width),t.height=Math.floor(t.height),t};v.exports=S},19217:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),m=t(36383),a=function(r,n){if(n===void 0&&(n=new o),r.length===0)return n;for(var e=Number.MAX_VALUE,s=Number.MAX_VALUE,h=m.MIN_SAFE_INTEGER,i=m.MIN_SAFE_INTEGER,l,u,d,f=0;f<r.length;f++)l=r[f],Array.isArray(l)?(u=l[0],d=l[1]):(u=l.x,d=l.y),e=Math.min(e,u),s=Math.min(s,d),h=Math.max(h,u),i=Math.max(i,d);return n.x=e,n.y=s,n.width=h-e,n.height=i-s,n};v.exports=a},9477:(v,S,t)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),m=function(a,r,n,e,s){return s===void 0&&(s=new o),s.setTo(Math.min(a,n),Math.min(r,e),Math.abs(a-n),Math.abs(r-e))};v.exports=m},8249:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.height===0?NaN:t.width/t.height};v.exports=S},27165:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),m=function(a,r){return r===void 0&&(r=new o),r.x=a.centerX,r.y=a.centerY,r};v.exports=m},20812:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(13019),m=t(2141),a=function(r,n,e){if(e===void 0&&(e=new m),n<=0||n>=1)return e.x=r.x,e.y=r.y,e;var s=o(r)*n;return n>.5?(s-=r.width+r.height,s<=r.width?(e.x=r.right-s,e.y=r.bottom):(e.x=r.x,e.y=r.bottom-(s-r.width))):s<=r.width?(e.x=r.x+s,e.y=r.y):(e.x=r.right,e.y=r.y+(s-r.width)),e};v.exports=a},34819:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20812),m=t(13019),a=function(r,n,e,s){s===void 0&&(s=[]),!n&&e>0&&(n=m(r)/e);for(var h=0;h<n;h++){var i=h/n;s.push(o(r,i))}return s};v.exports=a},51313:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),m=function(a,r){return r===void 0&&(r=new o),r.x=a.width,r.y=a.height,r};v.exports=m},86091:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(67502),m=function(a,r,n){var e=a.centerX,s=a.centerY;return a.setSize(a.width+r*2,a.height+n*2),o(a,e,s)};v.exports=m},53951:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),m=t(59996),a=function(r,n,e){return e===void 0&&(e=new o),m(r,n)?(e.x=Math.max(r.x,n.x),e.y=Math.max(r.y,n.y),e.width=Math.min(r.right,n.right)-e.x,e.height=Math.min(r.bottom,n.bottom)-e.y):e.setEmpty(),e};v.exports=a},14649:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(13019),m=t(2141),a=function(r,n,e,s){if(s===void 0&&(s=[]),!n&&!e)return s;n?e=Math.round(o(r)/n):n=o(r)/e;for(var h=r.x,i=r.y,l=0,u=0;u<e;u++)switch(s.push(new m(h,i)),l){case 0:h+=n,h>=r.right&&(l=1,i+=h-r.right,h=r.right);break;case 1:i+=n,i>=r.bottom&&(l=2,h-=i-r.bottom,i=r.bottom);break;case 2:h-=n,h<=r.left&&(l=3,i-=r.left-h,h=r.left);break;case 3:i-=n,i<=r.top&&(l=0,i=r.top);break}return s};v.exports=a},33595:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){for(var m=t.x,a=t.right,r=t.y,n=t.bottom,e=0;e<o.length;e++)m=Math.min(m,o[e].x),a=Math.max(a,o[e].x),r=Math.min(r,o[e].y),n=Math.max(n,o[e].y);return t.x=m,t.y=r,t.width=a-m,t.height=n-r,t};v.exports=S},20074:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){var m=Math.min(t.x,o.x),a=Math.max(t.right,o.right);t.x=m,t.width=a-m;var r=Math.min(t.y,o.y),n=Math.max(t.bottom,o.bottom);return t.y=r,t.height=n-r,t};v.exports=S},92171:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){var a=Math.min(t.x,o),r=Math.max(t.right,o);t.x=a,t.width=r-a;var n=Math.min(t.y,m),e=Math.max(t.bottom,m);return t.y=n,t.height=e-n,t};v.exports=S},42981:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){return t.x+=o,t.y+=m,t};v.exports=S},46907:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return t.x+=o.x,t.y+=o.y,t};v.exports=S},60170:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return t.x<o.right&&t.right>o.x&&t.y<o.bottom&&t.bottom>o.y};v.exports=S},13019:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 2*(t.width+t.height)};v.exports=S},85133:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),m=t(39506),a=function(r,n,e){e===void 0&&(e=new o),n=m(n);var s=Math.sin(n),h=Math.cos(n),i=h>0?r.width/2:r.width/-2,l=s>0?r.height/2:r.height/-2;return Math.abs(i*s)<Math.abs(l*h)?l=i*s/h:i=l*h/s,e.x=i+r.centerX,e.y=l+r.centerY,e};v.exports=a},26597:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),m=function(a,r){return r===void 0&&(r=new o),r.x=a.x+Math.random()*a.width,r.y=a.y+Math.random()*a.height,r};v.exports=m},86470:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(30976),m=t(70273),a=t(2141),r=function(n,e,s){if(s===void 0&&(s=new a),m(n,e))switch(o(0,3)){case 0:s.x=n.x+Math.random()*(e.right-n.x),s.y=n.y+Math.random()*(e.top-n.y);break;case 1:s.x=e.x+Math.random()*(n.right-e.x),s.y=e.bottom+Math.random()*(n.bottom-e.bottom);break;case 2:s.x=n.x+Math.random()*(e.x-n.x),s.y=e.y+Math.random()*(n.bottom-e.y);break;case 3:s.x=e.right+Math.random()*(n.right-e.right),s.y=n.y+Math.random()*(e.bottom-n.y);break}return s};v.exports=r},87841:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(37303),a=t(20812),r=t(34819),n=t(23777),e=t(23031),s=t(26597),h=new o({initialize:function(l,u,d,f){l===void 0&&(l=0),u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=0),this.type=n.RECTANGLE,this.x=l,this.y=u,this.width=d,this.height=f},contains:function(i,l){return m(this,i,l)},getPoint:function(i,l){return a(this,i,l)},getPoints:function(i,l,u){return r(this,i,l,u)},getRandomPoint:function(i){return s(this,i)},setTo:function(i,l,u,d){return this.x=i,this.y=l,this.width=u,this.height=d,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(i,l){return l===void 0&&(l=i),this.x=i,this.y=l,this},setSize:function(i,l){return l===void 0&&(l=i),this.width=i,this.height=l,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(i){return i===void 0&&(i=new e),i.setTo(this.x,this.y,this.right,this.y),i},getLineB:function(i){return i===void 0&&(i=new e),i.setTo(this.right,this.y,this.right,this.bottom),i},getLineC:function(i){return i===void 0&&(i=new e),i.setTo(this.right,this.bottom,this.x,this.bottom),i},getLineD:function(i){return i===void 0&&(i=new e),i.setTo(this.x,this.bottom,this.x,this.y),i},left:{get:function(){return this.x},set:function(i){i>=this.right?this.width=0:this.width=this.right-i,this.x=i}},right:{get:function(){return this.x+this.width},set:function(i){i<=this.x?this.width=0:this.width=i-this.x}},top:{get:function(){return this.y},set:function(i){i>=this.bottom?this.height=0:this.height=this.bottom-i,this.y=i}},bottom:{get:function(){return this.y+this.height},set:function(i){i<=this.y?this.height=0:this.height=i-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(i){this.x=i-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(i){this.y=i-this.height/2}}});v.exports=h},94845:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return t.width===o.width&&t.height===o.height};v.exports=S},31730:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){return m===void 0&&(m=o),t.width*=o,t.height*=m,t};v.exports=S},36899:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),m=function(a,r,n){n===void 0&&(n=new o);var e=Math.min(a.x,r.x),s=Math.min(a.y,r.y),h=Math.max(a.right,r.right)-e,i=Math.max(a.bottom,r.bottom)-s;return n.setTo(e,s,h,i)};v.exports=m},93232:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841);o.Area=t(62224),o.Ceil=t(98615),o.CeilAll=t(31688),o.CenterOn=t(67502),o.Clone=t(65085),o.Contains=t(37303),o.ContainsPoint=t(96553),o.ContainsRect=t(70273),o.CopyFrom=t(43459),o.Decompose=t(77493),o.Equals=t(9219),o.FitInside=t(53751),o.FitOutside=t(16088),o.Floor=t(80774),o.FloorAll=t(83859),o.FromPoints=t(19217),o.FromXY=t(9477),o.GetAspectRatio=t(8249),o.GetCenter=t(27165),o.GetPoint=t(20812),o.GetPoints=t(34819),o.GetSize=t(51313),o.Inflate=t(86091),o.Intersection=t(53951),o.MarchingAnts=t(14649),o.MergePoints=t(33595),o.MergeRect=t(20074),o.MergeXY=t(92171),o.Offset=t(42981),o.OffsetPoint=t(46907),o.Overlaps=t(60170),o.Perimeter=t(13019),o.PerimeterPoint=t(85133),o.Random=t(26597),o.RandomOutside=t(86470),o.SameDimensions=t(94845),o.Scale=t(31730),o.Union=t(36899),v.exports=o},41658:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var o=t.x1,m=t.y1,a=t.x2,r=t.y2,n=t.x3,e=t.y3;return Math.abs(((n-o)*(r-m)-(a-o)*(e-m))/2)};v.exports=S},39208:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(16483),m=function(a,r,n){var e=n*(Math.sqrt(3)/2),s=a,h=r,i=a+n/2,l=r+e,u=a-n/2,d=r+e;return new o(s,h,i,l,u,d)};v.exports=m},39545:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(94811),m=t(16483),a=function(r,n,e,s,h){n===void 0&&(n=null),e===void 0&&(e=1),s===void 0&&(s=1),h===void 0&&(h=[]);for(var i=o(r,n),l,u,d,f,p,g,x,T,E,C=0;C<i.length;C+=3)l=i[C],u=i[C+1],d=i[C+2],f=r[l*2]*e,p=r[l*2+1]*s,g=r[u*2]*e,x=r[u*2+1]*s,T=r[d*2]*e,E=r[d*2+1]*s,h.push(new m(f,p,g,x,T,E));return h};v.exports=a},90301:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(16483),m=function(a,r,n,e){e===void 0&&(e=n);var s=a,h=r,i=a,l=r-e,u=a+n,d=r;return new o(s,h,i,l,u,d)};v.exports=m},23707:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(97523),m=t(13584),a=function(r,n,e,s){s===void 0&&(s=o);var h=s(r),i=n-h.x,l=e-h.y;return m(r,i,l)};v.exports=a},97523:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),m=function(a,r){return r===void 0&&(r=new o),r.x=(a.x1+a.x2+a.x3)/3,r.y=(a.y1+a.y2+a.y3)/3,r};v.exports=m},24951:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099);function m(r,n,e,s){return r*s-n*e}var a=function(r,n){n===void 0&&(n=new o);var e=r.x3,s=r.y3,h=r.x1-e,i=r.y1-s,l=r.x2-e,u=r.y2-s,d=2*m(h,i,l,u),f=m(i,h*h+i*i,u,l*l+u*u),p=m(h,h*h+i*i,l,l*l+u*u);return n.x=e-f/d,n.y=s+p/d,n};v.exports=a},85614:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(96503),m=function(a,r){r===void 0&&(r=new o);var n=a.x1,e=a.y1,s=a.x2,h=a.y2,i=a.x3,l=a.y3,u=s-n,d=h-e,f=i-n,p=l-e,g=u*(n+s)+d*(e+h),x=f*(n+i)+p*(e+l),T=2*(u*(l-h)-d*(i-s)),E,C;if(Math.abs(T)<1e-6){var R=Math.min(n,s,i),w=Math.min(e,h,l);E=(Math.max(n,s,i)-R)*.5,C=(Math.max(e,h,l)-w)*.5,r.x=R+E,r.y=w+C,r.radius=Math.sqrt(E*E+C*C)}else r.x=(p*g-d*x)/T,r.y=(u*x-f*g)/T,E=r.x-n,C=r.y-e,r.radius=Math.sqrt(E*E+C*C);return r};v.exports=m},74422:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(16483),m=function(a){return new o(a.x1,a.y1,a.x2,a.y2,a.x3,a.y3)};v.exports=m},10690:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){var a=t.x3-t.x1,r=t.y3-t.y1,n=t.x2-t.x1,e=t.y2-t.y1,s=o-t.x1,h=m-t.y1,i=a*a+r*r,l=a*n+r*e,u=a*s+r*h,d=n*n+e*e,f=n*s+e*h,p=i*d-l*l,g=p===0?0:1/p,x=(d*u-l*f)*g,T=(i*f-l*u)*g;return x>=0&&T>=0&&x+T<1};v.exports=S},48653:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a){m===void 0&&(m=!1),a===void 0&&(a=[]);for(var r=t.x3-t.x1,n=t.y3-t.y1,e=t.x2-t.x1,s=t.y2-t.y1,h=r*r+n*n,i=r*e+n*s,l=e*e+s*s,u=h*l-i*i,d=u===0?0:1/u,f,p,g,x,T,E,C=t.x1,R=t.y1,w=0;w<o.length&&(g=o[w].x-C,x=o[w].y-R,T=r*g+n*x,E=e*g+s*x,f=(l*T-i*E)*d,p=(h*E-i*T)*d,!(f>=0&&p>=0&&f+p<1&&(a.push({x:o[w].x,y:o[w].y}),m)));w++);return a};v.exports=S},96006:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10690),m=function(a,r){return o(a,r.x,r.y)};v.exports=m},71326:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return o.setTo(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)};v.exports=S},71694:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return o===void 0&&(o=[]),o.push({x:t.x1,y:t.y1}),o.push({x:t.x2,y:t.y2}),o.push({x:t.x3,y:t.y3}),o};v.exports=S},33522:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return t.x1===o.x1&&t.y1===o.y1&&t.x2===o.x2&&t.y2===o.y2&&t.x3===o.x3&&t.y3===o.y3};v.exports=S},20437:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),m=t(35001),a=function(r,n,e){e===void 0&&(e=new o);var s=r.getLineA(),h=r.getLineB(),i=r.getLineC();if(n<=0||n>=1)return e.x=s.x1,e.y=s.y1,e;var l=m(s),u=m(h),d=m(i),f=l+u+d,p=f*n,g=0;return p<l?(g=p/l,e.x=s.x1+(s.x2-s.x1)*g,e.y=s.y1+(s.y2-s.y1)*g):p>l+u?(p-=l+u,g=p/d,e.x=i.x1+(i.x2-i.x1)*g,e.y=i.y1+(i.y2-i.y1)*g):(p-=l,g=p/u,e.x=h.x1+(h.x2-h.x1)*g,e.y=h.y1+(h.y2-h.y1)*g),e};v.exports=a},80672:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35001),m=t(2141),a=function(r,n,e,s){s===void 0&&(s=[]);var h=r.getLineA(),i=r.getLineB(),l=r.getLineC(),u=o(h),d=o(i),f=o(l),p=u+d+f;!n&&e>0&&(n=p/e);for(var g=0;g<n;g++){var x=p*(g/n),T=0,E=new m;x<u?(T=x/u,E.x=h.x1+(h.x2-h.x1)*T,E.y=h.y1+(h.y2-h.y1)*T):x>u+d?(x-=u+d,T=x/f,E.x=l.x1+(l.x2-l.x1)*T,E.y=l.y1+(l.y2-l.y1)*T):(x-=u,T=x/d,E.x=i.x1+(i.x2-i.x1)*T,E.y=i.y1+(i.y2-i.y1)*T),s.push(E)}return s};v.exports=a},39757:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141);function m(r,n,e,s){var h=r-e,i=n-s,l=h*h+i*i;return Math.sqrt(l)}var a=function(r,n){n===void 0&&(n=new o);var e=r.x1,s=r.y1,h=r.x2,i=r.y2,l=r.x3,u=r.y3,d=m(l,u,h,i),f=m(e,s,l,u),p=m(h,i,e,s),g=d+f+p;return n.x=(e*d+h*f+l*p)/g,n.y=(s*d+i*f+u*p)/g,n};v.exports=a},13584:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){return t.x1+=o,t.y1+=m,t.x2+=o,t.y2+=m,t.x3+=o,t.y3+=m,t};v.exports=S},1376:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35001),m=function(a){var r=a.getLineA(),n=a.getLineB(),e=a.getLineC();return o(r)+o(n)+o(e)};v.exports=m},90260:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2141),m=function(a,r){r===void 0&&(r=new o);var n=a.x2-a.x1,e=a.y2-a.y1,s=a.x3-a.x1,h=a.y3-a.y1,i=Math.random(),l=Math.random();return i+l>=1&&(i=1-i,l=1-l),r.x=a.x1+(n*i+s*l),r.y=a.y1+(e*i+h*l),r};v.exports=m},52172:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(99614),m=t(39757),a=function(r,n){var e=m(r);return o(r,e.x,e.y,n)};v.exports=a},49907:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(99614),m=function(a,r,n){return o(a,r.x,r.y,n)};v.exports=m},99614:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a){var r=Math.cos(a),n=Math.sin(a),e=t.x1-o,s=t.y1-m;return t.x1=e*r-s*n+o,t.y1=e*n+s*r+m,e=t.x2-o,s=t.y2-m,t.x2=e*r-s*n+o,t.y2=e*n+s*r+m,e=t.x3-o,s=t.y3-m,t.x3=e*r-s*n+o,t.y3=e*n+s*r+m,t};v.exports=S},16483:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(10690),a=t(20437),r=t(80672),n=t(23777),e=t(23031),s=t(90260),h=new o({initialize:function(l,u,d,f,p,g){l===void 0&&(l=0),u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=0),p===void 0&&(p=0),g===void 0&&(g=0),this.type=n.TRIANGLE,this.x1=l,this.y1=u,this.x2=d,this.y2=f,this.x3=p,this.y3=g},contains:function(i,l){return m(this,i,l)},getPoint:function(i,l){return a(this,i,l)},getPoints:function(i,l,u){return r(this,i,l,u)},getRandomPoint:function(i){return s(this,i)},setTo:function(i,l,u,d,f,p){return i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=0),p===void 0&&(p=0),this.x1=i,this.y1=l,this.x2=u,this.y2=d,this.x3=f,this.y3=p,this},getLineA:function(i){return i===void 0&&(i=new e),i.setTo(this.x1,this.y1,this.x2,this.y2),i},getLineB:function(i){return i===void 0&&(i=new e),i.setTo(this.x2,this.y2,this.x3,this.y3),i},getLineC:function(i){return i===void 0&&(i=new e),i.setTo(this.x3,this.y3,this.x1,this.y1),i},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(i){var l=0;this.x1<=this.x2&&this.x1<=this.x3?l=this.x1-i:this.x2<=this.x1&&this.x2<=this.x3?l=this.x2-i:l=this.x3-i,this.x1-=l,this.x2-=l,this.x3-=l}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(i){var l=0;this.x1>=this.x2&&this.x1>=this.x3?l=this.x1-i:this.x2>=this.x1&&this.x2>=this.x3?l=this.x2-i:l=this.x3-i,this.x1-=l,this.x2-=l,this.x3-=l}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(i){var l=0;this.y1<=this.y2&&this.y1<=this.y3?l=this.y1-i:this.y2<=this.y1&&this.y2<=this.y3?l=this.y2-i:l=this.y3-i,this.y1-=l,this.y2-=l,this.y3-=l}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(i){var l=0;this.y1>=this.y2&&this.y1>=this.y3?l=this.y1-i:this.y2>=this.y1&&this.y2>=this.y3?l=this.y2-i:l=this.y3-i,this.y1-=l,this.y2-=l,this.y3-=l}}});v.exports=h},84435:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(16483);o.Area=t(41658),o.BuildEquilateral=t(39208),o.BuildFromPolygon=t(39545),o.BuildRight=t(90301),o.CenterOn=t(23707),o.Centroid=t(97523),o.CircumCenter=t(24951),o.CircumCircle=t(85614),o.Clone=t(74422),o.Contains=t(10690),o.ContainsArray=t(48653),o.ContainsPoint=t(96006),o.CopyFrom=t(71326),o.Decompose=t(71694),o.Equals=t(33522),o.GetPoint=t(20437),o.GetPoints=t(80672),o.InCenter=t(39757),o.Perimeter=t(1376),o.Offset=t(13584),o.Random=t(90260),o.Rotate=t(52172),o.RotateAroundPoint=t(49907),o.RotateAroundXY=t(99614),v.exports=o},74457:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){return{gameObject:t,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:o,hitAreaCallback:m,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}};v.exports=S},84409:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return function(m,a,r,n){var e=t.getPixelAlpha(a,r,n.texture.key,n.frame.name);return e&&e>=o}};v.exports=S},7003:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(93301),a=t(50792),r=t(8214),n=t(8443),e=t(78970),s=t(85098),h=t(42515),i=t(36210),l=t(61340),u=t(85955),d=new o({initialize:function(p,g){this.game=p,this.scaleManager,this.canvas,this.config=g,this.enabled=!0,this.events=new a,this.isOver=!0,this.defaultCursor="",this.keyboard=g.inputKeyboard?new e(this):null,this.mouse=g.inputMouse?new s(this):null,this.touch=g.inputTouch?new i(this):null,this.pointers=[],this.pointersTotal=g.inputActivePointers;for(var x=0;x<=this.pointersTotal;x++){var T=new h(this,x);T.smoothFactor=g.inputSmoothFactor,this.pointers.push(T)}this.mousePointer=g.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new l,this._tempMatrix2=new l,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],p.events.once(n.BOOT,this.boot,this)},boot:function(){var f=this.game,p=f.events;this.canvas=f.canvas,this.scaleManager=f.scale,this.events.emit(r.MANAGER_BOOT),p.on(n.PRE_RENDER,this.preRender,this),p.once(n.DESTROY,this.destroy,this)},setCanvasOver:function(f){this.isOver=!0,this.events.emit(r.GAME_OVER,f)},setCanvasOut:function(f){this.isOver=!1,this.events.emit(r.GAME_OUT,f)},preRender:function(){var f=this.game.loop.now,p=this.game.loop.delta,g=this.game.scene.getScenes(!0,!0);this.time=f,this.events.emit(r.MANAGER_UPDATE);for(var x=0;x<g.length;x++){var T=g[x];if(T.sys.input&&T.sys.input.updatePoll(f,p)&&this.globalTopOnly)return}},setDefaultCursor:function(f){this.defaultCursor=f,this.canvas.style.cursor!==f&&(this.canvas.style.cursor=f)},setCursor:function(f){f.cursor&&(this.canvas.style.cursor=f.cursor)},resetCursor:function(f,p){(p||f&&f.cursor)&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(f){f===void 0&&(f=1);var p=[];this.pointersTotal+f>10&&(f=10-this.pointersTotal);for(var g=0;g<f;g++){var x=this.pointers.length,T=new h(this,x);T.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(T),this.pointersTotal++,p.push(T)}return p},updateInputPlugins:function(f,p){var g=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var x=0;x<g.length;x++){var T=g[x];if(T.sys.input){var E=T.sys.input.update(f,p);if(E&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(f){for(var p=this.pointers,g=[],x=0;x<f.changedTouches.length;x++)for(var T=f.changedTouches[x],E=1;E<p.length;E++){var C=p[E];if(!C.active){C.touchstart(T,f),this.activePointer=C,g.push(C);break}}this.updateInputPlugins(m.TOUCH_START,g)},onTouchMove:function(f){for(var p=this.pointers,g=[],x=0;x<f.changedTouches.length;x++)for(var T=f.changedTouches[x],E=1;E<p.length;E++){var C=p[E];if(C.active&&C.identifier===T.identifier){var R=document.elementFromPoint(T.clientX,T.clientY),w=R===this.canvas;!this.isOver&&w?this.setCanvasOver(f):this.isOver&&!w&&this.setCanvasOut(f),this.isOver&&(C.touchmove(T,f),this.activePointer=C,g.push(C));break}}this.updateInputPlugins(m.TOUCH_MOVE,g)},onTouchEnd:function(f){for(var p=this.pointers,g=[],x=0;x<f.changedTouches.length;x++)for(var T=f.changedTouches[x],E=1;E<p.length;E++){var C=p[E];if(C.active&&C.identifier===T.identifier){C.touchend(T,f),g.push(C);break}}this.updateInputPlugins(m.TOUCH_END,g)},onTouchCancel:function(f){for(var p=this.pointers,g=[],x=0;x<f.changedTouches.length;x++)for(var T=f.changedTouches[x],E=1;E<p.length;E++){var C=p[E];if(C.active&&C.identifier===T.identifier){C.touchcancel(T,f),g.push(C);break}}this.updateInputPlugins(m.TOUCH_CANCEL,g)},onMouseDown:function(f){var p=this.mousePointer;p.down(f),p.updateMotion(),this.activePointer=p,this.updateInputPlugins(m.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(f){var p=this.mousePointer;p.move(f),p.updateMotion(),this.activePointer=p,this.updateInputPlugins(m.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(f){var p=this.mousePointer;p.up(f),p.updateMotion(),this.activePointer=p,this.updateInputPlugins(m.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(f){var p=this.mousePointer;p.wheel(f),this.activePointer=p,this.updateInputPlugins(m.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(f){var p=this.mouse.locked;this.mousePointer.locked=p,this.events.emit(r.POINTERLOCK_CHANGE,f,p)},inputCandidate:function(f,p){var g=f.input;if(!g||!g.enabled||!f.willRender(p))return!1;var x=!0,T=f.parentContainer;if(T)do{if(!T.willRender(p)){x=!1;break}T=T.parentContainer}while(T);return x},hitTest:function(f,p,g,x){x===void 0&&(x=this._tempHitTest);var T=this._tempPoint,E=g.scrollX,C=g.scrollY;x.length=0;var R=f.x,w=f.y;g.getWorldPoint(R,w,T),f.worldX=T.x,f.worldY=T.y;for(var F={x:0,y:0},I=this._tempMatrix,L=this._tempMatrix2,D=0;D<p.length;D++){var B=p[D];if(this.inputCandidate(B,g)){var U=T.x+E*B.scrollFactorX-E,W=T.y+C*B.scrollFactorY-C;B.parentContainer?(B.getWorldTransformMatrix(I,L),I.applyInverse(U,W,F)):u(U,W,B.x,B.y,B.rotation,B.scaleX,B.scaleY,F),this.pointWithinHitArea(B,F.x,F.y)&&x.push(B)}}return x},pointWithinHitArea:function(f,p,g){p+=f.displayOriginX,g+=f.displayOriginY;var x=f.input;return x&&x.hitAreaCallback(x.hitArea,p,g,f)?(x.localX=p,x.localY=g,!0):!1},pointWithinInteractiveObject:function(f,p,g){return f.hitArea?(p+=f.gameObject.displayOriginX,g+=f.gameObject.displayOriginY,f.localX=p,f.localY=g,f.hitAreaCallback(f.hitArea,p,g,f)):!1},transformPointer:function(f,p,g,x){var T=f.position,E=f.prevPosition;E.x=T.x,E.y=T.y;var C=this.scaleManager.transformX(p),R=this.scaleManager.transformY(g),w=f.smoothFactor;!x||w===0?(T.x=C,T.y=R):(T.x=C*w+E.x*(1-w),T.y=R*w+E.y*(1-w))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(n.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var f=0;f<this.pointers.length;f++)this.pointers[f].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});v.exports=d},48205:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(96503),m=t(87902),a=t(83419),r=t(93301),n=t(74457),e=t(84409),s=t(20339),h=t(8497),i=t(81154),l=t(8214),u=t(50792),d=t(95540),f=t(23777),p=t(89639),g=t(41212),x=t(37277),T=t(87841),E=t(37303),C=t(44594),R=t(16483),w=t(10690),F=new a({Extends:u,initialize:function(L){u.call(this),this.scene=L,this.systems=L.sys,this.settings=L.sys.settings,this.manager=L.sys.game.input,this.pluginEvents=new u,this.enabled=!0,this.displayList,this.cameras,p.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var D={cancelled:!1};this._eventContainer={stopPropagation:function(){D.cancelled=!0}},this._eventData=D,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,L.sys.events.once(C.BOOT,this.boot,this),L.sys.events.on(C.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(C.DESTROY,this.destroy,this),this.pluginEvents.emit(l.BOOT)},start:function(){var I=this.systems.events;I.on(C.TRANSITION_START,this.transitionIn,this),I.on(C.TRANSITION_OUT,this.transitionOut,this),I.on(C.TRANSITION_COMPLETE,this.transitionComplete,this),I.on(C.PRE_UPDATE,this.preUpdate,this),I.once(C.SHUTDOWN,this.shutdown,this),this.manager.events.on(l.GAME_OUT,this.onGameOut,this),this.manager.events.on(l.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(l.START)},onGameOver:function(I){this.isActive()&&this.emit(l.GAME_OVER,I.timeStamp,I)},onGameOut:function(I){this.isActive()&&this.emit(l.GAME_OUT,I.timeStamp,I)},preUpdate:function(){this.pluginEvents.emit(l.PRE_UPDATE);var I=this._pendingRemoval,L=this._pendingInsertion,D=I.length,B=L.length;if(!(D===0&&B===0)){for(var U=this._list,W=0;W<D;W++){var K=I[W],Y=U.indexOf(K);Y>-1&&(U.splice(Y,1),this.clear(K,!0))}this._pendingRemoval.length=0,this._list=U.concat(L.splice(0))}},isActive:function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},setCursor:function(I){this.manager&&this.manager.setCursor(I)},resetCursor:function(){this.manager&&this.manager.resetCursor(null,!0)},updatePoll:function(I,L){if(!this.isActive())return!1;if(this.pluginEvents.emit(l.UPDATE,I,L),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var D,B=this.manager,U=B.pointers;for(D=0;D<U.length;D++)U[D].updateMotion();if(this._list.length===0)return!1;var W=this.pollRate;if(W===-1)return!1;if(W>0)if(this._pollTimer-=L,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var K=!1;for(D=0;D<U.length;D++){var Y=0,G=U[D];this._tempZones=[],this._temp=this.hitTestPointer(G),this.sortGameObjects(this._temp,G),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),Y+=this.processOverOutEvents(G),this.getDragState(G)===2&&this.processDragThresholdEvent(G,I),Y>0&&(K=!0)}return K},update:function(I,L){if(!this.isActive())return!1;for(var D=!1,B=0;B<L.length;B++){var U=0,W=L[B];switch(this._tempZones=[],this._temp=this.hitTestPointer(W),this.sortGameObjects(this._temp,W),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),I){case r.MOUSE_DOWN:U+=this.processDragDownEvent(W),U+=this.processDownEvents(W),U+=this.processOverOutEvents(W);break;case r.MOUSE_UP:U+=this.processDragUpEvent(W),U+=this.processUpEvents(W),U+=this.processOverOutEvents(W);break;case r.TOUCH_START:U+=this.processDragDownEvent(W),U+=this.processDownEvents(W),U+=this.processOverEvents(W);break;case r.TOUCH_END:case r.TOUCH_CANCEL:U+=this.processDragUpEvent(W),U+=this.processUpEvents(W),U+=this.processOutEvents(W);break;case r.MOUSE_MOVE:case r.TOUCH_MOVE:U+=this.processDragMoveEvent(W),U+=this.processMoveEvents(W),U+=this.processOverOutEvents(W);break;case r.MOUSE_WHEEL:U+=this.processWheelEvent(W);break}U>0&&(D=!0)}return this._updatedThisFrame=!0,D},clear:function(I,L){L===void 0&&(L=!1),this.disable(I);var D=I.input;D&&(this.removeDebug(I),this.manager.resetCursor(D),D.gameObject=void 0,D.target=void 0,D.hitArea=void 0,D.hitAreaCallback=void 0,D.callbackContext=void 0,I.input=null),L||this.queueForRemoval(I);var B=this._draggable.indexOf(I);return B>-1&&this._draggable.splice(B,1),I},disable:function(I,L){L===void 0&&(L=!1);var D=I.input;D&&(D.enabled=!1,D.dragState=0);for(var B=this._drag,U=this._over,W=this.manager,K=0,Y;K<W.pointers.length;K++)Y=B[K].indexOf(I),Y>-1&&B[K].splice(Y,1),Y=U[K].indexOf(I),Y>-1&&U[K].splice(Y,1);return L&&this.resetCursor(),this},enable:function(I,L,D,B){return B===void 0&&(B=!1),I.input?I.input.enabled=!0:this.setHitArea(I,L,D),I.input&&B&&!I.input.dropZone&&(I.input.dropZone=B),this},hitTestPointer:function(I){for(var L=this.cameras.getCamerasBelowPointer(I),D=0;D<L.length;D++){for(var B=L[D],U=this.manager.hitTest(I,this._list,B),W=0;W<U.length;W++){var K=U[W];K.input.dropZone&&this._tempZones.push(K)}if(U.length>0)return I.camera=B,U}return I.camera=L[0],[]},processDownEvents:function(I){var L=0,D=this._temp,B=this._eventData,U=this._eventContainer;B.cancelled=!1;for(var W=0;W<D.length;W++){var K=D[W];if(!(!K.input||!K.input.enabled)&&(L++,K.emit(l.GAMEOBJECT_POINTER_DOWN,I,K.input.localX,K.input.localY,U),B.cancelled||!this.isActive()||K.input&&K.input.enabled&&(this.emit(l.GAMEOBJECT_DOWN,I,K,U),B.cancelled||!this.isActive())))break}return!B.cancelled&&this.isActive()&&(I.downElement===this.manager.game.canvas?this.emit(l.POINTER_DOWN,I,D):this.emit(l.POINTER_DOWN_OUTSIDE,I)),L},getDragState:function(I){return this._dragState[I.id]},setDragState:function(I,L){this._dragState[I.id]=L},processDragThresholdEvent:function(I,L){var D=!1,B=this.dragTimeThreshold,U=this.dragDistanceThreshold;if((U>0&&s(I.x,I.y,I.downX,I.downY)>=U||B>0&&L>=I.downTime+B)&&(D=!0),D)return this.setDragState(I,3),this.processDragStartList(I)},processDragStartList:function(I){if(this.getDragState(I)!==3)return 0;var L=this._drag[I.id];L.length>1&&(L=L.slice(0));for(var D=0;D<L.length;D++){var B=L[D],U=B.input;U.dragState=2,U.dragStartX=B.x,U.dragStartY=B.y,U.dragStartXGlobal=I.worldX,U.dragStartYGlobal=I.worldY,U.dragStartCamera=I.camera,U.dragX=U.dragStartXGlobal-U.dragStartX,U.dragY=U.dragStartYGlobal-U.dragStartY,B.emit(l.GAMEOBJECT_DRAG_START,I,U.dragX,U.dragY),this.emit(l.DRAG_START,I,B)}return this.setDragState(I,4),L.length},processDragDownEvent:function(I){var L=this._temp;if(this._draggable.length===0||L.length===0||!I.primaryDown||this.getDragState(I)!==0)return 0;this.setDragState(I,1);for(var D=[],B=0;B<L.length;B++){var U=L[B];U.input.draggable&&U.input.dragState===0&&D.push(U)}return D.length===0?(this.setDragState(I,0),0):(D.length>1&&(this.sortGameObjects(D,I),this.topOnly&&D.splice(1)),this._drag[I.id]=D,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(I,3),this.processDragStartList(I)):(this.setDragState(I,2),0))},processDragMoveEvent:function(I){if(this.getDragState(I)===2&&this.processDragThresholdEvent(I,this.manager.game.loop.now),this.getDragState(I)!==4)return 0;var L=this._tempZones,D=this._drag[I.id];D.length>1&&(D=D.slice(0));for(var B=0;B<D.length;B++){var U=D[B],W=U.input,K=W.target;if(K){var Y=L.indexOf(K);Y===0?(U.emit(l.GAMEOBJECT_DRAG_OVER,I,K),this.emit(l.DRAG_OVER,I,U,K)):Y>0?(U.emit(l.GAMEOBJECT_DRAG_LEAVE,I,K),this.emit(l.DRAG_LEAVE,I,U,K),W.target=L[0],K=W.target,U.emit(l.GAMEOBJECT_DRAG_ENTER,I,K),this.emit(l.DRAG_ENTER,I,U,K)):(U.emit(l.GAMEOBJECT_DRAG_LEAVE,I,K),this.emit(l.DRAG_LEAVE,I,U,K),L[0]?(W.target=L[0],K=W.target,U.emit(l.GAMEOBJECT_DRAG_ENTER,I,K),this.emit(l.DRAG_ENTER,I,U,K)):W.target=null)}else!K&&L[0]&&(W.target=L[0],K=W.target,U.emit(l.GAMEOBJECT_DRAG_ENTER,I,K),this.emit(l.DRAG_ENTER,I,U,K));var G,X,V=I.positionToCamera(W.dragStartCamera);if(!U.parentContainer)G=V.x-W.dragX,X=V.y-W.dragY;else{var b=V.x-W.dragStartXGlobal,z=V.y-W.dragStartYGlobal,k=U.getParentRotation(),$=b*Math.cos(k)+z*Math.sin(k),J=z*Math.cos(k)-b*Math.sin(k);$*=1/U.parentContainer.scaleX,J*=1/U.parentContainer.scaleY,G=$+W.dragStartX,X=J+W.dragStartY}U.emit(l.GAMEOBJECT_DRAG,I,G,X),this.emit(l.DRAG,I,U,G,X)}return D.length},processDragUpEvent:function(I){var L=this._drag[I.id];L.length>1&&(L=L.slice(0));for(var D=0;D<L.length;D++){var B=L[D],U=B.input;if(U&&U.dragState===2){U.dragState=0,U.dragX=U.localX-B.displayOriginX,U.dragY=U.localY-B.displayOriginY,U.dragStartCamera=null;var W=!1,K=U.target;K&&(B.emit(l.GAMEOBJECT_DROP,I,K),this.emit(l.DROP,I,B,K),U.target=null,W=!0),B.input&&B.input.enabled&&(B.emit(l.GAMEOBJECT_DRAG_END,I,U.dragX,U.dragY,W),this.emit(l.DRAG_END,I,B,W))}}return this.setDragState(I,0),L.splice(0),0},processMoveEvents:function(I){var L=0,D=this._temp,B=this._eventData,U=this._eventContainer;B.cancelled=!1;for(var W=0;W<D.length;W++){var K=D[W];if(!(!K.input||!K.input.enabled)&&(L++,K.emit(l.GAMEOBJECT_POINTER_MOVE,I,K.input.localX,K.input.localY,U),B.cancelled||!this.isActive()||K.input&&K.input.enabled&&(this.emit(l.GAMEOBJECT_MOVE,I,K,U),B.cancelled||!this.isActive()||this.topOnly)))break}return!B.cancelled&&this.isActive()&&this.emit(l.POINTER_MOVE,I,D),L},processWheelEvent:function(I){var L=0,D=this._temp,B=this._eventData,U=this._eventContainer;B.cancelled=!1;for(var W=I.deltaX,K=I.deltaY,Y=I.deltaZ,G=0;G<D.length;G++){var X=D[G];if(!(!X.input||!X.input.enabled)&&(L++,X.emit(l.GAMEOBJECT_POINTER_WHEEL,I,W,K,Y,U),B.cancelled||!this.isActive()||X.input&&X.input.enabled&&(this.emit(l.GAMEOBJECT_WHEEL,I,X,W,K,Y,U),B.cancelled||!this.isActive())))break}return!B.cancelled&&this.isActive()&&this.emit(l.POINTER_WHEEL,I,D,W,K,Y),L},processOverEvents:function(I){var L=this._temp,D=0,B=L.length,U=[];if(B>0){var W=this.manager,K=this._eventData,Y=this._eventContainer;K.cancelled=!1;for(var G=0;G<B;G++){var X=L[G];if(!(!X.input||!X.input.enabled)&&(U.push(X),W.setCursor(X.input),X.emit(l.GAMEOBJECT_POINTER_OVER,I,X.input.localX,X.input.localY,Y),D++,K.cancelled||!this.isActive()||X.input&&X.input.enabled&&(this.emit(l.GAMEOBJECT_OVER,I,X,Y),K.cancelled||!this.isActive())))break}!K.cancelled&&this.isActive()&&this.emit(l.POINTER_OVER,I,U)}return this._over[I.id]=U,D},processOutEvents:function(I){var L=this._over[I.id],D=0,B=L.length;if(B>0){var U=this.manager,W=this._eventData,K=this._eventContainer;W.cancelled=!1,this.sortGameObjects(L,I);for(var Y=0;Y<B;Y++){var G=L[Y];if(G=L[Y],!(!G.input||!G.input.enabled)&&(U.resetCursor(G.input),G.emit(l.GAMEOBJECT_POINTER_OUT,I,K),D++,W.cancelled||!this.isActive()||G.input&&G.input.enabled&&(this.emit(l.GAMEOBJECT_OUT,I,G,K),W.cancelled||!this.isActive())))break}!W.cancelled&&this.isActive()&&this.emit(l.POINTER_OUT,I,L),this._over[I.id]=[]}return D},processOverOutEvents:function(I){var L=this._temp,D,B,U=[],W=[],K=[],Y=this._over[I.id],G=this._drag[I.id],X=this.manager;for(D=0;D<Y.length;D++)B=Y[D],L.indexOf(B)===-1&&G.indexOf(B)===-1?U.push(B):K.push(B);for(D=0;D<L.length;D++)B=L[D],Y.indexOf(B)===-1&&W.push(B);var V=U.length,b=0,z=this._eventData,k=this._eventContainer;if(z.cancelled=!1,V>0){for(this.sortGameObjects(U,I),D=0;D<V&&(B=U[D],!(!(!B.input||!B.input.enabled)&&(X.resetCursor(B.input),B.emit(l.GAMEOBJECT_POINTER_OUT,I,k),b++,z.cancelled||!this.isActive()||B.input&&B.input.enabled&&(this.emit(l.GAMEOBJECT_OUT,I,B,k),z.cancelled||!this.isActive()))));D++);(!z.cancelled||this.isActive())&&this.emit(l.POINTER_OUT,I,U)}if(V=W.length,z.cancelled=!1,V>0){for(this.sortGameObjects(W,I),D=0;D<V&&(B=W[D],!(!(!B.input||!B.input.enabled)&&(X.setCursor(B.input),B.emit(l.GAMEOBJECT_POINTER_OVER,I,B.input.localX,B.input.localY,k),b++,z.cancelled||!this.isActive()||B.input&&B.input.enabled&&(this.emit(l.GAMEOBJECT_OVER,I,B,k),z.cancelled||!this.isActive()))));D++);!z.cancelled&&this.isActive()&&this.emit(l.POINTER_OVER,I,W)}return Y=K.concat(W),this._over[I.id]=this.sortGameObjects(Y,I),b},processUpEvents:function(I){var L=this._temp,D=this._eventData,B=this._eventContainer;D.cancelled=!1;for(var U=0;U<L.length;U++){var W=L[U];if(!(!W.input||!W.input.enabled)&&(W.emit(l.GAMEOBJECT_POINTER_UP,I,W.input.localX,W.input.localY,B),D.cancelled||!this.isActive()||W.input&&W.input.enabled&&(this.emit(l.GAMEOBJECT_UP,I,W,B),D.cancelled||!this.isActive())))break}return!D.cancelled&&this.isActive()&&(I.upElement===this.manager.game.canvas?this.emit(l.POINTER_UP,I,L):this.emit(l.POINTER_UP_OUTSIDE,I)),L.length},forceDownState:function(I,L){this.forceState(I,L,l.GAMEOBJECT_POINTER_DOWN,l.GAMEOBJECT_DOWN,!1)},forceUpState:function(I,L){this.forceState(I,L,l.GAMEOBJECT_POINTER_UP,l.GAMEOBJECT_UP,!1)},forceOverState:function(I,L){this.forceState(I,L,l.GAMEOBJECT_POINTER_OVER,l.GAMEOBJECT_OVER,!0)},forceOutState:function(I,L){this.forceState(I,L,l.GAMEOBJECT_POINTER_OUT,l.GAMEOBJECT_OUT,!1)},forceState:function(I,L,D,B,U){var W=this._eventData,K=this._eventContainer;W.cancelled=!1,L.input&&L.input.enabled&&(L.emit(D,I,L.input.localX,L.input.localY,K),U&&this.setCursor(L.input),!W.cancelled&&this.isActive()&&L.input&&L.input.enabled&&this.emit(B,I,L,K))},queueForInsertion:function(I){return this._pendingInsertion.indexOf(I)===-1&&this._list.indexOf(I)===-1&&this._pendingInsertion.push(I),this},queueForRemoval:function(I){return this._pendingRemoval.push(I),this},setDraggable:function(I,L){L===void 0&&(L=!0),Array.isArray(I)||(I=[I]);for(var D=0;D<I.length;D++){var B=I[D];B.input.draggable=L;var U=this._draggable.indexOf(B);L&&U===-1?this._draggable.push(B):!L&&U>-1&&this._draggable.splice(U,1)}return this},makePixelPerfect:function(I){I===void 0&&(I=1);var L=this.systems.textures;return e(L,I)},setHitArea:function(I,L,D){if(L===void 0)return this.setHitAreaFromTexture(I);Array.isArray(I)||(I=[I]);var B=!1,U=!1,W=!1,K=!1,Y=!1,G=!0;if(g(L)&&Object.keys(L).length){var X=L,V=I.some(function(J){return J.hasOwnProperty("faces")});if(!V){L=d(X,"hitArea",null),D=d(X,"hitAreaCallback",null),Y=d(X,"pixelPerfect",!1);var b=d(X,"alphaTolerance",1);Y&&(L={},D=this.makePixelPerfect(b))}B=d(X,"draggable",!1),U=d(X,"dropZone",!1),W=d(X,"cursor",!1),K=d(X,"useHandCursor",!1),(!L||!D)&&(this.setHitAreaFromTexture(I),G=!1)}else typeof L=="function"&&!D&&(D=L,L={});for(var z=0;z<I.length;z++){var k=I[z];if(Y&&k.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var $=k.input?k.input:n(k,L,D);$.customHitArea=G,$.dropZone=U,$.cursor=K?"pointer":W,k.input=$,B&&this.setDraggable(k),this.queueForInsertion(k)}return this},setHitAreaCircle:function(I,L,D,B,U){U===void 0&&(U=m);var W=new o(L,D,B);return this.setHitArea(I,W,U)},setHitAreaEllipse:function(I,L,D,B,U,W){W===void 0&&(W=i);var K=new h(L,D,B,U);return this.setHitArea(I,K,W)},setHitAreaFromTexture:function(I,L){L===void 0&&(L=E),Array.isArray(I)||(I=[I]);for(var D=0;D<I.length;D++){var B=I[D],U=B.frame,W=0,K=0;if(B.width?(W=B.width,K=B.height):U&&(W=U.realWidth,K=U.realHeight),B.type==="Container"&&(W===0||K===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}W!==0&&K!==0&&(B.input=n(B,new T(0,0,W,K),L),this.queueForInsertion(B))}return this},setHitAreaRectangle:function(I,L,D,B,U,W){W===void 0&&(W=E);var K=new T(L,D,B,U);return this.setHitArea(I,K,W)},setHitAreaTriangle:function(I,L,D,B,U,W,K,Y){Y===void 0&&(Y=w);var G=new R(L,D,B,U,W,K);return this.setHitArea(I,G,Y)},enableDebug:function(I,L){L===void 0&&(L=65280);var D=I.input;if(!D||!D.hitArea)return this;var B=D.hitArea,U=B.type,W=D.hitAreaDebug,K=this.systems.add,Y=this.systems.updateList;W&&(Y.remove(W),W.destroy(),W=null);var G=0,X=0;switch(U){case f.CIRCLE:W=K.arc(0,0,B.radius),G=B.x-B.radius,X=B.y-B.radius;break;case f.ELLIPSE:W=K.ellipse(0,0,B.width,B.height),G=B.x-B.width/2,X=B.y-B.height/2;break;case f.LINE:W=K.line(0,0,B.x1,B.y1,B.x2,B.y2);break;case f.POLYGON:W=K.polygon(0,0,B.points);break;case f.RECTANGLE:W=K.rectangle(0,0,B.width,B.height),G=B.x,X=B.y;break;case f.TRIANGLE:W=K.triangle(0,0,B.x1,B.y1,B.x2,B.y2,B.x3,B.y3);break}return W&&(W.isFilled=!1,W.strokeColor=L,W.preUpdate=function(){W.setVisible(I.visible),W.setStrokeStyle(1/I.scale,W.strokeColor),W.setDisplayOrigin(I.displayOriginX,I.displayOriginY);var V=I.x,b=I.y,z=I.rotation,k=I.scaleX,$=I.scaleY;if(I.parentContainer){var J=I.getWorldTransformMatrix();V=J.tx,b=J.ty,z=J.rotation,k=J.scaleX,$=J.scaleY}W.setRotation(z),W.setScale(k,$),W.setPosition(V+G*k,b+X*$),W.setScrollFactor(I.scrollFactorX,I.scrollFactorY),W.setDepth(I.depth)},Y.add(W),D.hitAreaDebug=W),this},removeDebug:function(I){var L=I.input;if(L&&L.hitAreaDebug){var D=L.hitAreaDebug;D.destroy(),L.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(I){return this.pollRate=I,this._pollTimer=0,this},setGlobalTopOnly:function(I){return this.manager.globalTopOnly=I,this},setTopOnly:function(I){return this.topOnly=I,this},sortGameObjects:function(I,L){if(I.length<2||!L.camera)return I;var D=L.camera.renderList;return I.sort(function(B,U){var W=Math.max(D.indexOf(B),0),K=Math.max(D.indexOf(U),0);return K-W})},sortDropZones:function(I){return I.length<2?I:(this.scene.sys.depthSort(),I.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(I,L){if(!I.parentContainer&&!L.parentContainer)return this.displayList.getIndex(L)-this.displayList.getIndex(I);if(I.parentContainer===L.parentContainer)return L.parentContainer.getIndex(L)-I.parentContainer.getIndex(I);if(I.parentContainer===L)return-1;if(L.parentContainer===I)return 1;for(var D=I.getIndexList(),B=L.getIndexList(),U=Math.min(D.length,B.length),W=0;W<U;W++){var K=D[W],Y=B[W];if(K!==Y)return Y-K}return B.length-D.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(I){return this.manager.addPointer(I)},setDefaultCursor:function(I){return this.manager.setDefaultCursor(I),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(l.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var I=0;I<10;I++)this._drag[I]=[],this._over[I]=[];this.removeAllListeners();var L=this.manager;L.canvas.style.cursor=L.defaultCursor;var D=this.systems.events;D.off(C.TRANSITION_START,this.transitionIn,this),D.off(C.TRANSITION_OUT,this.transitionOut,this),D.off(C.TRANSITION_COMPLETE,this.transitionComplete,this),D.off(C.PRE_UPDATE,this.preUpdate,this),L.events.off(l.GAME_OUT,this.onGameOut,this),L.events.off(l.GAME_OVER,this.onGameOver,this),D.off(C.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var I=this.manager.pointers,L=0;L<I.length;L++)I[L].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(l.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(C.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});x.register("InputPlugin",F,"input"),v.exports=F},89639:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35154),m={},a={};a.register=function(r,n,e,s,h){m[r]={plugin:n,mapping:e,settingsKey:s,configKey:h}},a.getPlugin=function(r){return m[r]},a.install=function(r){var n=r.scene.sys,e=n.settings.input,s=n.game.config;for(var h in m){var i=m[h].plugin,l=m[h].mapping,u=m[h].settingsKey,d=m[h].configKey;o(e,u,s[d])&&(r[l]=new i(r))}},a.remove=function(r){m.hasOwnProperty(r)&&delete m[r]},v.exports=a},42515:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(31040),m=t(83419),a=t(20339),r=t(43855),n=t(47235),e=t(26099),s=t(25892),h=new m({initialize:function(l,u){this.manager=l,this.id=u,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new e,this.prevPosition=new e,this.midPoint=new e(-1,-1),this.velocity=new e,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=u===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(i){var l=i.getWorldPoint(this.x,this.y);return this.worldX=l.x,this.worldY=l.y,this},positionToCamera:function(i,l){return i.getWorldPoint(this.x,this.y,l)},updateMotion:function(){var i=this.position.x,l=this.position.y,u=this.midPoint.x,d=this.midPoint.y;if(!(i===u&&l===d)){var f=n(this.motionFactor,u,i),p=n(this.motionFactor,d,l);r(f,i,.1)&&(f=i),r(p,l,.1)&&(p=l),this.midPoint.set(f,p);var g=i-f,x=l-p;this.velocity.set(g,x),this.angle=o(f,p,i,l),this.distance=Math.sqrt(g*g+x*x)}},up:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.button=i.button,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),i.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=i.timeStamp,this.wasTouch=!1)},down:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.button=i.button,this.downElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),i.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),s.macOS&&i.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=i.timeStamp),this.wasTouch=!1},move:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.manager.transformPointer(this,i.pageX,i.pageY,!0),this.locked&&(this.movementX=i.movementX||i.mozMovementX||i.webkitMovementX||0,this.movementY=i.movementY||i.mozMovementY||i.webkitMovementY||0),this.moveTime=i.timeStamp,this.wasTouch=!1},wheel:function(i){"buttons"in i&&(this.buttons=i.buttons),this.event=i,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.deltaX=i.deltaX,this.deltaY=i.deltaY,this.deltaZ=i.deltaZ,this.wasTouch=!1},touchstart:function(i,l){i.pointerId&&(this.pointerId=i.pointerId),this.identifier=i.identifier,this.target=i.target,this.active=!0,this.buttons=1,this.event=l,this.downElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=l.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(i,l){this.event=l,this.manager.transformPointer(this,i.pageX,i.pageY,!0),this.moveTime=l.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(i,l){this.buttons=0,this.event=l,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=l.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(i,l){this.buttons=0,this.event=l,this.upElement=i.target,this.manager.transformPointer(this,i.pageX,i.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=l.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.buttons===0?this.button===0&&!this.isDown:this.button===0},rightButtonReleased:function(){return this.buttons===0?this.button===2&&!this.isDown:this.button===2},middleButtonReleased:function(){return this.buttons===0?this.button===1&&!this.isDown:this.button===1},backButtonReleased:function(){return this.buttons===0?this.button===3&&!this.isDown:this.button===3},forwardButtonReleased:function(){return this.buttons===0?this.button===4&&!this.isDown:this.button===4},getDistance:function(){return this.isDown?a(this.downX,this.downY,this.x,this.y):a(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?o(this.downX,this.downY,this.x,this.y):o(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(i,l){i===void 0&&(i=10),l===void 0&&(l=[]);for(var u=this.prevPosition.x,d=this.prevPosition.y,f=this.position.x,p=this.position.y,g=0;g<i;g++){var x=1/i*g;l[g]={x:n(x,u,f),y:n(x,d,p)}}return l},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(i){this.position.x=i}},y:{get:function(){return this.position.y},set:function(i){this.position.y=i}},time:{get:function(){return this.event?this.event.timeStamp:0}}});v.exports=h},93301:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};v.exports=S},7179:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="boot"},85375:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="destroy"},39843:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragend"},23388:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragenter"},16133:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="drag"},27829:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragleave"},53904:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragover"},56058:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragstart"},2642:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="drop"},88171:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameobjectdown"},36147:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragend"},71692:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragenter"},96149:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="drag"},81285:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragleave"},74048:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragover"},21322:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragstart"},49378:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="drop"},86754:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameobjectmove"},86433:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameobjectout"},60709:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameobjectover"},24081:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerdown"},11172:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointermove"},18907:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerout"},95579:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerover"},35368:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerup"},26972:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="wheel"},47078:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameobjectup"},73802:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameobjectwheel"},56718:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameout"},25936:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="gameover"},27503:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="boot"},50852:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="process"},96438:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="update"},59152:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerlockchange"},47777:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerdown"},27957:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerdownoutside"},19444:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointermove"},54251:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerout"},18667:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerover"},27192:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerup"},24652:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pointerupoutside"},45132:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="wheel"},44512:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="preupdate"},15757:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="shutdown"},41637:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="start"},93802:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="update"},8214:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BOOT:t(7179),DESTROY:t(85375),DRAG_END:t(39843),DRAG_ENTER:t(23388),DRAG:t(16133),DRAG_LEAVE:t(27829),DRAG_OVER:t(53904),DRAG_START:t(56058),DROP:t(2642),GAME_OUT:t(56718),GAME_OVER:t(25936),GAMEOBJECT_DOWN:t(88171),GAMEOBJECT_DRAG_END:t(36147),GAMEOBJECT_DRAG_ENTER:t(71692),GAMEOBJECT_DRAG:t(96149),GAMEOBJECT_DRAG_LEAVE:t(81285),GAMEOBJECT_DRAG_OVER:t(74048),GAMEOBJECT_DRAG_START:t(21322),GAMEOBJECT_DROP:t(49378),GAMEOBJECT_MOVE:t(86754),GAMEOBJECT_OUT:t(86433),GAMEOBJECT_OVER:t(60709),GAMEOBJECT_POINTER_DOWN:t(24081),GAMEOBJECT_POINTER_MOVE:t(11172),GAMEOBJECT_POINTER_OUT:t(18907),GAMEOBJECT_POINTER_OVER:t(95579),GAMEOBJECT_POINTER_UP:t(35368),GAMEOBJECT_POINTER_WHEEL:t(26972),GAMEOBJECT_UP:t(47078),GAMEOBJECT_WHEEL:t(73802),MANAGER_BOOT:t(27503),MANAGER_PROCESS:t(50852),MANAGER_UPDATE:t(96438),POINTER_DOWN:t(47777),POINTER_DOWN_OUTSIDE:t(27957),POINTER_MOVE:t(19444),POINTER_OUT:t(54251),POINTER_OVER:t(18667),POINTER_UP:t(27192),POINTER_UP_OUTSIDE:t(24652),POINTER_WHEEL:t(45132),POINTERLOCK_CHANGE:t(59152),PRE_UPDATE:t(44512),SHUTDOWN:t(15757),START:t(41637),UPDATE:t(93802)}},97421:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=new o({initialize:function(r,n){this.pad=r,this.events=r.events,this.index=n,this.value=0,this.threshold=.1},update:function(a){this.value=a},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});v.exports=m},28884:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(92734),a=new o({initialize:function(n,e){this.pad=n,this.events=n.manager,this.index=e,this.value=0,this.threshold=1,this.pressed=!1},update:function(r){this.value=r;var n=this.pad,e=this.index;r>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(m.BUTTON_DOWN,n,this,r),this.pad.emit(m.GAMEPAD_BUTTON_DOWN,e,r,this)):this.pressed&&(this.pressed=!1,this.events.emit(m.BUTTON_UP,n,this,r),this.pad.emit(m.GAMEPAD_BUTTON_UP,e,r,this))},destroy:function(){this.pad=null,this.events=null}});v.exports=a},99125:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(97421),m=t(28884),a=t(83419),r=t(50792),n=t(26099),e=new a({Extends:r,initialize:function(h,i){r.call(this),this.manager=h,this.pad=i,this.id=i.id,this.index=i.index;for(var l=[],u=0;u<i.buttons.length;u++)l.push(new m(this,u));this.buttons=l;var d=[];for(u=0;u<i.axes.length;u++)d.push(new o(this,u));this.axes=d,this.vibration=i.vibrationActuator;var f={value:0,pressed:!1};this._LCLeft=l[14]?l[14]:f,this._LCRight=l[15]?l[15]:f,this._LCTop=l[12]?l[12]:f,this._LCBottom=l[13]?l[13]:f,this._RCLeft=l[2]?l[2]:f,this._RCRight=l[1]?l[1]:f,this._RCTop=l[3]?l[3]:f,this._RCBottom=l[0]?l[0]:f,this._FBLeftTop=l[4]?l[4]:f,this._FBLeftBottom=l[6]?l[6]:f,this._FBRightTop=l[5]?l[5]:f,this._FBRightBottom=l[7]?l[7]:f;var p={value:0};this._HAxisLeft=d[0]?d[0]:p,this._VAxisLeft=d[1]?d[1]:p,this._HAxisRight=d[2]?d[2]:p,this._VAxisRight=d[3]?d[3]:p,this.leftStick=new n,this.rightStick=new n,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(s){return this.axes[s].getValue()},setAxisThreshold:function(s){for(var h=0;h<this.axes.length;h++)this.axes[h].threshold=s},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(s){return this.buttons[s].value},isButtonDown:function(s){return this.buttons[s].pressed},update:function(s){if(!(s.timestamp<this._created)){var h,i=this.buttons,l=s.buttons,u=i.length;for(h=0;h<u;h++)i[h].update(l[h].value);var d=this.axes,f=s.axes;for(u=d.length,h=0;h<u;h++)d[h].update(f[h]);u>=2&&(this.leftStick.set(d[0].getValue(),d[1].getValue()),u>=4&&this.rightStick.set(d[2].getValue(),d[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var s;for(s=0;s<this.buttons.length;s++)this.buttons[s].destroy();for(s=0;s<this.axes.length;s++)this.axes[s].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});v.exports=e},56654:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(50792),a=t(92734),r=t(99125),n=t(35154),e=t(89639),s=t(8214),h=new o({Extends:m,initialize:function(l){m.call(this),this.scene=l.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=l,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,l.pluginEvents.once(s.BOOT,this.boot,this),l.pluginEvents.on(s.START,this.start,this)},boot:function(){var i=this.scene.sys.game,l=this.settings.input,u=i.config;this.enabled=n(l,"gamepad",u.inputGamepad)&&i.device.input.gamepads,this.target=n(l,"gamepad.target",u.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(s.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(s.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var i=this,l=this.target,u=function(d){d.defaultPrevented||!i.isActive()||(i.refreshPads(),i.queue.push(d))};this.onGamepadHandler=u,l.addEventListener("gamepadconnected",u,!1),l.addEventListener("gamepaddisconnected",u,!1),this.sceneInputPlugin.pluginEvents.on(s.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(s.UPDATE,this.update);for(var i=0;i<this.gamepads.length;i++)this.gamepads[i].removeAllListeners()},disconnectAll:function(){for(var i=0;i<this.gamepads.length;i++)this.gamepads[i].pad.connected=!1},refreshPads:function(){var i=navigator.getGamepads();if(!i)this.disconnectAll();else for(var l=this.gamepads,u=0;u<i.length;u++){var d=i[u];if(d){var f=d.id,p=d.index,g=l[p];if(g)g.id!==f?(g.destroy(),l[p]=new r(this,d)):g.update(d);else{var x=new r(this,d);l[p]=x,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=x):this._pad3=x:this._pad2=x:this._pad1=x}}}},getAll:function(){for(var i=[],l=this.gamepads,u=0;u<l.length;u++)l[u]&&i.push(l[u]);return i},getPad:function(i){for(var l=this.gamepads,u=0;u<l.length;u++)if(l[u]&&l[u].index===i)return l[u]},update:function(){if(this.enabled){this.refreshPads();var i=this.queue.length;if(i!==0)for(var l=this.queue.splice(0,i),u=0;u<i;u++){var d=l[u],f=this.getPad(d.gamepad.index);d.type==="gamepadconnected"?this.emit(a.CONNECTED,f,d):d.type==="gamepaddisconnected"&&this.emit(a.DISCONNECTED,f,d)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var i=0;i<this.gamepads.length;i++)this.gamepads[i]&&this.gamepads[i].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});e.register("GamepadPlugin",h,"gamepad","gamepad","inputGamepad"),v.exports=h},89651:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={DUALSHOCK_4:t(65294),SNES_USB:t(89651),XBOX_360:t(90089)}},46008:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="down"},7629:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="up"},42206:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="connected"},86544:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="disconnected"},94784:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="down"},14325:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="up"},92734:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BUTTON_DOWN:t(46008),BUTTON_UP:t(7629),CONNECTED:t(42206),DISCONNECTED:t(86544),GAMEPAD_BUTTON_DOWN:t(94784),GAMEPAD_BUTTON_UP:t(14325)}},48646:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Axis:t(97421),Button:t(28884),Events:t(92734),Gamepad:t(99125),GamepadPlugin:t(56654),Configs:t(64894)}},14350:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(93301),m=t(79291),a={CreatePixelPerfectHandler:t(84409),CreateInteractiveObject:t(74457),Events:t(8214),Gamepad:t(48646),InputManager:t(7003),InputPlugin:t(48205),InputPluginCache:t(89639),Keyboard:t(51442),Mouse:t(87078),Pointer:t(42515),Touch:t(95618)};a=m(!1,a,o),v.exports=a},78970:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(72905),m=t(83419),a=t(8443),r=t(8214),n=t(46032),e=t(29747),s=new m({initialize:function(i){this.manager=i,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=e,this.onKeyUp=e,i.events.once(r.MANAGER_BOOT,this.boot,this)},boot:function(){var h=this.manager.config;this.enabled=h.inputKeyboard,this.target=h.inputKeyboardEventTarget,this.addCapture(h.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(a.POST_STEP,this.postUpdate,this)},startListeners:function(){var h=this;this.onKeyDown=function(l){if(!(l.defaultPrevented||!h.enabled||!h.manager)){h.queue.push(l),h.manager.events.emit(r.MANAGER_PROCESS);var u=l.altKey||l.ctrlKey||l.shiftKey||l.metaKey;h.preventDefault&&!u&&h.captures.indexOf(l.keyCode)>-1&&l.preventDefault()}},this.onKeyUp=function(l){if(!(l.defaultPrevented||!h.enabled||!h.manager)){h.queue.push(l),h.manager.events.emit(r.MANAGER_PROCESS);var u=l.altKey||l.ctrlKey||l.shiftKey||l.metaKey;h.preventDefault&&!u&&h.captures.indexOf(l.keyCode)>-1&&l.preventDefault()}};var i=this.target;i&&(i.addEventListener("keydown",this.onKeyDown,!1),i.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var h=this.target;h.removeEventListener("keydown",this.onKeyDown,!1),h.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(h){typeof h=="string"&&(h=h.split(",")),Array.isArray(h)||(h=[h]);for(var i=this.captures,l=0;l<h.length;l++){var u=h[l];typeof u=="string"&&(u=n[u.trim().toUpperCase()]),i.indexOf(u)===-1&&i.push(u)}this.preventDefault=i.length>0},removeCapture:function(h){typeof h=="string"&&(h=h.split(",")),Array.isArray(h)||(h=[h]);for(var i=this.captures,l=0;l<h.length;l++){var u=h[l];typeof u=="string"&&(u=n[u.toUpperCase()]),o(i,u)}this.preventDefault=i.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(a.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});v.exports=s},28846:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(50792),a=t(95922),r=t(8443),n=t(35154),e=t(8214),s=t(89639),h=t(30472),i=t(46032),l=t(87960),u=t(74600),d=t(44594),f=t(56583),p=new o({Extends:m,initialize:function(x){m.call(this),this.game=x.systems.game,this.scene=x.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=x,this.manager=x.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,x.pluginEvents.once(e.BOOT,this.boot,this),x.pluginEvents.on(e.START,this.start,this)},boot:function(){var g=this.settings.input;this.enabled=n(g,"keyboard",!0);var x=n(g,"keyboard.capture",null);x&&this.addCaptures(x),this.sceneInputPlugin.pluginEvents.once(e.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(e.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(e.SHUTDOWN,this.shutdown,this),this.game.events.on(r.BLUR,this.resetKeys,this),this.scene.sys.events.on(d.PAUSE,this.resetKeys,this),this.scene.sys.events.on(d.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(g){return this.manager.addCapture(g),this},removeCapture:function(g){return this.manager.removeCapture(g),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:i.UP,down:i.DOWN,left:i.LEFT,right:i.RIGHT,space:i.SPACE,shift:i.SHIFT})},addKeys:function(g,x,T){x===void 0&&(x=!0),T===void 0&&(T=!1);var E={};if(typeof g=="string"){g=g.split(",");for(var C=0;C<g.length;C++){var R=g[C].trim();R&&(E[R]=this.addKey(R,x,T))}}else for(var w in g)E[w]=this.addKey(g[w],x,T);return E},addKey:function(g,x,T){x===void 0&&(x=!0),T===void 0&&(T=!1);var E=this.keys;if(g instanceof h){var C=E.indexOf(g);return C>-1?E[C]=g:E[g.keyCode]=g,x&&this.addCapture(g.keyCode),g.setEmitOnRepeat(T),g}return typeof g=="string"&&(g=i[g.toUpperCase()]),E[g]||(E[g]=new h(this,g),x&&this.addCapture(g),E[g].setEmitOnRepeat(T)),E[g]},removeKey:function(g,x,T){x===void 0&&(x=!1),T===void 0&&(T=!1);var E=this.keys,C;if(g instanceof h){var R=E.indexOf(g);R>-1&&(C=this.keys[R],this.keys[R]=void 0)}else typeof g=="string"&&(g=i[g.toUpperCase()]);return E[g]&&(C=E[g],E[g]=void 0),C&&(C.plugin=null,T&&this.removeCapture(C.keyCode),x&&C.destroy()),this},removeAllKeys:function(g,x){g===void 0&&(g=!1),x===void 0&&(x=!1);for(var T=this.keys,E=0;E<T.length;E++){var C=T[E];C&&(T[E]=void 0,x&&this.removeCapture(C.keyCode),g&&C.destroy())}return this},createCombo:function(g,x){return new l(this,g,x)},checkDown:function(g,x){if(x===void 0&&(x=0),this.enabled&&g.isDown){var T=f(this.time-g.timeDown,x);if(T>g._tick)return g._tick=T,!0}return!1},update:function(){var g=this.manager.queue,x=g.length;if(!(!this.isActive()||x===0))for(var T=this.keys,E=0;E<x;E++){var C=g[E],R=C.keyCode,w=T[R],F=!1;C.cancelled===void 0&&(C.cancelled=0,C.stopImmediatePropagation=function(){C.cancelled=1},C.stopPropagation=function(){C.cancelled=-1}),C.cancelled!==-1&&(R===this.prevCode&&C.timeStamp===this.prevTime&&C.type===this.prevType||(this.prevCode=R,this.prevTime=C.timeStamp,this.prevType=C.type,C.type==="keydown"?(w&&(F=w.isDown,w.onDown(C)),!C.cancelled&&(!w||!F)&&(u[R]&&this.emit(a.KEY_DOWN+u[R],C),C.cancelled||this.emit(a.ANY_KEY_DOWN,C))):(w&&w.onUp(C),C.cancelled||(u[R]&&this.emit(a.KEY_UP+u[R],C),C.cancelled||this.emit(a.ANY_KEY_UP,C))),C.cancelled===1&&(C.cancelled=0)))}},resetKeys:function(){for(var g=this.keys,x=0;x<g.length;x++)g[x]&&g[x].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(e.MANAGER_PROCESS,this.update,this),this.game.events.off(r.BLUR,this.resetKeys),this.scene.sys.events.off(d.PAUSE,this.resetKeys,this),this.scene.sys.events.off(d.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var g=this.keys,x=0;x<g.length;x++)g[x]&&g[x].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});s.register("KeyboardPlugin",p,"keyboard","keyboard","inputKeyboard"),v.exports=p},66970:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return o.timeLastMatched=t.timeStamp,o.index++,o.index===o.size?!0:(o.current=o.keyCodes[o.index],!1)};v.exports=S},87960:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(95922),a=t(95540),r=t(68769),n=t(92803),e=new o({initialize:function(h,i,l){if(l===void 0&&(l={}),i.length<2)return!1;this.manager=h,this.enabled=!0,this.keyCodes=[];for(var u=0;u<i.length;u++){var d=i[u];typeof d=="string"?this.keyCodes.push(d.toUpperCase().charCodeAt(0)):typeof d=="number"?this.keyCodes.push(d):d.hasOwnProperty("keyCode")&&this.keyCodes.push(d.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=a(l,"resetOnWrongKey",!0),this.maxKeyDelay=a(l,"maxKeyDelay",0),this.resetOnMatch=a(l,"resetOnMatch",!1),this.deleteOnMatch=a(l,"deleteOnMatch",!1);var f=this,p=function(g){if(!(f.matched||!f.enabled)){var x=r(g,f);x&&(f.manager.emit(m.COMBO_MATCH,f,g),f.resetOnMatch?n(f):f.deleteOnMatch&&f.destroy())}};this.onKeyDown=p,this.manager.on(m.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(m.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});v.exports=e},68769:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66970),m=function(a,r){if(r.matched)return!0;var n=!1,e=!1;if(a.keyCode===r.current)if(r.index>0&&r.maxKeyDelay>0){var s=r.timeLastMatched+r.maxKeyDelay;a.timeStamp<=s&&(e=!0,n=o(a,r))}else e=!0,n=o(a,r);return!e&&r.resetOnWrongKey&&(r.index=0,r.current=r.keyCodes[0]),n&&(r.timeLastMatched=a.timeStamp,r.matched=!0,r.timeMatched=a.timeStamp),n};v.exports=m},92803:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.current=t.keyCodes[0],t.index=0,t.timeLastMatched=0,t.matched=!1,t.timeMatched=0,t};v.exports=S},92612:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="keydown"},23345:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="keyup"},21957:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="keycombomatch"},44743:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="down"},3771:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="keydown-"},46358:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="keyup-"},75674:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="up"},95922:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ANY_KEY_DOWN:t(92612),ANY_KEY_UP:t(23345),COMBO_MATCH:t(21957),DOWN:t(44743),KEY_DOWN:t(3771),KEY_UP:t(46358),UP:t(75674)}},51442:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Events:t(95922),KeyboardManager:t(78970),KeyboardPlugin:t(28846),Key:t(30472),KeyCodes:t(46032),KeyCombo:t(87960),AdvanceKeyCombo:t(66970),ProcessKeyCombo:t(68769),ResetKeyCombo:t(92803),JustDown:t(90229),JustUp:t(38796),DownDuration:t(37015),UpDuration:t(41170)}},37015:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){o===void 0&&(o=50);var m=t.plugin.game.loop.time-t.timeDown;return t.isDown&&m<o};v.exports=S},90229:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t._justDown?(t._justDown=!1,!0):!1};v.exports=S},38796:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t._justUp?(t._justUp=!1,!0):!1};v.exports=S},30472:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(50792),a=t(95922),r=new o({Extends:m,initialize:function(e,s){m.call(this),this.plugin=e,this.keyCode=s,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(n){return this.emitOnRepeat=n,this},onDown:function(n){this.originalEvent=n,this.enabled&&(this.altKey=n.altKey,this.ctrlKey=n.ctrlKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.location=n.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(a.DOWN,this,n):(this.isDown=!0,this.isUp=!1,this.timeDown=n.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(a.DOWN,this,n)))},onUp:function(n){this.originalEvent=n,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=n.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(a.UP,this,n))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});v.exports=r},46032:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};v.exports=S},74600:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(46032),m={};for(var a in o)m[o[a]]=a;v.exports=m},41170:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){o===void 0&&(o=50);var m=t.plugin.game.loop.time-t.timeUp;return t.isUp&&m<o};v.exports=S},85098:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(89357),a=t(8214),r=t(29747),n=new o({initialize:function(s){this.manager=s,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=r,this.onMouseDown=r,this.onMouseUp=r,this.onMouseDownWindow=r,this.onMouseUpWindow=r,this.onMouseOver=r,this.onMouseOut=r,this.onMouseWheel=r,this.pointerLockChange=r,this.isTop=!0,s.events.once(a.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputMouse,this.target=e.inputMouseEventTarget,this.passive=e.inputMousePassive,this.preventDefaultDown=e.inputMousePreventDefaultDown,this.preventDefaultUp=e.inputMousePreventDefaultUp,this.preventDefaultMove=e.inputMousePreventDefaultMove,this.preventDefaultWheel=e.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,e.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(e){return e.preventDefault(),!1}),this},requestPointerLock:function(){if(m.pointerLock){var e=this.target;e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock,e.requestPointerLock()}},releasePointerLock:function(){m.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var e=this.target;if(e){var s=this,h=this.manager,i=h.canvas,l=window&&window.focus&&h.game.config.autoFocus;this.onMouseMove=function(d){!d.defaultPrevented&&s.enabled&&h&&h.enabled&&(h.onMouseMove(d),s.preventDefaultMove&&d.preventDefault())},this.onMouseDown=function(d){l&&window.focus(),!d.defaultPrevented&&s.enabled&&h&&h.enabled&&(h.onMouseDown(d),s.preventDefaultDown&&d.target===i&&d.preventDefault())},this.onMouseDownWindow=function(d){d.sourceCapabilities&&d.sourceCapabilities.firesTouchEvents||!d.defaultPrevented&&s.enabled&&h&&h.enabled&&d.target!==i&&h.onMouseDown(d)},this.onMouseUp=function(d){!d.defaultPrevented&&s.enabled&&h&&h.enabled&&(h.onMouseUp(d),s.preventDefaultUp&&d.target===i&&d.preventDefault())},this.onMouseUpWindow=function(d){d.sourceCapabilities&&d.sourceCapabilities.firesTouchEvents||!d.defaultPrevented&&s.enabled&&h&&h.enabled&&d.target!==i&&h.onMouseUp(d)},this.onMouseOver=function(d){!d.defaultPrevented&&s.enabled&&h&&h.enabled&&h.setCanvasOver(d)},this.onMouseOut=function(d){!d.defaultPrevented&&s.enabled&&h&&h.enabled&&h.setCanvasOut(d)},this.onMouseWheel=function(d){!d.defaultPrevented&&s.enabled&&h&&h.enabled&&h.onMouseWheel(d),s.preventDefaultWheel&&d.target===i&&d.preventDefault()};var u={passive:!0};if(e.addEventListener("mousemove",this.onMouseMove),e.addEventListener("mousedown",this.onMouseDown),e.addEventListener("mouseup",this.onMouseUp),e.addEventListener("mouseover",this.onMouseOver,u),e.addEventListener("mouseout",this.onMouseOut,u),this.preventDefaultWheel?e.addEventListener("wheel",this.onMouseWheel,{passive:!1}):e.addEventListener("wheel",this.onMouseWheel,u),window&&h.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,u),window.top.addEventListener("mouseup",this.onMouseUpWindow,u)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,u),window.addEventListener("mouseup",this.onMouseUpWindow,u),this.isTop=!1}m.pointerLock&&(this.pointerLockChange=function(d){var f=s.target;s.locked=document.pointerLockElement===f||document.mozPointerLockElement===f||document.webkitPointerLockElement===f,h.onPointerLockChange(d)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var e=this.target;e.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("mousedown",this.onMouseDown),e.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("mouseover",this.onMouseOver),e.removeEventListener("mouseout",this.onMouseOut),window&&(e=this.isTop?window.top:window,e.removeEventListener("mousedown",this.onMouseDownWindow),e.removeEventListener("mouseup",this.onMouseUpWindow)),m.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});v.exports=n},87078:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={MouseManager:t(85098)}},36210:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(8214),a=t(29747),r=new o({initialize:function(e){this.manager=e,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=a,this.onTouchStartWindow=a,this.onTouchMove=a,this.onTouchEnd=a,this.onTouchEndWindow=a,this.onTouchCancel=a,this.onTouchCancelWindow=a,this.isTop=!0,e.events.once(m.MANAGER_BOOT,this.boot,this)},boot:function(){var n=this.manager.config;this.enabled=n.inputTouch,this.target=n.inputTouchEventTarget,this.capture=n.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,n.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(n){return n.preventDefault(),!1}),this},startListeners:function(){var n=this.target;if(n){var e=this,s=this.manager,h=s.canvas,i=window&&window.focus&&s.game.config.autoFocus;this.onTouchMove=function(f){!f.defaultPrevented&&e.enabled&&s&&s.enabled&&(s.onTouchMove(f),e.capture&&f.cancelable&&f.preventDefault())},this.onTouchStart=function(f){i&&window.focus(),!f.defaultPrevented&&e.enabled&&s&&s.enabled&&(s.onTouchStart(f),e.capture&&f.cancelable&&f.target===h&&f.preventDefault())},this.onTouchStartWindow=function(f){!f.defaultPrevented&&e.enabled&&s&&s.enabled&&f.target!==h&&s.onTouchStart(f)},this.onTouchEnd=function(f){!f.defaultPrevented&&e.enabled&&s&&s.enabled&&(s.onTouchEnd(f),e.capture&&f.cancelable&&f.target===h&&f.preventDefault())},this.onTouchEndWindow=function(f){!f.defaultPrevented&&e.enabled&&s&&s.enabled&&f.target!==h&&s.onTouchEnd(f)},this.onTouchCancel=function(f){!f.defaultPrevented&&e.enabled&&s&&s.enabled&&(s.onTouchCancel(f),e.capture&&f.preventDefault())},this.onTouchCancelWindow=function(f){!f.defaultPrevented&&e.enabled&&s&&s.enabled&&s.onTouchCancel(f)};var l=this.capture,u={passive:!0},d={passive:!1};if(n.addEventListener("touchstart",this.onTouchStart,l?d:u),n.addEventListener("touchmove",this.onTouchMove,l?d:u),n.addEventListener("touchend",this.onTouchEnd,l?d:u),n.addEventListener("touchcancel",this.onTouchCancel,l?d:u),window&&s.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,d),window.top.addEventListener("touchend",this.onTouchEndWindow,d),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,d)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,d),window.addEventListener("touchend",this.onTouchEndWindow,d),window.addEventListener("touchcancel",this.onTouchCancelWindow,d),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var n=this.target;n.removeEventListener("touchstart",this.onTouchStart),n.removeEventListener("touchmove",this.onTouchMove),n.removeEventListener("touchend",this.onTouchEnd),n.removeEventListener("touchcancel",this.onTouchCancel),window&&(n=this.isTop?window.top:window,n.removeEventListener("touchstart",this.onTouchStartWindow),n.removeEventListener("touchend",this.onTouchEndWindow),n.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});v.exports=r},95618:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={TouchManager:t(36210)}},41299:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(23906),a=t(54899),r=t(95540),n=t(98356),e=t(3374),s=t(84376),h=t(92638),i=new o({initialize:function(u,d){if(this.loader=u,this.cache=r(d,"cache",!1),this.type=r(d,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=r(d,"key",!1);var f=this.key;if(u.prefix&&u.prefix!==""&&(this.key=u.prefix+f),!this.key)throw new Error("Invalid File key: "+this.key);var p=r(d,"url");p===void 0?p=u.path+f+"."+r(d,"extension",""):typeof p=="string"&&!p.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(p=u.path+p),this.url=p,this.src="",this.xhrSettings=h(r(d,"responseType",void 0)),r(d,"xhrSettings",!1)&&(this.xhrSettings=e(this.xhrSettings,r(d,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?m.FILE_POPULATED:m.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=r(d,"config",{}),this.multiFile,this.linkFile,this.base64=typeof p=="string"&&p.indexOf("data:")===0,this.retryAttempts=r(d,"maxRetries",u.maxRetries)},setLink:function(l){this.linkFile=l,l.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){if(this.state===m.FILE_POPULATED)this.loader.nextFile(this,!0);else{if(this.state=m.FILE_LOADING,this.src=n(this,this.loader.baseURL),!this.src)throw new Error("URL Error in File: "+this.key+" from: "+this.url);this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=s(this,this.loader.xhr)}},onLoad:function(l,u){var d=l.responseURL&&this.loader.localSchemes.some(function(g){return l.responseURL.indexOf(g)===0}),f=d&&u.target.status===0,p=!(u.target&&u.target.status!==200)||f;l.readyState===4&&l.status>=400&&l.status<=599&&(p=!1),this.state=m.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,p)},onBase64Load:function(l){this.xhrLoader=l,this.state=m.FILE_LOADED,this.percentComplete=1,this.loader.emit(a.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.retryAttempts>0?(this.retryAttempts--,this.load()):this.loader.nextFile(this,!1)},onProgress:function(l){l.lengthComputable&&(this.bytesLoaded=l.loaded,this.bytesTotal=l.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(a.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=m.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=m.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=m.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(l){if(this.state!==m.FILE_PENDING_DESTROY){l===void 0&&(l=this.data);var u=this.key,d=this.type;this.loader.emit(a.FILE_COMPLETE,u,d,l),this.loader.emit(a.FILE_KEY_COMPLETE+d+"-"+u,u,d,l),this.loader.flagForRemoval(this),this.state=m.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});i.createObjectURL=function(l,u,d){if(typeof URL=="function")l.src=URL.createObjectURL(u);else{var f=new FileReader;f.onload=function(){l.removeAttribute("crossOrigin"),l.src="data:"+(u.type||d)+";base64,"+f.result.split(",")[1]},f.onerror=l.onerror,f.readAsDataURL(u)}},i.revokeObjectURL=function(l){typeof URL=="function"&&URL.revokeObjectURL(l.src)},v.exports=i},74099:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={},t={install:function(o){for(var m in S)o[m]=S[m]},register:function(o,m){S[o]=m},destroy:function(){S={}}};v.exports=t},98356:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return t.url?t.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?t.url:o+t.url:!1};v.exports=S},74261:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(23906),a=t(35072),r=t(50792),n=t(54899),e=t(74099),s=t(95540),h=t(35154),i=t(41212),l=t(37277),u=t(44594),d=t(92638),f=new o({Extends:r,initialize:function(g){r.call(this);var x=g.sys.game.config,T=g.sys.settings.loader;this.scene=g,this.systems=g.sys,this.cacheManager=g.sys.cache,this.textureManager=g.sys.textures,this.sceneManager=g.sys.game.scene,e.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(s(T,"baseURL",x.loaderBaseURL)),this.setPath(s(T,"path",x.loaderPath)),this.setPrefix(s(T,"prefix",x.loaderPrefix)),this.maxParallelDownloads=s(T,"maxParallelDownloads",x.loaderMaxParallelDownloads),this.xhr=d(s(T,"responseType",x.loaderResponseType),s(T,"async",x.loaderAsync),s(T,"user",x.loaderUser),s(T,"password",x.loaderPassword),s(T,"timeout",x.loaderTimeout),s(T,"withCredentials",x.loaderWithCredentials)),this.crossOrigin=s(T,"crossOrigin",x.loaderCrossOrigin),this.imageLoadType=s(T,"imageLoadType",x.loaderImageLoadType),this.localSchemes=s(T,"localScheme",x.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new a,this.inflight=new a,this.queue=new a,this._deleteQueue=new a,this.totalFailed=0,this.totalComplete=0,this.state=m.LOADER_IDLE,this.multiKeyIndex=0,this.maxRetries=s(T,"maxRetries",x.loaderMaxRetries),g.sys.events.once(u.BOOT,this.boot,this),g.sys.events.on(u.START,this.pluginStart,this)},boot:function(){this.systems.events.once(u.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(u.SHUTDOWN,this.shutdown,this)},setBaseURL:function(p){return p===void 0&&(p=""),p!==""&&p.substr(-1)!=="/"&&(p=p.concat("/")),this.baseURL=p,this},setPath:function(p){return p===void 0&&(p=""),p!==""&&p.substr(-1)!=="/"&&(p=p.concat("/")),this.path=p,this},setPrefix:function(p){return p===void 0&&(p=""),this.prefix=p,this},setCORS:function(p){return this.crossOrigin=p,this},addFile:function(p){Array.isArray(p)||(p=[p]);for(var g=0;g<p.length;g++){var x=p[g];this.keyExists(x)||(this.list.set(x),this.emit(n.ADD,x.key,x.type,this,x),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(p){var g=p.hasCacheConflict();return g||this.list.iterate(function(x){if(x.type===p.type&&x.key===p.key)return g=!0,!1}),!g&&this.isLoading()&&(this.inflight.iterate(function(x){if(x.type===p.type&&x.key===p.key)return g=!0,!1}),this.queue.iterate(function(x){if(x.type===p.type&&x.key===p.key)return g=!0,!1})),g},addPack:function(p,g){if(typeof g=="string"){var x=h(p,g);x&&(p={packKey:x})}var T=0,E=this.baseURL,C=this.path,R=this.prefix;for(var w in p)if(Object.prototype.hasOwnProperty.call(p,w)){var F=p[w],I=s(F,"baseURL",E),L=s(F,"path",C),D=s(F,"prefix",R),B=s(F,"files",null),U=s(F,"defaultType","void");if(Array.isArray(B)){this.setBaseURL(I),this.setPath(L),this.setPrefix(D);for(var W=0;W<B.length;W++){var K=B[W],Y=K.hasOwnProperty("type")?K.type:U;this[Y]&&(this[Y](K),T++)}}}return this.setBaseURL(E),this.setPath(C),this.setPrefix(R),T>0},removePack:function(p,g){var x=this.systems.anims,T=this.cacheManager,E=this.textureManager,C={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"},R;if(i(p))R=p;else if(R=T.json.get(p),!R){console.warn("Asset Pack not found in JSON cache:",p);return}g&&(R={_:R[g]});for(var w in R){var F=R[w],I=s(F,"prefix",""),L=s(F,"files"),D=s(F,"defaultType");if(Array.isArray(L))for(var B=0;B<L.length;B++){var U=L[B],W=U.hasOwnProperty("type")?U.type:D;if(!W){console.warn("No type:",U);continue}var K=I+U.key;if(W==="animation"&&x.remove(K),!((W==="aseprite"||W==="atlas"||W==="atlasXML"||W==="htmlTexture"||W==="image"||W==="multiatlas"||W==="spritesheet"||W==="svg"||W==="texture"||W==="unityAtlas")&&(E.remove(K),!C[W]))){if(W==="pack"){this.removePack(K,U.dataKey);continue}if(W==="spine"){var Y=T.custom.spine.get(K);if(!Y)continue;var G=Y.prefix===void 0?"":Y.prefix;T.custom.spine.remove(K);var X=T.custom.spineTextures.get(K);if(!X)continue;T.custom.spineTextures.remove(K);for(var V=0;V<X.pages.length;V++){var b=X.pages[V],z=G+b.name,k=K+":"+z;E.exists(k)?E.remove(k):E.remove(z)}}var $=C[W];if($!==null){if(!$){console.warn("Unknown type:",W);continue}var J=T[$];J.remove(K)}}}}},isLoading:function(){return this.state===m.LOADER_LOADING||this.state===m.LOADER_PROCESSING},isReady:function(){return this.state===m.LOADER_IDLE||this.state===m.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(n.START,this),this.list.size===0?this.loadComplete():(this.state=m.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(u.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(n.PROGRESS,this.progress)},update:function(){this.state===m.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(p){if((p.state===m.FILE_POPULATED||p.state===m.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(p),this.list.delete(p),p.crossOrigin||(p.crossOrigin=this.crossOrigin),p.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(p,g){this.inflight&&(this.inflight.delete(p),this.updateProgress(),g?(this.totalComplete++,this.queue.set(p),this.emit(n.FILE_LOAD,p),p.onProcess()):(this.totalFailed++,this._deleteQueue.set(p),this.emit(n.FILE_LOAD_ERROR,p),this.fileProcessComplete(p)))},fileProcessComplete:function(p){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(p.state===m.FILE_ERRORED?p.multiFile&&p.multiFile.onFileFailed(p):p.state===m.FILE_COMPLETE&&(p.multiFile?p.multiFile.isReadyToProcess()&&(p.multiFile.addToCache(),p.multiFile.pendingDestroy()):(p.addToCache(),p.pendingDestroy())),this.queue.delete(p),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(n.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=m.LOADER_COMPLETE,this.systems.events.off(u.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(n.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(p){this._deleteQueue.set(p)},saveJSON:function(p,g){return this.save(JSON.stringify(p),g)},save:function(p,g,x){g===void 0&&(g="file.json"),x===void 0&&(x="application/json");var T=new Blob([p],{type:x}),E=URL.createObjectURL(T),C=document.createElement("a");return C.download=g,C.textContent="Download "+g,C.href=E,C.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var p=this.systems.game.config,g=this.systems.settings.loader;this.setBaseURL(s(g,"baseURL",p.loaderBaseURL)),this.setPath(s(g,"path",p.loaderPath)),this.setPrefix(s(g,"prefix",p.loaderPrefix)),this.state=m.LOADER_IDLE},shutdown:function(){this.reset(),this.state=m.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(u.UPDATE,this.update,this),this.systems.events.off(u.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=m.LOADER_DESTROYED,this.systems.events.off(u.UPDATE,this.update,this),this.systems.events.off(u.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});l.register("Loader",f,"load"),v.exports=f},3374:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(79291),m=t(92638),a=function(r,n){var e=r===void 0?m():o({},r);if(n)for(var s in n)n[s]!==void 0&&(e[s]=n[s]);return e};v.exports=a},26430:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(23906),a=t(54899),r=new o({initialize:function(e,s,h,i){var l=[];i.forEach(function(f){f&&l.push(f)}),this.loader=e,this.type=s,this.key=h;var u=this.key;e.prefix&&e.prefix!==""&&(this.key=e.prefix+u),this.multiKeyIndex=e.multiKeyIndex++,this.files=l,this.state=m.FILE_PENDING,this.complete=!1,this.pending=l.length,this.failed=0,this.config={},this.baseURL=e.baseURL,this.path=e.path,this.prefix=e.prefix;for(var d=0;d<l.length;d++)l[d].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(n){return this.files.push(n),n.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(n){var e=this.files.indexOf(n);e!==-1&&this.pending--},onFileFailed:function(n){var e=this.files.indexOf(n);e!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,n.type,n.key))},pendingDestroy:function(){if(this.state!==m.FILE_PENDING_DESTROY){var n=this.key,e=this.type;this.loader.emit(a.FILE_COMPLETE,n,e),this.loader.emit(a.FILE_KEY_COMPLETE+e+"-"+n,n,e),this.loader.flagForRemoval(this);for(var s=0;s<this.files.length;s++)this.files[s].pendingDestroy();this.state=m.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});v.exports=r},84376:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(3374),m=function(a,r){var n=o(r,a.xhrSettings);if(a.base64){var e=a.url.split(";base64,").pop()||a.url.split(",").pop(),s={responseText:atob(e)};a.onBase64Load(s);return}var h=new XMLHttpRequest;if(h.open("GET",a.src,n.async,n.user,n.password),h.responseType=a.xhrSettings.responseType,h.timeout=n.timeout,n.headers)for(var i in n.headers)h.setRequestHeader(i,n.headers[i]);return n.header&&n.headerValue&&h.setRequestHeader(n.header,n.headerValue),n.requestedWith&&h.setRequestHeader("X-Requested-With",n.requestedWith),n.overrideMimeType&&h.overrideMimeType(n.overrideMimeType),n.withCredentials&&(h.withCredentials=!0),h.onload=a.onLoad.bind(a,h),h.onerror=a.onError.bind(a,h),h.onprogress=a.onProgress.bind(a),h.ontimeout=a.onError.bind(a,h),h.send(),h};v.exports=m},92638:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a,r,n){return t===void 0&&(t=""),o===void 0&&(o=!0),m===void 0&&(m=""),a===void 0&&(a=""),r===void 0&&(r=0),n===void 0&&(n=!1),{responseType:t,async:o,user:m,password:a,timeout:r,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:n}};v.exports=S},23906:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};v.exports=S},42155:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="addfile"},38991:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="complete"},27540:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="filecomplete"},87464:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="filecomplete-"},94486:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="loaderror"},13035:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="load"},38144:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="fileprogress"},97520:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="postprocess"},85595:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="progress"},55680:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="start"},54899:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ADD:t(42155),COMPLETE:t(38991),FILE_COMPLETE:t(27540),FILE_KEY_COMPLETE:t(87464),FILE_LOAD_ERROR:t(94486),FILE_LOAD:t(13035),FILE_PROGRESS:t(38144),POST_PROCESS:t(97520),PROGRESS:t(85595),START:t(55680)}},14135:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(74099),a=t(518),r=t(54899),n=new o({Extends:a,initialize:function(s,h,i,l,u){a.call(this,s,h,i,l,u),this.type="animationJSON"},onProcess:function(){this.loader.once(r.POST_PROCESS,this.onLoadComplete,this),a.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});m.register("animation",function(e,s,h,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)this.addFile(new n(this,e[l]));else this.addFile(new n(this,e,s,i,h));return this}),v.exports=n},76272:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(74099),a=t(95540),r=t(19550),n=t(41212),e=t(518),s=t(26430),h=new o({Extends:s,initialize:function(l,u,d,f,p,g){var x,T;if(n(u)){var E=u;u=a(E,"key"),x=new r(l,{key:u,url:a(E,"textureURL"),extension:a(E,"textureExtension","png"),normalMap:a(E,"normalMap"),xhrSettings:a(E,"textureXhrSettings")}),T=new e(l,{key:u,url:a(E,"atlasURL"),extension:a(E,"atlasExtension","json"),xhrSettings:a(E,"atlasXhrSettings")})}else x=new r(l,u,d,p),T=new e(l,u,f,g);x.linkFile?s.call(this,l,"atlasjson",u,[x,T,x.linkFile]):s.call(this,l,"atlasjson",u,[x,T])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],l=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(i.key,i.data,l.data,u),l.addToCache(),this.complete=!0}}});m.register("aseprite",function(i,l,u,d,f){var p;if(Array.isArray(i))for(var g=0;g<i.length;g++)p=new h(this,i[g]),this.addFile(p.files);else p=new h(this,i,l,u,d,f),this.addFile(p.files);return this}),v.exports=h},38734:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(74099),a=t(95540),r=t(19550),n=t(41212),e=t(518),s=t(26430),h=new o({Extends:s,initialize:function(l,u,d,f,p,g){var x,T;if(n(u)){var E=u;u=a(E,"key"),x=new r(l,{key:u,url:a(E,"textureURL"),extension:a(E,"textureExtension","png"),normalMap:a(E,"normalMap"),xhrSettings:a(E,"textureXhrSettings")}),T=new e(l,{key:u,url:a(E,"atlasURL"),extension:a(E,"atlasExtension","json"),xhrSettings:a(E,"atlasXhrSettings")})}else x=new r(l,u,d,p),T=new e(l,u,f,g);x.linkFile?s.call(this,l,"atlasjson",u,[x,T,x.linkFile]):s.call(this,l,"atlasjson",u,[x,T])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],l=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(i.key,i.data,l.data,u),this.complete=!0}}});m.register("atlas",function(i,l,u,d,f){var p;if(Array.isArray(i))for(var g=0;g<i.length;g++)p=new h(this,i[g]),this.addFile(p.files);else p=new h(this,i,l,u,d,f),this.addFile(p.files);return this}),v.exports=h},74599:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(74099),a=t(95540),r=t(19550),n=t(41212),e=t(26430),s=t(57318),h=new o({Extends:e,initialize:function(l,u,d,f,p,g){var x,T;if(n(u)){var E=u;u=a(E,"key"),x=new r(l,{key:u,url:a(E,"textureURL"),extension:a(E,"textureExtension","png"),normalMap:a(E,"normalMap"),xhrSettings:a(E,"textureXhrSettings")}),T=new s(l,{key:u,url:a(E,"atlasURL"),extension:a(E,"atlasExtension","xml"),xhrSettings:a(E,"atlasXhrSettings")})}else x=new r(l,u,d,p),T=new s(l,u,f,g);x.linkFile?e.call(this,l,"atlasxml",u,[x,T,x.linkFile]):e.call(this,l,"atlasxml",u,[x,T])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],l=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(i.key,i.data,l.data,u),this.complete=!0}}});m.register("atlasXML",function(i,l,u,d,f){var p;if(Array.isArray(i))for(var g=0;g<i.length;g++)p=new h(this,i[g]),this.addFile(p.files);else p=new h(this,i,l,u,d,f),this.addFile(p.files);return this}),v.exports=h},21097:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(89749),s=t(41212),h=new o({Extends:a,initialize:function(l,u,d,f,p){if(s(u)){var g=u;u=n(g,"key"),f=n(g,"xhrSettings"),p=n(g,"context",p)}var x={type:"audio",cache:l.cacheManager.audio,extension:d.type,responseType:"arraybuffer",key:u,url:d.url,xhrSettings:f,config:{context:p}};a.call(this,l,x)},onProcess:function(){this.state=m.FILE_PROCESSING;var i=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(l){i.data=l,i.onProcessComplete()},function(l){console.error("Error decoding audio: "+i.key+" - ",l?l.message:null),i.onProcessError()}),this.config.context=null}});h.create=function(i,l,u,d,f){var p=i.systems.game,g=p.config.audio,x=p.device.audio;s(l)&&(u=n(l,"url",[]),d=n(l,"config",{}));var T=h.getAudioURL(p,u);return T?x.webAudio&&!g.disableWebAudio?new h(i,l,T,f,p.sound.context):new e(i,l,T,d):(console.warn('No audio URLs for "%s" can play on this device',l),null)},h.getAudioURL=function(i,l){Array.isArray(l)||(l=[l]);for(var u=0;u<l.length;u++){var d=n(l[u],"url",l[u]);if(d.indexOf("blob:")===0||d.indexOf("data:")===0)return{url:d,type:""};var f=d.match(/\.([a-zA-Z0-9]+)($|\?)/);if(f=n(l[u],"type",f?f[1]:"").toLowerCase(),i.device.audio[f])return{url:d,type:f}}return null},r.register("audio",function(i,l,u,d){var f=this.systems.game,p=f.config.audio,g=f.device.audio;if(p.noAudio||!g.webAudio&&!g.audioData)return this;var x;if(Array.isArray(i))for(var T=0;T<i.length;T++)x=h.create(this,i[T]),x&&this.addFile(x);else x=h.create(this,i,l,u,d),x&&this.addFile(x);return this}),v.exports=h},89524:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(21097),m=t(83419),a=t(74099),r=t(95540),n=t(41212),e=t(518),s=t(26430),h=new m({Extends:s,initialize:function(l,u,d,f,p,g,x){if(n(u)){var T=u;u=r(T,"key"),d=r(T,"jsonURL"),f=r(T,"audioURL"),p=r(T,"audioConfig"),g=r(T,"audioXhrSettings"),x=r(T,"jsonXhrSettings")}var E;if(!f)E=new e(l,u,d,x),s.call(this,l,"audiosprite",u,[E]),this.config.resourceLoad=!0,this.config.audioConfig=p,this.config.audioXhrSettings=g;else{var C=o.create(l,u,f,p,g);C&&(E=new e(l,u,d,x),s.call(this,l,"audiosprite",u,[C,E]),this.config.resourceLoad=!1)}},onFileComplete:function(i){var l=this.files.indexOf(i);if(l!==-1&&(this.pending--,this.config.resourceLoad&&i.type==="json"&&i.data.hasOwnProperty("resources"))){var u=i.data.resources,d=r(this.config,"audioConfig"),f=r(this.config,"audioXhrSettings"),p=o.create(this.loader,i.key,u,d,f);p&&(this.addToMultiFile(p),this.loader.addFile(p))}},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],l=this.files[1];i.addToCache(),l.addToCache(),this.complete=!0}}});a.register("audioSprite",function(i,l,u,d,f,p){var g=this.systems.game,x=g.config.audio,T=g.device.audio;if(x&&x.noAudio||!T.webAudio&&!T.audioData)return this;var E;if(Array.isArray(i))for(var C=0;C<i.length;C++)E=new h(this,i[C]),E.files&&this.addFile(E.files);else E=new h(this,i,l,u,d,f,p),E.files&&this.addFile(E.files);return this})},85722:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=new o({Extends:a,initialize:function(i,l,u,d,f){var p="bin";if(e(l)){var g=l;l=n(g,"key"),u=n(g,"url"),d=n(g,"xhrSettings"),p=n(g,"extension",p),f=n(g,"dataType",f)}var x={type:"binary",cache:i.cacheManager.binary,extension:p,responseType:"arraybuffer",key:l,url:u,xhrSettings:d,config:{dataType:f}};a.call(this,i,x)},onProcess:function(){this.state=m.FILE_PROCESSING;var h=this.config.dataType;this.data=h?new h(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});r.register("binary",function(h,i,l,u){if(Array.isArray(h))for(var d=0;d<h.length;d++)this.addFile(new s(this,h[d]));else this.addFile(new s(this,h,i,u,l));return this}),v.exports=s},97025:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(74099),a=t(95540),r=t(19550),n=t(41212),e=t(26430),s=t(21859),h=t(57318),i=new o({Extends:e,initialize:function(u,d,f,p,g,x){var T,E;if(n(d)){var C=d;d=a(C,"key"),T=new r(u,{key:d,url:a(C,"textureURL"),extension:a(C,"textureExtension","png"),normalMap:a(C,"normalMap"),xhrSettings:a(C,"textureXhrSettings")}),E=new h(u,{key:d,url:a(C,"fontDataURL"),extension:a(C,"fontDataExtension","xml"),xhrSettings:a(C,"fontDataXhrSettings")})}else T=new r(u,d,f,g),E=new h(u,d,p,x);T.linkFile?e.call(this,u,"bitmapfont",d,[T,E,T.linkFile]):e.call(this,u,"bitmapfont",d,[T,E])},addToCache:function(){if(this.isReadyToProcess()){var l=this.files[0],u=this.files[1];l.addToCache();var d=l.cache.get(l.key),f=s(u.data,l.cache.getFrame(l.key),0,0,d);this.loader.cacheManager.bitmapFont.add(l.key,{data:f,texture:l.key,frame:null}),this.complete=!0}}});m.register("bitmapFont",function(l,u,d,f,p){var g;if(Array.isArray(l))for(var x=0;x<l.length;x++)g=new i(this,l[x]),this.addFile(g.files);else g=new i(this,l,u,d,f,p),this.addFile(g.files);return this}),v.exports=i},16024:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=new o({Extends:a,initialize:function(i,l,u,d){var f="css";if(e(l)){var p=l;l=n(p,"key"),u=n(p,"url"),d=n(p,"xhrSettings"),f=n(p,"extension",f)}var g={type:"script",cache:!1,extension:f,responseType:"text",key:l,url:u,xhrSettings:d};a.call(this,i,g)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});r.register("css",function(h,i,l){if(Array.isArray(h))for(var u=0;u<h.length;u++)this.addFile(new s(this,h[u]));else this.addFile(new s(this,h,i,l));return this}),v.exports=s},69559:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(38734),m=t(85722),a=t(83419),r=t(74099),n=t(95540),e=t(19550),s=t(41212),h=t(518),i=t(31403),l=t(46975),u=t(59327),d=t(26430),f=t(82038),p=t(55222),g=new a({Extends:d,initialize:function(T,E,C,R){if(C.multiAtlasURL){var w=new h(T,{key:E,url:C.multiAtlasURL,xhrSettings:R,config:C});d.call(this,T,"texture",E,[w])}else{var F=C.textureURL.substr(C.textureURL.length-3);C.type||(C.type=F.toLowerCase()==="ktx"?"KTX":"PVR");var I=new m(T,{key:E,url:C.textureURL,extension:F,xhrSettings:R,config:C});if(C.atlasURL){var L=new h(T,{key:E,url:C.atlasURL,xhrSettings:R,config:C});d.call(this,T,"texture",E,[I,L])}else d.call(this,T,"texture",E,[I])}this.config=C},onFileComplete:function(x){var T=this.files.indexOf(x);if(T!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(x.type==="json"&&x.data.hasOwnProperty("textures")){var E=x.data.textures,C=this.config,R=this.loader,w=R.baseURL,F=R.path,I=R.prefix,L=n(C,"multiBaseURL",this.baseURL),D=n(C,"multiPath",this.path),B=n(C,"prefix",this.prefix),U=n(C,"textureXhrSettings");L&&R.setBaseURL(L),D&&R.setPath(D),B&&R.setPrefix(B);for(var W=0;W<E.length;W++){var K=E[W].image,Y="CMA"+this.multiKeyIndex+"_"+K,G=new m(R,Y,K,U);if(this.addToMultiFile(G),R.addFile(G),E[W].normalMap){var X=new m(R,Y,E[W].normalMap,U);X.type="normalMap",G.setLink(X),this.addToMultiFile(X),R.addFile(X)}}R.setBaseURL(w),R.setPath(F),R.setPrefix(I)}}},addToCache:function(){function x(L){console.warn('Compressed Texture Invalid: "'+w.key+'". '+L)}if(this.isReadyToProcess()){var T=this.config;if(T.multiAtlasURL)this.addMultiToCache();else{var E=this.loader.systems.renderer,C=this.loader.textureManager,R,w=this.files[0],F=this.files[1];if(T.type==="PVR"?R=f(w.data):T.type==="KTX"&&(R=i(w.data),R||x("KTX file contains unsupported format.")),R&&!p(R)&&(x("Texture dimensions failed verification. Check the texture format specifications for "+T.format+" 0x"+R.internalFormat.toString(16)+"."),R=null),R&&!E.supportsCompressedTexture(T.format,R.internalFormat)&&(x("Texture format "+T.format+" with internal format "+R.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),R=null),R){R.format=E.getCompressedTextureName(T.format,R.internalFormat);var I=F&&F.data?F.data:null;C.addCompressedTexture(w.key,R,I)}}this.complete=!0}},addMultiToCache:function(){for(var x=this.config,T=this.files[0],E=[],C=[],R=[],w=this.loader.systems.renderer,F=this.loader.textureManager,I,L=1;L<this.files.length;L++){var D=this.files[L];if(D.type!=="normalMap")for(var B=D.key.indexOf("_"),U=D.key.substr(B+1),W=D.data,K=0;K<T.data.textures.length;K++){var Y=T.data.textures[K];if(Y.image===U){x.type==="PVR"?I=f(W):x.type==="KTX"&&(I=i(W)),I&&w.supportsCompressedTexture(x.format,I.internalFormat)&&(I.format=w.getCompressedTextureName(x.format,I.internalFormat),C.push(I),E.push(Y),D.linkFile&&R.push(D.linkFile.data));break}}}R.length===0&&(R=void 0),F.addAtlasJSONArray(this.key,C,E,R),this.complete=!0}});r.register("texture",function(x,T,E){var C=this.systems.renderer,R=function(F,I,L,D){var B={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(s(I)){var U=I;I=n(U,"key"),L=n(U,"url"),D=n(U,"xhrSettings")}var W=!1;for(var K in L)if(C.supportsCompressedTexture(K)){var Y=L[K];typeof Y=="string"?B.textureURL=Y:B=l(Y,B),B.format=K.toUpperCase(),W=!0;break}if(!W)console.warn("No supported compressed texture format or IMG fallback",I);else if(B.format==="IMG"){var G,X;B.multiAtlasURL?(X=new u(F,I,B.multiAtlasURL,B.multiPath,B.multiBaseURL,D),G=X.files):B.atlasURL?(X=new o(F,I,B.textureURL,B.atlasURL,D),G=X.files):G=new e(F,I,B.textureURL,D),F.addFile(G)}else{var V=new g(F,I,B,D);F.addFile(V.files)}};if(Array.isArray(x))for(var w=0;w<x.length;w++)R(this,x[w]);else R(this,x,T,E);return this}),v.exports=g},87674:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(98356),s=t(41212),h=new o({Extends:a,initialize:function(l,u,d,f,p,g){var x="ttf";if(s(u)){var T=u;u=n(T,"key"),d=n(T,"url"),f=n(T,"format","truetype"),p=n(T,"descriptors",null),g=n(T,"xhrSettings"),x=n(T,"extension",x)}else f===void 0&&(f="truetype");var E={type:"font",cache:!1,extension:x,responseType:"text",key:u,url:d,xhrSettings:g};a.call(this,l,E),this.data={format:f,descriptors:p},this.state=m.FILE_POPULATED},onProcess:function(){this.state=m.FILE_PROCESSING,this.src=e(this,this.loader.baseURL);var i,l=this.key,u="url("+this.src+') format("'+this.data.format+'")';this.data.descriptors?i=new FontFace(l,u,this.data.descriptors):i=new FontFace(l,u);var d=this;i.load().then(function(){document.fonts.add(i),document.body.classList.add("fonts-loaded"),d.onProcessComplete()}).catch(function(){console.warn("Font failed to load",u),d.onProcessComplete()})}});r.register("font",function(i,l,u,d,f){if(Array.isArray(i))for(var p=0;p<i.length;p++)this.addFile(new h(this,i[p]));else this.addFile(new h(this,i,l,u,d,f));return this}),v.exports=h},47931:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=t(73894),h=new o({Extends:a,initialize:function(l,u,d,f,p){var g="glsl";if(e(u)){var x=u;u=n(x,"key"),d=n(x,"url"),f=n(x,"shaderType","fragment"),p=n(x,"xhrSettings"),g=n(x,"extension",g)}else f===void 0&&(f="fragment");var T={type:"glsl",cache:l.cacheManager.shader,extension:g,responseType:"text",key:u,url:d,config:{shaderType:f},xhrSettings:p};a.call(this,l,T)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var i=this.data.split(`
`),l=this.extractBlock(i,0);if(l)for(;l;){var u=this.getShaderName(l.header),d=this.getShaderType(l.header),f=this.getShaderUniforms(l.header),p=l.shader;if(this.cache.has(u)){var g=this.cache.get(u);d==="fragment"?g.fragmentSrc=p:g.vertexSrc=p,g.uniforms||(g.uniforms=f)}else d==="fragment"?this.cache.add(u,new s(u,p,"",f)):this.cache.add(u,new s(u,"",p,f));l=this.extractBlock(i,l.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new s(this.key,this.data)):this.cache.add(this.key,new s(this.key,"",this.data))},getShaderName:function(i){for(var l=0;l<i.length;l++){var u=i[l].trim();if(u.substring(0,5)==="name:")return u.substring(5).trim()}return this.key},getShaderType:function(i){for(var l=0;l<i.length;l++){var u=i[l].trim();if(u.substring(0,5)==="type:")return u.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(i){for(var l={},u=0;u<i.length;u++){var d=i[u].trim();if(d.substring(0,8)==="uniform."){var f=d.indexOf(":");if(f){var p=d.substring(8,f);try{l[p]=JSON.parse(d.substring(f+1))}catch{console.warn("Invalid uniform JSON: "+p)}}}}return l},extractBlock:function(i,l){for(var u=-1,d=-1,f=-1,p=!1,g=!1,x=[],T=[],E=l;E<i.length;E++){var C=i[E].trim();if(C==="---")if(u===-1)u=E,p=!0;else if(p)d=E,p=!1,g=!0;else{g=!1;break}else p?x.push(C):g&&(T.push(C),f=E)}return!p&&d!==-1?{header:x,shader:T.join(`
`),offset:f}:null}});r.register("glsl",function(i,l,u,d){if(Array.isArray(i))for(var f=0;f<i.length;f++)this.addFile(new h(this,i[f]));else this.addFile(new h(this,i,l,u,d));return this}),v.exports=h},89749:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(54899),a=t(41299),r=t(95540),n=t(98356),e=t(41212),s=new o({Extends:a,initialize:function(i,l,u,d){if(e(l)){var f=l;l=r(f,"key"),d=r(f,"config",d)}var p={type:"audio",cache:i.cacheManager.audio,extension:u.type,key:l,url:u.url,config:d};a.call(this,i,p),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var h=0;h<this.data.length;h++){var i=this.data[h];i.oncanplaythrough=null,i.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(h){var i=h.target;i.oncanplaythrough=null,i.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(m.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var h=this.config&&this.config.instances||1;this.filesTotal=h,this.filesLoaded=0,this.percentComplete=0;for(var i=0;i<h;i++){var l=new Audio;l.dataset||(l.dataset={}),l.dataset.name=this.key+("0"+i).slice(-2),l.dataset.used="false",this.locked?l.dataset.locked="true":(l.dataset.locked="false",l.preload="auto",l.oncanplaythrough=this.onProgress.bind(this),l.onerror=this.onError.bind(this)),this.data.push(l)}for(i=0;i<this.data.length;i++)l=this.data[i],l.src=n(this,this.loader.baseURL),this.locked||l.load();this.locked&&setTimeout(this.onLoad.bind(this))}});v.exports=s},88470:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=new o({Extends:a,initialize:function(i,l,u,d){var f="html";if(e(l)){var p=l;l=n(p,"key"),u=n(p,"url"),d=n(p,"xhrSettings"),f=n(p,"extension",f)}var g={type:"text",cache:i.cacheManager.html,extension:f,responseType:"text",key:l,url:u,xhrSettings:d};a.call(this,i,g)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});r.register("html",function(h,i,l){if(Array.isArray(h))for(var u=0;u<h.length;u++)this.addFile(new s(this,h[u]));else this.addFile(new s(this,h,i,l));return this}),v.exports=s},14643:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=new o({Extends:a,initialize:function(i,l,u,d,f,p){d===void 0&&(d=512),f===void 0&&(f=512);var g="html";if(e(l)){var x=l;l=n(x,"key"),u=n(x,"url"),p=n(x,"xhrSettings"),g=n(x,"extension",g),d=n(x,"width",d),f=n(x,"height",f)}var T={type:"html",cache:i.textureManager,extension:g,responseType:"text",key:l,url:u,xhrSettings:p,config:{width:d,height:f}};a.call(this,i,T)},onProcess:function(){this.state=m.FILE_PROCESSING;var h=this.config.width,i=this.config.height,l=[];l.push('<svg width="'+h+'px" height="'+i+'px" viewBox="0 0 '+h+" "+i+'" xmlns="http://www.w3.org/2000/svg">'),l.push('<foreignObject width="100%" height="100%">'),l.push('<body xmlns="http://www.w3.org/1999/xhtml">'),l.push(this.xhrLoader.responseText),l.push("</body>"),l.push("</foreignObject>"),l.push("</svg>");var u=[l.join(`
`)],d=this;try{var f=new window.Blob(u,{type:"image/svg+xml;charset=utf-8"})}catch{d.state=m.FILE_ERRORED,d.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){a.revokeObjectURL(d.data),d.onProcessComplete()},this.data.onerror=function(){a.revokeObjectURL(d.data),d.onProcessError()},a.createObjectURL(this.data,f,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});r.register("htmlTexture",function(h,i,l,u,d){if(Array.isArray(h))for(var f=0;f<h.length;f++)this.addFile(new s(this,h[f]));else this.addFile(new s(this,h,i,l,u,d));return this}),v.exports=s},19550:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=t(98356),h=new o({Extends:a,initialize:function i(l,u,d,f,p){var g="png",x;if(e(u)){var T=u;u=n(T,"key"),d=n(T,"url"),x=n(T,"normalMap"),f=n(T,"xhrSettings"),g=n(T,"extension",g),p=n(T,"frameConfig")}Array.isArray(d)&&(x=d[1],d=d[0]);var E={type:"image",cache:l.textureManager,extension:g,responseType:"blob",key:u,url:d,xhrSettings:f,config:p};if(a.call(this,l,E),x){var C=new i(l,this.key,x,f,p);C.type="normalMap",this.setLink(C),l.addFile(C)}this.useImageElementLoad=l.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var i=this;this.data.onload=function(){a.revokeObjectURL(i.data),i.onProcessComplete()},this.data.onerror=function(){a.revokeObjectURL(i.data),i.onProcessError()},a.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var i=this.state;this.state=m.FILE_PROCESSING,i===m.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=m.FILE_LOADING,this.src=s(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var i=this;this.data.onload=function(){i.state=m.FILE_LOADED,i.loader.nextFile(i,!0)},this.data.onerror=function(){i.loader.nextFile(i,!1)},this.data.src=this.src},addToCache:function(){var i=this.linkFile;i?i.state>=m.FILE_COMPLETE&&(i.type==="spritesheet"?i.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,i.data,this.data):this.cache.addImage(this.key,this.data,i.data)):this.cache.addImage(this.key,this.data)}});r.register("image",function(i,l,u){if(Array.isArray(i))for(var d=0;d<i.length;d++)this.addFile(new h(this,i[d]));else this.addFile(new h(this,i,l,u));return this}),v.exports=h},518:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(35154),s=t(41212),h=new o({Extends:a,initialize:function(l,u,d,f,p){var g="json";if(s(u)){var x=u;u=n(x,"key"),d=n(x,"url"),f=n(x,"xhrSettings"),g=n(x,"extension",g),p=n(x,"dataKey",p)}var T={type:"json",cache:l.cacheManager.json,extension:g,responseType:"text",key:u,url:d,xhrSettings:f,config:p};a.call(this,l,T),s(d)&&(p?this.data=e(d,p):this.data=d,this.state=m.FILE_POPULATED)},onProcess:function(){if(this.state!==m.FILE_POPULATED){this.state=m.FILE_PROCESSING;try{var i=JSON.parse(this.xhrLoader.responseText)}catch(u){throw this.onProcessError(),u}var l=this.config;typeof l=="string"?this.data=e(i,l,i):this.data=i}this.onProcessComplete()}});r.register("json",function(i,l,u,d){if(Array.isArray(i))for(var f=0;f<i.length;f++)this.addFile(new h(this,i[f]));else this.addFile(new h(this,i,l,d,u));return this}),v.exports=h},59327:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(74099),a=t(95540),r=t(19550),n=t(41212),e=t(518),s=t(26430),h=new o({Extends:s,initialize:function(l,u,d,f,p,g,x){if(n(u)){var T=u;u=a(T,"key"),a(T,"url",!1)?d=a(T,"url"):d=a(T,"atlasURL"),g=a(T,"xhrSettings"),f=a(T,"path"),p=a(T,"baseURL"),x=a(T,"textureXhrSettings")}var E=new e(l,u,d,g);s.call(this,l,"multiatlas",u,[E]),this.config.path=f,this.config.baseURL=p,this.config.textureXhrSettings=x},onFileComplete:function(i){var l=this.files.indexOf(i);if(l!==-1&&(this.pending--,i.type==="json"&&i.data.hasOwnProperty("textures"))){var u=i.data.textures,d=this.config,f=this.loader,p=f.baseURL,g=f.path,x=f.prefix,T=a(d,"baseURL",this.baseURL),E=a(d,"path",this.path),C=a(d,"prefix",this.prefix),R=a(d,"textureXhrSettings");f.setBaseURL(T),f.setPath(E),f.setPrefix(C);for(var w=0;w<u.length;w++){var F=u[w].image,I="MA"+this.multiKeyIndex+"_"+F,L=new r(f,I,F,R);if(this.addToMultiFile(L),f.addFile(L),u[w].normalMap){var D=new r(f,I,u[w].normalMap,R);D.type="normalMap",L.setLink(D),this.addToMultiFile(D),f.addFile(D)}}f.setBaseURL(p),f.setPath(g),f.setPrefix(x)}},addToCache:function(){if(this.isReadyToProcess()){for(var i=this.files[0],l=[],u=[],d=[],f=1;f<this.files.length;f++){var p=this.files[f];if(p.type!=="normalMap")for(var g=p.key.indexOf("_"),x=p.key.substr(g+1),T=p.data,E=0;E<i.data.textures.length;E++){var C=i.data.textures[E];if(C.image===x){u.push(T),l.push(C),p.linkFile&&d.push(p.linkFile.data);break}}}d.length===0&&(d=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,u,l,d),this.complete=!0}}});m.register("multiatlas",function(i,l,u,d,f){var p;if(Array.isArray(i))for(var g=0;g<i.length;g++)p=new h(this,i[g]),this.addFile(p.files);else p=new h(this,i,l,u,d,f),this.addFile(p.files);return this}),v.exports=h},99297:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(74099),a=t(95540),r=t(41212),n=t(26430),e=t(34328),s=new o({Extends:n,initialize:function(i,l,u,d){var f="js",p=[];if(r(l)){var g=l;l=a(g,"key"),u=a(g,"url"),d=a(g,"xhrSettings"),f=a(g,"extension",f)}Array.isArray(u)||(u=[u]);for(var x=0;x<u.length;x++){var T=new e(i,{key:l+"_"+x.toString(),url:u[x],extension:f,xhrSettings:d});T.onProcess=function(){this.onProcessComplete()},p.push(T)}n.call(this,i,"scripts",l,p)},addToCache:function(){if(this.isReadyToProcess()){for(var h=0;h<this.files.length;h++){var i=this.files[h];i.data=document.createElement("script"),i.data.language="javascript",i.data.type="text/javascript",i.data.defer=!1,i.data.text=i.xhrLoader.responseText,document.head.appendChild(i.data)}this.complete=!0}}});m.register("scripts",function(h,i,l){var u;if(Array.isArray(h))for(var d=0;d<h.length;d++)u=new s(this,h[d]),this.addFile(u.files);else u=new s(this,h,i,l),this.addFile(u.files);return this}),v.exports=s},41846:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(74099),a=t(95540),r=t(41212),n=t(26430),e=t(85048),s=t(61485),h=t(78776),i=new o({Extends:n,initialize:function(u,d,f,p,g,x){var T,E,C=u.cacheManager.obj;if(r(d)){var R=d;d=a(R,"key"),T=new h(u,{key:d,type:"obj",cache:C,url:a(R,"url"),extension:a(R,"extension","obj"),xhrSettings:a(R,"xhrSettings"),config:{flipUV:a(R,"flipUV",g)}}),p=a(R,"matURL"),p&&(E=new h(u,{key:d,type:"mat",cache:C,url:p,extension:a(R,"matExtension","mat"),xhrSettings:a(R,"xhrSettings")}))}else T=new h(u,{key:d,url:f,type:"obj",cache:C,extension:"obj",xhrSettings:x,config:{flipUV:g}}),p&&(E=new h(u,{key:d,url:p,type:"mat",cache:C,extension:"mat",xhrSettings:x}));n.call(this,u,"obj",d,[T,E])},addToCache:function(){if(this.isReadyToProcess()){var l=this.files[0],u=this.files[1],d=e(l.data,l.config.flipUV);u&&(d.materials=s(u.data)),l.cache.add(l.key,d),this.complete=!0}}});m.register("obj",function(l,u,d,f,p){var g;if(Array.isArray(l))for(var x=0;x<l.length;x++)g=new i(this,l[x]),this.addFile(g.files);else g=new i(this,l,u,d,f,p),this.addFile(g.files);return this}),v.exports=i},58610:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(23906),a=t(74099),r=t(518),n=new o({Extends:r,initialize:function(s,h,i,l,u){r.call(this,s,h,i,l,u),this.type="packfile"},onProcess:function(){if(this.state!==m.FILE_POPULATED&&(this.state=m.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var e={};e[this.config]=this.data,this.data=e}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});a.register("pack",function(e,s,h,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)this.addFile(new n(this,e[l]));else this.addFile(new n(this,e,s,i,h));return this}),v.exports=n},48988:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=new o({Extends:a,initialize:function(i,l,u,d,f,p){var g="js";if(e(l)){var x=l;l=n(x,"key"),u=n(x,"url"),p=n(x,"xhrSettings"),g=n(x,"extension",g),d=n(x,"start"),f=n(x,"mapping")}var T={type:"plugin",cache:!1,extension:g,responseType:"text",key:l,url:u,xhrSettings:p,config:{start:d,mapping:f}};a.call(this,i,T),typeof u=="function"&&(this.data=u,this.state=m.FILE_POPULATED)},onProcess:function(){var h=this.loader.systems.plugins,i=this.config,l=n(i,"start",!1),u=n(i,"mapping",null);if(this.state===m.FILE_POPULATED)h.install(this.key,this.data,l,u);else{this.state=m.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var d=h.install(this.key,window[this.key],l,u);(l||u)&&(this.loader.systems[u]=d,this.loader.scene[u]=d)}this.onProcessComplete()}});r.register("plugin",function(h,i,l,u,d){if(Array.isArray(h))for(var f=0;f<h.length;f++)this.addFile(new s(this,h[f]));else this.addFile(new s(this,h,i,l,u,d));return this}),v.exports=s},67397:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=new o({Extends:a,initialize:function(i,l,u,d,f){var p="svg";if(e(l)){var g=l;l=n(g,"key"),u=n(g,"url"),d=n(g,"svgConfig",{}),f=n(g,"xhrSettings"),p=n(g,"extension",p)}var x={type:"svg",cache:i.textureManager,extension:p,responseType:"text",key:l,url:u,xhrSettings:f,config:{width:n(d,"width"),height:n(d,"height"),scale:n(d,"scale")}};a.call(this,i,x)},onProcess:function(){this.state=m.FILE_PROCESSING;var h=this.xhrLoader.responseText,i=[h],l=this.config.width,u=this.config.height,d=this.config.scale;t:if(l&&u||d){var f=null,p=new DOMParser;f=p.parseFromString(h,"text/xml");var g=f.getElementsByTagName("svg")[0],x=g.hasAttribute("viewBox"),T=parseFloat(g.getAttribute("width")),E=parseFloat(g.getAttribute("height"));if(!x&&T&&E)g.setAttribute("viewBox","0  0 "+T+" "+E);else if(x&&!T&&!E){var C=g.getAttribute("viewBox").split(/\s+|,/);T=C[2],E=C[3]}if(d)if(T&&E)l=T*d,u=E*d;else break t;g.setAttribute("width",l.toString()+"px"),g.setAttribute("height",u.toString()+"px"),i=[new XMLSerializer().serializeToString(g)]}try{var R=new window.Blob(i,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var w=this,F=!1;this.data.onload=function(){F||a.revokeObjectURL(w.data),w.onProcessComplete()},this.data.onerror=function(){F?w.onProcessError():(F=!0,a.revokeObjectURL(w.data),w.data.src="data:image/svg+xml,"+encodeURIComponent(i.join("")))},a.createObjectURL(this.data,R,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});r.register("svg",function(h,i,l,u){if(Array.isArray(h))for(var d=0;d<h.length;d++)this.addFile(new s(this,h[d]));else this.addFile(new s(this,h,i,l,u));return this}),v.exports=s},88423:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=new o({Extends:a,initialize:function(i,l,u,d){var f="js";if(e(l)){var p=l;l=n(p,"key"),u=n(p,"url"),d=n(p,"xhrSettings"),f=n(p,"extension",f)}var g={type:"text",extension:f,responseType:"text",key:l,url:u,xhrSettings:d};a.call(this,i,g)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var h=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),i=eval;this.loader.sceneManager.add(this.key,i(h)),this.complete=!0}});r.register("sceneFile",function(h,i,l){if(Array.isArray(h))for(var u=0;u<h.length;u++)this.addFile(new s(this,h[u]));else this.addFile(new s(this,h,i,l));return this}),v.exports=s},56812:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=new o({Extends:a,initialize:function(i,l,u,d,f,p){var g="js";if(e(l)){var x=l;l=n(x,"key"),u=n(x,"url"),p=n(x,"xhrSettings"),g=n(x,"extension",g),d=n(x,"systemKey"),f=n(x,"sceneKey")}var T={type:"scenePlugin",cache:!1,extension:g,responseType:"text",key:l,url:u,xhrSettings:p,config:{systemKey:d,sceneKey:f}};a.call(this,i,T),typeof u=="function"&&(this.data=u,this.state=m.FILE_POPULATED)},onProcess:function(){var h=this.loader.systems.plugins,i=this.config,l=this.key,u=n(i,"systemKey",l),d=n(i,"sceneKey",l);this.state===m.FILE_POPULATED?h.installScenePlugin(u,this.data,d,this.loader.scene,!0):(this.state=m.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),h.installScenePlugin(u,window[this.key],d,this.loader.scene,!0)),this.onProcessComplete()}});r.register("scenePlugin",function(h,i,l,u,d){if(Array.isArray(h))for(var f=0;f<h.length;f++)this.addFile(new s(this,h[f]));else this.addFile(new s(this,h,i,l,u,d));return this}),v.exports=s},34328:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=new o({Extends:a,initialize:function(i,l,u,d,f){var p="js";if(e(l)){var g=l;l=n(g,"key"),u=n(g,"url"),d=n(g,"type","script"),f=n(g,"xhrSettings"),p=n(g,"extension",p)}else d===void 0&&(d="script");var x={type:d,cache:!1,extension:p,responseType:"text",key:l,url:u,xhrSettings:f};a.call(this,i,x)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});r.register("script",function(h,i,l,u){if(Array.isArray(h))for(var d=0;d<h.length;d++)this.addFile(new s(this,h[d]));else this.addFile(new s(this,h,i,l,u));return this}),v.exports=s},85035:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(23906),a=t(74099),r=t(19550),n=new o({Extends:r,initialize:function(s,h,i,l,u){r.call(this,s,h,i,u,l),this.type="spritesheet"},addToCache:function(){var e=this.linkFile;e?e.state>=m.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,e.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,e.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});a.register("spritesheet",function(e,s,h,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)this.addFile(new n(this,e[l]));else this.addFile(new n(this,e,s,h,i));return this}),v.exports=n},78776:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=new o({Extends:a,initialize:function(i,l,u,d){var f="text",p="txt",g=i.cacheManager.text;if(e(l)){var x=l;l=n(x,"key"),u=n(x,"url"),d=n(x,"xhrSettings"),p=n(x,"extension",p),f=n(x,"type",f),g=n(x,"cache",g)}var T={type:f,cache:g,extension:p,responseType:"text",key:l,url:u,xhrSettings:d};a.call(this,i,T)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});r.register("text",function(h,i,l){if(Array.isArray(h))for(var u=0;u<h.length;u++)this.addFile(new s(this,h[u]));else this.addFile(new s(this,h,i,l));return this}),v.exports=s},49477:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=t(80341),h=new o({Extends:a,initialize:function(l,u,d,f){var p="csv";if(e(u)){var g=u;u=n(g,"key"),d=n(g,"url"),f=n(g,"xhrSettings"),p=n(g,"extension",p)}var x={type:"tilemapCSV",cache:l.cacheManager.tilemap,extension:p,responseType:"text",key:u,url:d,xhrSettings:f};a.call(this,l,x),this.tilemapFormat=s.CSV},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var i={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,i)}});r.register("tilemapCSV",function(i,l,u){if(Array.isArray(i))for(var d=0;d<i.length;d++)this.addFile(new h(this,i[d]));else this.addFile(new h(this,i,l,u));return this}),v.exports=h},40807:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(74099),a=t(518),r=t(80341),n=new o({Extends:a,initialize:function(s,h,i,l){a.call(this,s,h,i,l),this.type="tilemapJSON",this.cache=s.cacheManager.tilemap},addToCache:function(){var e={format:r.WELTMEISTER,data:this.data};this.cache.add(this.key,e)}});m.register("tilemapImpact",function(e,s,h){if(Array.isArray(e))for(var i=0;i<e.length;i++)this.addFile(new n(this,e[i]));else this.addFile(new n(this,e,s,h));return this}),v.exports=n},56775:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(74099),a=t(518),r=t(80341),n=new o({Extends:a,initialize:function(s,h,i,l){a.call(this,s,h,i,l),this.type="tilemapJSON",this.cache=s.cacheManager.tilemap},addToCache:function(){var e={format:r.TILED_JSON,data:this.data};this.cache.add(this.key,e)}});m.register("tilemapTiledJSON",function(e,s,h){if(Array.isArray(e))for(var i=0;i<e.length;i++)this.addFile(new n(this,e[i]));else this.addFile(new n(this,e,s,h));return this}),v.exports=n},25771:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(74099),a=t(95540),r=t(19550),n=t(41212),e=t(26430),s=t(78776),h=new o({Extends:e,initialize:function(l,u,d,f,p,g){var x,T;if(n(u)){var E=u;u=a(E,"key"),x=new r(l,{key:u,url:a(E,"textureURL"),extension:a(E,"textureExtension","png"),normalMap:a(E,"normalMap"),xhrSettings:a(E,"textureXhrSettings")}),T=new s(l,{key:u,url:a(E,"atlasURL"),extension:a(E,"atlasExtension","txt"),xhrSettings:a(E,"atlasXhrSettings")})}else x=new r(l,u,d,p),T=new s(l,u,f,g);x.linkFile?e.call(this,l,"unityatlas",u,[x,T,x.linkFile]):e.call(this,l,"unityatlas",u,[x,T])},addToCache:function(){if(this.isReadyToProcess()){var i=this.files[0],l=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(i.key,i.data,l.data,u),this.complete=!0}}});m.register("unityAtlas",function(i,l,u,d,f){var p;if(Array.isArray(i))for(var g=0;g<i.length;g++)p=new h(this,i[g]),this.addFile(p.files);else p=new h(this,i,l,u,d,f),this.addFile(p.files);return this}),v.exports=h},33720:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(23906),a=t(41299),r=t(74099),n=t(98356),e=t(95540),s=t(41212),h=new o({Extends:a,initialize:function(l,u,d,f){if(f===void 0&&(f=!1),s(u)){var p=u;u=e(p,"key"),d=e(p,"url",[]),f=e(p,"noAudio",!1)}var g=l.systems.game.device.video.getVideoURL(d);g||console.warn("VideoFile: No supported format for "+u);var x={type:"video",cache:l.cacheManager.video,extension:g.type,key:u,url:g.url,config:{noAudio:f}};a.call(this,l,x)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=n(this,this.loader.baseURL),this.state=m.FILE_LOADED,this.loader.nextFile(this,!0)}});r.register("video",function(i,l,u){if(Array.isArray(i))for(var d=0;d<i.length;d++)this.addFile(new h(this,i[d]));else this.addFile(new h(this,i,l,u));return this}),v.exports=h},57318:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(23906),a=t(41299),r=t(74099),n=t(95540),e=t(41212),s=t(56836),h=new o({Extends:a,initialize:function(l,u,d,f){var p="xml";if(e(u)){var g=u;u=n(g,"key"),d=n(g,"url"),f=n(g,"xhrSettings"),p=n(g,"extension",p)}var x={type:"xml",cache:l.cacheManager.xml,extension:p,responseType:"text",key:u,url:d,xhrSettings:f};a.call(this,l,x)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=s(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});r.register("xml",function(i,l,u){if(Array.isArray(i))for(var d=0;d<i.length;d++)this.addFile(new h(this,i[d]));else this.addFile(new h(this,i,l,u));return this}),v.exports=h},64589:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={AnimationJSONFile:t(14135),AsepriteFile:t(76272),AtlasJSONFile:t(38734),AtlasXMLFile:t(74599),AudioFile:t(21097),AudioSpriteFile:t(89524),BinaryFile:t(85722),BitmapFontFile:t(97025),CompressedTextureFile:t(69559),CSSFile:t(16024),FontFile:t(87674),GLSLFile:t(47931),HTML5AudioFile:t(89749),HTMLFile:t(88470),HTMLTextureFile:t(14643),ImageFile:t(19550),JSONFile:t(518),MultiAtlasFile:t(59327),MultiScriptFile:t(99297),OBJFile:t(41846),PackFile:t(58610),PluginFile:t(48988),SceneFile:t(88423),ScenePluginFile:t(56812),ScriptFile:t(34328),SpriteSheetFile:t(85035),SVGFile:t(67397),TextFile:t(78776),TilemapCSVFile:t(49477),TilemapImpactFile:t(40807),TilemapJSONFile:t(56775),UnityAtlasFile:t(25771),VideoFile:t(33720),XMLFile:t(57318)}},57777:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(23906),m=t(79291),a={Events:t(54899),FileTypes:t(64589),File:t(41299),FileTypesManager:t(74099),GetURL:t(98356),LoaderPlugin:t(74261),MergeXHRSettings:t(3374),MultiFile:t(26430),XHRLoader:t(84376),XHRSettings:t(92638)};a=m(!1,a,o),v.exports=a},53307:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var o=0,m=0;m<t.length;m++)o+=+t[m];return o/t.length};v.exports=S},85710:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(6411),m=function(a,r){return o(a)/o(r)/o(a-r)};v.exports=m},30976:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return Math.floor(Math.random()*(o-t+1)+t)};v.exports=S},87842:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a,r){var n=(a-o)*.5,e=(r-m)*.5,s=t*t,h=t*s;return(2*m-2*a+n+e)*h+(-3*m+3*a-2*n-e)*s+n*t+m};v.exports=S},26302:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){o===void 0&&(o=0),m===void 0&&(m=10);var a=Math.pow(m,-o);return Math.ceil(t*a)/a};v.exports=S},45319:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){return Math.max(o,Math.min(m,t))};v.exports=S},39506:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),m=function(a){return a*o.DEG_TO_RAD};v.exports=m},61241:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return Math.abs(t-o)};v.exports=S},38857:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),m=t(83419),a=t(37867),r=t(29747),n=new a,e=new m({initialize:function s(h,i,l,u){h===void 0&&(h=0),i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u=s.DefaultOrder),this._x=h,this._y=i,this._z=l,this._order=u,this.onChangeCallback=r},x:{get:function(){return this._x},set:function(s){this._x=s,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(s){this._y=s,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(s){this._z=s,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(s){this._order=s,this.onChangeCallback(this)}},set:function(s,h,i,l){return l===void 0&&(l=this._order),this._x=s,this._y=h,this._z=i,this._order=l,this.onChangeCallback(this),this},copy:function(s){return this.set(s.x,s.y,s.z,s.order)},setFromQuaternion:function(s,h,i){return h===void 0&&(h=this._order),i===void 0&&(i=!1),n.fromQuat(s),this.setFromRotationMatrix(n,h,i)},setFromRotationMatrix:function(s,h,i){h===void 0&&(h=this._order),i===void 0&&(i=!1);var l=s.val,u=l[0],d=l[4],f=l[8],p=l[1],g=l[5],x=l[9],T=l[2],E=l[6],C=l[10],R=0,w=0,F=0,I=.99999;switch(h){case"XYZ":{w=Math.asin(o(f,-1,1)),Math.abs(f)<I?(R=Math.atan2(-x,C),F=Math.atan2(-d,u)):R=Math.atan2(E,g);break}case"YXZ":{R=Math.asin(-o(x,-1,1)),Math.abs(x)<I?(w=Math.atan2(f,C),F=Math.atan2(p,g)):w=Math.atan2(-T,u);break}case"ZXY":{R=Math.asin(o(E,-1,1)),Math.abs(E)<I?(w=Math.atan2(-T,C),F=Math.atan2(-d,g)):F=Math.atan2(p,u);break}case"ZYX":{w=Math.asin(-o(T,-1,1)),Math.abs(T)<I?(R=Math.atan2(E,C),F=Math.atan2(p,u)):F=Math.atan2(-d,g);break}case"YZX":{F=Math.asin(o(p,-1,1)),Math.abs(p)<I?(R=Math.atan2(-x,g),w=Math.atan2(-T,u)):w=Math.atan2(f,C);break}case"XZY":{F=Math.asin(-o(d,-1,1)),Math.abs(d)<I?(R=Math.atan2(E,g),w=Math.atan2(f,u)):R=Math.atan2(-x,C);break}}return this._x=R,this._y=w,this._z=F,this._order=h,i&&this.onChangeCallback(this),this}});e.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],e.DefaultOrder="XYZ",v.exports=e},6411:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(t===0)return 1;for(var o=t;--t;)o*=t;return o};v.exports=S},99472:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return Math.random()*(o-t)+t};v.exports=S},77623:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){o===void 0&&(o=0),m===void 0&&(m=10);var a=Math.pow(m,-o);return Math.floor(t*a)/a};v.exports=S},62945:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),m=function(a,r,n){return a=o(a,0,1),(n-r)*a+r};v.exports=m},38265:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return t/o/1e3};v.exports=S},78702:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t==parseFloat(t)?!(t%2):void 0};v.exports=S},94883:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===parseFloat(t)?!(t%2):void 0};v.exports=S},28915:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){return(o-t)*m+t};v.exports=S},94908:v=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){return m===void 0&&(m=0),t.clone().lerp(o,m)};v.exports=S},94434:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=new o({initialize:function(r){this.val=new Float32Array(9),r?this.copy(r):this.identity()},clone:function(){return new m(this)},set:function(a){return this.copy(a)},copy:function(a){var r=this.val,n=a.val;return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4],r[5]=n[5],r[6]=n[6],r[7]=n[7],r[8]=n[8],this},fromMat4:function(a){var r=a.val,n=this.val;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[4],n[4]=r[5],n[5]=r[6],n[6]=r[8],n[7]=r[9],n[8]=r[10],this},fromArray:function(a){var r=this.val;return r[0]=a[0],r[1]=a[1],r[2]=a[2],r[3]=a[3],r[4]=a[4],r[5]=a[5],r[6]=a[6],r[7]=a[7],r[8]=a[8],this},identity:function(){var a=this.val;return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=0,a[7]=0,a[8]=1,this},transpose:function(){var a=this.val,r=a[1],n=a[2],e=a[5];return a[1]=a[3],a[2]=a[6],a[3]=r,a[5]=a[7],a[6]=n,a[7]=e,this},invert:function(){var a=this.val,r=a[0],n=a[1],e=a[2],s=a[3],h=a[4],i=a[5],l=a[6],u=a[7],d=a[8],f=d*h-i*u,p=-d*s+i*l,g=u*s-h*l,x=r*f+n*p+e*g;return x?(x=1/x,a[0]=f*x,a[1]=(-d*n+e*u)*x,a[2]=(i*n-e*h)*x,a[3]=p*x,a[4]=(d*r-e*l)*x,a[5]=(-i*r+e*s)*x,a[6]=g*x,a[7]=(-u*r+n*l)*x,a[8]=(h*r-n*s)*x,this):null},adjoint:function(){var a=this.val,r=a[0],n=a[1],e=a[2],s=a[3],h=a[4],i=a[5],l=a[6],u=a[7],d=a[8];return a[0]=h*d-i*u,a[1]=e*u-n*d,a[2]=n*i-e*h,a[3]=i*l-s*d,a[4]=r*d-e*l,a[5]=e*s-r*i,a[6]=s*u-h*l,a[7]=n*l-r*u,a[8]=r*h-n*s,this},determinant:function(){var a=this.val,r=a[0],n=a[1],e=a[2],s=a[3],h=a[4],i=a[5],l=a[6],u=a[7],d=a[8];return r*(d*h-i*u)+n*(-d*s+i*l)+e*(u*s-h*l)},multiply:function(a){var r=this.val,n=r[0],e=r[1],s=r[2],h=r[3],i=r[4],l=r[5],u=r[6],d=r[7],f=r[8],p=a.val,g=p[0],x=p[1],T=p[2],E=p[3],C=p[4],R=p[5],w=p[6],F=p[7],I=p[8];return r[0]=g*n+x*h+T*u,r[1]=g*e+x*i+T*d,r[2]=g*s+x*l+T*f,r[3]=E*n+C*h+R*u,r[4]=E*e+C*i+R*d,r[5]=E*s+C*l+R*f,r[6]=w*n+F*h+I*u,r[7]=w*e+F*i+I*d,r[8]=w*s+F*l+I*f,this},translate:function(a){var r=this.val,n=a.x,e=a.y;return r[6]=n*r[0]+e*r[3]+r[6],r[7]=n*r[1]+e*r[4]+r[7],r[8]=n*r[2]+e*r[5]+r[8],this},rotate:function(a){var r=this.val,n=r[0],e=r[1],s=r[2],h=r[3],i=r[4],l=r[5],u=Math.sin(a),d=Math.cos(a);return r[0]=d*n+u*h,r[1]=d*e+u*i,r[2]=d*s+u*l,r[3]=d*h-u*n,r[4]=d*i-u*e,r[5]=d*l-u*s,this},scale:function(a){var r=this.val,n=a.x,e=a.y;return r[0]=n*r[0],r[1]=n*r[1],r[2]=n*r[2],r[3]=e*r[3],r[4]=e*r[4],r[5]=e*r[5],this},fromQuat:function(a){var r=a.x,n=a.y,e=a.z,s=a.w,h=r+r,i=n+n,l=e+e,u=r*h,d=r*i,f=r*l,p=n*i,g=n*l,x=e*l,T=s*h,E=s*i,C=s*l,R=this.val;return R[0]=1-(p+x),R[3]=d+C,R[6]=f-E,R[1]=d-C,R[4]=1-(u+x),R[7]=g+T,R[2]=f+E,R[5]=g-T,R[8]=1-(u+p),this},normalFromMat4:function(a){var r=a.val,n=this.val,e=r[0],s=r[1],h=r[2],i=r[3],l=r[4],u=r[5],d=r[6],f=r[7],p=r[8],g=r[9],x=r[10],T=r[11],E=r[12],C=r[13],R=r[14],w=r[15],F=e*u-s*l,I=e*d-h*l,L=e*f-i*l,D=s*d-h*u,B=s*f-i*u,U=h*f-i*d,W=p*C-g*E,K=p*R-x*E,Y=p*w-T*E,G=g*R-x*C,X=g*w-T*C,V=x*w-T*R,b=F*V-I*X+L*G+D*Y-B*K+U*W;return b?(b=1/b,n[0]=(u*V-d*X+f*G)*b,n[1]=(d*Y-l*V-f*K)*b,n[2]=(l*X-u*Y+f*W)*b,n[3]=(h*X-s*V-i*G)*b,n[4]=(e*V-h*Y+i*K)*b,n[5]=(s*Y-e*X-i*W)*b,n[6]=(C*U-R*B+w*D)*b,n[7]=(R*L-E*U-w*I)*b,n[8]=(E*B-C*L+w*F)*b,this):null}});v.exports=m},37867:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(25836),a=1e-6,r=new o({initialize:function(u){this.val=new Float32Array(16),u?this.copy(u):this.identity()},clone:function(){return new r(this)},set:function(l){return this.copy(l)},setValues:function(l,u,d,f,p,g,x,T,E,C,R,w,F,I,L,D){var B=this.val;return B[0]=l,B[1]=u,B[2]=d,B[3]=f,B[4]=p,B[5]=g,B[6]=x,B[7]=T,B[8]=E,B[9]=C,B[10]=R,B[11]=w,B[12]=F,B[13]=I,B[14]=L,B[15]=D,this},copy:function(l){var u=l.val;return this.setValues(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14],u[15])},fromArray:function(l){return this.setValues(l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],l[8],l[9],l[10],l[11],l[12],l[13],l[14],l[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(l,u,d){var f=n.fromQuat(d),p=f.val,g=u.x,x=u.y,T=u.z;return this.setValues(p[0]*g,p[1]*g,p[2]*g,0,p[4]*x,p[5]*x,p[6]*x,0,p[8]*T,p[9]*T,p[10]*T,0,l.x,l.y,l.z,1)},xyz:function(l,u,d){this.identity();var f=this.val;return f[12]=l,f[13]=u,f[14]=d,this},scaling:function(l,u,d){this.zero();var f=this.val;return f[0]=l,f[5]=u,f[10]=d,f[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var l=this.val,u=l[1],d=l[2],f=l[3],p=l[6],g=l[7],x=l[11];return l[1]=l[4],l[2]=l[8],l[3]=l[12],l[4]=u,l[6]=l[9],l[7]=l[13],l[8]=d,l[9]=p,l[11]=l[14],l[12]=f,l[13]=g,l[14]=x,this},getInverse:function(l){return this.copy(l),this.invert()},invert:function(){var l=this.val,u=l[0],d=l[1],f=l[2],p=l[3],g=l[4],x=l[5],T=l[6],E=l[7],C=l[8],R=l[9],w=l[10],F=l[11],I=l[12],L=l[13],D=l[14],B=l[15],U=u*x-d*g,W=u*T-f*g,K=u*E-p*g,Y=d*T-f*x,G=d*E-p*x,X=f*E-p*T,V=C*L-R*I,b=C*D-w*I,z=C*B-F*I,k=R*D-w*L,$=R*B-F*L,J=w*B-F*D,j=U*J-W*$+K*k+Y*z-G*b+X*V;return j?(j=1/j,this.setValues((x*J-T*$+E*k)*j,(f*$-d*J-p*k)*j,(L*X-D*G+B*Y)*j,(w*G-R*X-F*Y)*j,(T*z-g*J-E*b)*j,(u*J-f*z+p*b)*j,(D*K-I*X-B*W)*j,(C*X-w*K+F*W)*j,(g*$-x*z+E*V)*j,(d*z-u*$-p*V)*j,(I*G-L*K+B*U)*j,(R*K-C*G-F*U)*j,(x*b-g*k-T*V)*j,(u*k-d*b+f*V)*j,(L*W-I*Y-D*U)*j,(C*Y-R*W+w*U)*j)):this},adjoint:function(){var l=this.val,u=l[0],d=l[1],f=l[2],p=l[3],g=l[4],x=l[5],T=l[6],E=l[7],C=l[8],R=l[9],w=l[10],F=l[11],I=l[12],L=l[13],D=l[14],B=l[15];return this.setValues(x*(w*B-F*D)-R*(T*B-E*D)+L*(T*F-E*w),-(d*(w*B-F*D)-R*(f*B-p*D)+L*(f*F-p*w)),d*(T*B-E*D)-x*(f*B-p*D)+L*(f*E-p*T),-(d*(T*F-E*w)-x*(f*F-p*w)+R*(f*E-p*T)),-(g*(w*B-F*D)-C*(T*B-E*D)+I*(T*F-E*w)),u*(w*B-F*D)-C*(f*B-p*D)+I*(f*F-p*w),-(u*(T*B-E*D)-g*(f*B-p*D)+I*(f*E-p*T)),u*(T*F-E*w)-g*(f*F-p*w)+C*(f*E-p*T),g*(R*B-F*L)-C*(x*B-E*L)+I*(x*F-E*R),-(u*(R*B-F*L)-C*(d*B-p*L)+I*(d*F-p*R)),u*(x*B-E*L)-g*(d*B-p*L)+I*(d*E-p*x),-(u*(x*F-E*R)-g*(d*F-p*R)+C*(d*E-p*x)),-(g*(R*D-w*L)-C*(x*D-T*L)+I*(x*w-T*R)),u*(R*D-w*L)-C*(d*D-f*L)+I*(d*w-f*R),-(u*(x*D-T*L)-g*(d*D-f*L)+I*(d*T-f*x)),u*(x*w-T*R)-g*(d*w-f*R)+C*(d*T-f*x))},determinant:function(){var l=this.val,u=l[0],d=l[1],f=l[2],p=l[3],g=l[4],x=l[5],T=l[6],E=l[7],C=l[8],R=l[9],w=l[10],F=l[11],I=l[12],L=l[13],D=l[14],B=l[15],U=u*x-d*g,W=u*T-f*g,K=u*E-p*g,Y=d*T-f*x,G=d*E-p*x,X=f*E-p*T,V=C*L-R*I,b=C*D-w*I,z=C*B-F*I,k=R*D-w*L,$=R*B-F*L,J=w*B-F*D;return U*J-W*$+K*k+Y*z-G*b+X*V},multiply:function(l){var u=this.val,d=u[0],f=u[1],p=u[2],g=u[3],x=u[4],T=u[5],E=u[6],C=u[7],R=u[8],w=u[9],F=u[10],I=u[11],L=u[12],D=u[13],B=u[14],U=u[15],W=l.val,K=W[0],Y=W[1],G=W[2],X=W[3];return u[0]=K*d+Y*x+G*R+X*L,u[1]=K*f+Y*T+G*w+X*D,u[2]=K*p+Y*E+G*F+X*B,u[3]=K*g+Y*C+G*I+X*U,K=W[4],Y=W[5],G=W[6],X=W[7],u[4]=K*d+Y*x+G*R+X*L,u[5]=K*f+Y*T+G*w+X*D,u[6]=K*p+Y*E+G*F+X*B,u[7]=K*g+Y*C+G*I+X*U,K=W[8],Y=W[9],G=W[10],X=W[11],u[8]=K*d+Y*x+G*R+X*L,u[9]=K*f+Y*T+G*w+X*D,u[10]=K*p+Y*E+G*F+X*B,u[11]=K*g+Y*C+G*I+X*U,K=W[12],Y=W[13],G=W[14],X=W[15],u[12]=K*d+Y*x+G*R+X*L,u[13]=K*f+Y*T+G*w+X*D,u[14]=K*p+Y*E+G*F+X*B,u[15]=K*g+Y*C+G*I+X*U,this},multiplyLocal:function(l){var u=this.val,d=l.val;return this.setValues(u[0]*d[0]+u[1]*d[4]+u[2]*d[8]+u[3]*d[12],u[0]*d[1]+u[1]*d[5]+u[2]*d[9]+u[3]*d[13],u[0]*d[2]+u[1]*d[6]+u[2]*d[10]+u[3]*d[14],u[0]*d[3]+u[1]*d[7]+u[2]*d[11]+u[3]*d[15],u[4]*d[0]+u[5]*d[4]+u[6]*d[8]+u[7]*d[12],u[4]*d[1]+u[5]*d[5]+u[6]*d[9]+u[7]*d[13],u[4]*d[2]+u[5]*d[6]+u[6]*d[10]+u[7]*d[14],u[4]*d[3]+u[5]*d[7]+u[6]*d[11]+u[7]*d[15],u[8]*d[0]+u[9]*d[4]+u[10]*d[8]+u[11]*d[12],u[8]*d[1]+u[9]*d[5]+u[10]*d[9]+u[11]*d[13],u[8]*d[2]+u[9]*d[6]+u[10]*d[10]+u[11]*d[14],u[8]*d[3]+u[9]*d[7]+u[10]*d[11]+u[11]*d[15],u[12]*d[0]+u[13]*d[4]+u[14]*d[8]+u[15]*d[12],u[12]*d[1]+u[13]*d[5]+u[14]*d[9]+u[15]*d[13],u[12]*d[2]+u[13]*d[6]+u[14]*d[10]+u[15]*d[14],u[12]*d[3]+u[13]*d[7]+u[14]*d[11]+u[15]*d[15])},premultiply:function(l){return this.multiplyMatrices(l,this)},multiplyMatrices:function(l,u){var d=l.val,f=u.val,p=d[0],g=d[4],x=d[8],T=d[12],E=d[1],C=d[5],R=d[9],w=d[13],F=d[2],I=d[6],L=d[10],D=d[14],B=d[3],U=d[7],W=d[11],K=d[15],Y=f[0],G=f[4],X=f[8],V=f[12],b=f[1],z=f[5],k=f[9],$=f[13],J=f[2],j=f[6],q=f[10],_=f[14],tt=f[3],et=f[7],at=f[11],ot=f[15];return this.setValues(p*Y+g*b+x*J+T*tt,E*Y+C*b+R*J+w*tt,F*Y+I*b+L*J+D*tt,B*Y+U*b+W*J+K*tt,p*G+g*z+x*j+T*et,E*G+C*z+R*j+w*et,F*G+I*z+L*j+D*et,B*G+U*z+W*j+K*et,p*X+g*k+x*q+T*at,E*X+C*k+R*q+w*at,F*X+I*k+L*q+D*at,B*X+U*k+W*q+K*at,p*V+g*$+x*_+T*ot,E*V+C*$+R*_+w*ot,F*V+I*$+L*_+D*ot,B*V+U*$+W*_+K*ot)},translate:function(l){return this.translateXYZ(l.x,l.y,l.z)},translateXYZ:function(l,u,d){var f=this.val;return f[12]=f[0]*l+f[4]*u+f[8]*d+f[12],f[13]=f[1]*l+f[5]*u+f[9]*d+f[13],f[14]=f[2]*l+f[6]*u+f[10]*d+f[14],f[15]=f[3]*l+f[7]*u+f[11]*d+f[15],this},scale:function(l){return this.scaleXYZ(l.x,l.y,l.z)},scaleXYZ:function(l,u,d){var f=this.val;return f[0]=f[0]*l,f[1]=f[1]*l,f[2]=f[2]*l,f[3]=f[3]*l,f[4]=f[4]*u,f[5]=f[5]*u,f[6]=f[6]*u,f[7]=f[7]*u,f[8]=f[8]*d,f[9]=f[9]*d,f[10]=f[10]*d,f[11]=f[11]*d,this},makeRotationAxis:function(l,u){var d=Math.cos(u),f=Math.sin(u),p=1-d,g=l.x,x=l.y,T=l.z,E=p*g,C=p*x;return this.setValues(E*g+d,E*x-f*T,E*T+f*x,0,E*x+f*T,C*x+d,C*T-f*g,0,E*T-f*x,C*T+f*g,p*T*T+d,0,0,0,0,1)},rotate:function(l,u){var d=this.val,f=u.x,p=u.y,g=u.z,x=Math.sqrt(f*f+p*p+g*g);if(Math.abs(x)<a)return this;x=1/x,f*=x,p*=x,g*=x;var T=Math.sin(l),E=Math.cos(l),C=1-E,R=d[0],w=d[1],F=d[2],I=d[3],L=d[4],D=d[5],B=d[6],U=d[7],W=d[8],K=d[9],Y=d[10],G=d[11],X=d[12],V=d[13],b=d[14],z=d[15],k=f*f*C+E,$=p*f*C+g*T,J=g*f*C-p*T,j=f*p*C-g*T,q=p*p*C+E,_=g*p*C+f*T,tt=f*g*C+p*T,et=p*g*C-f*T,at=g*g*C+E;return this.setValues(R*k+L*$+W*J,w*k+D*$+K*J,F*k+B*$+Y*J,I*k+U*$+G*J,R*j+L*q+W*_,w*j+D*q+K*_,F*j+B*q+Y*_,I*j+U*q+G*_,R*tt+L*et+W*at,w*tt+D*et+K*at,F*tt+B*et+Y*at,I*tt+U*et+G*at,X,V,b,z)},rotateX:function(l){var u=this.val,d=Math.sin(l),f=Math.cos(l),p=u[4],g=u[5],x=u[6],T=u[7],E=u[8],C=u[9],R=u[10],w=u[11];return u[4]=p*f+E*d,u[5]=g*f+C*d,u[6]=x*f+R*d,u[7]=T*f+w*d,u[8]=E*f-p*d,u[9]=C*f-g*d,u[10]=R*f-x*d,u[11]=w*f-T*d,this},rotateY:function(l){var u=this.val,d=Math.sin(l),f=Math.cos(l),p=u[0],g=u[1],x=u[2],T=u[3],E=u[8],C=u[9],R=u[10],w=u[11];return u[0]=p*f-E*d,u[1]=g*f-C*d,u[2]=x*f-R*d,u[3]=T*f-w*d,u[8]=p*d+E*f,u[9]=g*d+C*f,u[10]=x*d+R*f,u[11]=T*d+w*f,this},rotateZ:function(l){var u=this.val,d=Math.sin(l),f=Math.cos(l),p=u[0],g=u[1],x=u[2],T=u[3],E=u[4],C=u[5],R=u[6],w=u[7];return u[0]=p*f+E*d,u[1]=g*f+C*d,u[2]=x*f+R*d,u[3]=T*f+w*d,u[4]=E*f-p*d,u[5]=C*f-g*d,u[6]=R*f-x*d,u[7]=w*f-T*d,this},fromRotationTranslation:function(l,u){var d=l.x,f=l.y,p=l.z,g=l.w,x=d+d,T=f+f,E=p+p,C=d*x,R=d*T,w=d*E,F=f*T,I=f*E,L=p*E,D=g*x,B=g*T,U=g*E;return this.setValues(1-(F+L),R+U,w-B,0,R-U,1-(C+L),I+D,0,w+B,I-D,1-(C+F),0,u.x,u.y,u.z,1)},fromQuat:function(l){var u=l.x,d=l.y,f=l.z,p=l.w,g=u+u,x=d+d,T=f+f,E=u*g,C=u*x,R=u*T,w=d*x,F=d*T,I=f*T,L=p*g,D=p*x,B=p*T;return this.setValues(1-(w+I),C+B,R-D,0,C-B,1-(E+I),F+L,0,R+D,F-L,1-(E+w),0,0,0,0,1)},frustum:function(l,u,d,f,p,g){var x=1/(u-l),T=1/(f-d),E=1/(p-g);return this.setValues(p*2*x,0,0,0,0,p*2*T,0,0,(u+l)*x,(f+d)*T,(g+p)*E,-1,0,0,g*p*2*E,0)},perspective:function(l,u,d,f){var p=1/Math.tan(l/2),g=1/(d-f);return this.setValues(p/u,0,0,0,0,p,0,0,0,0,(f+d)*g,-1,0,0,2*f*d*g,0)},perspectiveLH:function(l,u,d,f){return this.setValues(2*d/l,0,0,0,0,2*d/u,0,0,0,0,-f/(d-f),1,0,0,d*f/(d-f),0)},ortho:function(l,u,d,f,p,g){var x=l-u,T=d-f,E=p-g;return x=x===0?x:1/x,T=T===0?T:1/T,E=E===0?E:1/E,this.setValues(-2*x,0,0,0,0,-2*T,0,0,0,0,2*E,0,(l+u)*x,(f+d)*T,(g+p)*E,1)},lookAtRH:function(l,u,d){var f=this.val;return i.subVectors(l,u),i.lengthSq()===0&&(i.z=1),i.normalize(),s.crossVectors(d,i),s.lengthSq()===0&&(Math.abs(d.z)===1?i.x+=1e-4:i.z+=1e-4,i.normalize(),s.crossVectors(d,i)),s.normalize(),h.crossVectors(i,s),f[0]=s.x,f[1]=s.y,f[2]=s.z,f[4]=h.x,f[5]=h.y,f[6]=h.z,f[8]=i.x,f[9]=i.y,f[10]=i.z,this},lookAt:function(l,u,d){var f=l.x,p=l.y,g=l.z,x=d.x,T=d.y,E=d.z,C=u.x,R=u.y,w=u.z;if(Math.abs(f-C)<a&&Math.abs(p-R)<a&&Math.abs(g-w)<a)return this.identity();var F=f-C,I=p-R,L=g-w,D=1/Math.sqrt(F*F+I*I+L*L);F*=D,I*=D,L*=D;var B=T*L-E*I,U=E*F-x*L,W=x*I-T*F;D=Math.sqrt(B*B+U*U+W*W),D?(D=1/D,B*=D,U*=D,W*=D):(B=0,U=0,W=0);var K=I*W-L*U,Y=L*B-F*W,G=F*U-I*B;return D=Math.sqrt(K*K+Y*Y+G*G),D?(D=1/D,K*=D,Y*=D,G*=D):(K=0,Y=0,G=0),this.setValues(B,K,F,0,U,Y,I,0,W,G,L,0,-(B*f+U*p+W*g),-(K*f+Y*p+G*g),-(F*f+I*p+L*g),1)},yawPitchRoll:function(l,u,d){this.zero(),n.zero(),e.zero();var f=this.val,p=n.val,g=e.val,x=Math.sin(d),T=Math.cos(d);return f[10]=1,f[15]=1,f[0]=T,f[1]=x,f[4]=-x,f[5]=T,x=Math.sin(u),T=Math.cos(u),p[0]=1,p[15]=1,p[5]=T,p[10]=T,p[9]=-x,p[6]=x,x=Math.sin(l),T=Math.cos(l),g[5]=1,g[15]=1,g[0]=T,g[2]=-x,g[8]=x,g[10]=T,this.multiplyLocal(n),this.multiplyLocal(e),this},setWorldMatrix:function(l,u,d,f,p){return this.yawPitchRoll(l.y,l.x,l.z),n.scaling(d.x,d.y,d.z),e.xyz(u.x,u.y,u.z),this.multiplyLocal(n),this.multiplyLocal(e),f&&this.multiplyLocal(f),p&&this.multiplyLocal(p),this},multiplyToMat4:function(l,u){var d=this.val,f=l.val,p=d[0],g=d[1],x=d[2],T=d[3],E=d[4],C=d[5],R=d[6],w=d[7],F=d[8],I=d[9],L=d[10],D=d[11],B=d[12],U=d[13],W=d[14],K=d[15],Y=f[0],G=f[1],X=f[2],V=f[3],b=f[4],z=f[5],k=f[6],$=f[7],J=f[8],j=f[9],q=f[10],_=f[11],tt=f[12],et=f[13],at=f[14],ot=f[15];return u.setValues(Y*p+G*E+X*F+V*B,G*g+G*C+X*I+V*U,X*x+G*R+X*L+V*W,V*T+G*w+X*D+V*K,b*p+z*E+k*F+$*B,b*g+z*C+k*I+$*U,b*x+z*R+k*L+$*W,b*T+z*w+k*D+$*K,J*p+j*E+q*F+_*B,J*g+j*C+q*I+_*U,J*x+j*R+q*L+_*W,J*T+j*w+q*D+_*K,tt*p+et*E+at*F+ot*B,tt*g+et*C+at*I+ot*U,tt*x+et*R+at*L+ot*W,tt*T+et*w+at*D+ot*K)},fromRotationXYTranslation:function(l,u,d){var f=u.x,p=u.y,g=u.z,x=Math.sin(l.x),T=Math.cos(l.x),E=Math.sin(l.y),C=Math.cos(l.y),R=f,w=p,F=g,I=-x,L=0-I*E,D=0-T*E,B=I*C,U=T*C;return d||(R=C*f+E*g,w=L*f+T*p+B*g,F=D*f+x*p+U*g),this.setValues(C,L,D,0,0,T,x,0,E,B,U,0,R,w,F,1)},getMaxScaleOnAxis:function(){var l=this.val,u=l[0]*l[0]+l[1]*l[1]+l[2]*l[2],d=l[4]*l[4]+l[5]*l[5]+l[6]*l[6],f=l[8]*l[8]+l[9]*l[9]+l[10]*l[10];return Math.sqrt(Math.max(u,d,f))}}),n=new r,e=new r,s=new m,h=new m,i=new m;v.exports=r},86883:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){return Math.min(t+o,m)};v.exports=S},50040:v=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var o=t.length;if(o===0)return 0;t.sort(function(a,r){return a-r});var m=Math.floor(o/2);return o%2===0?(t[m]+t[m-1])/2:t[m]};v.exports=S},37204:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){return Math.max(t-o,m)};v.exports=S},65201:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a){m===void 0&&(m=o+1);var r=(t-o)/(m-o);return r>1?a!==void 0?(r=(a-t)/(a-m),r<0&&(r=0)):r=1:r<0&&(r=0),r};v.exports=S},15746:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(94434),a=t(29747),r=t(25836),n=1e-6,e=new Int8Array([1,2,0]),s=new Float32Array([0,0,0]),h=new r(1,0,0),i=new r(0,1,0),l=new r,u=new m,d=new o({initialize:function(p,g,x,T){this.onChangeCallback=a,this.set(p,g,x,T)},x:{get:function(){return this._x},set:function(f){this._x=f,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(f){this._y=f,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(f){this._z=f,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(f){this._w=f,this.onChangeCallback(this)}},copy:function(f){return this.set(f)},set:function(f,p,g,x,T){return T===void 0&&(T=!0),typeof f=="object"?(this._x=f.x||0,this._y=f.y||0,this._z=f.z||0,this._w=f.w||0):(this._x=f||0,this._y=p||0,this._z=g||0,this._w=x||0),T&&this.onChangeCallback(this),this},add:function(f){return this._x+=f.x,this._y+=f.y,this._z+=f.z,this._w+=f.w,this.onChangeCallback(this),this},subtract:function(f){return this._x-=f.x,this._y-=f.y,this._z-=f.z,this._w-=f.w,this.onChangeCallback(this),this},scale:function(f){return this._x*=f,this._y*=f,this._z*=f,this._w*=f,this.onChangeCallback(this),this},length:function(){var f=this.x,p=this.y,g=this.z,x=this.w;return Math.sqrt(f*f+p*p+g*g+x*x)},lengthSq:function(){var f=this.x,p=this.y,g=this.z,x=this.w;return f*f+p*p+g*g+x*x},normalize:function(){var f=this.x,p=this.y,g=this.z,x=this.w,T=f*f+p*p+g*g+x*x;return T>0&&(T=1/Math.sqrt(T),this._x=f*T,this._y=p*T,this._z=g*T,this._w=x*T),this.onChangeCallback(this),this},dot:function(f){return this.x*f.x+this.y*f.y+this.z*f.z+this.w*f.w},lerp:function(f,p){p===void 0&&(p=0);var g=this.x,x=this.y,T=this.z,E=this.w;return this.set(g+p*(f.x-g),x+p*(f.y-x),T+p*(f.z-T),E+p*(f.w-E))},rotationTo:function(f,p){var g=f.x*p.x+f.y*p.y+f.z*p.z;return g<-.999999?(l.copy(h).cross(f).length()<n&&l.copy(i).cross(f),l.normalize(),this.setAxisAngle(l,Math.PI)):g>.999999?this.set(0,0,0,1):(l.copy(f).cross(p),this._x=l.x,this._y=l.y,this._z=l.z,this._w=1+g,this.normalize())},setAxes:function(f,p,g){var x=u.val;return x[0]=p.x,x[3]=p.y,x[6]=p.z,x[1]=g.x,x[4]=g.y,x[7]=g.z,x[2]=-f.x,x[5]=-f.y,x[8]=-f.z,this.fromMat3(u).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(f,p){p=p*.5;var g=Math.sin(p);return this.set(g*f.x,g*f.y,g*f.z,Math.cos(p))},multiply:function(f){var p=this.x,g=this.y,x=this.z,T=this.w,E=f.x,C=f.y,R=f.z,w=f.w;return this.set(p*w+T*E+g*R-x*C,g*w+T*C+x*E-p*R,x*w+T*R+p*C-g*E,T*w-p*E-g*C-x*R)},slerp:function(f,p){var g=this.x,x=this.y,T=this.z,E=this.w,C=f.x,R=f.y,w=f.z,F=f.w,I=g*C+x*R+T*w+E*F;I<0&&(I=-I,C=-C,R=-R,w=-w,F=-F);var L=1-p,D=p;if(1-I>n){var B=Math.acos(I),U=Math.sin(B);L=Math.sin((1-p)*B)/U,D=Math.sin(p*B)/U}return this.set(L*g+D*C,L*x+D*R,L*T+D*w,L*E+D*F)},invert:function(){var f=this.x,p=this.y,g=this.z,x=this.w,T=f*f+p*p+g*g+x*x,E=T?1/T:0;return this.set(-f*E,-p*E,-g*E,x*E)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(f){f*=.5;var p=this.x,g=this.y,x=this.z,T=this.w,E=Math.sin(f),C=Math.cos(f);return this.set(p*C+T*E,g*C+x*E,x*C-g*E,T*C-p*E)},rotateY:function(f){f*=.5;var p=this.x,g=this.y,x=this.z,T=this.w,E=Math.sin(f),C=Math.cos(f);return this.set(p*C-x*E,g*C+T*E,x*C+p*E,T*C-g*E)},rotateZ:function(f){f*=.5;var p=this.x,g=this.y,x=this.z,T=this.w,E=Math.sin(f),C=Math.cos(f);return this.set(p*C+g*E,g*C-p*E,x*C+T*E,T*C-x*E)},calculateW:function(){var f=this.x,p=this.y,g=this.z;return this.w=-Math.sqrt(1-f*f-p*p-g*g),this},setFromEuler:function(f,p){var g=f.x/2,x=f.y/2,T=f.z/2,E=Math.cos(g),C=Math.cos(x),R=Math.cos(T),w=Math.sin(g),F=Math.sin(x),I=Math.sin(T);switch(f.order){case"XYZ":{this.set(w*C*R+E*F*I,E*F*R-w*C*I,E*C*I+w*F*R,E*C*R-w*F*I,p);break}case"YXZ":{this.set(w*C*R+E*F*I,E*F*R-w*C*I,E*C*I-w*F*R,E*C*R+w*F*I,p);break}case"ZXY":{this.set(w*C*R-E*F*I,E*F*R+w*C*I,E*C*I+w*F*R,E*C*R-w*F*I,p);break}case"ZYX":{this.set(w*C*R-E*F*I,E*F*R+w*C*I,E*C*I-w*F*R,E*C*R+w*F*I,p);break}case"YZX":{this.set(w*C*R+E*F*I,E*F*R+w*C*I,E*C*I-w*F*R,E*C*R-w*F*I,p);break}case"XZY":{this.set(w*C*R-E*F*I,E*F*R-w*C*I,E*C*I+w*F*R,E*C*R+w*F*I,p);break}}return this},setFromRotationMatrix:function(f){var p=f.val,g=p[0],x=p[4],T=p[8],E=p[1],C=p[5],R=p[9],w=p[2],F=p[6],I=p[10],L=g+C+I,D;return L>0?(D=.5/Math.sqrt(L+1),this.set((F-R)*D,(T-w)*D,(E-x)*D,.25/D)):g>C&&g>I?(D=2*Math.sqrt(1+g-C-I),this.set(.25*D,(x+E)/D,(T+w)/D,(F-R)/D)):C>I?(D=2*Math.sqrt(1+C-g-I),this.set((x+E)/D,.25*D,(R+F)/D,(T-w)/D)):(D=2*Math.sqrt(1+I-g-C),this.set((T+w)/D,(R+F)/D,.25*D,(E-x)/D)),this},fromMat3:function(f){var p=f.val,g=p[0]+p[4]+p[8],x;if(g>0)x=Math.sqrt(g+1),this.w=.5*x,x=.5/x,this._x=(p[7]-p[5])*x,this._y=(p[2]-p[6])*x,this._z=(p[3]-p[1])*x;else{var T=0;p[4]>p[0]&&(T=1),p[8]>p[T*3+T]&&(T=2);var E=e[T],C=e[E];x=Math.sqrt(p[T*3+T]-p[E*3+E]-p[C*3+C]+1),s[T]=.5*x,x=.5/x,s[E]=(p[E*3+T]+p[T*3+E])*x,s[C]=(p[C*3+T]+p[T*3+C])*x,this._x=s[0],this._y=s[1],this._z=s[2],this._w=(p[C*3+E]-p[E*3+C])*x}return this.onChangeCallback(this),this}});v.exports=d},43396:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),m=function(a){return a*o.RAD_TO_DEG};v.exports=m},74362:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){o===void 0&&(o=1);var m=Math.random()*2*Math.PI;return t.x=Math.cos(m)*o,t.y=Math.sin(m)*o,t};v.exports=S},60706:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){o===void 0&&(o=1);var m=Math.random()*2*Math.PI,a=Math.random()*2-1,r=Math.sqrt(1-a*a)*o;return t.x=Math.cos(m)*r,t.y=Math.sin(m)*r,t.z=a*o,t};v.exports=S},67421:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return o===void 0&&(o=1),t.x=(Math.random()*2-1)*o,t.y=(Math.random()*2-1)*o,t.z=(Math.random()*2-1)*o,t.w=(Math.random()*2-1)*o,t};v.exports=S},36305:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){var m=t.x,a=t.y;return t.x=m*Math.cos(o)-a*Math.sin(o),t.y=m*Math.sin(o)+a*Math.cos(o),t};v.exports=S},11520:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a){var r=Math.cos(a),n=Math.sin(a),e=t.x-o,s=t.y-m;return t.x=e*r-s*n+o,t.y=e*n+s*r+m,t};v.exports=S},1163:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a,r){var n=a+Math.atan2(t.y-m,t.x-o);return t.x=o+r*Math.cos(n),t.y=m+r*Math.sin(n),t};v.exports=S},70336:v=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a,r){return t.x=o+r*Math.cos(a),t.y=m+r*Math.sin(a),t};v.exports=S},72678:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(25836),m=t(37867),a=t(15746),r=new m,n=new a,e=new o,s=function(h,i,l){return n.setAxisAngle(i,l),r.fromRotationTranslation(n,e.set(0,0,0)),h.transformMat4(r)};v.exports=s},2284:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t>0?Math.ceil(t):Math.floor(t)};v.exports=S},41013:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){o===void 0&&(o=0),m===void 0&&(m=10);var a=Math.pow(m,-o);return Math.round(t*a)/a};v.exports=S},16922:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a){o===void 0&&(o=1),m===void 0&&(m=1),a===void 0&&(a=1),a*=Math.PI/t;for(var r=[],n=[],e=0;e<t;e++)m-=o*a,o+=m*a,r[e]=m,n[e]=o;return{sin:n,cos:r,length:t}};v.exports=S},7602:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){return t<=o?0:t>=m?1:(t=(t-o)/(m-o),t*t*(3-2*t))};v.exports=S},54261:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){return t=Math.max(0,Math.min(1,(t-o)/(m-o))),t*t*t*(t*(t*6-15)+10)};v.exports=S},44408:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),m=function(a,r,n,e){e===void 0&&(e=new o);var s=0,h=0,i=r*n;return a>0&&a<=i&&(a>r-1?(h=Math.floor(a/r),s=a-h*r):s=a),e.set(s,h)};v.exports=m},85955:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),m=function(a,r,n,e,s,h,i,l){l===void 0&&(l=new o);var u=Math.sin(s),d=Math.cos(s),f=d*h,p=u*h,g=-u*i,x=d*i,T=1/(f*x+g*-p);return l.x=x*T*a+-g*T*r+(e*g-n*x)*T,l.y=f*T*r+-p*T*a+(-e*f+n*p)*T,l};v.exports=m},26099:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(43855),a=new o({initialize:function(n,e){this.x=0,this.y=0,typeof n=="object"?(this.x=n.x||0,this.y=n.y||0):(e===void 0&&(e=n),this.x=n||0,this.y=e||0)},clone:function(){return new a(this.x,this.y)},copy:function(r){return this.x=r.x||0,this.y=r.y||0,this},setFromObject:function(r){return this.x=r.x||0,this.y=r.y||0,this},set:function(r,n){return n===void 0&&(n=r),this.x=r,this.y=n,this},setTo:function(r,n){return this.set(r,n)},setToPolar:function(r,n){return n==null&&(n=1),this.x=Math.cos(r)*n,this.y=Math.sin(r)*n,this},equals:function(r){return this.x===r.x&&this.y===r.y},fuzzyEquals:function(r,n){return m(this.x,r.x,n)&&m(this.y,r.y,n)},angle:function(){var r=Math.atan2(this.y,this.x);return r<0&&(r+=2*Math.PI),r},setAngle:function(r){return this.setToPolar(r,this.length())},add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.x-=r.x,this.y-=r.y,this},multiply:function(r){return this.x*=r.x,this.y*=r.y,this},scale:function(r){return isFinite(r)?(this.x*=r,this.y*=r):(this.x=0,this.y=0),this},divide:function(r){return this.x/=r.x,this.y/=r.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(r){var n=r.x-this.x,e=r.y-this.y;return Math.sqrt(n*n+e*e)},distanceSq:function(r){var n=r.x-this.x,e=r.y-this.y;return n*n+e*e},length:function(){var r=this.x,n=this.y;return Math.sqrt(r*r+n*n)},setLength:function(r){return this.normalize().scale(r)},lengthSq:function(){var r=this.x,n=this.y;return r*r+n*n},normalize:function(){var r=this.x,n=this.y,e=r*r+n*n;return e>0&&(e=1/Math.sqrt(e),this.x=r*e,this.y=n*e),this},normalizeRightHand:function(){var r=this.x;return this.x=this.y*-1,this.y=r,this},normalizeLeftHand:function(){var r=this.x;return this.x=this.y,this.y=r*-1,this},dot:function(r){return this.x*r.x+this.y*r.y},cross:function(r){return this.x*r.y-this.y*r.x},lerp:function(r,n){n===void 0&&(n=0);var e=this.x,s=this.y;return this.x=e+n*(r.x-e),this.y=s+n*(r.y-s),this},transformMat3:function(r){var n=this.x,e=this.y,s=r.val;return this.x=s[0]*n+s[3]*e+s[6],this.y=s[1]*n+s[4]*e+s[7],this},transformMat4:function(r){var n=this.x,e=this.y,s=r.val;return this.x=s[0]*n+s[4]*e+s[12],this.y=s[1]*n+s[5]*e+s[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(r){var n=this.length();return n&&n>r&&this.scale(r/n),this},reflect:function(r){return r=r.clone().normalize(),this.subtract(r.scale(2*this.dot(r)))},mirror:function(r){return this.reflect(r).negate()},rotate:function(r){var n=Math.cos(r),e=Math.sin(r);return this.set(n*this.x-e*this.y,e*this.x+n*this.y)},project:function(r){var n=this.dot(r)/r.dot(r);return this.copy(r).scale(n)}});a.ZERO=new a,a.RIGHT=new a(1,0),a.LEFT=new a(-1,0),a.UP=new a(0,-1),a.DOWN=new a(0,1),a.ONE=new a(1,1),v.exports=a},25836:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=new o({initialize:function(r,n,e){this.x=0,this.y=0,this.z=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0,this.z=r.z||0):(this.x=r||0,this.y=n||0,this.z=e||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(a){return this.x=Math.min(this.x,a.x),this.y=Math.min(this.y,a.y),this.z=Math.min(this.z,a.z),this},max:function(a){return this.x=Math.max(this.x,a.x),this.y=Math.max(this.y,a.y),this.z=Math.max(this.z,a.z),this},clone:function(){return new m(this.x,this.y,this.z)},addVectors:function(a,r){return this.x=a.x+r.x,this.y=a.y+r.y,this.z=a.z+r.z,this},subVectors:function(a,r){return this.x=a.x-r.x,this.y=a.y-r.y,this.z=a.z-r.z,this},crossVectors:function(a,r){var n=a.x,e=a.y,s=a.z,h=r.x,i=r.y,l=r.z;return this.x=e*l-s*i,this.y=s*h-n*l,this.z=n*i-e*h,this},equals:function(a){return this.x===a.x&&this.y===a.y&&this.z===a.z},copy:function(a){return this.x=a.x,this.y=a.y,this.z=a.z||0,this},set:function(a,r,n){return typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0):(this.x=a||0,this.y=r||0,this.z=n||0),this},setFromMatrixPosition:function(a){return this.fromArray(a.val,12)},setFromMatrixColumn:function(a,r){return this.fromArray(a.val,r*4)},fromArray:function(a,r){return r===void 0&&(r=0),this.x=a[r],this.y=a[r+1],this.z=a[r+2],this},add:function(a){return this.x+=a.x,this.y+=a.y,this.z+=a.z||0,this},addScalar:function(a){return this.x+=a,this.y+=a,this.z+=a,this},addScale:function(a,r){return this.x+=a.x*r,this.y+=a.y*r,this.z+=a.z*r||0,this},subtract:function(a){return this.x-=a.x,this.y-=a.y,this.z-=a.z||0,this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this.z*=a.z||1,this},scale:function(a){return isFinite(a)?(this.x*=a,this.y*=a,this.z*=a):(this.x=0,this.y=0,this.z=0),this},divide:function(a){return this.x/=a.x,this.y/=a.y,this.z/=a.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(a){var r=a.x-this.x,n=a.y-this.y,e=a.z-this.z||0;return Math.sqrt(r*r+n*n+e*e)},distanceSq:function(a){var r=a.x-this.x,n=a.y-this.y,e=a.z-this.z||0;return r*r+n*n+e*e},length:function(){var a=this.x,r=this.y,n=this.z;return Math.sqrt(a*a+r*r+n*n)},lengthSq:function(){var a=this.x,r=this.y,n=this.z;return a*a+r*r+n*n},normalize:function(){var a=this.x,r=this.y,n=this.z,e=a*a+r*r+n*n;return e>0&&(e=1/Math.sqrt(e),this.x=a*e,this.y=r*e,this.z=n*e),this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},cross:function(a){var r=this.x,n=this.y,e=this.z,s=a.x,h=a.y,i=a.z;return this.x=n*i-e*h,this.y=e*s-r*i,this.z=r*h-n*s,this},lerp:function(a,r){r===void 0&&(r=0);var n=this.x,e=this.y,s=this.z;return this.x=n+r*(a.x-n),this.y=e+r*(a.y-e),this.z=s+r*(a.z-s),this},applyMatrix3:function(a){var r=this.x,n=this.y,e=this.z,s=a.val;return this.x=s[0]*r+s[3]*n+s[6]*e,this.y=s[1]*r+s[4]*n+s[7]*e,this.z=s[2]*r+s[5]*n+s[8]*e,this},applyMatrix4:function(a){var r=this.x,n=this.y,e=this.z,s=a.val,h=1/(s[3]*r+s[7]*n+s[11]*e+s[15]);return this.x=(s[0]*r+s[4]*n+s[8]*e+s[12])*h,this.y=(s[1]*r+s[5]*n+s[9]*e+s[13])*h,this.z=(s[2]*r+s[6]*n+s[10]*e+s[14])*h,this},transformMat3:function(a){var r=this.x,n=this.y,e=this.z,s=a.val;return this.x=r*s[0]+n*s[3]+e*s[6],this.y=r*s[1]+n*s[4]+e*s[7],this.z=r*s[2]+n*s[5]+e*s[8],this},transformMat4:function(a){var r=this.x,n=this.y,e=this.z,s=a.val;return this.x=s[0]*r+s[4]*n+s[8]*e+s[12],this.y=s[1]*r+s[5]*n+s[9]*e+s[13],this.z=s[2]*r+s[6]*n+s[10]*e+s[14],this},transformCoordinates:function(a){var r=this.x,n=this.y,e=this.z,s=a.val,h=r*s[0]+n*s[4]+e*s[8]+s[12],i=r*s[1]+n*s[5]+e*s[9]+s[13],l=r*s[2]+n*s[6]+e*s[10]+s[14],u=r*s[3]+n*s[7]+e*s[11]+s[15];return this.x=h/u,this.y=i/u,this.z=l/u,this},transformQuat:function(a){var r=this.x,n=this.y,e=this.z,s=a.x,h=a.y,i=a.z,l=a.w,u=l*r+h*e-i*n,d=l*n+i*r-s*e,f=l*e+s*n-h*r,p=-s*r-h*n-i*e;return this.x=u*l+p*-s+d*-i-f*-h,this.y=d*l+p*-h+f*-s-u*-i,this.z=f*l+p*-i+u*-h-d*-s,this},project:function(a){var r=this.x,n=this.y,e=this.z,s=a.val,h=s[0],i=s[1],l=s[2],u=s[3],d=s[4],f=s[5],p=s[6],g=s[7],x=s[8],T=s[9],E=s[10],C=s[11],R=s[12],w=s[13],F=s[14],I=s[15],L=1/(r*u+n*g+e*C+I);return this.x=(r*h+n*d+e*x+R)*L,this.y=(r*i+n*f+e*T+w)*L,this.z=(r*l+n*p+e*E+F)*L,this},projectViewMatrix:function(a,r){return this.applyMatrix4(a).applyMatrix4(r)},unprojectViewMatrix:function(a,r){return this.applyMatrix4(a).applyMatrix4(r)},unproject:function(a,r){var n=a.x,e=a.y,s=a.z,h=a.w,i=this.x-n,l=h-this.y-1-e,u=this.z;return this.x=2*i/s-1,this.y=2*l/h-1,this.z=2*u-1,this.project(r)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});m.ZERO=new m,m.RIGHT=new m(1,0,0),m.LEFT=new m(-1,0,0),m.UP=new m(0,-1,0),m.DOWN=new m(0,1,0),m.FORWARD=new m(0,0,1),m.BACK=new m(0,0,-1),m.ONE=new m(1,1,1),v.exports=m},61369:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=new o({initialize:function(r,n,e,s){this.x=0,this.y=0,this.z=0,this.w=0,typeof r=="object"?(this.x=r.x||0,this.y=r.y||0,this.z=r.z||0,this.w=r.w||0):(this.x=r||0,this.y=n||0,this.z=e||0,this.w=s||0)},clone:function(){return new m(this.x,this.y,this.z,this.w)},copy:function(a){return this.x=a.x,this.y=a.y,this.z=a.z||0,this.w=a.w||0,this},equals:function(a){return this.x===a.x&&this.y===a.y&&this.z===a.z&&this.w===a.w},set:function(a,r,n,e){return typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0,this.w=a.w||0):(this.x=a||0,this.y=r||0,this.z=n||0,this.w=e||0),this},add:function(a){return this.x+=a.x,this.y+=a.y,this.z+=a.z||0,this.w+=a.w||0,this},subtract:function(a){return this.x-=a.x,this.y-=a.y,this.z-=a.z||0,this.w-=a.w||0,this},scale:function(a){return this.x*=a,this.y*=a,this.z*=a,this.w*=a,this},length:function(){var a=this.x,r=this.y,n=this.z,e=this.w;return Math.sqrt(a*a+r*r+n*n+e*e)},lengthSq:function(){var a=this.x,r=this.y,n=this.z,e=this.w;return a*a+r*r+n*n+e*e},normalize:function(){var a=this.x,r=this.y,n=this.z,e=this.w,s=a*a+r*r+n*n+e*e;return s>0&&(s=1/Math.sqrt(s),this.x=a*s,this.y=r*s,this.z=n*s,this.w=e*s),this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w},lerp:function(a,r){r===void 0&&(r=0);var n=this.x,e=this.y,s=this.z,h=this.w;return this.x=n+r*(a.x-n),this.y=e+r*(a.y-e),this.z=s+r*(a.z-s),this.w=h+r*(a.w-h),this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this.z*=a.z||1,this.w*=a.w||1,this},divide:function(a){return this.x/=a.x,this.y/=a.y,this.z/=a.z||1,this.w/=a.w||1,this},distance:function(a){var r=a.x-this.x,n=a.y-this.y,e=a.z-this.z||0,s=a.w-this.w||0;return Math.sqrt(r*r+n*n+e*e+s*s)},distanceSq:function(a){var r=a.x-this.x,n=a.y-this.y,e=a.z-this.z||0,s=a.w-this.w||0;return r*r+n*n+e*e+s*s},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(a){var r=this.x,n=this.y,e=this.z,s=this.w,h=a.val;return this.x=h[0]*r+h[4]*n+h[8]*e+h[12]*s,this.y=h[1]*r+h[5]*n+h[9]*e+h[13]*s,this.z=h[2]*r+h[6]*n+h[10]*e+h[14]*s,this.w=h[3]*r+h[7]*n+h[11]*e+h[15]*s,this},transformQuat:function(a){var r=this.x,n=this.y,e=this.z,s=a.x,h=a.y,i=a.z,l=a.w,u=l*r+h*e-i*n,d=l*n+i*r-s*e,f=l*e+s*n-h*r,p=-s*r-h*n-i*e;return this.x=u*l+p*-s+d*-i-f*-h,this.y=d*l+p*-h+f*-s-u*-i,this.z=f*l+p*-i+u*-h-d*-s,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});m.prototype.sub=m.prototype.subtract,m.prototype.mul=m.prototype.multiply,m.prototype.div=m.prototype.divide,m.prototype.dist=m.prototype.distance,m.prototype.distSq=m.prototype.distanceSq,m.prototype.len=m.prototype.length,m.prototype.lenSq=m.prototype.lengthSq,v.exports=m},60417:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){return Math.abs(t-o)<=m};v.exports=S},15994:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){var a=m-o;return o+((t-o)%a+a)%a};v.exports=S},31040:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a){return Math.atan2(a-o,m-t)};v.exports=S},55495:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return Math.atan2(o.y-t.y,o.x-t.x)};v.exports=S},128:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return Math.atan2(o.x-t.x,o.y-t.y)};v.exports=S},41273:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a){return Math.atan2(m-t,a-o)};v.exports=S},1432:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),m=function(a){return a>Math.PI&&(a-=o.PI2),Math.abs(((a+o.TAU)%o.PI2-o.PI2)%o.PI2)};v.exports=m},12407:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t=t%(2*Math.PI),t>=0?t:t+2*Math.PI};v.exports=S},53993:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(99472),m=function(){return o(-Math.PI,Math.PI)};v.exports=m},86564:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(99472),m=function(){return o(-180,180)};v.exports=m},90154:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(12407),m=function(a){return o(a+Math.PI)};v.exports=m},48736:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),m=function(a,r,n){return n===void 0&&(n=.05),a===r||(Math.abs(r-a)<=n||Math.abs(r-a)>=o.PI2-n?a=r:(Math.abs(r-a)>Math.PI&&(r<a?r+=o.PI2:r-=o.PI2),r>a?a+=n:r<a&&(a-=n))),a};v.exports=m},61430:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){var m=o-t;if(m===0)return 0;var a=Math.floor((m- -180)/360);return m-a*360};v.exports=S},86554:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(15994),m=function(a){return o(a,-Math.PI,Math.PI)};v.exports=m},30954:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(15994),m=function(a){return o(a,-180,180)};v.exports=m},25588:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Between:t(31040),BetweenPoints:t(55495),BetweenPointsY:t(128),BetweenY:t(41273),CounterClockwise:t(1432),Normalize:t(12407),Random:t(53993),RandomDegrees:t(86564),Reverse:t(90154),RotateTo:t(48736),ShortestBetween:t(61430),Wrap:t(86554),WrapDegrees:t(30954)}},36383:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};v.exports=S},20339:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a){var r=t-m,n=o-a;return Math.sqrt(r*r+n*n)};v.exports=S},52816:v=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){var m=t.x-o.x,a=t.y-o.y;return Math.sqrt(m*m+a*a)};v.exports=S},64559:v=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){var m=t.x-o.x,a=t.y-o.y;return m*m+a*a};v.exports=S},82340:v=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a){return Math.max(Math.abs(t-m),Math.abs(o-a))};v.exports=S},14390:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a,r){return r===void 0&&(r=2),Math.sqrt(Math.pow(m-t,r)+Math.pow(a-o,r))};v.exports=S},2243:v=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a){return Math.abs(t-m)+Math.abs(o-a)};v.exports=S},89774:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a){var r=t-m,n=o-a;return r*r+n*n};v.exports=S},50994:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Between:t(20339),BetweenPoints:t(52816),BetweenPointsSquared:t(64559),Chebyshev:t(82340),Power:t(14390),Snake:t(2243),Squared:t(89774)}},62640:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(54178),m=t(41521),a=t(79980),r=t(85433),n=t(99140),e=t(48857),s=t(81596),h=t(59133),i=t(98516),l=t(35248),u=t(82500),d=t(49752);v.exports={Power0:s,Power1:h.Out,Power2:r.Out,Power3:i.Out,Power4:l.Out,Linear:s,Quad:h.Out,Cubic:r.Out,Quart:i.Out,Quint:l.Out,Sine:u.Out,Expo:e.Out,Circ:a.Out,Elastic:n.Out,Back:o.Out,Bounce:m.Out,Stepped:d,"Quad.easeIn":h.In,"Cubic.easeIn":r.In,"Quart.easeIn":i.In,"Quint.easeIn":l.In,"Sine.easeIn":u.In,"Expo.easeIn":e.In,"Circ.easeIn":a.In,"Elastic.easeIn":n.In,"Back.easeIn":o.In,"Bounce.easeIn":m.In,"Quad.easeOut":h.Out,"Cubic.easeOut":r.Out,"Quart.easeOut":i.Out,"Quint.easeOut":l.Out,"Sine.easeOut":u.Out,"Expo.easeOut":e.Out,"Circ.easeOut":a.Out,"Elastic.easeOut":n.Out,"Back.easeOut":o.Out,"Bounce.easeOut":m.Out,"Quad.easeInOut":h.InOut,"Cubic.easeInOut":r.InOut,"Quart.easeInOut":i.InOut,"Quint.easeInOut":l.InOut,"Sine.easeInOut":u.InOut,"Expo.easeInOut":e.InOut,"Circ.easeInOut":a.InOut,"Elastic.easeInOut":n.InOut,"Back.easeInOut":o.InOut,"Bounce.easeInOut":m.InOut}},1639:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return o===void 0&&(o=1.70158),t*t*((o+1)*t-o)};v.exports=S},50099:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){o===void 0&&(o=1.70158);var m=o*1.525;return(t*=2)<1?.5*(t*t*((m+1)*t-m)):.5*((t-=2)*t*((m+1)*t+m)+2)};v.exports=S},41286:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return o===void 0&&(o=1.70158),--t*t*((o+1)*t+o)+1};v.exports=S},54178:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(1639),Out:t(41286),InOut:t(50099)}},59590:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t=1-t,t<.36363636363636365?1-7.5625*t*t:t<.7272727272727273?1-(7.5625*(t-=.5454545454545454)*t+.75):t<.9090909090909091?1-(7.5625*(t-=.8181818181818182)*t+.9375):1-(7.5625*(t-=.9545454545454546)*t+.984375)};v.exports=S},41788:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var o=!1;return t<.5?(t=1-t*2,o=!0):t=t*2-1,t<.36363636363636365?t=7.5625*t*t:t<.7272727272727273?t=7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?t=7.5625*(t-=.8181818181818182)*t+.9375:t=7.5625*(t-=.9545454545454546)*t+.984375,o?(1-t)*.5:t*.5+.5};v.exports=S},69905:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375};v.exports=S},41521:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(59590),Out:t(69905),InOut:t(41788)}},91861:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 1-Math.sqrt(1-t*t)};v.exports=S},4177:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)};v.exports=S},57512:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.sqrt(1- --t*t)};v.exports=S},79980:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(91861),Out:t(57512),InOut:t(4177)}},51150:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t*t};v.exports=S},82820:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)};v.exports=S},35033:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return--t*t*t+1};v.exports=S},85433:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(51150),Out:t(35033),InOut:t(82820)}},69965:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){if(o===void 0&&(o=.1),m===void 0&&(m=.1),t===0)return 0;if(t===1)return 1;var a=m/4;return o<1?o=1:a=m*Math.asin(1/o)/(2*Math.PI),-(o*Math.pow(2,10*(t-=1))*Math.sin((t-a)*(2*Math.PI)/m))};v.exports=S},50665:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){if(o===void 0&&(o=.1),m===void 0&&(m=.1),t===0)return 0;if(t===1)return 1;var a=m/4;return o<1?o=1:a=m*Math.asin(1/o)/(2*Math.PI),(t*=2)<1?-.5*(o*Math.pow(2,10*(t-=1))*Math.sin((t-a)*(2*Math.PI)/m)):o*Math.pow(2,-10*(t-=1))*Math.sin((t-a)*(2*Math.PI)/m)*.5+1};v.exports=S},7744:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){if(o===void 0&&(o=.1),m===void 0&&(m=.1),t===0)return 0;if(t===1)return 1;var a=m/4;return o<1?o=1:a=m*Math.asin(1/o)/(2*Math.PI),o*Math.pow(2,-10*t)*Math.sin((t-a)*(2*Math.PI)/m)+1};v.exports=S},99140:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(69965),Out:t(7744),InOut:t(50665)}},24590:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return Math.pow(2,10*(t-1))-.001};v.exports=S},87844:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))};v.exports=S},89433:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 1-Math.pow(2,-10*t)};v.exports=S},48857:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(24590),Out:t(89433),InOut:t(87844)}},48820:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Back:t(54178),Bounce:t(41521),Circular:t(79980),Cubic:t(85433),Elastic:t(99140),Expo:t(48857),Linear:t(81596),Quadratic:t(59133),Quartic:t(98516),Quintic:t(35248),Sine:t(82500),Stepped:t(49752)}},7147:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t};v.exports=S},81596:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports=t(7147)},34826:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t};v.exports=S},20544:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)};v.exports=S},92029:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*(2-t)};v.exports=S},59133:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(34826),Out:t(92029),InOut:t(20544)}},64413:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t*t*t};v.exports=S},78137:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)};v.exports=S},45840:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return 1- --t*t*t*t};v.exports=S},98516:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(64413),Out:t(45840),InOut:t(78137)}},87745:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t*t*t*t*t};v.exports=S},16509:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)};v.exports=S},17868:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return--t*t*t*t*t+1};v.exports=S},35248:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(87745),Out:t(17868),InOut:t(16509)}},80461:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===0?0:t===1?1:1-Math.cos(t*Math.PI/2)};v.exports=S},34025:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===0?0:t===1?1:.5*(1-Math.cos(Math.PI*t))};v.exports=S},52768:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t===0?0:t===1?1:Math.sin(t*Math.PI/2)};v.exports=S},82500:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={In:t(80461),Out:t(52768),InOut:t(34025)}},72251:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return o===void 0&&(o=1),t<=0?0:t>=1?1:((o*t|0)+1)*(1/o)};v.exports=S},49752:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports=t(72251)},75698:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return o===void 0&&(o=1e-4),Math.ceil(t-o)};v.exports=S},43855:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){return m===void 0&&(m=1e-4),Math.abs(t-o)<m};v.exports=S},25777:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return o===void 0&&(o=1e-4),Math.floor(t+o)};v.exports=S},5470:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){return m===void 0&&(m=1e-4),t>o-m};v.exports=S},94977:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){return m===void 0&&(m=1e-4),t<o+m};v.exports=S},48379:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Ceil:t(75698),Equal:t(43855),Floor:t(25777),GreaterThan:t(5470),LessThan:t(94977)}},75508:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36383),m=t(79291),a={Angle:t(25588),Distance:t(50994),Easing:t(48820),Fuzzy:t(48379),Interpolation:t(38289),Pow2:t(49001),Snap:t(73697),RandomDataGenerator:t(28453),Average:t(53307),Bernstein:t(85710),Between:t(30976),CatmullRom:t(87842),CeilTo:t(26302),Clamp:t(45319),DegToRad:t(39506),Difference:t(61241),Euler:t(38857),Factorial:t(6411),FloatBetween:t(99472),FloorTo:t(77623),FromPercent:t(62945),GetSpeed:t(38265),IsEven:t(78702),IsEvenStrict:t(94883),Linear:t(28915),LinearXY:t(94908),MaxAdd:t(86883),Median:t(50040),MinSub:t(37204),Percent:t(65201),RadToDeg:t(43396),RandomXY:t(74362),RandomXYZ:t(60706),RandomXYZW:t(67421),Rotate:t(36305),RotateAround:t(11520),RotateAroundDistance:t(1163),RotateTo:t(70336),RoundAwayFromZero:t(2284),RoundTo:t(41013),SinCosTableGenerator:t(16922),SmootherStep:t(54261),SmoothStep:t(7602),ToXY:t(44408),TransformXY:t(85955),Within:t(60417),Wrap:t(15994),Vector2:t(26099),Vector3:t(25836),Vector4:t(61369),Matrix3:t(94434),Matrix4:t(37867),Quaternion:t(15746),RotateVec3:t(72678)};a=m(!1,a,o),v.exports=a},89318:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(85710),m=function(a,r){for(var n=0,e=a.length-1,s=0;s<=e;s++)n+=Math.pow(1-r,e-s)*Math.pow(r,s)*a[s]*o(e,s);return n};v.exports=m},77259:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87842),m=function(a,r){var n=a.length-1,e=n*r,s=Math.floor(e);return a[0]===a[n]?(r<0&&(s=Math.floor(e=n*(1+r))),o(e-s,a[(s-1+n)%n],a[s],a[(s+1)%n],a[(s+2)%n])):r<0?a[0]-(o(-e,a[0],a[0],a[1],a[1])-a[0]):r>1?a[n]-(o(e-n,a[n],a[n],a[n-1],a[n-1])-a[n]):o(e-s,a[s?s-1:0],a[s],a[n<s+1?n:s+1],a[n<s+2?n:s+2])};v.exports=m},36316:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(r,n){var e=1-r;return e*e*e*n}function t(r,n){var e=1-r;return 3*e*e*r*n}function o(r,n){return 3*(1-r)*r*r*n}function m(r,n){return r*r*r*n}var a=function(r,n,e,s,h){return S(r,n)+t(r,e)+o(r,s)+m(r,h)};v.exports=a},28392:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(28915),m=function(a,r){var n=a.length-1,e=n*r,s=Math.floor(e);return r<0?o(a[0],a[1],e):r>1?o(a[n],a[n-1],n-e):o(a[s],a[s+1>n?n:s+1],e-s)};v.exports=m},32112:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(a,r){var n=1-a;return n*n*r}function t(a,r){return 2*(1-a)*a*r}function o(a,r){return a*a*r}var m=function(a,r,n,e){return S(a,r)+t(a,n)+o(a,e)};v.exports=m},47235:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7602),m=function(a,r,n){return r+(n-r)*o(a,0,1)};v.exports=m},50178:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(54261),m=function(a,r,n){return r+(n-r)*o(a,0,1)};v.exports=m},38289:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Bezier:t(89318),CatmullRom:t(77259),CubicBezier:t(36316),Linear:t(28392),QuadraticBezier:t(32112),SmoothStep:t(47235),SmootherStep:t(50178)}},98439:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var o=Math.log(t)/.6931471805599453;return 1<<Math.ceil(o)};v.exports=S},50030:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return t>0&&(t&t-1)===0&&o>0&&(o&o-1)===0};v.exports=S},81230:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t>0&&(t&t-1)===0};v.exports=S},49001:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={GetNext:t(98439),IsSize:t(50030),IsValue:t(81230)}},28453:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=new o({initialize:function(r){r===void 0&&(r=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],r&&this.init(r)},rnd:function(){var a=2091639*this.s0+this.c*23283064365386963e-26;return this.c=a|0,this.s0=this.s1,this.s1=this.s2,this.s2=a-this.c,this.s2},hash:function(a){var r,n=this.n;a=a.toString();for(var e=0;e<a.length;e++)n+=a.charCodeAt(e),r=.02519603282416938*n,n=r>>>0,r-=n,r*=n,n=r>>>0,r-=n,n+=r*4294967296;return this.n=n,(n>>>0)*23283064365386963e-26},init:function(a){typeof a=="string"?this.state(a):this.sow(a)},sow:function(a){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!a)for(var r=0;r<a.length&&a[r]!=null;r++){var n=a[r];this.s0-=this.hash(n),this.s0+=~~(this.s0<0),this.s1-=this.hash(n),this.s1+=~~(this.s1<0),this.s2-=this.hash(n),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(a,r){return Math.floor(this.realInRange(0,r-a+1)+a)},between:function(a,r){return Math.floor(this.realInRange(0,r-a+1)+a)},realInRange:function(a,r){return this.frac()*(r-a)+a},normal:function(){return 1-2*this.frac()},uuid:function(){var a="",r="";for(r=a="";a++<36;r+=~a%5|a*3&4?(a^15?8^this.frac()*(a^20?16:4):4).toString(16):"-");return r},pick:function(a){return a[this.integerInRange(0,a.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(a){return a[~~(Math.pow(this.frac(),2)*(a.length-.5)+.5)]},timestamp:function(a,r){return this.realInRange(a||9466848e5,r||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(a){return typeof a=="string"&&a.match(/^!rnd/)&&(a=a.split(","),this.c=parseFloat(a[1]),this.s0=parseFloat(a[2]),this.s1=parseFloat(a[3]),this.s2=parseFloat(a[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(a){for(var r=a.length-1,n=r;n>0;n--){var e=Math.floor(this.frac()*(n+1)),s=a[e];a[e]=a[n],a[n]=s}return a}});v.exports=m},63448:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a){return m===void 0&&(m=0),o===0?t:(t-=m,t=o*Math.ceil(t/o),a?(m+t)/o:m+t)};v.exports=S},56583:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a){return m===void 0&&(m=0),o===0?t:(t-=m,t=o*Math.floor(t/o),a?(m+t)/o:m+t)};v.exports=S},77720:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a){return m===void 0&&(m=0),o===0?t:(t-=m,t=o*Math.round(t/o),a?(m+t)/o:m+t)};v.exports=S},73697:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Ceil:t(63448),Floor:t(56583),To:t(77720)}},85454:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */t(63595);var o=t(8054),m=t(79291),a={Actions:t(61061),Animations:t(60421),BlendModes:t(10312),Cache:t(83388),Cameras:t(26638),Core:t(42857),Class:t(83419),Create:t(15822),Curves:t(25410),Data:t(44965),Display:t(27460),DOM:t(84902),Events:t(93055),FX:t(66064),Game:t(50127),GameObjects:t(77856),Geom:t(55738),Input:t(14350),Loader:t(57777),Math:t(75508),Physics:t(44563),Plugins:t(18922),Renderer:t(36909),Scale:t(93364),ScaleModes:t(29795),Scene:t(97482),Scenes:t(62194),Structs:t(41392),Textures:t(27458),Tilemaps:t(62501),Time:t(90291),Tweens:t(43066),Utils:t(91799)};a.Sound=t(23717),a=m(!1,a,o),v.exports=a,t.g.Phaser=a},71289:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(92209),a=t(88571),r=new o({Extends:a,Mixins:[m.Acceleration,m.Angular,m.Bounce,m.Collision,m.Debug,m.Drag,m.Enable,m.Friction,m.Gravity,m.Immovable,m.Mass,m.Pushable,m.Size,m.Velocity],initialize:function(e,s,h,i,l){a.call(this,e,s,h,i,l),this.body=null}});v.exports=r},86689:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(39506),a=t(20339),r=t(89774),n=t(66022),e=t(95540),s=t(46975),h=t(72441),i=t(47956),l=t(37277),u=t(44594),d=t(26099),f=t(82248),p=new o({initialize:function(x){this.scene=x,this.systems=x.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,x.sys.events.once(u.BOOT,this.boot,this),x.sys.events.on(u.START,this.start,this)},boot:function(){this.world=new f(this.scene,this.config),this.add=new n(this.world),this.systems.events.once(u.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new f(this.scene,this.config),this.add=new n(this.world));var g=this.systems.events;e(this.config,"customUpdate",!1)||g.on(u.UPDATE,this.world.update,this.world),g.on(u.POST_UPDATE,this.world.postUpdate,this.world),g.once(u.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(u.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(u.UPDATE,this.world.update,this.world)},getConfig:function(){var g=this.systems.game.config.physics,x=this.systems.settings.physics,T=s(e(x,"arcade",{}),e(g,"arcade",{}));return T},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(g,x,T,E,C){return T===void 0&&(T=null),E===void 0&&(E=null),C===void 0&&(C=T),this.world.collideObjects(g,x,T,E,C,!0)},collide:function(g,x,T,E,C){return T===void 0&&(T=null),E===void 0&&(E=null),C===void 0&&(C=T),this.world.collideObjects(g,x,T,E,C,!1)},collideTiles:function(g,x,T,E,C){return this.world.collideTiles(g,x,T,E,C)},overlapTiles:function(g,x,T,E,C){return this.world.overlapTiles(g,x,T,E,C)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(g,x,T,E,C,R){E===void 0&&(E=60);var w=Math.atan2(T-g.y,x-g.x);return g.body.acceleration.setToPolar(w,E),C!==void 0&&R!==void 0&&g.body.maxVelocity.set(C,R),w},accelerateToObject:function(g,x,T,E,C){return this.accelerateTo(g,x.x,x.y,T,E,C)},closest:function(g,x){x||(x=this.world.bodies.entries);for(var T=Number.MAX_VALUE,E=null,C=g.x,R=g.y,w=x.length,F=0;F<w;F++){var I=x[F],L=I.body||I;if(!(g===I||g===L||g===L.gameObject||g===L.center)){var D=r(C,R,L.center.x,L.center.y);D<T&&(E=I,T=D)}}return E},furthest:function(g,x){x||(x=this.world.bodies.entries);for(var T=-1,E=null,C=g.x,R=g.y,w=x.length,F=0;F<w;F++){var I=x[F],L=I.body||I;if(!(g===I||g===L||g===L.gameObject||g===L.center)){var D=r(C,R,L.center.x,L.center.y);D>T&&(E=I,T=D)}}return E},moveTo:function(g,x,T,E,C){E===void 0&&(E=60),C===void 0&&(C=0);var R=Math.atan2(T-g.y,x-g.x);return C>0&&(E=a(g.x,g.y,x,T)/(C/1e3)),g.body.velocity.setToPolar(R,E),R},moveToObject:function(g,x,T,E){return this.moveTo(g,x.x,x.y,T,E)},velocityFromAngle:function(g,x,T){return x===void 0&&(x=60),T===void 0&&(T=new d),T.setToPolar(m(g),x)},velocityFromRotation:function(g,x,T){return x===void 0&&(x=60),T===void 0&&(T=new d),T.setToPolar(g,x)},overlapRect:function(g,x,T,E,C,R){return i(this.world,g,x,T,E,C,R)},overlapCirc:function(g,x,T,E,C){return h(this.world,g,x,T,E,C)},shutdown:function(){if(this.world){var g=this.systems.events;g.off(u.UPDATE,this.world.update,this.world),g.off(u.POST_UPDATE,this.world.postUpdate,this.world),g.off(u.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(u.START,this.start,this),this.scene=null,this.systems=null}});l.register("ArcadePhysics",p,"arcadePhysics"),v.exports=p},13759:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(92209),a=t(68287),r=new o({Extends:a,Mixins:[m.Acceleration,m.Angular,m.Bounce,m.Collision,m.Debug,m.Drag,m.Enable,m.Friction,m.Gravity,m.Immovable,m.Mass,m.Pushable,m.Size,m.Velocity],initialize:function(e,s,h,i,l){a.call(this,e,s,h,i,l),this.body=null}});v.exports=r},37742:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(78389),a=t(37747),r=t(63012),n=t(43396),e=t(87841),s=t(37303),h=t(95829),i=t(26099),l=new o({Mixins:[m],initialize:function(d,f){var p=64,g=64,x={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},T=f!==void 0;T&&f.displayWidth&&(p=f.displayWidth,g=f.displayHeight),T||(f=x),this.world=d,this.gameObject=T?f:void 0,this.isBody=!0,this.transform={x:f.x,y:f.y,rotation:f.angle,scaleX:f.scaleX,scaleY:f.scaleY,displayOriginX:f.displayOriginX,displayOriginY:f.displayOriginY},this.debugShowBody=d.defaults.debugShowBody,this.debugShowVelocity=d.defaults.debugShowVelocity,this.debugBodyColor=d.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new i,this.position=new i(f.x-f.scaleX*f.displayOriginX,f.y-f.scaleY*f.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=f.angle,this.preRotation=f.angle,this.width=p,this.height=g,this.sourceWidth=p,this.sourceHeight=g,f.frame&&(this.sourceWidth=f.frame.realWidth,this.sourceHeight=f.frame.realHeight),this.halfWidth=Math.abs(p/2),this.halfHeight=Math.abs(g/2),this.center=new i(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new i,this.newVelocity=new i,this.deltaMax=new i,this.acceleration=new i,this.allowDrag=!0,this.drag=new i,this.allowGravity=!0,this.gravity=new i,this.bounce=new i,this.worldBounce=null,this.customBoundsRectangle=d.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new i(1e4,1e4),this.maxSpeed=-1,this.friction=new i(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=a.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new i(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=h(!1),this.touching=h(!0),this.wasTouching=h(!0),this.blocked=h(!0),this.syncBounds=!1,this.physicsType=a.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=f.scaleX,this._sy=f.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new e,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var u=this.gameObject,d=this.transform;if(u.parentContainer){var f=u.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);d.x=f.tx,d.y=f.ty,d.rotation=n(f.rotation),d.scaleX=f.scaleX,d.scaleY=f.scaleY,d.displayOriginX=u.displayOriginX,d.displayOriginY=u.displayOriginY}else d.x=u.x,d.y=u.y,d.rotation=u.angle,d.scaleX=u.scaleX,d.scaleY=u.scaleY,d.displayOriginX=u.displayOriginX,d.displayOriginY=u.displayOriginY;var p=!1;if(this.syncBounds){var g=u.getBounds(this._bounds);this.width=g.width,this.height=g.height,p=!0}else{var x=Math.abs(d.scaleX),T=Math.abs(d.scaleY);(this._sx!==x||this._sy!==T)&&(this.width=this.sourceWidth*x,this.height=this.sourceHeight*T,this._sx=x,this._sy=T,p=!0)}p&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var u=this.transform;this.position.x=u.x+u.scaleX*(this.offset.x-u.displayOriginX),this.position.y=u.y+u.scaleY*(this.offset.y-u.displayOriginY),this.updateCenter()},resetFlags:function(u){u===void 0&&(u=!1);var d=this.wasTouching,f=this.touching,p=this.blocked;u?h(!0,d):(d.none=f.none,d.up=f.up,d.down=f.down,d.left=f.left,d.right=f.right),h(!0,f),h(!0,p),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(u,d){if(u&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var f=this.position;this.prev.x=f.x,this.prev.y=f.y,this.prevFrame.x=f.x,this.prevFrame.y=f.y}u&&this.update(d)},update:function(u){var d=this.prev,f=this.position,p=this.velocity;if(d.set(f.x,f.y),!this.moves){this._dx=f.x-d.x,this._dy=f.y-d.y;return}if(this.directControl){var g=this.autoFrame;p.set((f.x-g.x)/u,(f.y-g.y)/u),this.world.updateMotion(this,u),this._dx=f.x-g.x,this._dy=f.y-g.y}else this.world.updateMotion(this,u),this.newVelocity.set(p.x*u,p.y*u),f.add(this.newVelocity),this._dx=f.x-d.x,this._dy=f.y-d.y;var x=p.x,T=p.y;if(this.updateCenter(),this.angle=Math.atan2(T,x),this.speed=Math.sqrt(x*x+T*T),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var E=this.blocked;this.world.emit(r.WORLD_BOUNDS,this,E.up,E.down,E.left,E.right)}},postUpdate:function(){var u=this.position,d=u.x-this.prevFrame.x,f=u.y-this.prevFrame.y,p=this.gameObject;if(this.moves){var g=this.deltaMax.x,x=this.deltaMax.y;g!==0&&d!==0&&(d<0&&d<-g?d=-g:d>0&&d>g&&(d=g)),x!==0&&f!==0&&(f<0&&f<-x?f=-x:f>0&&f>x&&(f=x)),p&&(p.x+=d,p.y+=f)}d<0?this.facing=a.FACING_LEFT:d>0&&(this.facing=a.FACING_RIGHT),f<0?this.facing=a.FACING_UP:f>0&&(this.facing=a.FACING_DOWN),this.allowRotation&&p&&(p.angle+=this.deltaZ()),this._tx=d,this._ty=f,this.autoFrame.set(u.x,u.y)},setBoundsRectangle:function(u){return this.customBoundsRectangle=u||this.world.bounds,this},checkWorldBounds:function(){var u=this.position,d=this.velocity,f=this.blocked,p=this.customBoundsRectangle,g=this.world.checkCollision,x=this.worldBounce?-this.worldBounce.x:-this.bounce.x,T=this.worldBounce?-this.worldBounce.y:-this.bounce.y,E=!1;return u.x<p.x&&g.left?(u.x=p.x,d.x*=x,f.left=!0,E=!0):this.right>p.right&&g.right&&(u.x=p.right-this.width,d.x*=x,f.right=!0,E=!0),u.y<p.y&&g.up?(u.y=p.y,d.y*=T,f.up=!0,E=!0):this.bottom>p.bottom&&g.down&&(u.y=p.bottom-this.height,d.y*=T,f.down=!0,E=!0),E&&(this.blocked.none=!1,this.updateCenter()),E},setOffset:function(u,d){return d===void 0&&(d=u),this.offset.set(u,d),this},setGameObject:function(u,d){if(d===void 0&&(d=!0),!u||!u.hasTransformComponent)return this;var f=this.world;return this.gameObject&&this.gameObject.body&&(f.disable(this.gameObject),this.gameObject.body=null),u.body&&f.disable(u),this.gameObject=u,u.body=this,this.setSize(),this.enable=d,this},setSize:function(u,d,f){f===void 0&&(f=!0);var p=this.gameObject;if(p&&(!u&&p.frame&&(u=p.frame.realWidth),!d&&p.frame&&(d=p.frame.realHeight)),this.sourceWidth=u,this.sourceHeight=d,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),f&&p&&p.getCenter){var g=(p.width-u)/2,x=(p.height-d)/2;this.offset.set(g,x)}return this.isCircle=!1,this.radius=0,this},setCircle:function(u,d,f){return d===void 0&&(d=this.offset.x),f===void 0&&(f=this.offset.y),u>0?(this.isCircle=!0,this.radius=u,this.sourceWidth=u*2,this.sourceHeight=u*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(d,f),this.updateCenter()):this.isCircle=!1,this},reset:function(u,d){this.stop();var f=this.gameObject;f&&(f.setPosition(u,d),this.rotation=f.angle,this.preRotation=f.angle);var p=this.position;f&&f.getTopLeft?f.getTopLeft(p):p.set(u,d),this.prev.copy(p),this.prevFrame.copy(p),this.autoFrame.copy(p),f&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(u){return u.x=this.x,u.y=this.y,u.right=this.right,u.bottom=this.bottom,u},hitTest:function(u,d){if(!this.isCircle)return s(this,u,d);if(this.radius>0&&u>=this.left&&u<=this.right&&d>=this.top&&d<=this.bottom){var f=(this.center.x-u)*(this.center.x-u),p=(this.center.y-d)*(this.center.y-d);return f+p<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(u){var d=this.position,f=d.x+this.halfWidth,p=d.y+this.halfHeight;this.debugShowBody&&(u.lineStyle(u.defaultStrokeWidth,this.debugBodyColor),this.isCircle?u.strokeCircle(f,p,this.width/2):(this.checkCollision.up&&u.lineBetween(d.x,d.y,d.x+this.width,d.y),this.checkCollision.right&&u.lineBetween(d.x+this.width,d.y,d.x+this.width,d.y+this.height),this.checkCollision.down&&u.lineBetween(d.x,d.y+this.height,d.x+this.width,d.y+this.height),this.checkCollision.left&&u.lineBetween(d.x,d.y,d.x,d.y+this.height))),this.debugShowVelocity&&(u.lineStyle(u.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),u.lineBetween(f,p,f+this.velocity.x/2,p+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(u){return u===void 0&&(u=!0),this.directControl=u,this},setCollideWorldBounds:function(u,d,f,p){u===void 0&&(u=!0),this.collideWorldBounds=u;var g=d!==void 0,x=f!==void 0;return(g||x)&&(this.worldBounce||(this.worldBounce=new i),g&&(this.worldBounce.x=d),x&&(this.worldBounce.y=f)),p!==void 0&&(this.onWorldBounds=p),this},setVelocity:function(u,d){return this.velocity.set(u,d),u=this.velocity.x,d=this.velocity.y,this.speed=Math.sqrt(u*u+d*d),this},setVelocityX:function(u){return this.setVelocity(u,this.velocity.y)},setVelocityY:function(u){return this.setVelocity(this.velocity.x,u)},setMaxVelocity:function(u,d){return this.maxVelocity.set(u,d),this},setMaxVelocityX:function(u){return this.maxVelocity.x=u,this},setMaxVelocityY:function(u){return this.maxVelocity.y=u,this},setMaxSpeed:function(u){return this.maxSpeed=u,this},setSlideFactor:function(u,d){return this.slideFactor.set(u,d),this},setBounce:function(u,d){return this.bounce.set(u,d),this},setBounceX:function(u){return this.bounce.x=u,this},setBounceY:function(u){return this.bounce.y=u,this},setAcceleration:function(u,d){return this.acceleration.set(u,d),this},setAccelerationX:function(u){return this.acceleration.x=u,this},setAccelerationY:function(u){return this.acceleration.y=u,this},setAllowDrag:function(u){return u===void 0&&(u=!0),this.allowDrag=u,this},setAllowGravity:function(u){return u===void 0&&(u=!0),this.allowGravity=u,this},setAllowRotation:function(u){return u===void 0&&(u=!0),this.allowRotation=u,this},setDrag:function(u,d){return this.drag.set(u,d),this},setDamping:function(u){return this.useDamping=u,this},setDragX:function(u){return this.drag.x=u,this},setDragY:function(u){return this.drag.y=u,this},setGravity:function(u,d){return this.gravity.set(u,d),this},setGravityX:function(u){return this.gravity.x=u,this},setGravityY:function(u){return this.gravity.y=u,this},setFriction:function(u,d){return this.friction.set(u,d),this},setFrictionX:function(u){return this.friction.x=u,this},setFrictionY:function(u){return this.friction.y=u,this},setAngularVelocity:function(u){return this.angularVelocity=u,this},setAngularAcceleration:function(u){return this.angularAcceleration=u,this},setAngularDrag:function(u){return this.angularDrag=u,this},setMass:function(u){return this.mass=u,this},setImmovable:function(u){return u===void 0&&(u=!0),this.immovable=u,this},setEnable:function(u){return u===void 0&&(u=!0),this.enable=u,this},processX:function(u,d,f,p){this.x+=u,this.updateCenter(),d!==null&&(this.velocity.x=d*this.slideFactor.x);var g=this.blocked;f&&(g.left=!0,g.none=!1),p&&(g.right=!0,g.none=!1)},processY:function(u,d,f,p){this.y+=u,this.updateCenter(),d!==null&&(this.velocity.y=d*this.slideFactor.y);var g=this.blocked;f&&(g.up=!0,g.none=!1),p&&(g.down=!0,g.none=!1)},x:{get:function(){return this.position.x},set:function(u){this.position.x=u}},y:{get:function(){return this.position.y},set:function(u){this.position.y=u}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});v.exports=l},79342:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=new o({initialize:function(r,n,e,s,h,i,l){this.world=r,this.name="",this.active=!0,this.overlapOnly=n,this.object1=e,this.object2=s,this.collideCallback=h,this.processCallback=i,this.callbackContext=l},setName:function(a){return this.name=a,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});v.exports=m},66022:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(71289),m=t(13759),a=t(37742),r=t(83419),n=t(37747),e=t(60758),s=t(72624),h=t(71464),i=new r({initialize:function(u){this.world=u,this.scene=u.scene,this.sys=u.scene.sys},collider:function(l,u,d,f,p){return this.world.addCollider(l,u,d,f,p)},overlap:function(l,u,d,f,p){return this.world.addOverlap(l,u,d,f,p)},existing:function(l,u){var d=u?n.STATIC_BODY:n.DYNAMIC_BODY;return this.world.enableBody(l,d),l},staticImage:function(l,u,d,f){var p=new o(this.scene,l,u,d,f);return this.sys.displayList.add(p),this.world.enableBody(p,n.STATIC_BODY),p},image:function(l,u,d,f){var p=new o(this.scene,l,u,d,f);return this.sys.displayList.add(p),this.world.enableBody(p,n.DYNAMIC_BODY),p},staticSprite:function(l,u,d,f){var p=new m(this.scene,l,u,d,f);return this.sys.displayList.add(p),this.sys.updateList.add(p),this.world.enableBody(p,n.STATIC_BODY),p},sprite:function(l,u,d,f){var p=new m(this.scene,l,u,d,f);return this.sys.displayList.add(p),this.sys.updateList.add(p),this.world.enableBody(p,n.DYNAMIC_BODY),p},staticGroup:function(l,u){return this.sys.updateList.add(new h(this.world,this.world.scene,l,u))},group:function(l,u){return this.sys.updateList.add(new e(this.world,this.world.scene,l,u))},body:function(l,u,d,f){var p=new a(this.world);return p.position.set(l,u),d&&f&&p.setSize(d,f),this.world.add(p,n.DYNAMIC_BODY),p},staticBody:function(l,u,d,f){var p=new s(this.world);return p.position.set(l,u),d&&f&&p.setSize(d,f),this.world.add(p,n.STATIC_BODY),p},destroy:function(){this.world=null,this.scene=null,this.sys=null}});v.exports=i},79599:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var o=0;if(!Array.isArray(t))o=t;else for(var m=0;m<t.length;m++)o|=t[m];return o};v.exports=S},64897:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37747),m=function(a,r,n,e){var s=0,h=a.deltaAbsX()+r.deltaAbsX()+e;return a._dx===0&&r._dx===0?(a.embedded=!0,r.embedded=!0):a._dx>r._dx?(s=a.right-r.x,s>h&&!n||a.checkCollision.right===!1||r.checkCollision.left===!1?s=0:(a.touching.none=!1,a.touching.right=!0,r.touching.none=!1,r.touching.left=!0,r.physicsType===o.STATIC_BODY&&!n&&(a.blocked.none=!1,a.blocked.right=!0),a.physicsType===o.STATIC_BODY&&!n&&(r.blocked.none=!1,r.blocked.left=!0))):a._dx<r._dx&&(s=a.x-r.width-r.x,-s>h&&!n||a.checkCollision.left===!1||r.checkCollision.right===!1?s=0:(a.touching.none=!1,a.touching.left=!0,r.touching.none=!1,r.touching.right=!0,r.physicsType===o.STATIC_BODY&&!n&&(a.blocked.none=!1,a.blocked.left=!0),a.physicsType===o.STATIC_BODY&&!n&&(r.blocked.none=!1,r.blocked.right=!0))),a.overlapX=s,r.overlapX=s,s};v.exports=m},45170:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37747),m=function(a,r,n,e){var s=0,h=a.deltaAbsY()+r.deltaAbsY()+e;return a._dy===0&&r._dy===0?(a.embedded=!0,r.embedded=!0):a._dy>r._dy?(s=a.bottom-r.y,s>h&&!n||a.checkCollision.down===!1||r.checkCollision.up===!1?s=0:(a.touching.none=!1,a.touching.down=!0,r.touching.none=!1,r.touching.up=!0,r.physicsType===o.STATIC_BODY&&!n&&(a.blocked.none=!1,a.blocked.down=!0),a.physicsType===o.STATIC_BODY&&!n&&(r.blocked.none=!1,r.blocked.up=!0))):a._dy<r._dy&&(s=a.y-r.bottom,-s>h&&!n||a.checkCollision.up===!1||r.checkCollision.down===!1?s=0:(a.touching.none=!1,a.touching.up=!0,r.touching.none=!1,r.touching.down=!0,r.physicsType===o.STATIC_BODY&&!n&&(a.blocked.none=!1,a.blocked.up=!0),a.physicsType===o.STATIC_BODY&&!n&&(r.blocked.none=!1,r.blocked.down=!0))),a.overlapY=s,r.overlapY=s,s};v.exports=m},60758:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(13759),m=t(83419),a=t(78389),r=t(37747),n=t(95540),e=t(26479),s=t(41212),h=new m({Extends:e,Mixins:[a],initialize:function(l,u,d,f){if(!d&&!f)f={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(s(d))f=d,d=null,f.internalCreateCallback=this.createCallbackHandler,f.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(d)&&s(d[0])){var p=this;d.forEach(function(g){g.internalCreateCallback=p.createCallbackHandler,g.internalRemoveCallback=p.removeCallbackHandler,g.classType=n(g,"classType",o)}),f=null}else f={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=l,f&&(f.classType=n(f,"classType",o)),this.physicsType=r.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=2147483647,this.defaults={setCollideWorldBounds:n(f,"collideWorldBounds",!1),setBoundsRectangle:n(f,"customBoundsRectangle",null),setAccelerationX:n(f,"accelerationX",0),setAccelerationY:n(f,"accelerationY",0),setAllowDrag:n(f,"allowDrag",!0),setAllowGravity:n(f,"allowGravity",!0),setAllowRotation:n(f,"allowRotation",!0),setDamping:n(f,"useDamping",!1),setBounceX:n(f,"bounceX",0),setBounceY:n(f,"bounceY",0),setDragX:n(f,"dragX",0),setDragY:n(f,"dragY",0),setEnable:n(f,"enable",!0),setGravityX:n(f,"gravityX",0),setGravityY:n(f,"gravityY",0),setFrictionX:n(f,"frictionX",0),setFrictionY:n(f,"frictionY",0),setMaxSpeed:n(f,"maxSpeed",-1),setMaxVelocityX:n(f,"maxVelocityX",1e4),setMaxVelocityY:n(f,"maxVelocityY",1e4),setVelocityX:n(f,"velocityX",0),setVelocityY:n(f,"velocityY",0),setAngularVelocity:n(f,"angularVelocity",0),setAngularAcceleration:n(f,"angularAcceleration",0),setAngularDrag:n(f,"angularDrag",0),setMass:n(f,"mass",1),setImmovable:n(f,"immovable",!1)},e.call(this,u,d,f),this.type="PhysicsGroup"},createCallbackHandler:function(i){i.body||this.world.enableBody(i,r.DYNAMIC_BODY);var l=i.body;for(var u in this.defaults)l[u](this.defaults[u])},removeCallbackHandler:function(i){i.body&&this.world.disableBody(i)},setVelocity:function(i,l,u){u===void 0&&(u=0);for(var d=this.getChildren(),f=0;f<d.length;f++)d[f].body.velocity.set(i+f*u,l+f*u);return this},setVelocityX:function(i,l){l===void 0&&(l=0);for(var u=this.getChildren(),d=0;d<u.length;d++)u[d].body.velocity.x=i+d*l;return this},setVelocityY:function(i,l){l===void 0&&(l=0);for(var u=this.getChildren(),d=0;d<u.length;d++)u[d].body.velocity.y=i+d*l;return this}});v.exports=h},3017:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S,t,o,m,a,r,n,e,s,h,i,l,u,d,f,p,g,x=function(F,I,L){S=F,t=I;var D=S.velocity.x,B=t.velocity.x;return o=S.pushable,s=S._dx<0,h=S._dx>0,i=S._dx===0,f=Math.abs(S.right-t.x)<=Math.abs(t.right-S.x),n=B-D*S.bounce.x,m=t.pushable,l=t._dx<0,u=t._dx>0,d=t._dx===0,p=!f,e=D-B*t.bounce.x,g=Math.abs(L),T()},T=function(){return h&&f&&t.blocked.right?(S.processX(-g,n,!1,!0),1):s&&p&&t.blocked.left?(S.processX(g,n,!0),1):u&&p&&S.blocked.right?(t.processX(-g,e,!1,!0),2):l&&f&&S.blocked.left?(t.processX(g,e,!0),2):0},E=function(){var F=S.velocity.x,I=t.velocity.x,L=Math.sqrt(I*I*t.mass/S.mass)*(I>0?1:-1),D=Math.sqrt(F*F*S.mass/t.mass)*(F>0?1:-1),B=(L+D)*.5;return L-=B,D-=B,a=B+L*S.bounce.x,r=B+D*t.bounce.x,s&&p?C(0):l&&f?C(1):h&&f?C(2):u&&p?C(3):!1},C=function(F){if(o&&m)g*=.5,F===0||F===3?(S.processX(g,a),t.processX(-g,r)):(S.processX(-g,a),t.processX(g,r));else if(o&&!m)F===0||F===3?S.processX(g,n,!0):S.processX(-g,n,!1,!0);else if(!o&&m)F===0||F===3?t.processX(-g,e,!1,!0):t.processX(g,e,!0);else{var I=g*.5;F===0?d?(S.processX(g,0,!0),t.processX(0,null,!1,!0)):u?(S.processX(I,0,!0),t.processX(-I,0,!1,!0)):(S.processX(I,t.velocity.x,!0),t.processX(-I,null,!1,!0)):F===1?i?(S.processX(0,null,!1,!0),t.processX(g,0,!0)):h?(S.processX(-I,0,!1,!0),t.processX(I,0,!0)):(S.processX(-I,null,!1,!0),t.processX(I,S.velocity.x,!0)):F===2?d?(S.processX(-g,0,!1,!0),t.processX(0,null,!0)):l?(S.processX(-I,0,!1,!0),t.processX(I,0,!0)):(S.processX(-I,t.velocity.x,!1,!0),t.processX(I,null,!0)):F===3&&(i?(S.processX(0,null,!0),t.processX(-g,0,!1,!0)):s?(S.processX(I,0,!0),t.processX(-I,0,!1,!0)):(S.processX(I,t.velocity.y,!0),t.processX(-I,null,!1,!0)))}return!0},R=function(F){if(F===1?t.velocity.x=0:f?t.processX(g,e,!0):t.processX(-g,e,!1,!0),S.moves){var I=S.directControl?S.y-S.autoFrame.y:S.y-S.prev.y;t.y+=I*S.friction.y,t._dy=t.y-t.prev.y}},w=function(F){if(F===2?S.velocity.x=0:p?S.processX(g,n,!0):S.processX(-g,n,!1,!0),t.moves){var I=t.directControl?t.y-t.autoFrame.y:t.y-t.prev.y;S.y+=I*t.friction.y,S._dy=S.y-S.prev.y}};v.exports={BlockCheck:T,Check:E,Set:x,Run:C,RunImmovableBody1:R,RunImmovableBody2:w}},47962:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S,t,o,m,a,r,n,e,s,h,i,l,u,d,f,p,g,x=function(F,I,L){S=F,t=I;var D=S.velocity.y,B=t.velocity.y;return o=S.pushable,s=S._dy<0,h=S._dy>0,i=S._dy===0,f=Math.abs(S.bottom-t.y)<=Math.abs(t.bottom-S.y),n=B-D*S.bounce.y,m=t.pushable,l=t._dy<0,u=t._dy>0,d=t._dy===0,p=!f,e=D-B*t.bounce.y,g=Math.abs(L),T()},T=function(){return h&&f&&t.blocked.down?(S.processY(-g,n,!1,!0),1):s&&p&&t.blocked.up?(S.processY(g,n,!0),1):u&&p&&S.blocked.down?(t.processY(-g,e,!1,!0),2):l&&f&&S.blocked.up?(t.processY(g,e,!0),2):0},E=function(){var F=S.velocity.y,I=t.velocity.y,L=Math.sqrt(I*I*t.mass/S.mass)*(I>0?1:-1),D=Math.sqrt(F*F*S.mass/t.mass)*(F>0?1:-1),B=(L+D)*.5;return L-=B,D-=B,a=B+L*S.bounce.y,r=B+D*t.bounce.y,s&&p?C(0):l&&f?C(1):h&&f?C(2):u&&p?C(3):!1},C=function(F){if(o&&m)g*=.5,F===0||F===3?(S.processY(g,a),t.processY(-g,r)):(S.processY(-g,a),t.processY(g,r));else if(o&&!m)F===0||F===3?S.processY(g,n,!0):S.processY(-g,n,!1,!0);else if(!o&&m)F===0||F===3?t.processY(-g,e,!1,!0):t.processY(g,e,!0);else{var I=g*.5;F===0?d?(S.processY(g,0,!0),t.processY(0,null,!1,!0)):u?(S.processY(I,0,!0),t.processY(-I,0,!1,!0)):(S.processY(I,t.velocity.y,!0),t.processY(-I,null,!1,!0)):F===1?i?(S.processY(0,null,!1,!0),t.processY(g,0,!0)):h?(S.processY(-I,0,!1,!0),t.processY(I,0,!0)):(S.processY(-I,null,!1,!0),t.processY(I,S.velocity.y,!0)):F===2?d?(S.processY(-g,0,!1,!0),t.processY(0,null,!0)):l?(S.processY(-I,0,!1,!0),t.processY(I,0,!0)):(S.processY(-I,t.velocity.y,!1,!0),t.processY(I,null,!0)):F===3&&(i?(S.processY(0,null,!0),t.processY(-g,0,!1,!0)):s?(S.processY(I,0,!0),t.processY(-I,0,!1,!0)):(S.processY(I,t.velocity.y,!0),t.processY(-I,null,!1,!0)))}return!0},R=function(F){if(F===1?t.velocity.y=0:f?t.processY(g,e,!0):t.processY(-g,e,!1,!0),S.moves){var I=S.directControl?S.x-S.autoFrame.x:S.x-S.prev.x;t.x+=I*S.friction.x,t._dx=t.x-t.prev.x}},w=function(F){if(F===2?S.velocity.y=0:p?S.processY(g,n,!0):S.processY(-g,n,!1,!0),t.moves){var I=t.directControl?t.x-t.autoFrame.x:t.x-t.prev.x;S.x+=I*t.friction.x,S._dx=S.x-S.prev.x}};v.exports={BlockCheck:T,Check:E,Set:x,Run:C,RunImmovableBody1:R,RunImmovableBody2:w}},14087:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(64897),m=t(3017),a=function(r,n,e,s,h){h===void 0&&(h=o(r,n,e,s));var i=r.immovable,l=n.immovable;if(e||h===0||i&&l||r.customSeparateX||n.customSeparateX)return h!==0||r.embedded&&n.embedded;var u=m.Set(r,n,h);return!i&&!l?u>0?!0:m.Check():(i?m.RunImmovableBody1(u):l&&m.RunImmovableBody2(u),!0)};v.exports=a},89936:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45170),m=t(47962),a=function(r,n,e,s,h){h===void 0&&(h=o(r,n,e,s));var i=r.immovable,l=n.immovable;if(e||h===0||i&&l||r.customSeparateY||n.customSeparateY)return h!==0||r.embedded&&n.embedded;var u=m.Set(r,n,h);return!i&&!l?u>0?!0:m.Check():(i?m.RunImmovableBody1(u):l&&m.RunImmovableBody2(u),!0)};v.exports=a},95829:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return o===void 0&&(o={}),o.none=t,o.up=!1,o.down=!1,o.left=!1,o.right=!1,t||(o.up=!0,o.down=!0,o.left=!0,o.right=!0),o};v.exports=S},72624:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87902),m=t(83419),a=t(78389),r=t(37747),n=t(37303),e=t(95829),s=t(26099),h=new m({Mixins:[a],initialize:function(l,u){var d=64,f=64,p={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},g=u!==void 0;g&&u.displayWidth&&(d=u.displayWidth,f=u.displayHeight),g||(u=p),this.world=l,this.gameObject=g?u:void 0,this.isBody=!0,this.debugShowBody=l.defaults.debugShowStaticBody,this.debugBodyColor=l.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new s,this.position=new s(u.x-d*u.originX,u.y-f*u.originY),this.width=d,this.height=f,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new s(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=s.ZERO,this.allowGravity=!1,this.gravity=s.ZERO,this.bounce=s.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=e(!1),this.touching=e(!0),this.wasTouching=e(!0),this.blocked=e(!0),this.physicsType=r.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(i,l,u){if(l===void 0&&(l=!0),u===void 0&&(u=!0),!i||!i.hasTransformComponent)return this;var d=this.world;return this.gameObject&&this.gameObject.body&&(d.disable(this.gameObject),this.gameObject.body=null),i.body&&d.disable(i),this.gameObject=i,i.body=this,this.setSize(),l&&this.updateFromGameObject(),this.enable=u,this},updateFromGameObject:function(){this.world.staticTree.remove(this);var i=this.gameObject;return i.getTopLeft(this.position),this.width=i.displayWidth,this.height=i.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(i,l){return l===void 0&&(l=i),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(i,l),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(i,l,u){u===void 0&&(u=!0);var d=this.gameObject;if(d&&d.frame&&(i||(i=d.frame.realWidth),l||(l=d.frame.realHeight)),this.world.staticTree.remove(this),this.width=i,this.height=l,this.halfWidth=Math.floor(i/2),this.halfHeight=Math.floor(l/2),u&&d&&d.getCenter){var f=d.displayWidth/2,p=d.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(f-this.halfWidth,p-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(i,l,u){return l===void 0&&(l=this.offset.x),u===void 0&&(u=this.offset.y),i>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=i,this.width=i*2,this.height=i*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(l,u),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(i,l){var u=this.gameObject;i===void 0&&(i=u.x),l===void 0&&(l=u.y),this.world.staticTree.remove(this),u.setPosition(i,l),u.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(i){return i.x=this.x,i.y=this.y,i.right=this.right,i.bottom=this.bottom,i},hitTest:function(i,l){return this.isCircle?o(this,i,l):n(this,i,l)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(i){var l=this.position,u=l.x+this.halfWidth,d=l.y+this.halfHeight;this.debugShowBody&&(i.lineStyle(i.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?i.strokeCircle(u,d,this.width/2):i.strokeRect(l.x,l.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(i){return i<=0&&(i=.1),this.mass=i,this},x:{get:function(){return this.position.x},set:function(i){this.world.staticTree.remove(this),this.position.x=i,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(i){this.world.staticTree.remove(this),this.position.y=i,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});v.exports=h},71464:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(13759),m=t(83419),a=t(78389),r=t(37747),n=t(95540),e=t(26479),s=t(41212),h=new m({Extends:e,Mixins:[a],initialize:function(l,u,d,f){!d&&!f?f={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:o}:s(d)?(f=d,d=null,f.internalCreateCallback=this.createCallbackHandler,f.internalRemoveCallback=this.removeCallbackHandler,f.createMultipleCallback=this.createMultipleCallbackHandler,f.classType=n(f,"classType",o)):Array.isArray(d)&&s(d[0])?(f=d,d=null,f.forEach(function(p){p.internalCreateCallback=this.createCallbackHandler,p.internalRemoveCallback=this.removeCallbackHandler,p.createMultipleCallback=this.createMultipleCallbackHandler,p.classType=n(p,"classType",o)})):f={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=l,this.physicsType=r.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,e.call(this,u,d,f),this.type="StaticPhysicsGroup"},createCallbackHandler:function(i){i.body||this.world.enableBody(i,r.STATIC_BODY)},removeCallbackHandler:function(i){i.body&&this.world.disableBody(i)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var i=this.children.entries,l=0;l<i.length;l++)i[l].body.reset();return this}});v.exports=h},82248:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(55495),m=t(37742),a=t(45319),r=t(83419),n=t(79342),e=t(37747),s=t(20339),h=t(52816),i=t(50792),l=t(63012),u=t(43855),d=t(5470),f=t(94977),p=t(64897),g=t(45170),x=t(96523),T=t(35154),E=t(36383),C=t(25774),R=t(96602),w=t(87841),F=t(59542),I=t(40012),L=t(14087),D=t(89936),B=t(35072),U=t(72624),W=t(2483),K=t(61340),Y=t(26099),G=t(15994),X=new r({Extends:i,initialize:function(b,z){i.call(this),this.scene=b,this.bodies=new B,this.staticBodies=new B,this.pendingDestroy=new B,this.colliders=new C,this.gravity=new Y(T(z,"gravity.x",0),T(z,"gravity.y",0)),this.bounds=new w(T(z,"x",0),T(z,"y",0),T(z,"width",b.sys.scale.width),T(z,"height",b.sys.scale.height)),this.checkCollision={up:T(z,"checkCollision.up",!0),down:T(z,"checkCollision.down",!0),left:T(z,"checkCollision.left",!0),right:T(z,"checkCollision.right",!0)},this.fps=T(z,"fps",60),this.fixedStep=T(z,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=T(z,"timeScale",1),this.OVERLAP_BIAS=T(z,"overlapBias",4),this.TILE_BIAS=T(z,"tileBias",16),this.forceX=T(z,"forceX",!1),this.isPaused=T(z,"isPaused",!1),this._total=0,this.drawDebug=T(z,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:T(z,"debugShowBody",!0),debugShowStaticBody:T(z,"debugShowStaticBody",!0),debugShowVelocity:T(z,"debugShowVelocity",!0),bodyDebugColor:T(z,"debugBodyColor",16711935),staticBodyDebugColor:T(z,"debugStaticBodyColor",255),velocityDebugColor:T(z,"debugVelocityColor",65280)},this.maxEntries=T(z,"maxEntries",16),this.useTree=T(z,"useTree",!0),this.tree=new F(this.maxEntries),this.staticTree=new F(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new K,this._tempMatrix2=new K,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(V,b){b===void 0&&(b=e.DYNAMIC_BODY),Array.isArray(V)||(V=[V]);for(var z=0;z<V.length;z++){var k=V[z];if(k.isParent)for(var $=k.getChildren(),J=0;J<$.length;J++){var j=$[J];j.isParent?this.enable(j,b):this.enableBody(j,b)}else this.enableBody(k,b)}},enableBody:function(V,b){return b===void 0&&(b=e.DYNAMIC_BODY),V.hasTransformComponent&&(V.body||(b===e.DYNAMIC_BODY?V.body=new m(this,V):b===e.STATIC_BODY&&(V.body=new U(this,V))),this.add(V.body)),V},add:function(V){return V.physicsType===e.DYNAMIC_BODY?this.bodies.set(V):V.physicsType===e.STATIC_BODY&&(this.staticBodies.set(V),this.staticTree.insert(V)),V.enable=!0,V},disable:function(V){Array.isArray(V)||(V=[V]);for(var b=0;b<V.length;b++){var z=V[b];if(z.isParent)for(var k=z.getChildren(),$=0;$<k.length;$++){var J=k[$];J.isParent?this.disable(J):this.disableBody(J.body)}else this.disableBody(z.body)}},disableBody:function(V){this.remove(V),V.enable=!1},remove:function(V){V.physicsType===e.DYNAMIC_BODY?(this.tree.remove(V),this.bodies.delete(V)):V.physicsType===e.STATIC_BODY&&(this.staticBodies.delete(V),this.staticTree.remove(V))},createDebugGraphic:function(){var V=this.scene.sys.add.graphics({x:0,y:0});return V.setDepth(Number.MAX_VALUE),this.debugGraphic=V,this.drawDebug=!0,V},setBounds:function(V,b,z,k,$,J,j,q){return this.bounds.setTo(V,b,z,k),$!==void 0&&this.setBoundsCollision($,J,j,q),this},setBoundsCollision:function(V,b,z,k){return V===void 0&&(V=!0),b===void 0&&(b=!0),z===void 0&&(z=!0),k===void 0&&(k=!0),this.checkCollision.left=V,this.checkCollision.right=b,this.checkCollision.up=z,this.checkCollision.down=k,this},pause:function(){return this.isPaused=!0,this.emit(l.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(l.RESUME),this},addCollider:function(V,b,z,k,$){z===void 0&&(z=null),k===void 0&&(k=null),$===void 0&&($=z);var J=new n(this,!1,V,b,z,k,$);return this.colliders.add(J),J},addOverlap:function(V,b,z,k,$){z===void 0&&(z=null),k===void 0&&(k=null),$===void 0&&($=z);var J=new n(this,!0,V,b,z,k,$);return this.colliders.add(J),J},removeCollider:function(V){return this.colliders.remove(V),this},setFPS:function(V){return this.fps=V,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(V,b){if(!(this.isPaused||this.bodies.size===0)){var z,k=this._frameTime,$=this._frameTimeMS*this.timeScale;this._elapsed+=b;var J,j=this.bodies.entries,q=this._elapsed>=$;for(this.fixedStep||(k=b*.001,q=!0,this._elapsed=0),z=0;z<j.length;z++)J=j[z],J.enable&&J.preUpdate(q,k);if(q){this._elapsed-=$,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(j));var _=this.colliders.update();for(z=0;z<_.length;z++){var tt=_[z];tt.active&&tt.update()}this.emit(l.WORLD_STEP,k)}for(;this._elapsed>=$;)this._elapsed-=$,this.step(k)}},step:function(V){var b,z,k=this.bodies.entries,$=k.length;for(b=0;b<$;b++)z=k[b],z.enable&&z.update(V);this.useTree&&(this.tree.clear(),this.tree.load(k));var J=this.colliders.update();for(b=0;b<J.length;b++){var j=J[b];j.active&&j.update()}this.emit(l.WORLD_STEP,V),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var V,b,z=this.bodies.entries,k=z.length,$=this.bodies,J=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,V=0;V<k;V++)b=z[V],b.enable&&b.postUpdate();if(this.drawDebug){var j=this.debugGraphic;for(j.clear(),V=0;V<k;V++)b=z[V],b.willDrawDebug()&&b.drawDebug(j);for(z=J.entries,k=z.length,V=0;V<k;V++)b=z[V],b.willDrawDebug()&&b.drawDebug(j)}var q=this.pendingDestroy;if(q.size>0){var _=this.tree,tt=this.staticTree;for(z=q.entries,k=z.length,V=0;V<k;V++)b=z[V],b.physicsType===e.DYNAMIC_BODY?(_.remove(b),$.delete(b)):b.physicsType===e.STATIC_BODY&&(tt.remove(b),J.delete(b)),b.world=void 0,b.gameObject=void 0;q.clear()}},updateMotion:function(V,b){V.allowRotation&&this.computeAngularVelocity(V,b),this.computeVelocity(V,b)},computeAngularVelocity:function(V,b){var z=V.angularVelocity,k=V.angularAcceleration,$=V.angularDrag,J=V.maxAngular;k?z+=k*b:V.allowDrag&&$&&($*=b,d(z-$,0,.1)?z-=$:f(z+$,0,.1)?z+=$:z=0),z=a(z,-J,J);var j=z-V.angularVelocity;V.angularVelocity+=j,V.rotation+=V.angularVelocity*b},computeVelocity:function(V,b){var z=V.velocity.x,k=V.acceleration.x,$=V.drag.x,J=V.maxVelocity.x,j=V.velocity.y,q=V.acceleration.y,_=V.drag.y,tt=V.maxVelocity.y,et=V.speed,at=V.maxSpeed,ot=V.allowDrag,nt=V.useDamping;V.allowGravity&&(z+=(this.gravity.x+V.gravity.x)*b,j+=(this.gravity.y+V.gravity.y)*b),k?z+=k*b:ot&&$&&(nt?($=Math.pow($,b),z*=$,et=Math.sqrt(z*z+j*j),u(et,0,.001)&&(z=0)):($*=b,d(z-$,0,.01)?z-=$:f(z+$,0,.01)?z+=$:z=0)),q?j+=q*b:ot&&_&&(nt?(_=Math.pow(_,b),j*=_,et=Math.sqrt(z*z+j*j),u(et,0,.001)&&(j=0)):(_*=b,d(j-_,0,.01)?j-=_:f(j+_,0,.01)?j+=_:j=0)),z=a(z,-J,J),j=a(j,-tt,tt),V.velocity.set(z,j),at>-1&&V.velocity.length()>at&&(V.velocity.normalize().scale(at),et=at),V.speed=et},separate:function(V,b,z,k,$){var J,j,q=!1,_=!0;if(!V.enable||!b.enable||V.checkCollision.none||b.checkCollision.none||!this.intersects(V,b)||z&&z.call(k,V.gameObject||V,b.gameObject||b)===!1)return q;if(V.isCircle||b.isCircle){var tt=this.separateCircle(V,b,$);tt.result?(q=!0,_=!1):(J=tt.x,j=tt.y,_=!0)}if(_){var et=!1,at=!1,ot=this.OVERLAP_BIAS;$?(et=L(V,b,$,ot,J),at=D(V,b,$,ot,j)):this.forceX||Math.abs(this.gravity.y+V.gravity.y)<Math.abs(this.gravity.x+V.gravity.x)?(et=L(V,b,$,ot,J),this.intersects(V,b)&&(at=D(V,b,$,ot,j))):(at=D(V,b,$,ot,j),this.intersects(V,b)&&(et=L(V,b,$,ot,J))),q=et||at}return q&&($?(V.onOverlap||b.onOverlap)&&this.emit(l.OVERLAP,V.gameObject,b.gameObject,V,b):(V.onCollide||b.onCollide)&&this.emit(l.COLLIDE,V.gameObject,b.gameObject,V,b)),q},separateCircle:function(V,b,z){p(V,b,!1,0),g(V,b,!1,0);var k=V.isCircle,$=b.isCircle,J=V.center,j=b.center,q=V.immovable,_=b.immovable,tt=V.velocity,et=b.velocity,at=0,ot=!0;if(k!==$){ot=!1;var nt=J.x,vt=J.y,pt=V.halfWidth,gt=b.position.x,rt=b.position.y,ut=b.right,ft=b.bottom;$&&(nt=j.x,vt=j.y,pt=b.halfWidth,gt=V.position.x,rt=V.position.y,ut=V.right,ft=V.bottom),vt<rt?nt<gt?at=s(nt,vt,gt,rt)-pt:nt>ut&&(at=s(nt,vt,ut,rt)-pt):vt>ft&&(nt<gt?at=s(nt,vt,gt,ft)-pt:nt>ut&&(at=s(nt,vt,ut,ft)-pt)),at*=-1}else at=V.halfWidth+b.halfWidth-h(J,j);V.overlapR=at,b.overlapR=at;var St=o(J,j),Tt=(at+E.EPSILON)*Math.cos(St),wt=(at+E.EPSILON)*Math.sin(St),Pt={overlap:at,result:!1,x:Tt,y:wt};if(z&&(!ot||ot&&at!==0))return Pt.result=!0,Pt;if(!ot&&at===0||q&&_||V.customSeparateX||b.customSeparateX)return Pt.x=void 0,Pt.y=void 0,Pt;var Mt=!V.pushable&&!b.pushable;if(ot){var bt=J.x-j.x,Kt=J.y-j.y,Lt=Math.sqrt(Math.pow(bt,2)+Math.pow(Kt,2)),Vt=(j.x-J.x)/Lt||0,Ut=(j.y-J.y)/Lt||0,$t=2*(tt.x*Vt+tt.y*Ut-et.x*Vt-et.y*Ut)/(V.mass+b.mass);(q||_||!V.pushable||!b.pushable)&&($t*=2),!q&&V.pushable&&(tt.x=tt.x-$t/V.mass*Vt,tt.y=tt.y-$t/V.mass*Ut,tt.multiply(V.bounce)),!_&&b.pushable&&(et.x=et.x+$t/b.mass*Vt,et.y=et.y+$t/b.mass*Ut,et.multiply(b.bounce)),!q&&!_&&(Tt*=.5,wt*=.5),(!q||V.pushable||Mt)&&(V.x-=Tt,V.y-=wt,V.updateCenter()),(!_||b.pushable||Mt)&&(b.x+=Tt,b.y+=wt,b.updateCenter()),Pt.result=!0}else(!q||V.pushable||Mt)&&(V.x-=Tt,V.y-=wt,V.updateCenter()),(!_||b.pushable||Mt)&&(b.x+=Tt,b.y+=wt,b.updateCenter()),Pt.x=void 0,Pt.y=void 0;return Pt},intersects:function(V,b){return V===b?!1:!V.isCircle&&!b.isCircle?!(V.right<=b.left||V.bottom<=b.top||V.left>=b.right||V.top>=b.bottom):V.isCircle?b.isCircle?h(V.center,b.center)<=V.halfWidth+b.halfWidth:this.circleBodyIntersects(V,b):this.circleBodyIntersects(b,V)},circleBodyIntersects:function(V,b){var z=a(V.center.x,b.left,b.right),k=a(V.center.y,b.top,b.bottom),$=(V.center.x-z)*(V.center.x-z),J=(V.center.y-k)*(V.center.y-k);return $+J<=V.halfWidth*V.halfWidth},overlap:function(V,b,z,k,$){return z===void 0&&(z=null),k===void 0&&(k=null),$===void 0&&($=z),this.collideObjects(V,b,z,k,$,!0)},collide:function(V,b,z,k,$){return z===void 0&&(z=null),k===void 0&&(k=null),$===void 0&&($=z),this.collideObjects(V,b,z,k,$,!1)},collideObjects:function(V,b,z,k,$,J){var j,q;V.isParent&&(V.physicsType===void 0||b===void 0||V===b)&&(V=V.children.entries),b&&b.isParent&&b.physicsType===void 0&&(b=b.children.entries);var _=Array.isArray(V),tt=Array.isArray(b);if(this._total=0,!_&&!tt)this.collideHandler(V,b,z,k,$,J);else if(!_&&tt)for(j=0;j<b.length;j++)this.collideHandler(V,b[j],z,k,$,J);else if(_&&!tt)if(b)for(j=0;j<V.length;j++)this.collideHandler(V[j],b,z,k,$,J);else for(j=0;j<V.length;j++){var et=V[j];for(q=j+1;q<V.length;q++)j!==q&&this.collideHandler(et,V[q],z,k,$,J)}else for(j=0;j<V.length;j++)for(q=0;q<b.length;q++)this.collideHandler(V[j],b[q],z,k,$,J);return this._total>0},collideHandler:function(V,b,z,k,$,J){if(b===void 0&&V.isParent)return this.collideGroupVsGroup(V,V,z,k,$,J);if(!V||!b)return!1;if(V.body||V.isBody){if(b.body||b.isBody)return this.collideSpriteVsSprite(V,b,z,k,$,J);if(b.isParent)return this.collideSpriteVsGroup(V,b,z,k,$,J);if(b.isTilemap)return this.collideSpriteVsTilemapLayer(V,b,z,k,$,J)}else if(V.isParent){if(b.body||b.isBody)return this.collideSpriteVsGroup(b,V,z,k,$,J);if(b.isParent)return this.collideGroupVsGroup(V,b,z,k,$,J);if(b.isTilemap)return this.collideGroupVsTilemapLayer(V,b,z,k,$,J)}else if(V.isTilemap){if(b.body||b.isBody)return this.collideSpriteVsTilemapLayer(b,V,z,k,$,J);if(b.isParent)return this.collideGroupVsTilemapLayer(b,V,z,k,$,J)}},canCollide:function(V,b){return V&&b&&(V.collisionMask&b.collisionCategory)!==0&&(b.collisionMask&V.collisionCategory)!==0},collideSpriteVsSprite:function(V,b,z,k,$,J){var j=V.isBody?V:V.body,q=b.isBody?b:b.body;return this.canCollide(j,q)?(this.separate(j,q,k,$,J)&&(z&&z.call($,V,b),this._total++),!0):!1},collideSpriteVsGroup:function(V,b,z,k,$,J){var j=V.isBody?V:V.body;if(!(b.getLength()===0||!j||!j.enable||j.checkCollision.none||!this.canCollide(j,b))){var q,_,tt;if(this.useTree||b.physicsType===e.STATIC_BODY){var et=this.treeMinMax;et.minX=j.left,et.minY=j.top,et.maxX=j.right,et.maxY=j.bottom;var at=b.physicsType===e.DYNAMIC_BODY?this.tree.search(et):this.staticTree.search(et);for(_=at.length,q=0;q<_;q++)tt=at[q],!(j===tt||!tt.enable||tt.checkCollision.none||!b.contains(tt.gameObject))&&this.separate(j,tt,k,$,J)&&(z&&z.call($,j.gameObject,tt.gameObject),this._total++)}else{var ot=b.getChildren(),nt=b.children.entries.indexOf(V);for(_=ot.length,q=0;q<_;q++)tt=ot[q].body,!(!tt||q===nt||!tt.enable)&&this.separate(j,tt,k,$,J)&&(z&&z.call($,j.gameObject,tt.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(V,b,z,k,$,J){if(!this.canCollide(V,b))return!1;var j=V.getChildren();if(j.length===0)return!1;for(var q=!1,_=0;_<j.length;_++)(j[_].body||j[_].isBody)&&this.collideSpriteVsTilemapLayer(j[_],b,z,k,$,J)&&(q=!0);return q},collideTiles:function(V,b,z,k,$){return b.length===0||V.body&&!V.body.enable||V.isBody&&!V.enable?!1:this.collideSpriteVsTilesHandler(V,b,z,k,$,!1,!1)},overlapTiles:function(V,b,z,k,$){return b.length===0||V.body&&!V.body.enable||V.isBody&&!V.enable?!1:this.collideSpriteVsTilesHandler(V,b,z,k,$,!0,!1)},collideSpriteVsTilemapLayer:function(V,b,z,k,$,J){var j=V.isBody?V:V.body;if(!j.enable||j.checkCollision.none||!this.canCollide(j,b))return!1;var q=b.layer,_=j.x-q.tileWidth*b.scaleX,tt=j.y-q.tileHeight*b.scaleY,et=j.width+q.tileWidth*b.scaleX,at=j.height+q.tileHeight*b.scaleY,ot=J?null:this.tileFilterOptions,nt=x(_,tt,et,at,ot,b.scene.cameras.main,b.layer);return nt.length===0?!1:this.collideSpriteVsTilesHandler(V,nt,z,k,$,J,!0)},collideSpriteVsTilesHandler:function(V,b,z,k,$,J,j){for(var q=V.isBody?V:V.body,_,tt={left:0,right:0,top:0,bottom:0},et,at=!1,ot=0;ot<b.length;ot++){_=b[ot],et=_.tilemapLayer;var nt=et.tileToWorldXY(_.x,_.y);tt.left=nt.x,tt.top=nt.y,tt.right=tt.left+_.width*et.scaleX,tt.bottom=tt.top+_.height*et.scaleY,W(tt,q)&&(!k||k.call($,V,_))&&R(_,V)&&(J||I(ot,q,_,tt,et,this.TILE_BIAS,j))&&(this._total++,at=!0,z&&z.call($,V,_),J&&q.onOverlap?this.emit(l.TILE_OVERLAP,V,_,q):q.onCollide&&this.emit(l.TILE_COLLIDE,V,_,q))}return at},collideGroupVsGroup:function(V,b,z,k,$,J){if(!(V.getLength()===0||b.getLength()===0||!this.canCollide(V,b)))for(var j=V.getChildren(),q=0;q<j.length;q++)this.collideSpriteVsGroup(j[q],b,z,k,$,J)},wrap:function(V,b){V.body?this.wrapObject(V,b):V.getChildren?this.wrapArray(V.getChildren(),b):Array.isArray(V)?this.wrapArray(V,b):this.wrapObject(V,b)},wrapArray:function(V,b){for(var z=0;z<V.length;z++)this.wrapObject(V[z],b)},wrapObject:function(V,b){b===void 0&&(b=0),V.x=G(V.x,this.bounds.left-b,this.bounds.right+b),V.y=G(V.y,this.bounds.top-b,this.bounds.bottom+b)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});v.exports=X},1093:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setAcceleration:function(t,o){return this.body.acceleration.set(t,o),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}};v.exports=S},59023:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}};v.exports=S},62069:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setBounce:function(t,o){return this.body.bounce.set(t,o),this},setBounceX:function(t){return this.body.bounce.x=t,this},setBounceY:function(t){return this.body.bounce.y=t,this},setCollideWorldBounds:function(t,o,m,a){return this.body.setCollideWorldBounds(t,o,m,a),this}};v.exports=S},78389:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(79599),m={setCollisionCategory:function(a){var r=this.body?this.body:this;return r.collisionCategory=a,this},willCollideWith:function(a){var r=this.body?this.body:this;return(r.collisionMask&a)!==0},addCollidesWith:function(a){var r=this.body?this.body:this;return r.collisionMask=r.collisionMask|a,this},removeCollidesWith:function(a){var r=this.body?this.body:this;return r.collisionMask=r.collisionMask&~a,this},setCollidesWith:function(a){var r=this.body?this.body:this;return r.collisionMask=o(a),this},resetCollisionCategory:function(){var a=this.body?this.body:this;return a.collisionCategory=1,a.collisionMask=2147483647,this}};v.exports=m},87118:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setDebug:function(t,o,m){return this.debugShowBody=t,this.debugShowVelocity=o,this.debugBodyColor=m,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}};v.exports=S},52819:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setDrag:function(t,o){return this.body.drag.set(t,o),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}};v.exports=S},4074:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setDirectControl:function(t){return this.body.setDirectControl(t),this},enableBody:function(t,o,m,a,r){return t&&this.body.reset(o,m),a&&(this.body.gameObject.active=!0),r&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(t,o){return t===void 0&&(t=!1),o===void 0&&(o=!1),this.body.stop(),this.body.enable=!1,t&&(this.body.gameObject.active=!1),o&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};v.exports=S},40831:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setFriction:function(t,o){return this.body.friction.set(t,o),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}};v.exports=S},26775:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setGravity:function(t,o){return this.body.gravity.set(t,o),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}};v.exports=S},9437:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setImmovable:function(t){return t===void 0&&(t=!0),this.body.immovable=t,this}};v.exports=S},30621:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setMass:function(t){return this.body.mass=t,this}};v.exports=S},72441:(v,S,t)=>{var o=t(47956),m=t(96503),a=t(2044),r=t(81491),n=function(e,s,h,i,l,u){var d=o(e,s-i,h-i,2*i,2*i,l,u);if(d.length===0)return d;for(var f=new m(s,h,i),p=new m,g=[],x=0;x<d.length;x++){var T=d[x];T.isCircle?(p.setTo(T.center.x,T.center.y,T.halfWidth),a(f,p)&&g.push(T)):r(f,T)&&g.push(T)}return g};v.exports=n},47956:v=>{var S=function(t,o,m,a,r,n,e){n===void 0&&(n=!0),e===void 0&&(e=!1);var s=[],h=[],i=t.treeMinMax;if(i.minX=o,i.minY=m,i.maxX=o+a,i.maxY=m+r,e&&(h=t.staticTree.search(i)),n&&t.useTree)s=t.tree.search(i);else if(n){var l=t.bodies,u={position:{x:o,y:m},left:o,top:m,right:o+a,bottom:m+r,isCircle:!1},d=t.intersects;l.iterate(function(f){d(f,u)&&s.push(f)})}return h.concat(s)};v.exports=S},62121:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setPushable:function(t){return t===void 0&&(t=!0),this.body.pushable=t,this}};v.exports=S},29384:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setOffset:function(t,o){return this.body.setOffset(t,o),this},setSize:function(t,o,m){return this.body.setSize(t,o,m),this},setBodySize:function(t,o,m){return this.body.setSize(t,o,m),this},setCircle:function(t,o,m){return this.body.setCircle(t,o,m),this}};v.exports=S},15098:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setVelocity:function(t,o){return this.body.setVelocity(t,o),this},setVelocityX:function(t){return this.body.setVelocityX(t),this},setVelocityY:function(t){return this.body.setVelocityY(t),this},setMaxVelocity:function(t,o){return this.body.maxVelocity.set(t,o),this}};v.exports=S},92209:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Acceleration:t(1093),Angular:t(59023),Bounce:t(62069),Collision:t(78389),Debug:t(87118),Drag:t(52819),Enable:t(4074),Friction:t(40831),Gravity:t(26775),Immovable:t(9437),Mass:t(30621),OverlapCirc:t(72441),OverlapRect:t(47956),Pushable:t(62121),Size:t(29384),Velocity:t(15098)}},37747:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};v.exports=S},20009:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="collide"},36768:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="overlap"},60473:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pause"},89954:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resume"},61804:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="tilecollide"},7161:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="tileoverlap"},34689:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="worldbounds"},16006:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="worldstep"},63012:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={COLLIDE:t(20009),OVERLAP:t(36768),PAUSE:t(60473),RESUME:t(89954),TILE_COLLIDE:t(61804),TILE_OVERLAP:t(7161),WORLD_BOUNDS:t(34689),WORLD_STEP:t(16006)}},27064:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37747),m=t(79291),a={ArcadePhysics:t(86689),Body:t(37742),Collider:t(79342),Components:t(92209),Events:t(63012),Factory:t(66022),GetCollidesWith:t(79599),GetOverlapX:t(64897),GetOverlapY:t(45170),SeparateX:t(14087),SeparateY:t(89936),Group:t(60758),Image:t(71289),Sprite:t(13759),StaticBody:t(72624),StaticGroup:t(71464),Tilemap:t(55173),World:t(82248)};a=m(!1,a,o),v.exports=a},96602:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return t.collisionCallback?!t.collisionCallback.call(t.collisionCallbackContext,o,t):t.layer.callbacks[t.index]?!t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext,o,t):!0};v.exports=S},36294:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){o<0?(t.blocked.none=!1,t.blocked.left=!0):o>0&&(t.blocked.none=!1,t.blocked.right=!0),t.position.x-=o,t.updateCenter(),t.bounce.x===0?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x};v.exports=S},67013:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){o<0?(t.blocked.none=!1,t.blocked.up=!0):o>0&&(t.blocked.none=!1,t.blocked.down=!0),t.position.y-=o,t.updateCenter(),t.bounce.y===0?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y};v.exports=S},40012:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(21329),m=t(53442),a=t(2483),r=function(n,e,s,h,i,l,u){var d=h.left,f=h.top,p=h.right,g=h.bottom,x=s.faceLeft||s.faceRight,T=s.faceTop||s.faceBottom;if(u||(x=!0,T=!0),!x&&!T)return!1;var E=0,C=0,R=0,w=1;if(e.deltaAbsX()>e.deltaAbsY()?R=-1:e.deltaAbsX()<e.deltaAbsY()&&(w=-1),e.deltaX()!==0&&e.deltaY()!==0&&x&&T&&(R=Math.min(Math.abs(e.position.x-p),Math.abs(e.right-d)),w=Math.min(Math.abs(e.position.y-g),Math.abs(e.bottom-f))),R<w){if(x&&(E=o(e,s,d,p,l,u),E!==0&&!a(h,e)))return!0;T&&(C=m(e,s,f,g,l,u))}else{if(T&&(C=m(e,s,f,g,l,u),C!==0&&!a(h,e)))return!0;x&&(E=o(e,s,d,p,l,u))}return E!==0||C!==0};v.exports=r},21329:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36294),m=function(a,r,n,e,s,h){var i=0,l=r.faceLeft,u=r.faceRight,d=r.collideLeft,f=r.collideRight;return h||(l=!0,u=!0,d=!0,f=!0),a.deltaX()<0&&f&&a.checkCollision.left?u&&a.x<e&&(i=a.x-e,i<-s&&(i=0)):a.deltaX()>0&&d&&a.checkCollision.right&&l&&a.right>n&&(i=a.right-n,i>s&&(i=0)),i!==0&&(a.customSeparateX?a.overlapX=i:o(a,i)),i};v.exports=m},53442:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(67013),m=function(a,r,n,e,s,h){var i=0,l=r.faceTop,u=r.faceBottom,d=r.collideUp,f=r.collideDown;return h||(l=!0,u=!0,d=!0,f=!0),a.deltaY()<0&&f&&a.checkCollision.up?u&&a.y<e&&(i=a.y-e,i<-s&&(i=0)):a.deltaY()>0&&d&&a.checkCollision.down&&l&&a.bottom>n&&(i=a.bottom-n,i>s&&(i=0)),i!==0&&(a.customSeparateY?a.overlapY=i:o(a,i)),i};v.exports=m},2483:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return!(o.right<=t.left||o.bottom<=t.top||o.position.x>=t.right||o.position.y>=t.bottom)};v.exports=S},55173:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={ProcessTileCallbacks:t(96602),ProcessTileSeparationX:t(36294),ProcessTileSeparationY:t(67013),SeparateTile:t(40012),TileCheckX:t(21329),TileCheckY:t(53442),TileIntersectsBody:t(2483)};v.exports=o},44563:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Arcade:t(27064),Matter:t(3875)}},68174:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(26099),a=new o({initialize:function(){this.boundsCenter=new m,this.centerDiff=new m},parseBody:function(r){if(r=r.hasOwnProperty("body")?r.body:r,!r.hasOwnProperty("bounds")||!r.hasOwnProperty("centerOfMass"))return!1;var n=this.boundsCenter,e=this.centerDiff,s=r.bounds.max.x-r.bounds.min.x,h=r.bounds.max.y-r.bounds.min.y,i=s*r.centerOfMass.x,l=h*r.centerOfMass.y;return n.set(s/2,h/2),e.set(i-n.x,l-n.y),!0},getTopLeft:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,h=this.centerDiff;return new m(n+s.x+h.x,e+s.y+h.y)}return!1},getTopCenter:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,h=this.centerDiff;return new m(n+h.x,e+s.y+h.y)}return!1},getTopRight:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,h=this.centerDiff;return new m(n-(s.x-h.x),e+s.y+h.y)}return!1},getLeftCenter:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,h=this.centerDiff;return new m(n+s.x+h.x,e+h.y)}return!1},getCenter:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.centerDiff;return new m(n+s.x,e+s.y)}return!1},getRightCenter:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,h=this.centerDiff;return new m(n-(s.x-h.x),e+h.y)}return!1},getBottomLeft:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,h=this.centerDiff;return new m(n+s.x+h.x,e-(s.y-h.y))}return!1},getBottomCenter:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,h=this.centerDiff;return new m(n+h.x,e-(s.y-h.y))}return!1},getBottomRight:function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),this.parseBody(r)){var s=this.boundsCenter,h=this.centerDiff;return new m(n-(s.x-h.x),e-(s.y-h.y))}return!1}});v.exports=a},19933:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(6790);o.Body=t(22562),o.Composite=t(69351),o.World=t(4372),o.Collision=t(52284),o.Detector=t(81388),o.Pairs=t(99561),o.Pair=t(4506),o.Query=t(73296),o.Resolver=t(66272),o.Constraint=t(48140),o.Common=t(53402),o.Engine=t(48413),o.Events=t(35810),o.Sleeping=t(53614),o.Plugin=t(73832),o.Bodies=t(66280),o.Composites=t(74116),o.Axes=t(66615),o.Bounds=t(15647),o.Svg=t(74058),o.Vector=t(31725),o.Vertices=t(41598),o.World.add=o.Composite.add,o.World.remove=o.Composite.remove,o.World.addComposite=o.Composite.addComposite,o.World.addBody=o.Composite.addBody,o.World.addConstraint=o.Composite.addConstraint,o.World.clear=o.Composite.clear,v.exports=o},28137:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66280),m=t(83419),a=t(74116),r=t(48140),n=t(74058),e=t(75803),s=t(23181),h=t(34803),i=t(73834),l=t(19496),u=t(85791),d=t(98713),f=t(41598),p=new m({initialize:function(x){this.world=x,this.scene=x.scene,this.sys=x.scene.sys},rectangle:function(g,x,T,E,C){var R=o.rectangle(g,x,T,E,C);return this.world.add(R),R},trapezoid:function(g,x,T,E,C,R){var w=o.trapezoid(g,x,T,E,C,R);return this.world.add(w),w},circle:function(g,x,T,E,C){var R=o.circle(g,x,T,E,C);return this.world.add(R),R},polygon:function(g,x,T,E,C){var R=o.polygon(g,x,T,E,C);return this.world.add(R),R},fromVertices:function(g,x,T,E,C,R,w){typeof T=="string"&&(T=f.fromPath(T));var F=o.fromVertices(g,x,T,E,C,R,w);return this.world.add(F),F},fromPhysicsEditor:function(g,x,T,E,C){C===void 0&&(C=!0);var R=l.parseBody(g,x,T,E);return C&&!this.world.has(R)&&this.world.add(R),R},fromSVG:function(g,x,T,E,C,R){E===void 0&&(E=1),C===void 0&&(C={}),R===void 0&&(R=!0);for(var w=T.getElementsByTagName("path"),F=[],I=0;I<w.length;I++){var L=n.pathToVertices(w[I],30);E!==1&&f.scale(L,E,E),F.push(L)}var D=o.fromVertices(g,x,F,C);return R&&this.world.add(D),D},fromJSON:function(g,x,T,E,C){E===void 0&&(E={}),C===void 0&&(C=!0);var R=u.parseBody(g,x,T,E);return R&&C&&this.world.add(R),R},imageStack:function(g,x,T,E,C,R,w,F,I){w===void 0&&(w=0),F===void 0&&(F=0),I===void 0&&(I={});var L=this.world,D=this.sys.displayList;I.addToWorld=!1;var B=a.stack(T,E,C,R,w,F,function(U,W){var K=new s(L,U,W,g,x,I);return D.add(K),K.body});return L.add(B),B},stack:function(g,x,T,E,C,R,w){var F=a.stack(g,x,T,E,C,R,w);return this.world.add(F),F},pyramid:function(g,x,T,E,C,R,w){var F=a.pyramid(g,x,T,E,C,R,w);return this.world.add(F),F},chain:function(g,x,T,E,C,R){return a.chain(g,x,T,E,C,R)},mesh:function(g,x,T,E,C){return a.mesh(g,x,T,E,C)},newtonsCradle:function(g,x,T,E,C){var R=a.newtonsCradle(g,x,T,E,C);return this.world.add(R),R},car:function(g,x,T,E,C){var R=a.car(g,x,T,E,C);return this.world.add(R),R},softBody:function(g,x,T,E,C,R,w,F,I,L){var D=a.softBody(g,x,T,E,C,R,w,F,I,L);return this.world.add(D),D},joint:function(g,x,T,E,C){return this.constraint(g,x,T,E,C)},spring:function(g,x,T,E,C){return this.constraint(g,x,T,E,C)},constraint:function(g,x,T,E,C){E===void 0&&(E=1),C===void 0&&(C={}),C.bodyA=g.type==="body"?g:g.body,C.bodyB=x.type==="body"?x:x.body,isNaN(T)||(C.length=T),C.stiffness=E;var R=r.create(C);return this.world.add(R),R},worldConstraint:function(g,x,T,E){T===void 0&&(T=1),E===void 0&&(E={}),E.bodyB=g.type==="body"?g:g.body,isNaN(x)||(E.length=x),E.stiffness=T;var C=r.create(E);return this.world.add(C),C},mouseSpring:function(g){return this.pointerConstraint(g)},pointerConstraint:function(g){g===void 0&&(g={}),g.hasOwnProperty("render")||(g.render={visible:!1});var x=new d(this.scene,this.world,g);return this.world.add(x.constraint),x},image:function(g,x,T,E,C){var R=new s(this.world,g,x,T,E,C);return this.sys.displayList.add(R),R},tileBody:function(g,x){return new i(this.world,g,x)},sprite:function(g,x,T,E,C){var R=new h(this.world,g,x,T,E,C);return this.sys.displayList.add(R),this.sys.updateList.add(R),R},gameObject:function(g,x,T){return e(this.world,g,x,T)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});v.exports=p},75803:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(31884),m=t(95540),a=t(26099);function r(e){return!!e.get&&typeof e.get=="function"||!!e.set&&typeof e.set=="function"}var n=function(e,s,h,i){h===void 0&&(h={}),i===void 0&&(i=!0);var l=s.x,u=s.y;s.body={temp:!0,position:{x:l,y:u}};var d=[o.Bounce,o.Collision,o.Force,o.Friction,o.Gravity,o.Mass,o.Sensor,o.SetBody,o.Sleep,o.Static,o.Transform,o.Velocity];if(d.forEach(function(p){for(var g in p)r(p[g])?Object.defineProperty(s,g,{get:p[g].get,set:p[g].set}):Object.defineProperty(s,g,{value:p[g]})}),s.world=e,s._tempVec2=new a(l,u),h.hasOwnProperty("type")&&h.type==="body")s.setExistingBody(h,i);else{var f=m(h,"shape",null);f||(f="rectangle"),h.addToWorld=i,s.setBody(f,h)}return s};v.exports=n},23181:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(31884),a=t(95643),r=t(95540),n=t(88571),e=t(72699),s=t(26099),h=new o({Extends:n,Mixins:[m.Bounce,m.Collision,m.Force,m.Friction,m.Gravity,m.Mass,m.Sensor,m.SetBody,m.Sleep,m.Static,m.Transform,m.Velocity,e],initialize:function(l,u,d,f,p,g){a.call(this,l.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(f,p),this.setSizeToFrame(),this.setOrigin(),this.world=l,this._tempVec2=new s(u,d);var x=r(g,"shape",null);x?this.setBody(x,g):this.setRectangle(this.width,this.height,g),this.setPosition(u,d),this.initPipeline(),this.initPostPipeline(!0)}});v.exports=h},42045:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(60461),m=t(66615),a=t(66280),r=t(22562),n=t(68174),e=t(15647),s=t(83419),h=t(52284),i=t(53402),l=t(69351),u=t(74116),d=t(48140),f=t(81388),p=t(20339),g=t(28137),x=t(95540),T=t(35154),E=t(46975),C=t(4506),R=t(99561),w=t(37277),F=t(73296),I=t(66272),L=t(44594),D=t(74058),B=t(31725),U=t(41598),W=t(68243);i.setDecomp(t(55973));var K=new s({initialize:function(G){this.scene=G,this.systems=G.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=r,this.composite=l,this.collision=h,this.detector=f,this.pair=C,this.pairs=R,this.query=F,this.resolver=I,this.constraint=d,this.bodies=a,this.composites=u,this.axes=m,this.bounds=e,this.svg=D,this.vector=B,this.vertices=U,this.verts=U,this._tempVec2=B.create(),I._restingThresh=T(this.config,"restingThresh",4),I._restingThreshTangent=T(this.config,"restingThreshTangent",6),I._positionDampen=T(this.config,"positionDampen",.9),I._positionWarming=T(this.config,"positionWarming",.8),I._frictionNormalMultiplier=T(this.config,"frictionNormalMultiplier",5),G.sys.events.once(L.BOOT,this.boot,this),G.sys.events.on(L.START,this.start,this)},boot:function(){this.world=new W(this.scene,this.config),this.add=new g(this.world),this.bodyBounds=new n,this.systems.events.once(L.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new W(this.scene,this.config),this.add=new g(this.world));var Y=this.systems.events;Y.on(L.UPDATE,this.world.update,this.world),Y.on(L.POST_UPDATE,this.world.postUpdate,this.world),Y.once(L.SHUTDOWN,this.shutdown,this)},getConfig:function(){var Y=this.systems.game.config.physics,G=this.systems.settings.physics,X=E(x(G,"matter",{}),x(Y,"matter",{}));return X},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(Y,G){this.world.step(Y,G)},containsPoint:function(Y,G,X){Y=this.getMatterBodies(Y);var V=B.create(G,X),b=F.point(Y,V);return b.length>0},intersectPoint:function(Y,G,X){X=this.getMatterBodies(X);var V=B.create(Y,G),b=[],z=F.point(X,V);return z.forEach(function(k){b.indexOf(k)===-1&&b.push(k)}),b},intersectRect:function(Y,G,X,V,b,z){b===void 0&&(b=!1),z=this.getMatterBodies(z);var k={min:{x:Y,y:G},max:{x:Y+X,y:G+V}},$=[],J=F.region(z,k,b);return J.forEach(function(j){$.indexOf(j)===-1&&$.push(j)}),$},intersectRay:function(Y,G,X,V,b,z){b===void 0&&(b=1),z=this.getMatterBodies(z);for(var k=[],$=F.ray(z,B.create(Y,G),B.create(X,V),b),J=0;J<$.length;J++)k.push($[J].body);return k},intersectBody:function(Y,G){G=this.getMatterBodies(G);for(var X=[],V=F.collides(Y,G),b=0;b<V.length;b++){var z=V[b];z.bodyA===Y?X.push(z.bodyB):X.push(z.bodyA)}return X},overlap:function(Y,G,X,V,b){X===void 0&&(X=null),V===void 0&&(V=null),b===void 0&&(b=X),Array.isArray(Y)||(Y=[Y]),Y=this.getMatterBodies(Y),G=this.getMatterBodies(G);for(var z=!1,k=0;k<Y.length;k++)for(var $=Y[k],J=F.collides($,G),j=0;j<J.length;j++){var q=J[j],_=q.bodyA.id===$.id?q.bodyB:q.bodyA;if(!V||V.call(b,$,_,q)){if(z=!0,X)X.call(b,$,_,q);else if(!V)return!0}}return z},setCollisionCategory:function(Y,G){return Y=this.getMatterBodies(Y),Y.forEach(function(X){X.collisionFilter.category=G}),this},setCollisionGroup:function(Y,G){return Y=this.getMatterBodies(Y),Y.forEach(function(X){X.collisionFilter.group=G}),this},setCollidesWith:function(Y,G){Y=this.getMatterBodies(Y);var X=0;if(!Array.isArray(G))X=G;else for(var V=0;V<G.length;V++)X|=G[V];return Y.forEach(function(b){b.collisionFilter.mask=X}),this},getMatterBodies:function(Y){if(!Y)return this.world.getAllBodies();Array.isArray(Y)||(Y=[Y]);for(var G=[],X=0;X<Y.length;X++){var V=Y[X].hasOwnProperty("body")?Y[X].body:Y[X];G.push(V)}return G},setVelocity:function(Y,G,X){Y=this.getMatterBodies(Y);var V=this._tempVec2;return V.x=G,V.y=X,Y.forEach(function(b){r.setVelocity(b,V)}),this},setVelocityX:function(Y,G){Y=this.getMatterBodies(Y);var X=this._tempVec2;return X.x=G,Y.forEach(function(V){X.y=V.velocity.y,r.setVelocity(V,X)}),this},setVelocityY:function(Y,G){Y=this.getMatterBodies(Y);var X=this._tempVec2;return X.y=G,Y.forEach(function(V){X.x=V.velocity.x,r.setVelocity(V,X)}),this},setAngularVelocity:function(Y,G){return Y=this.getMatterBodies(Y),Y.forEach(function(X){r.setAngularVelocity(X,G)}),this},applyForce:function(Y,G){Y=this.getMatterBodies(Y);var X=this._tempVec2;return Y.forEach(function(V){X.x=V.position.x,X.y=V.position.y,r.applyForce(V,X,G)}),this},applyForceFromPosition:function(Y,G,X,V){Y=this.getMatterBodies(Y);var b=this._tempVec2;return Y.forEach(function(z){V===void 0&&(V=z.angle),b.x=X*Math.cos(V),b.y=X*Math.sin(V),r.applyForce(z,G,b)}),this},applyForceFromAngle:function(Y,G,X){Y=this.getMatterBodies(Y);var V=this._tempVec2;return Y.forEach(function(b){X===void 0&&(X=b.angle),V.x=G*Math.cos(X),V.y=G*Math.sin(X),r.applyForce(b,{x:b.position.x,y:b.position.y},V)}),this},getConstraintLength:function(Y){var G=Y.pointA.x,X=Y.pointA.y,V=Y.pointB.x,b=Y.pointB.y;return Y.bodyA&&(G+=Y.bodyA.position.x,X+=Y.bodyA.position.y),Y.bodyB&&(V+=Y.bodyB.position.x,b+=Y.bodyB.position.y),p(G,X,V,b)},alignBody:function(Y,G,X,V){Y=Y.hasOwnProperty("body")?Y.body:Y;var b;switch(V){case o.TOP_LEFT:case o.LEFT_TOP:b=this.bodyBounds.getTopLeft(Y,G,X);break;case o.TOP_CENTER:b=this.bodyBounds.getTopCenter(Y,G,X);break;case o.TOP_RIGHT:case o.RIGHT_TOP:b=this.bodyBounds.getTopRight(Y,G,X);break;case o.LEFT_CENTER:b=this.bodyBounds.getLeftCenter(Y,G,X);break;case o.CENTER:b=this.bodyBounds.getCenter(Y,G,X);break;case o.RIGHT_CENTER:b=this.bodyBounds.getRightCenter(Y,G,X);break;case o.LEFT_BOTTOM:case o.BOTTOM_LEFT:b=this.bodyBounds.getBottomLeft(Y,G,X);break;case o.BOTTOM_CENTER:b=this.bodyBounds.getBottomCenter(Y,G,X);break;case o.BOTTOM_RIGHT:case o.RIGHT_BOTTOM:b=this.bodyBounds.getBottomRight(Y,G,X);break}return b&&r.setPosition(Y,b),this},shutdown:function(){var Y=this.systems.events;this.world&&(Y.off(L.UPDATE,this.world.update,this.world),Y.off(L.POST_UPDATE,this.world.postUpdate,this.world)),Y.off(L.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(L.START,this.start,this),this.scene=null,this.systems=null}});w.register("MatterPhysics",K,"matterPhysics"),v.exports=K},34803:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(9674),m=t(83419),a=t(31884),r=t(95643),n=t(95540),e=t(72699),s=t(68287),h=t(26099),i=new m({Extends:s,Mixins:[a.Bounce,a.Collision,a.Force,a.Friction,a.Gravity,a.Mass,a.Sensor,a.SetBody,a.Sleep,a.Static,a.Transform,a.Velocity,e],initialize:function(u,d,f,p,g,x){r.call(this,u.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new o(this),this.setTexture(p,g),this.setSizeToFrame(),this.setOrigin(),this.world=u,this._tempVec2=new h(d,f);var T=n(x,"shape",null);T?this.setBody(T,x):this.setRectangle(this.width,this.height,x),this.setPosition(d,f),this.initPipeline(),this.initPostPipeline(!0)}});v.exports=i},73834:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66280),m=t(22562),a=t(83419),r=t(31884),n=t(62644),e=t(50792),s=t(95540),h=t(97022),i=t(41598),l=new a({Extends:e,Mixins:[r.Bounce,r.Collision,r.Friction,r.Gravity,r.Mass,r.Sensor,r.Sleep,r.Static],initialize:function(d,f,p){e.call(this),this.tile=f,this.world=d,f.physics.matterBody&&f.physics.matterBody.destroy(),f.physics.matterBody=this;var g=s(p,"body",null),x=s(p,"addToWorld",!0);if(g)this.setBody(g,x);else{var T=f.getCollisionGroup(),E=s(T,"objects",[]);E.length>0?this.setFromTileCollision(p):this.setFromTileRectangle(p)}if(f.flipX||f.flipY){var C={x:f.getCenterX(),y:f.getCenterY()},R=f.flipX?-1:1,w=f.flipY?-1:1;m.scale(g,R,w,C)}},setFromTileRectangle:function(u){u===void 0&&(u={}),h(u,"isStatic")||(u.isStatic=!0),h(u,"addToWorld")||(u.addToWorld=!0);var d=this.tile.getBounds(),f=d.x+d.width/2,p=d.y+d.height/2,g=o.rectangle(f,p,d.width,d.height,u);return this.setBody(g,u.addToWorld),this},setFromTileCollision:function(u){u===void 0&&(u={}),h(u,"isStatic")||(u.isStatic=!0),h(u,"addToWorld")||(u.addToWorld=!0);for(var d=this.tile.tilemapLayer.scaleX,f=this.tile.tilemapLayer.scaleY,p=this.tile.getLeft(),g=this.tile.getTop(),x=this.tile.getCollisionGroup(),T=s(x,"objects",[]),E=[],C=0;C<T.length;C++){var R=T[C],w=p+R.x*d,F=g+R.y*f,I=R.width*d,L=R.height*f,D=null;if(R.rectangle)D=o.rectangle(w+I/2,F+L/2,I,L,u);else if(R.ellipse)D=o.circle(w+I/2,F+L/2,I/2,u);else if(R.polygon||R.polyline){var B=R.polygon?R.polygon:R.polyline,U=B.map(function(G){return{x:G.x*d,y:G.y*f}}),W=i.create(U),K=i.centre(W);w+=K.x,F+=K.y,D=o.fromVertices(w,F,W,u)}D&&E.push(D)}if(E.length===1)this.setBody(E[0],u.addToWorld);else if(E.length>1){var Y=n(u);Y.parts=E,this.setBody(m.create(Y),Y.addToWorld)}return this},setBody:function(u,d){return d===void 0&&(d=!0),this.body&&this.removeBody(),this.body=u,this.body.gameObject=this,d&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});v.exports=l},19496:(v,S,t)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66280),m=t(22562),a=t(53402),r=t(95540),n=t(41598),e={parseBody:function(s,h,i,l){l===void 0&&(l={});for(var u=r(i,"fixtures",[]),d=[],f=0;f<u.length;f++)for(var p=this.parseFixture(u[f]),g=0;g<p.length;g++)d.push(p[g]);var x=a.clone(i,!0);a.extend(x,l,!0),delete x.fixtures,delete x.type;var T=m.create(x);return m.setParts(T,d),m.setPosition(T,{x:s,y:h}),T},parseFixture:function(s){var h=a.extend({},!1,s);delete h.circle,delete h.vertices;var i;if(s.circle){var l=r(s.circle,"x"),u=r(s.circle,"y"),d=r(s.circle,"radius");i=[o.circle(l,u,d,h)]}else s.vertices&&(i=this.parseVertices(s.vertices,h));return i},parseVertices:function(s,h){h===void 0&&(h={});for(var i=[],l=0;l<s.length;l++)n.clockwiseSort(s[l]),i.push(m.create(a.extend({position:n.centre(s[l]),vertices:s[l]},h)));return o.flagCoincidentParts(i)}};v.exports=e},85791:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66280),m=t(22562),a={parseBody:function(r,n,e,s){s===void 0&&(s={});var h,i=e.vertices;if(i.length===1)s.vertices=i[0],h=m.create(s),o.flagCoincidentParts(h.parts);else{for(var l=[],u=0;u<i.length;u++){var d=m.create({vertices:i[u]});l.push(d)}o.flagCoincidentParts(l),s.parts=l,h=m.create(s)}return h.label=e.label,m.setPosition(h,{x:r,y:n}),h}};v.exports=a},98713:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(15647),m=t(83419),a=t(69351),r=t(48140),n=t(81388),e=t(1121),s=t(8214),h=t(46975),i=t(53614),l=t(26099),u=t(41598),d=new m({initialize:function(p,g,x){x===void 0&&(x={});var T={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=p,this.world=g,this.camera=null,this.pointer=null,this.active=!0,this.position=new l,this.body=null,this.part=null,this.constraint=r.create(h(x,T)),this.world.on(e.BEFORE_UPDATE,this.update,this),p.sys.input.on(s.POINTER_DOWN,this.onDown,this),p.sys.input.on(s.POINTER_UP,this.onUp,this)},onDown:function(f){this.pointer||(this.pointer=f,this.camera=f.camera)},onUp:function(f){f===this.pointer&&(this.pointer=null)},getBody:function(f){var p=this.position,g=this.constraint;this.camera.getWorldPoint(f.x,f.y,p);for(var x=a.allBodies(this.world.localWorld),T=0;T<x.length;T++){var E=x[T];if(!E.ignorePointer&&o.contains(E.bounds,p)&&n.canCollide(E.collisionFilter,g.collisionFilter)&&this.hitTestBody(E,p))return this.world.emit(e.DRAG_START,E,this.part,this),!0}return!1},hitTestBody:function(f,p){for(var g=this.constraint,x=f.parts.length,T=x>1?1:0,E=T;E<x;E++){var C=f.parts[E];if(u.contains(C.vertices,p))return g.pointA=p,g.pointB={x:p.x-f.position.x,y:p.y-f.position.y},g.bodyB=f,g.angleB=f.angle,i.set(f,!1),this.part=C,this.body=f,!0}return!1},update:function(){var f=this.pointer,p=this.body;if(!this.active||!f){p&&this.stopDrag();return}if(!f.isDown&&p){this.stopDrag();return}else if(f.isDown){if(!this.camera||!p&&!this.getBody(f))return;p=this.body;var g=this.position,x=this.constraint;this.camera.getWorldPoint(f.x,f.y,g),x.pointA.x=g.x,x.pointA.y=g.y,i.set(p,!1),this.world.emit(e.DRAG,p,this)}},stopDrag:function(){var f=this.body,p=this.constraint;p.bodyB=null,p.pointB=null,this.pointer=null,this.body=null,this.part=null,f&&this.world.emit(e.DRAG_END,f,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(e.BEFORE_UPDATE,this.update),this.scene.sys.input.off(s.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(s.POINTER_UP,this.onUp,this)}});v.exports=d},68243:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66280),m=t(22562),a=t(83419),r=t(53402),n=t(69351),e=t(48413),s=t(50792),h=t(1121),i=t(95540),l=t(35154),u=t(22562),d=t(35810),f=t(73834),p=t(4372),g=t(13037),x=t(31725),T=new a({Extends:s,initialize:function(C,R){s.call(this),this.scene=C,this.engine=e.create(R),this.localWorld=this.engine.world;var w=l(R,"gravity",null);w?this.setGravity(w.x,w.y,w.scale):w===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=l(R,"enabled",!0),this.getDelta=l(R,"getDelta",this.update60Hz);var F=i(R,"runner",{}),I=i(F,"fps",!1);I&&(F.delta=1e3/i(F,"fps",60)),this.runner=g.create(F),this.autoUpdate=l(R,"autoUpdate",!0);var L=l(R,"debug",!1);if(this.drawDebug=typeof L=="object"?!0:L,this.debugGraphic,this.debugConfig={showAxes:i(L,"showAxes",!1),showAngleIndicator:i(L,"showAngleIndicator",!1),angleColor:i(L,"angleColor",15208787),showBroadphase:i(L,"showBroadphase",!1),broadphaseColor:i(L,"broadphaseColor",16757760),showBounds:i(L,"showBounds",!1),boundsColor:i(L,"boundsColor",16777215),showVelocity:i(L,"showVelocity",!1),velocityColor:i(L,"velocityColor",44783),showCollisions:i(L,"showCollisions",!1),collisionColor:i(L,"collisionColor",16094476),showSeparations:i(L,"showSeparations",!1),separationColor:i(L,"separationColor",16753920),showBody:i(L,"showBody",!0),showStaticBody:i(L,"showStaticBody",!0),showInternalEdges:i(L,"showInternalEdges",!1),renderFill:i(L,"renderFill",!1),renderLine:i(L,"renderLine",!0),fillColor:i(L,"fillColor",1075465),fillOpacity:i(L,"fillOpacity",1),lineColor:i(L,"lineColor",2678297),lineOpacity:i(L,"lineOpacity",1),lineThickness:i(L,"lineThickness",1),staticFillColor:i(L,"staticFillColor",857979),staticLineColor:i(L,"staticLineColor",1255396),showSleeping:i(L,"showSleeping",!1),staticBodySleepOpacity:i(L,"staticBodySleepOpacity",.7),sleepFillColor:i(L,"sleepFillColor",4605510),sleepLineColor:i(L,"sleepLineColor",10066585),showSensors:i(L,"showSensors",!0),sensorFillColor:i(L,"sensorFillColor",857979),sensorLineColor:i(L,"sensorLineColor",1255396),showPositions:i(L,"showPositions",!0),positionSize:i(L,"positionSize",4),positionColor:i(L,"positionColor",14697178),showJoint:i(L,"showJoint",!0),jointColor:i(L,"jointColor",14737474),jointLineOpacity:i(L,"jointLineOpacity",1),jointLineThickness:i(L,"jointLineThickness",2),pinSize:i(L,"pinSize",4),pinColor:i(L,"pinColor",4382944),springColor:i(L,"springColor",14697184),anchorColor:i(L,"anchorColor",15724527),anchorSize:i(L,"anchorSize",4),showConvexHulls:i(L,"showConvexHulls",!1),hullColor:i(L,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),i(R,"setBounds",!1)){var D=R.setBounds;if(typeof D=="boolean")this.setBounds();else{var B=i(D,"x",0),U=i(D,"y",0),W=i(D,"width",C.sys.scale.width),K=i(D,"height",C.sys.scale.height),Y=i(D,"thickness",64),G=i(D,"left",!0),X=i(D,"right",!0),V=i(D,"top",!0),b=i(D,"bottom",!0);this.setBounds(B,U,W,K,Y,G,X,V,b)}}},setCompositeRenderStyle:function(E){var C=E.bodies,R=E.constraints,w=E.composites,F,I,L;for(F=0;F<C.length;F++)I=C[F],L=I.render,this.setBodyRenderStyle(I,L.lineColor,L.lineOpacity,L.lineThickness,L.fillColor,L.fillOpacity);for(F=0;F<R.length;F++)I=R[F],L=I.render,this.setConstraintRenderStyle(I,L.lineColor,L.lineOpacity,L.lineThickness,L.pinSize,L.anchorColor,L.anchorSize);for(F=0;F<w.length;F++)I=w[F],this.setCompositeRenderStyle(I);return this},setBodyRenderStyle:function(E,C,R,w,F,I){var L=E.render,D=this.debugConfig;return L?(C==null&&(C=E.isStatic?D.staticLineColor:D.lineColor),R==null&&(R=D.lineOpacity),w==null&&(w=D.lineThickness),F==null&&(F=E.isStatic?D.staticFillColor:D.fillColor),I==null&&(I=D.fillOpacity),C!==!1&&(L.lineColor=C),R!==!1&&(L.lineOpacity=R),w!==!1&&(L.lineThickness=w),F!==!1&&(L.fillColor=F),I!==!1&&(L.fillOpacity=I),this):this},setConstraintRenderStyle:function(E,C,R,w,F,I,L){var D=E.render,B=this.debugConfig;if(!D)return this;if(C==null){var U=D.type;U==="line"?C=B.jointColor:U==="pin"?C=B.pinColor:U==="spring"&&(C=B.springColor)}return R==null&&(R=B.jointLineOpacity),w==null&&(w=B.jointLineThickness),F==null&&(F=B.pinSize),I==null&&(I=B.anchorColor),L==null&&(L=B.anchorSize),C!==!1&&(D.lineColor=C),R!==!1&&(D.lineOpacity=R),w!==!1&&(D.lineThickness=w),F!==!1&&(D.pinSize=F),I!==!1&&(D.anchorColor=I),L!==!1&&(D.anchorSize=L),this},setEventsProxy:function(){var E=this,C=this.engine,R=this.localWorld;this.drawDebug&&(d.on(R,"compositeModified",function(w){E.setCompositeRenderStyle(w)}),d.on(R,"beforeAdd",function(w){for(var F=[].concat(w.object),I=0;I<F.length;I++){var L=F[I],D=L.render;L.type==="body"?E.setBodyRenderStyle(L,D.lineColor,D.lineOpacity,D.lineThickness,D.fillColor,D.fillOpacity):L.type==="composite"?E.setCompositeRenderStyle(L):L.type==="constraint"&&E.setConstraintRenderStyle(L,D.lineColor,D.lineOpacity,D.lineThickness,D.pinSize,D.anchorColor,D.anchorSize)}})),d.on(R,"beforeAdd",function(w){E.emit(h.BEFORE_ADD,w)}),d.on(R,"afterAdd",function(w){E.emit(h.AFTER_ADD,w)}),d.on(R,"beforeRemove",function(w){E.emit(h.BEFORE_REMOVE,w)}),d.on(R,"afterRemove",function(w){E.emit(h.AFTER_REMOVE,w)}),d.on(C,"beforeUpdate",function(w){E.emit(h.BEFORE_UPDATE,w)}),d.on(C,"afterUpdate",function(w){E.emit(h.AFTER_UPDATE,w)}),d.on(C,"collisionStart",function(w){var F=w.pairs,I,L;F.length>0&&F.map(function(D){I=D.bodyA,L=D.bodyB,I.gameObject&&I.gameObject.emit("collide",I,L,D),L.gameObject&&L.gameObject.emit("collide",L,I,D),d.trigger(I,"onCollide",{pair:D}),d.trigger(L,"onCollide",{pair:D}),I.onCollideCallback&&I.onCollideCallback(D),L.onCollideCallback&&L.onCollideCallback(D),I.onCollideWith[L.id]&&I.onCollideWith[L.id](L,D),L.onCollideWith[I.id]&&L.onCollideWith[I.id](I,D)}),E.emit(h.COLLISION_START,w,I,L)}),d.on(C,"collisionActive",function(w){var F=w.pairs,I,L;F.length>0&&F.map(function(D){I=D.bodyA,L=D.bodyB,I.gameObject&&I.gameObject.emit("collideActive",I,L,D),L.gameObject&&L.gameObject.emit("collideActive",L,I,D),d.trigger(I,"onCollideActive",{pair:D}),d.trigger(L,"onCollideActive",{pair:D}),I.onCollideActiveCallback&&I.onCollideActiveCallback(D),L.onCollideActiveCallback&&L.onCollideActiveCallback(D)}),E.emit(h.COLLISION_ACTIVE,w,I,L)}),d.on(C,"collisionEnd",function(w){var F=w.pairs,I,L;F.length>0&&F.map(function(D){I=D.bodyA,L=D.bodyB,I.gameObject&&I.gameObject.emit("collideEnd",I,L,D),L.gameObject&&L.gameObject.emit("collideEnd",L,I,D),d.trigger(I,"onCollideEnd",{pair:D}),d.trigger(L,"onCollideEnd",{pair:D}),I.onCollideEndCallback&&I.onCollideEndCallback(D),L.onCollideEndCallback&&L.onCollideEndCallback(D)}),E.emit(h.COLLISION_END,w,I,L)})},setBounds:function(E,C,R,w,F,I,L,D,B){return E===void 0&&(E=0),C===void 0&&(C=0),R===void 0&&(R=this.scene.sys.scale.width),w===void 0&&(w=this.scene.sys.scale.height),F===void 0&&(F=64),I===void 0&&(I=!0),L===void 0&&(L=!0),D===void 0&&(D=!0),B===void 0&&(B=!0),this.updateWall(I,"left",E-F,C-F,F,w+F*2),this.updateWall(L,"right",E+R,C-F,F,w+F*2),this.updateWall(D,"top",E,C-F,R,F),this.updateWall(B,"bottom",E,C+w,R,F),this},updateWall:function(E,C,R,w,F,I){var L=this.walls[C];E?(L&&p.remove(this.localWorld,L),R+=F/2,w+=I/2,this.walls[C]=this.create(R,w,F,I,{isStatic:!0,friction:0,frictionStatic:0})):(L&&p.remove(this.localWorld,L),this.walls[C]=null)},createDebugGraphic:function(){var E=this.scene.sys.add.graphics({x:0,y:0});return E.setDepth(Number.MAX_VALUE),this.debugGraphic=E,this.drawDebug=!0,E},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(E,C,R){return E===void 0&&(E=0),C===void 0&&(C=1),R===void 0&&(R=.001),this.localWorld.gravity.x=E,this.localWorld.gravity.y=C,this.localWorld.gravity.scale=R,this},create:function(E,C,R,w,F){var I=o.rectangle(E,C,R,w,F);return p.add(this.localWorld,I),I},add:function(E){return p.add(this.localWorld,E),this},remove:function(E,C){Array.isArray(E)||(E=[E]);for(var R=0;R<E.length;R++){var w=E[R],F=w.body?w.body:w;n.remove(this.localWorld,F,C)}return this},removeConstraint:function(E,C){return n.remove(this.localWorld,E,C),this},convertTilemapLayer:function(E,C){var R=E.layer,w=E.getTilesWithin(0,0,R.width,R.height,{isColliding:!0});return this.convertTiles(w,C),this},convertTiles:function(E,C){if(E.length===0)return this;for(var R=0;R<E.length;R++)new f(this,E[R],C);return this},nextGroup:function(E){return u.nextGroup(E)},nextCategory:function(){return u.nextCategory()},pause:function(){return this.enabled=!1,this.emit(h.PAUSE),this},resume:function(){return this.enabled=!0,this.runner.timeLastTick=r.now(),this.emit(h.RESUME),this},update:function(E){if(!(!this.enabled||!this.autoUpdate)){var C=this.engine,R=this.runner,w=r.now(),F=R.delta,I=0,L=E-R.timeLastTick;if((!L||!R.timeLastTick||L>Math.max(g._maxFrameDelta,R.maxFrameTime))&&(L=R.frameDelta||g._frameDeltaFallback),R.frameDeltaSmoothing){R.frameDeltaHistory.push(L),R.frameDeltaHistory=R.frameDeltaHistory.slice(-R.frameDeltaHistorySize);var D=R.frameDeltaHistory.slice(0).sort(),B=R.frameDeltaHistory.slice(D.length*g._smoothingLowerBound,D.length*g._smoothingUpperBound),U=g._mean(B);L=U||L}R.frameDeltaSnapping&&(L=1e3/Math.round(1e3/L)),R.frameDelta=L,R.timeLastTick=E,R.timeBuffer+=R.frameDelta,R.timeBuffer=r.clamp(R.timeBuffer,0,R.frameDelta+F*g._timeBufferMargin),R.lastUpdatesDeferred=0;for(var W=R.maxUpdates||Math.ceil(R.maxFrameTime/F),K=r.now();F>0&&R.timeBuffer>=F*g._timeBufferMargin;){e.update(C,F),R.timeBuffer-=F,I+=1;var Y=r.now()-w,G=r.now()-K,X=Y+g._elapsedNextEstimate*G/I;if(I>=W||X>R.maxFrameTime){R.lastUpdatesDeferred=Math.round(Math.max(0,R.timeBuffer/F-g._timeBufferMargin));break}}}},step:function(E){e.update(this.engine,E)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(E){var C=E.hasOwnProperty("body")?E.body:E;return n.get(this.localWorld,C.id,C.type)!==null},getAllBodies:function(){return n.allBodies(this.localWorld)},getAllConstraints:function(){return n.allConstraints(this.localWorld)},getAllComposites:function(){return n.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var E=this.debugConfig,C=this.engine,R=this.debugGraphic,w=n.allBodies(this.localWorld);this.debugGraphic.clear(),E.showBroadphase&&C.broadphase.controller&&this.renderGrid(C.broadphase,R,E.broadphaseColor,.5),E.showBounds&&this.renderBodyBounds(w,R,E.boundsColor,.5),(E.showBody||E.showStaticBody)&&this.renderBodies(w),E.showJoint&&this.renderJoints(),(E.showAxes||E.showAngleIndicator)&&this.renderBodyAxes(w,R,E.showAxes,E.angleColor,.5),E.showVelocity&&this.renderBodyVelocity(w,R,E.velocityColor,1,2),E.showSeparations&&this.renderSeparations(C.pairs.list,R,E.separationColor),E.showCollisions&&this.renderCollisions(C.pairs.list,R,E.collisionColor)}},renderGrid:function(E,C,R,w){C.lineStyle(1,R,w);for(var F=r.keys(E.buckets),I=0;I<F.length;I++){var L=F[I];if(!(E.buckets[L].length<2)){var D=L.split(/C|R/);C.strokeRect(parseInt(D[1],10)*E.bucketWidth,parseInt(D[2],10)*E.bucketHeight,E.bucketWidth,E.bucketHeight)}}return this},renderSeparations:function(E,C,R){C.lineStyle(1,R,1);for(var w=0;w<E.length;w++){var F=E[w];if(F.isActive){var I=F.collision,L=I.bodyA,D=I.bodyB,B=L.position,U=D.position,W=I.penetration,K=!L.isStatic&&!D.isStatic?4:1;D.isStatic&&(K=0),C.lineBetween(U.x,U.y,U.x-W.x*K,U.y-W.y*K),K=!L.isStatic&&!D.isStatic?4:1,L.isStatic&&(K=0),C.lineBetween(B.x,B.y,B.x-W.x*K,B.y-W.y*K)}}return this},renderCollisions:function(E,C,R){C.lineStyle(1,R,.5),C.fillStyle(R,1);var w,F;for(w=0;w<E.length;w++)if(F=E[w],!!F.isActive)for(var I=0;I<F.contactCount;I++){var L=F.contacts[I],D=L.vertex;D&&C.fillRect(D.x-2,D.y-2,5,5)}for(w=0;w<E.length;w++)if(F=E[w],!!F.isActive){var B=F.collision,U=F.contacts;if(F.contactCount>0){var W=U[0].vertex.x,K=U[0].vertex.y;F.contactCount===2&&(W=(U[0].vertex.x+U[1].vertex.x)/2,K=(U[0].vertex.y+U[1].vertex.y)/2),B.bodyB===B.supports[0].body||B.bodyA.isStatic?C.lineBetween(W-B.normal.x*8,K-B.normal.y*8,W,K):C.lineBetween(W+B.normal.x*8,K+B.normal.y*8,W,K)}}return this},renderBodyBounds:function(E,C,R,w){C.lineStyle(1,R,w);for(var F=0;F<E.length;F++){var I=E[F];if(I.render.visible){var L=I.bounds;if(L)C.strokeRect(L.min.x,L.min.y,L.max.x-L.min.x,L.max.y-L.min.y);else for(var D=I.parts,B=D.length>1?1:0;B<D.length;B++){var U=D[B];C.strokeRect(U.bounds.min.x,U.bounds.min.y,U.bounds.max.x-U.bounds.min.x,U.bounds.max.y-U.bounds.min.y)}}}return this},renderBodyAxes:function(E,C,R,w,F){C.lineStyle(1,w,F);for(var I=0;I<E.length;I++){var L=E[I],D=L.parts;if(L.render.visible){var B,U,W;if(R)for(U=D.length>1?1:0;U<D.length;U++)for(B=D[U],W=0;W<B.axes.length;W++){var K=B.axes[W];C.lineBetween(B.position.x,B.position.y,B.position.x+K.x*20,B.position.y+K.y*20)}else for(U=D.length>1?1:0;U<D.length;U++)for(B=D[U],W=0;W<B.axes.length;W++)C.lineBetween(B.position.x,B.position.y,(B.vertices[0].x+B.vertices[B.vertices.length-1].x)/2,(B.vertices[0].y+B.vertices[B.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(E,C,R,w,F){C.lineStyle(F,R,w);for(var I=0;I<E.length;I++){var L=E[I];L.render.visible&&C.lineBetween(L.position.x,L.position.y,L.position.x+(L.position.x-L.positionPrev.x)*2,L.position.y+(L.position.y-L.positionPrev.y)*2)}return this},renderBodies:function(E){for(var C=this.debugGraphic,R=this.debugConfig,w=R.showBody,F=R.showStaticBody,I=R.showSleeping,L=R.showInternalEdges,D=R.showConvexHulls,B=R.renderFill,U=R.renderLine,W=R.staticBodySleepOpacity,K=R.sleepFillColor,Y=R.sleepLineColor,G=R.hullColor,X=0;X<E.length;X++){var V=E[X];if(V.render.visible&&!(!F&&V.isStatic||!w&&!V.isStatic)){var b=V.render.lineColor,z=V.render.lineOpacity,k=V.render.lineThickness,$=V.render.fillColor,J=V.render.fillOpacity;I&&V.isSleeping&&(V.isStatic?(z*=W,J*=W):(b=Y,$=K)),B||($=null),U||(b=null),this.renderBody(V,C,L,b,z,k,$,J);var j=V.parts.length;D&&j>1&&this.renderConvexHull(V,C,G,k)}}},renderBody:function(E,C,R,w,F,I,L,D){w===void 0&&(w=null),F===void 0&&(F=null),I===void 0&&(I=1),L===void 0&&(L=null),D===void 0&&(D=null);for(var B=this.debugConfig,U=B.sensorFillColor,W=B.sensorLineColor,K=E.parts,Y=K.length,G=Y>1?1:0;G<Y;G++){var X=K[G],V=X.render,b=V.opacity;if(!(!V.visible||b===0||X.isSensor&&!B.showSensors)){var z=X.circleRadius;if(C.beginPath(),X.isSensor?(L!==null&&C.fillStyle(U,D*b),w!==null&&C.lineStyle(I,W,F*b)):(L!==null&&C.fillStyle(L,D*b),w!==null&&C.lineStyle(I,w,F*b)),z)C.arc(X.position.x,X.position.y,z,0,2*Math.PI);else{var k=X.vertices,$=k.length;C.moveTo(k[0].x,k[0].y);for(var J=1;J<$;J++){var j=k[J];if(!k[J-1].isInternal||R?C.lineTo(j.x,j.y):C.moveTo(j.x,j.y),J<$&&j.isInternal&&!R){var q=(J+1)%$;C.moveTo(k[q].x,k[q].y)}}C.closePath()}L!==null&&C.fillPath(),w!==null&&C.strokePath()}}if(B.showPositions&&!E.isStatic){var _=E.position.x,tt=E.position.y,et=Math.ceil(B.positionSize/2);C.fillStyle(B.positionColor,1),C.fillRect(_-et,tt-et,B.positionSize,B.positionSize)}return this},renderConvexHull:function(E,C,R,w){w===void 0&&(w=1);var F=E.parts,I=F.length;if(I>1){var L=E.vertices;C.lineStyle(w,R),C.beginPath(),C.moveTo(L[0].x,L[0].y);for(var D=1;D<L.length;D++)C.lineTo(L[D].x,L[D].y);C.lineTo(L[0].x,L[0].y),C.strokePath()}return this},renderJoints:function(){for(var E=this.debugGraphic,C=n.allConstraints(this.localWorld),R=0;R<C.length;R++){var w=C[R].render,F=w.lineColor,I=w.lineOpacity,L=w.lineThickness,D=w.pinSize,B=w.anchorColor,U=w.anchorSize;this.renderConstraint(C[R],E,F,I,L,D,B,U)}},renderConstraint:function(E,C,R,w,F,I,L,D){var B=E.render;if(!B.visible||!E.pointA||!E.pointB)return this;C.lineStyle(F,R,w);var U=E.bodyA,W=E.bodyB,K,Y;if(U?K=x.add(U.position,E.pointA):K=E.pointA,B.type==="pin")C.strokeCircle(K.x,K.y,I);else{if(W?Y=x.add(W.position,E.pointB):Y=E.pointB,C.beginPath(),C.moveTo(K.x,K.y),B.type==="spring")for(var G=x.sub(Y,K),X=x.perp(x.normalise(G)),V=Math.ceil(r.clamp(E.length/5,12,20)),b,z=1;z<V;z+=1)b=z%2===0?1:-1,C.lineTo(K.x+G.x*(z/V)+X.x*b*4,K.y+G.y*(z/V)+X.y*b*4);C.lineTo(Y.x,Y.y)}return C.strokePath(),B.anchors&&D>0&&(C.fillStyle(L),C.fillCircle(K.x,K.y,D),C.fillCircle(Y.x,Y.y,D)),this},resetCollisionIDs:function(){return m._nextCollidingGroupId=1,m._nextNonCollidingGroupId=-1,m._nextCategory=1,this},shutdown:function(){d.off(this.engine),this.removeAllListeners(),p.clear(this.localWorld,!1),e.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});v.exports=T},70410:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setBounce:function(t){return this.body.restitution=t,this}};v.exports=S},66968:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setCollisionCategory:function(t){return this.body.collisionFilter.category=t,this},setCollisionGroup:function(t){return this.body.collisionFilter.group=t,this},setCollidesWith:function(t){var o=0;if(!Array.isArray(t))o=t;else for(var m=0;m<t.length;m++)o|=t[m];return this.body.collisionFilter.mask=o,this},setOnCollide:function(t){return this.body.onCollideCallback=t,this},setOnCollideEnd:function(t){return this.body.onCollideEndCallback=t,this},setOnCollideActive:function(t){return this.body.onCollideActiveCallback=t,this},setOnCollideWith:function(t,o){Array.isArray(t)||(t=[t]);for(var m=0;m<t.length;m++){var a=t[m].hasOwnProperty("body")?t[m].body:t[m];this.body.setOnCollideWith(a,o)}return this}};v.exports=S},51607:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(22562),m={applyForce:function(a){return this._tempVec2.set(this.body.position.x,this.body.position.y),o.applyForce(this.body,this._tempVec2,a),this},applyForceFrom:function(a,r){return o.applyForce(this.body,a,r),this},thrust:function(a){var r=this.body.angle;return this._tempVec2.set(a*Math.cos(r),a*Math.sin(r)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(a){var r=this.body.angle-Math.PI/2;return this._tempVec2.set(a*Math.cos(r),a*Math.sin(r)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(a){var r=this.body.angle+Math.PI/2;return this._tempVec2.set(a*Math.cos(r),a*Math.sin(r)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(a){var r=this.body.angle-Math.PI;return this._tempVec2.set(a*Math.cos(r),a*Math.sin(r)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};v.exports=m},5436:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setFriction:function(t,o,m){return this.body.friction=t,o!==void 0&&(this.body.frictionAir=o),m!==void 0&&(this.body.frictionStatic=m),this},setFrictionAir:function(t){return this.body.frictionAir=t,this},setFrictionStatic:function(t){return this.body.frictionStatic=t,this}};v.exports=S},39858:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setIgnoreGravity:function(t){return this.body.ignoreGravity=t,this}};v.exports=S},37302:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(22562),m=t(26099),a={setMass:function(r){return o.setMass(this.body,r),this},setDensity:function(r){return o.setDensity(this.body,r),this},centerOfMass:{get:function(){return new m(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};v.exports=a},39132:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={setSensor:function(t){return this.body.isSensor=t,this},isSensor:function(){return this.body.isSensor}};v.exports=S},57772:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(66280),m=t(22562),a=t(43855),r=t(95540),n=t(19496),e=t(85791),s=t(41598),h={setRectangle:function(i,l,u){return this.setBody({type:"rectangle",width:i,height:l},u)},setCircle:function(i,l){return this.setBody({type:"circle",radius:i},l)},setPolygon:function(i,l,u){return this.setBody({type:"polygon",sides:l,radius:i},u)},setTrapezoid:function(i,l,u,d){return this.setBody({type:"trapezoid",width:i,height:l,slope:u},d)},setExistingBody:function(i,l){l===void 0&&(l=!0),this.body&&this.world.remove(this.body,!0),this.body=i;for(var u=0;u<i.parts.length;u++)i.parts[u].gameObject=this;var d=this;if(i.destroy=function(){d.world.remove(d.body,!0),d.body.gameObject=null},l&&(this.world.has(i)&&this.world.remove(i,!0),this.world.add(i)),this._originComponent){var f=i.render.sprite.xOffset,p=i.render.sprite.yOffset,g=i.centerOfMass.x,x=i.centerOfMass.y;if(a(g,.5)&&a(x,.5))this.setOrigin(f+.5,p+.5);else{var T=i.centerOffset.x,E=i.centerOffset.y;this.setOrigin(f+T/this.displayWidth,p+E/this.displayHeight)}}return this},setBody:function(i,l){if(!i)return this;var u;typeof i=="string"&&(i={type:i});var d=r(i,"type","rectangle"),f=r(i,"x",this._tempVec2.x),p=r(i,"y",this._tempVec2.y),g=r(i,"width",this.width),x=r(i,"height",this.height);switch(d){case"rectangle":u=o.rectangle(f,p,g,x,l);break;case"circle":var T=r(i,"radius",Math.max(g,x)/2),E=r(i,"maxSides",25);u=o.circle(f,p,T,l,E);break;case"trapezoid":var C=r(i,"slope",.5);u=o.trapezoid(f,p,g,x,C,l);break;case"polygon":var R=r(i,"sides",5),w=r(i,"radius",Math.max(g,x)/2);u=o.polygon(f,p,R,w,l);break;case"fromVertices":case"fromVerts":var F=r(i,"verts",null);if(F)if(typeof F=="string"&&(F=s.fromPath(F)),this.body&&!this.body.hasOwnProperty("temp"))m.setVertices(this.body,F),u=this.body;else{var I=r(i,"flagInternal",!1),L=r(i,"removeCollinear",.01),D=r(i,"minimumArea",10);u=o.fromVertices(f,p,F,l,I,L,D)}break;case"fromPhysicsEditor":u=n.parseBody(f,p,i,l);break;case"fromPhysicsTracer":u=e.parseBody(f,p,i,l);break}return u&&this.setExistingBody(u,i.addToWorld),this}};v.exports=h},38083:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(1121),m=t(53614),a=t(35810),r={setToSleep:function(){return m.set(this.body,!0),this},setAwake:function(){return m.set(this.body,!1),this},setSleepThreshold:function(n){return n===void 0&&(n=60),this.body.sleepThreshold=n,this},setSleepEvents:function(n,e){return this.setSleepStartEvent(n),this.setSleepEndEvent(e),this},setSleepStartEvent:function(n){if(n){var e=this.world;a.on(this.body,"sleepStart",function(s){e.emit(o.SLEEP_START,s,this)})}else a.off(this.body,"sleepStart");return this},setSleepEndEvent:function(n){if(n){var e=this.world;a.on(this.body,"sleepEnd",function(s){e.emit(o.SLEEP_END,s,this)})}else a.off(this.body,"sleepEnd");return this}};v.exports=r},90556:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(22562),m={setStatic:function(a){return o.setStatic(this.body,a),this},isStatic:function(){return this.body.isStatic}};v.exports=m},85436:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(22562),m=t(36383),a=t(86554),r=t(30954),n=4,e={x:{get:function(){return this.body.position.x},set:function(s){this._tempVec2.set(s,this.y),o.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(s){this._tempVec2.set(this.x,s),o.setPosition(this.body,this._tempVec2)}},scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(s){this.setScale(s,s)}},scaleX:{get:function(){return this._scaleX},set:function(s){var h=1/this._scaleX,i=1/this._scaleY;this._scaleX=s,this._scaleX===0?this.renderFlags&=-5:this.renderFlags|=n,o.scale(this.body,h,i),o.scale(this.body,s,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(s){var h=1/this._scaleX,i=1/this._scaleY;this._scaleY=s,this._scaleY===0?this.renderFlags&=-5:this.renderFlags|=n,o.scale(this.body,h,i),o.scale(this.body,this._scaleX,s)}},angle:{get:function(){return r(this.body.angle*m.RAD_TO_DEG)},set:function(s){this.rotation=r(s)*m.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(s){this._rotation=a(s),o.setAngle(this.body,this._rotation)}},setPosition:function(s,h){return s===void 0&&(s=0),h===void 0&&(h=s),this._tempVec2.set(s,h),o.setPosition(this.body,this._tempVec2),this},setRotation:function(s){return s===void 0&&(s=0),this._rotation=a(s),o.setAngle(this.body,s),this},setFixedRotation:function(){return o.setInertia(this.body,1/0),this},setAngle:function(s){return s===void 0&&(s=0),this.angle=s,o.setAngle(this.body,this.rotation),this},setScale:function(s,h,i){s===void 0&&(s=1),h===void 0&&(h=s);var l=1/this._scaleX,u=1/this._scaleY;return this._scaleX=s,this._scaleY=h,o.scale(this.body,l,u,i),o.scale(this.body,s,h,i),this}};v.exports=e},42081:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(22562),m={setVelocityX:function(a){return this._tempVec2.set(a,this.body.velocity.y),o.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(a){return this._tempVec2.set(this.body.velocity.x,a),o.setVelocity(this.body,this._tempVec2),this},setVelocity:function(a,r){return this._tempVec2.set(a,r),o.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return o.getVelocity(this.body)},setAngularVelocity:function(a){return o.setAngularVelocity(this.body,a),this},getAngularVelocity:function(){return o.getAngularVelocity(this.body)},setAngularSpeed:function(a){return o.setAngularSpeed(this.body,a),this},getAngularSpeed:function(){return o.getAngularSpeed(this.body)}};v.exports=m},31884:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Bounce:t(70410),Collision:t(66968),Force:t(51607),Friction:t(5436),Gravity:t(39858),Mass:t(37302),Sensor:t(39132),SetBody:t(57772),Sleep:t(38083),Static:t(90556),Transform:t(85436),Velocity:t(42081)}},85608:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="afteradd"},1213:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="afterremove"},25968:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="afterupdate"},67205:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="beforeadd"},39438:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="beforeremove"},44823:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="beforeupdate"},92593:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="collisionactive"},60128:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="collisionend"},76861:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="collisionstart"},92362:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragend"},76408:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="drag"},93971:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="dragstart"},5656:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pause"},47861:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resume"},79099:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="sleepend"},35906:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="sleepstart"},1121:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={AFTER_ADD:t(85608),AFTER_REMOVE:t(1213),AFTER_UPDATE:t(25968),BEFORE_ADD:t(67205),BEFORE_REMOVE:t(39438),BEFORE_UPDATE:t(44823),COLLISION_ACTIVE:t(92593),COLLISION_END:t(60128),COLLISION_START:t(76861),DRAG_END:t(92362),DRAG:t(76408),DRAG_START:t(93971),PAUSE:t(5656),RESUME:t(47861),SLEEP_END:t(79099),SLEEP_START:t(35906)}},3875:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BodyBounds:t(68174),Components:t(31884),Events:t(1121),Factory:t(28137),MatterGameObject:t(75803),Image:t(23181),Matter:t(19933),MatterPhysics:t(42045),PolyDecomp:t(55973),Sprite:t(34803),TileBody:t(73834),PhysicsEditorParser:t(19496),PhysicsJSONParser:t(85791),PointerConstraint:t(98713),World:t(68243)}},22562:(v,S,t)=>{var o={};v.exports=o;var m=t(41598),a=t(31725),r=t(53614),n=t(53402),e=t(15647),s=t(66615);(function(){o._timeCorrection=!0,o._inertiaScale=4,o._nextCollidingGroupId=1,o._nextNonCollidingGroupId=-1,o._nextCategory=1,o._baseDelta=16.666666666666668,o.create=function(i){var l={id:n.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:i.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!i.hasOwnProperty("position")&&i.hasOwnProperty("vertices")?i.position=m.centre(i.vertices):i.hasOwnProperty("vertices")||(l.vertices=m.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var u=n.extend(l,i);return h(u,i),u.setOnCollideWith=function(d,f){return f?this.onCollideWith[d.id]=f:delete this.onCollideWith[d.id],this},u},o.nextGroup=function(i){return i?o._nextNonCollidingGroupId--:o._nextCollidingGroupId++},o.nextCategory=function(){return o._nextCategory=o._nextCategory<<1,o._nextCategory};var h=function(i,l){if(l=l||{},o.set(i,{bounds:i.bounds||e.create(i.vertices),positionPrev:i.positionPrev||a.clone(i.position),anglePrev:i.anglePrev||i.angle,vertices:i.vertices,parts:i.parts||[i],isStatic:i.isStatic,isSleeping:i.isSleeping,parent:i.parent||i}),m.rotate(i.vertices,i.angle,i.position),s.rotate(i.axes,i.angle),e.update(i.bounds,i.vertices,i.velocity),o.set(i,{axes:l.axes||i.axes,area:l.area||i.area,mass:l.mass||i.mass,inertia:l.inertia||i.inertia}),i.parts.length===1){var u=i.bounds,d=i.centerOfMass,f=i.centerOffset,p=u.max.x-u.min.x,g=u.max.y-u.min.y;d.x=-(u.min.x-i.position.x)/p,d.y=-(u.min.y-i.position.y)/g,f.x=p*d.x,f.y=g*d.y}};o.set=function(i,l,u){var d;typeof l=="string"&&(d=l,l={},l[d]=u);for(d in l)if(Object.prototype.hasOwnProperty.call(l,d))switch(u=l[d],d){case"isStatic":o.setStatic(i,u);break;case"isSleeping":r.set(i,u);break;case"mass":o.setMass(i,u);break;case"density":o.setDensity(i,u);break;case"inertia":o.setInertia(i,u);break;case"vertices":o.setVertices(i,u);break;case"position":o.setPosition(i,u);break;case"angle":o.setAngle(i,u);break;case"velocity":o.setVelocity(i,u);break;case"angularVelocity":o.setAngularVelocity(i,u);break;case"speed":o.setSpeed(i,u);break;case"angularSpeed":o.setAngularSpeed(i,u);break;case"parts":o.setParts(i,u);break;case"centre":o.setCentre(i,u);break;default:i[d]=u}},o.setStatic=function(i,l){for(var u=0;u<i.parts.length;u++){var d=i.parts[u];l?(d.isStatic||(d._original={restitution:d.restitution,friction:d.friction,mass:d.mass,inertia:d.inertia,density:d.density,inverseMass:d.inverseMass,inverseInertia:d.inverseInertia}),d.restitution=0,d.friction=1,d.mass=d.inertia=d.density=1/0,d.inverseMass=d.inverseInertia=0,d.positionPrev.x=d.position.x,d.positionPrev.y=d.position.y,d.anglePrev=d.angle,d.angularVelocity=0,d.speed=0,d.angularSpeed=0,d.motion=0):d._original&&(d.restitution=d._original.restitution,d.friction=d._original.friction,d.mass=d._original.mass,d.inertia=d._original.inertia,d.density=d._original.density,d.inverseMass=d._original.inverseMass,d.inverseInertia=d._original.inverseInertia,d._original=null),d.isStatic=l}},o.setMass=function(i,l){var u=i.inertia/(i.mass/6);i.inertia=u*(l/6),i.inverseInertia=1/i.inertia,i.mass=l,i.inverseMass=1/i.mass,i.density=i.mass/i.area},o.setDensity=function(i,l){o.setMass(i,l*i.area),i.density=l},o.setInertia=function(i,l){i.inertia=l,i.inverseInertia=1/i.inertia},o.setVertices=function(i,l){l[0].body===i?i.vertices=l:i.vertices=m.create(l,i),i.axes=s.fromVertices(i.vertices),i.area=m.area(i.vertices),o.setMass(i,i.density*i.area);var u=m.centre(i.vertices);m.translate(i.vertices,u,-1),o.setInertia(i,o._inertiaScale*m.inertia(i.vertices,i.mass)),m.translate(i.vertices,i.position),e.update(i.bounds,i.vertices,i.velocity)},o.setParts=function(i,l,u){var d;for(l=l.slice(0),i.parts.length=0,i.parts.push(i),i.parent=i,d=0;d<l.length;d++){var f=l[d];f!==i&&(f.parent=i,i.parts.push(f))}if(i.parts.length!==1){if(u=typeof u<"u"?u:!0,u){var p=[];for(d=0;d<l.length;d++)p=p.concat(l[d].vertices);m.clockwiseSort(p);var g=m.hull(p),x=m.centre(g);o.setVertices(i,g),m.translate(i.vertices,x)}var T=o._totalProperties(i),E=T.centre.x,C=T.centre.y,R=i.bounds,w=i.centerOfMass,F=i.centerOffset;e.update(R,i.vertices,i.velocity),w.x=-(R.min.x-E)/(R.max.x-R.min.x),w.y=-(R.min.y-C)/(R.max.y-R.min.y),F.x=E,F.y=C,i.area=T.area,i.parent=i,i.position.x=E,i.position.y=C,i.positionPrev.x=E,i.positionPrev.y=C,o.setMass(i,T.mass),o.setInertia(i,T.inertia),o.setPosition(i,T.centre)}},o.setCentre=function(i,l,u){u?(i.positionPrev.x+=l.x,i.positionPrev.y+=l.y,i.position.x+=l.x,i.position.y+=l.y):(i.positionPrev.x=l.x-(i.position.x-i.positionPrev.x),i.positionPrev.y=l.y-(i.position.y-i.positionPrev.y),i.position.x=l.x,i.position.y=l.y)},o.setPosition=function(i,l,u){var d=a.sub(l,i.position);u?(i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.velocity.x=d.x,i.velocity.y=d.y,i.speed=a.magnitude(d)):(i.positionPrev.x+=d.x,i.positionPrev.y+=d.y);for(var f=0;f<i.parts.length;f++){var p=i.parts[f];p.position.x+=d.x,p.position.y+=d.y,m.translate(p.vertices,d),e.update(p.bounds,p.vertices,i.velocity)}},o.setAngle=function(i,l,u){var d=l-i.angle;u?(i.anglePrev=i.angle,i.angularVelocity=d,i.angularSpeed=Math.abs(d)):i.anglePrev+=d;for(var f=0;f<i.parts.length;f++){var p=i.parts[f];p.angle+=d,m.rotate(p.vertices,d,i.position),s.rotate(p.axes,d),e.update(p.bounds,p.vertices,i.velocity),f>0&&a.rotateAbout(p.position,d,i.position,p.position)}},o.setVelocity=function(i,l){var u=i.deltaTime/o._baseDelta;i.positionPrev.x=i.position.x-l.x*u,i.positionPrev.y=i.position.y-l.y*u,i.velocity.x=(i.position.x-i.positionPrev.x)/u,i.velocity.y=(i.position.y-i.positionPrev.y)/u,i.speed=a.magnitude(i.velocity)},o.getVelocity=function(i){var l=o._baseDelta/i.deltaTime;return{x:(i.position.x-i.positionPrev.x)*l,y:(i.position.y-i.positionPrev.y)*l}},o.getSpeed=function(i){return a.magnitude(o.getVelocity(i))},o.setSpeed=function(i,l){o.setVelocity(i,a.mult(a.normalise(o.getVelocity(i)),l))},o.setAngularVelocity=function(i,l){var u=i.deltaTime/o._baseDelta;i.anglePrev=i.angle-l*u,i.angularVelocity=(i.angle-i.anglePrev)/u,i.angularSpeed=Math.abs(i.angularVelocity)},o.getAngularVelocity=function(i){return(i.angle-i.anglePrev)*o._baseDelta/i.deltaTime},o.getAngularSpeed=function(i){return Math.abs(o.getAngularVelocity(i))},o.setAngularSpeed=function(i,l){o.setAngularVelocity(i,n.sign(o.getAngularVelocity(i))*l)},o.translate=function(i,l,u){o.setPosition(i,a.add(i.position,l),u)},o.rotate=function(i,l,u,d){if(!u)o.setAngle(i,i.angle+l,d);else{var f=Math.cos(l),p=Math.sin(l),g=i.position.x-u.x,x=i.position.y-u.y;o.setPosition(i,{x:u.x+(g*f-x*p),y:u.y+(g*p+x*f)},d),o.setAngle(i,i.angle+l,d)}},o.scale=function(i,l,u,d){var f=0,p=0;d=d||i.position;for(var g=i.inertia===1/0,x=0;x<i.parts.length;x++){var T=i.parts[x];T.scale.x=l,T.scale.y=u,m.scale(T.vertices,l,u,d),T.axes=s.fromVertices(T.vertices),T.area=m.area(T.vertices),o.setMass(T,i.density*T.area),m.translate(T.vertices,{x:-T.position.x,y:-T.position.y}),o.setInertia(T,o._inertiaScale*m.inertia(T.vertices,T.mass)),m.translate(T.vertices,{x:T.position.x,y:T.position.y}),x>0&&(f+=T.area,p+=T.inertia),T.position.x=d.x+(T.position.x-d.x)*l,T.position.y=d.y+(T.position.y-d.y)*u,e.update(T.bounds,T.vertices,i.velocity)}i.parts.length>1&&(i.area=f,i.isStatic||(o.setMass(i,i.density*f),o.setInertia(i,p))),i.circleRadius&&(l===u?i.circleRadius*=l:i.circleRadius=null),g&&o.setInertia(i,1/0)},o.update=function(i,l){l=(typeof l<"u"?l:16.666666666666668)*i.timeScale;var u=l*l,d=o._timeCorrection?l/(i.deltaTime||l):1,f=1-i.frictionAir*(l/n._baseDelta),p=(i.position.x-i.positionPrev.x)*d,g=(i.position.y-i.positionPrev.y)*d;i.velocity.x=p*f+i.force.x/i.mass*u,i.velocity.y=g*f+i.force.y/i.mass*u,i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.position.x+=i.velocity.x,i.position.y+=i.velocity.y,i.deltaTime=l,i.angularVelocity=(i.angle-i.anglePrev)*f*d+i.torque/i.inertia*u,i.anglePrev=i.angle,i.angle+=i.angularVelocity,i.speed=a.magnitude(i.velocity),i.angularSpeed=Math.abs(i.angularVelocity);for(var x=0;x<i.parts.length;x++){var T=i.parts[x];m.translate(T.vertices,i.velocity),x>0&&(T.position.x+=i.velocity.x,T.position.y+=i.velocity.y),i.angularVelocity!==0&&(m.rotate(T.vertices,i.angularVelocity,i.position),s.rotate(T.axes,i.angularVelocity),x>0&&a.rotateAbout(T.position,i.angularVelocity,i.position,T.position)),e.update(T.bounds,T.vertices,i.velocity)}},o.updateVelocities=function(i){var l=o._baseDelta/i.deltaTime,u=i.velocity;u.x=(i.position.x-i.positionPrev.x)*l,u.y=(i.position.y-i.positionPrev.y)*l,i.speed=Math.sqrt(u.x*u.x+u.y*u.y),i.angularVelocity=(i.angle-i.anglePrev)*l,i.angularSpeed=Math.abs(i.angularVelocity)},o.applyForce=function(i,l,u){var d={x:l.x-i.position.x,y:l.y-i.position.y};i.force.x+=u.x,i.force.y+=u.y,i.torque+=d.x*u.y-d.y*u.x},o._totalProperties=function(i){for(var l={mass:0,area:0,inertia:0,centre:{x:0,y:0}},u=i.parts.length===1?0:1;u<i.parts.length;u++){var d=i.parts[u],f=d.mass!==1/0?d.mass:1;l.mass+=f,l.area+=d.area,l.inertia+=d.inertia,l.centre=a.add(l.centre,a.mult(d.position,f))}return l.centre=a.div(l.centre,l.mass),l},o.wrap=function(i,l){var u=e.wrap(i.bounds,l);return u&&o.translate(i,u),u}})()},69351:(v,S,t)=>{var o={};v.exports=o;var m=t(35810),a=t(53402),r=t(15647),n=t(22562);(function(){o.create=function(e){return a.extend({id:a.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},e)},o.setModified=function(e,s,h,i){if(m.trigger(e,"compositeModified",e),e.isModified=s,s&&e.cache&&(e.cache.allBodies=null,e.cache.allConstraints=null,e.cache.allComposites=null),h&&e.parent&&o.setModified(e.parent,s,h,i),i)for(var l=0;l<e.composites.length;l++){var u=e.composites[l];o.setModified(u,s,h,i)}},o.add=function(e,s){var h=[].concat(s);m.trigger(e,"beforeAdd",{object:s});for(var i=0;i<h.length;i++){var l=h[i];switch(l.type){case"body":if(l.parent!==l){a.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}o.addBody(e,l);break;case"constraint":o.addConstraint(e,l);break;case"composite":o.addComposite(e,l);break;case"mouseConstraint":o.addConstraint(e,l.constraint);break}}return m.trigger(e,"afterAdd",{object:s}),e},o.remove=function(e,s,h){var i=[].concat(s);m.trigger(e,"beforeRemove",{object:s});for(var l=0;l<i.length;l++){var u=i[l];switch(u.type){case"body":o.removeBody(e,u,h);break;case"constraint":o.removeConstraint(e,u,h);break;case"composite":o.removeComposite(e,u,h);break;case"mouseConstraint":o.removeConstraint(e,u.constraint);break}}return m.trigger(e,"afterRemove",{object:s}),e},o.addComposite=function(e,s){return e.composites.push(s),s.parent=e,o.setModified(e,!0,!0,!1),e},o.removeComposite=function(e,s,h){var i=a.indexOf(e.composites,s);if(i!==-1){var l=o.allBodies(s);o.removeCompositeAt(e,i);for(var u=0;u<l.length;u++)l[u].sleepCounter=0}if(h)for(var u=0;u<e.composites.length;u++)o.removeComposite(e.composites[u],s,!0);return e},o.removeCompositeAt=function(e,s){return e.composites.splice(s,1),o.setModified(e,!0,!0,!1),e},o.addBody=function(e,s){return e.bodies.push(s),o.setModified(e,!0,!0,!1),e},o.removeBody=function(e,s,h){var i=a.indexOf(e.bodies,s);if(i!==-1&&(o.removeBodyAt(e,i),s.sleepCounter=0),h)for(var l=0;l<e.composites.length;l++)o.removeBody(e.composites[l],s,!0);return e},o.removeBodyAt=function(e,s){return e.bodies.splice(s,1),o.setModified(e,!0,!0,!1),e},o.addConstraint=function(e,s){return e.constraints.push(s),o.setModified(e,!0,!0,!1),e},o.removeConstraint=function(e,s,h){var i=a.indexOf(e.constraints,s);if(i!==-1&&o.removeConstraintAt(e,i),h)for(var l=0;l<e.composites.length;l++)o.removeConstraint(e.composites[l],s,!0);return e},o.removeConstraintAt=function(e,s){return e.constraints.splice(s,1),o.setModified(e,!0,!0,!1),e},o.clear=function(e,s,h){if(h)for(var i=0;i<e.composites.length;i++)o.clear(e.composites[i],s,!0);return s?e.bodies=e.bodies.filter(function(l){return l.isStatic}):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,o.setModified(e,!0,!0,!1),e},o.allBodies=function(e){if(e.cache&&e.cache.allBodies)return e.cache.allBodies;for(var s=[].concat(e.bodies),h=0;h<e.composites.length;h++)s=s.concat(o.allBodies(e.composites[h]));return e.cache&&(e.cache.allBodies=s),s},o.allConstraints=function(e){if(e.cache&&e.cache.allConstraints)return e.cache.allConstraints;for(var s=[].concat(e.constraints),h=0;h<e.composites.length;h++)s=s.concat(o.allConstraints(e.composites[h]));return e.cache&&(e.cache.allConstraints=s),s},o.allComposites=function(e){if(e.cache&&e.cache.allComposites)return e.cache.allComposites;for(var s=[].concat(e.composites),h=0;h<e.composites.length;h++)s=s.concat(o.allComposites(e.composites[h]));return e.cache&&(e.cache.allComposites=s),s},o.get=function(e,s,h){var i,l;switch(h){case"body":i=o.allBodies(e);break;case"constraint":i=o.allConstraints(e);break;case"composite":i=o.allComposites(e).concat(e);break}return i?(l=i.filter(function(u){return u.id.toString()===s.toString()}),l.length===0?null:l[0]):null},o.move=function(e,s,h){return o.remove(e,s),o.add(h,s),e},o.rebase=function(e){for(var s=o.allBodies(e).concat(o.allConstraints(e)).concat(o.allComposites(e)),h=0;h<s.length;h++)s[h].id=a.nextId();return e},o.translate=function(e,s,h){for(var i=h?o.allBodies(e):e.bodies,l=0;l<i.length;l++)n.translate(i[l],s);return e},o.rotate=function(e,s,h,i){for(var l=Math.cos(s),u=Math.sin(s),d=i?o.allBodies(e):e.bodies,f=0;f<d.length;f++){var p=d[f],g=p.position.x-h.x,x=p.position.y-h.y;n.setPosition(p,{x:h.x+(g*l-x*u),y:h.y+(g*u+x*l)}),n.rotate(p,s)}return e},o.scale=function(e,s,h,i,l){for(var u=l?o.allBodies(e):e.bodies,d=0;d<u.length;d++){var f=u[d],p=f.position.x-i.x,g=f.position.y-i.y;n.setPosition(f,{x:i.x+p*s,y:i.y+g*h}),n.scale(f,s,h)}return e},o.bounds=function(e){for(var s=o.allBodies(e),h=[],i=0;i<s.length;i+=1){var l=s[i];h.push(l.bounds.min,l.bounds.max)}return r.create(h)},o.wrap=function(e,s){var h=r.wrap(o.bounds(e),s);return h&&o.translate(e,h),h}})()},4372:(v,S,t)=>{var o={};v.exports=o;var m=t(69351);(function(){o.create=m.create,o.add=m.add,o.remove=m.remove,o.clear=m.clear,o.addComposite=m.addComposite,o.addBody=m.addBody,o.addConstraint=m.addConstraint})()},52284:(v,S,t)=>{var o={};v.exports=o;var m=t(41598),a=t(4506);(function(){var r=[],n={overlap:0,axis:null},e={overlap:0,axis:null};o.create=function(s,h){return{pair:null,collided:!1,bodyA:s,bodyB:h,parentA:s.parent,parentB:h.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},o.collides=function(s,h,i){if(o._overlapAxes(n,s.vertices,h.vertices,s.axes),n.overlap<=0||(o._overlapAxes(e,h.vertices,s.vertices,h.axes),e.overlap<=0))return null;var l=i&&i.table[a.id(s,h)],u;l?u=l.collision:(u=o.create(s,h),u.collided=!0,u.bodyA=s.id<h.id?s:h,u.bodyB=s.id<h.id?h:s,u.parentA=u.bodyA.parent,u.parentB=u.bodyB.parent),s=u.bodyA,h=u.bodyB;var d;n.overlap<e.overlap?d=n:d=e;var f=u.normal,p=u.tangent,g=u.penetration,x=u.supports,T=d.overlap,E=d.axis,C=E.x,R=E.y,w=h.position.x-s.position.x,F=h.position.y-s.position.y;C*w+R*F>=0&&(C=-C,R=-R),f.x=C,f.y=R,p.x=-R,p.y=C,g.x=C*T,g.y=R*T,u.depth=T;var I=o._findSupports(s,h,f,1),L=0;if(m.contains(s.vertices,I[0])&&(x[L++]=I[0]),m.contains(s.vertices,I[1])&&(x[L++]=I[1]),L<2){var D=o._findSupports(h,s,f,-1);m.contains(h.vertices,D[0])&&(x[L++]=D[0]),L<2&&m.contains(h.vertices,D[1])&&(x[L++]=D[1])}return L===0&&(x[L++]=I[0]),u.supportCount=L,u},o._overlapAxes=function(s,h,i,l){var u=h.length,d=i.length,f=h[0].x,p=h[0].y,g=i[0].x,x=i[0].y,T=l.length,E=Number.MAX_VALUE,C=0,R,w,F,I,L,D;for(L=0;L<T;L++){var B=l[L],U=B.x,W=B.y,K=f*U+p*W,Y=g*U+x*W,G=K,X=Y;for(D=1;D<u;D+=1)I=h[D].x*U+h[D].y*W,I>G?G=I:I<K&&(K=I);for(D=1;D<d;D+=1)I=i[D].x*U+i[D].y*W,I>X?X=I:I<Y&&(Y=I);if(w=G-Y,F=X-K,R=w<F?w:F,R<E&&(E=R,C=L,R<=0))break}s.axis=l[C],s.overlap=E},o._findSupports=function(s,h,i,l){var u=h.vertices,d=u.length,f=s.position.x,p=s.position.y,g=i.x*l,x=i.y*l,T=u[0],E=T,C=g*(f-E.x)+x*(p-E.y),R,w,F;for(F=1;F<d;F+=1)E=u[F],w=g*(f-E.x)+x*(p-E.y),w<C&&(C=w,T=E);return R=u[(d+T.index-1)%d],C=g*(f-R.x)+x*(p-R.y),E=u[(T.index+1)%d],g*(f-E.x)+x*(p-E.y)<C?(r[0]=T,r[1]=E,r):(r[0]=T,r[1]=R,r)}})()},43424:v=>{var S={};v.exports=S,function(){S.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}}()},81388:(v,S,t)=>{var o={};v.exports=o;var m=t(53402),a=t(52284);(function(){o.create=function(r){var n={bodies:[],collisions:[],pairs:null};return m.extend(n,r)},o.setBodies=function(r,n){r.bodies=n.slice(0)},o.clear=function(r){r.bodies=[],r.collisions=[]},o.collisions=function(r){var n=r.pairs,e=r.bodies,s=e.length,h=o.canCollide,i=a.collides,l=r.collisions,u=0,d,f;for(e.sort(o._compareBoundsX),d=0;d<s;d++){var p=e[d],g=p.bounds,x=p.bounds.max.x,T=p.bounds.max.y,E=p.bounds.min.y,C=p.isStatic||p.isSleeping,R=p.parts.length,w=R===1;for(f=d+1;f<s;f++){var F=e[f],I=F.bounds;if(I.min.x>x)break;if(!(T<I.min.y||E>I.max.y)&&!(C&&(F.isStatic||F.isSleeping))&&h(p.collisionFilter,F.collisionFilter)){var L=F.parts.length;if(w&&L===1){var D=i(p,F,n);D&&(l[u++]=D)}else for(var B=R>1?1:0,U=L>1?1:0,W=B;W<R;W++)for(var K=p.parts[W],g=K.bounds,Y=U;Y<L;Y++){var G=F.parts[Y],I=G.bounds;if(!(g.min.x>I.max.x||g.max.x<I.min.x||g.max.y<I.min.y||g.min.y>I.max.y)){var D=i(K,G,n);D&&(l[u++]=D)}}}}}return l.length!==u&&(l.length=u),l},o.canCollide=function(r,n){return r.group===n.group&&r.group!==0?r.group>0:(r.mask&n.category)!==0&&(n.mask&r.category)!==0},o._compareBoundsX=function(r,n){return r.bounds.min.x-n.bounds.min.x}})()},4506:(v,S,t)=>{var o={};v.exports=o;var m=t(43424);(function(){o.create=function(a,r){var n=a.bodyA,e=a.bodyB,s={id:o.id(n,e),bodyA:n,bodyB:e,collision:a,contacts:[m.create(),m.create()],contactCount:0,separation:0,isActive:!0,isSensor:n.isSensor||e.isSensor,timeCreated:r,timeUpdated:r,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return o.update(s,a,r),s},o.update=function(a,r,n){var e=r.supports,s=r.supportCount,h=a.contacts,i=r.parentA,l=r.parentB;a.isActive=!0,a.timeUpdated=n,a.collision=r,a.separation=r.depth,a.inverseMass=i.inverseMass+l.inverseMass,a.friction=i.friction<l.friction?i.friction:l.friction,a.frictionStatic=i.frictionStatic>l.frictionStatic?i.frictionStatic:l.frictionStatic,a.restitution=i.restitution>l.restitution?i.restitution:l.restitution,a.slop=i.slop>l.slop?i.slop:l.slop,a.contactCount=s,r.pair=a;var u=e[0],d=h[0],f=e[1],p=h[1];(p.vertex===u||d.vertex===f)&&(h[1]=d,h[0]=d=p,p=h[1]),d.vertex=u,p.vertex=f},o.setActive=function(a,r,n){r?(a.isActive=!0,a.timeUpdated=n):(a.isActive=!1,a.contactCount=0)},o.id=function(a,r){return a.id<r.id?a.id.toString(36)+":"+r.id.toString(36):r.id.toString(36)+":"+a.id.toString(36)}})()},99561:(v,S,t)=>{var o={};v.exports=o;var m=t(4506),a=t(53402);(function(){o.create=function(r){return a.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},r)},o.update=function(r,n,e){var s=m.update,h=m.create,i=m.setActive,l=r.table,u=r.list,d=u.length,f=d,p=r.collisionStart,g=r.collisionEnd,x=r.collisionActive,T=n.length,E=0,C=0,R=0,w,F,I;for(I=0;I<T;I++)w=n[I],F=w.pair,F?(F.isActive&&(x[R++]=F),s(F,w,e)):(F=h(w,e),l[F.id]=F,p[E++]=F,u[f++]=F);for(f=0,d=u.length,I=0;I<d;I++)F=u[I],F.timeUpdated>=e?u[f++]=F:(i(F,!1,e),F.collision.bodyA.sleepCounter>0&&F.collision.bodyB.sleepCounter>0?u[f++]=F:(g[C++]=F,delete l[F.id]));u.length!==f&&(u.length=f),p.length!==E&&(p.length=E),g.length!==C&&(g.length=C),x.length!==R&&(x.length=R)},o.clear=function(r){return r.table={},r.list.length=0,r.collisionStart.length=0,r.collisionActive.length=0,r.collisionEnd.length=0,r}})()},73296:(v,S,t)=>{var o={};v.exports=o;var m=t(31725),a=t(52284),r=t(15647),n=t(66280),e=t(41598);(function(){o.collides=function(s,h){for(var i=[],l=h.length,u=s.bounds,d=a.collides,f=r.overlaps,p=0;p<l;p++){var g=h[p],x=g.parts.length,T=x===1?0:1;if(s!==g&&f(g.bounds,u))for(var E=T;E<x;E++){var C=g.parts[E];if(f(C.bounds,u)){var R=d(C,s);if(R){i.push(R);break}}}}return i},o.ray=function(s,h,i,l){l=l||1e-100;for(var u=m.angle(h,i),d=m.magnitude(m.sub(h,i)),f=(i.x+h.x)*.5,p=(i.y+h.y)*.5,g=n.rectangle(f,p,d,l,{angle:u}),x=o.collides(g,s),T=0;T<x.length;T+=1){var E=x[T];E.body=E.bodyB=E.bodyA}return x},o.region=function(s,h,i){for(var l=[],u=0;u<s.length;u++){var d=s[u],f=r.overlaps(d.bounds,h);(f&&!i||!f&&i)&&l.push(d)}return l},o.point=function(s,h){for(var i=[],l=0;l<s.length;l++){var u=s[l];if(r.contains(u.bounds,h))for(var d=u.parts.length===1?0:1;d<u.parts.length;d++){var f=u.parts[d];if(r.contains(f.bounds,h)&&e.contains(f.vertices,h)){i.push(u);break}}}return i}})()},66272:(v,S,t)=>{var o={};v.exports=o;var m=t(41598),a=t(53402),r=t(15647);(function(){o._restingThresh=2,o._restingThreshTangent=Math.sqrt(6),o._positionDampen=.9,o._positionWarming=.8,o._frictionNormalMultiplier=5,o._frictionMaxStatic=Number.MAX_VALUE,o.preSolvePosition=function(n){var e,s,h,i=n.length;for(e=0;e<i;e++)s=n[e],s.isActive&&(h=s.contactCount,s.collision.parentA.totalContacts+=h,s.collision.parentB.totalContacts+=h)},o.solvePosition=function(n,e,s){var h,i,l,u,d,f,p,g,x=o._positionDampen*(s||1),T=a.clamp(e/a._baseDelta,0,1),E=n.length;for(h=0;h<E;h++)i=n[h],!(!i.isActive||i.isSensor)&&(l=i.collision,u=l.parentA,d=l.parentB,f=l.normal,i.separation=l.depth+f.x*(d.positionImpulse.x-u.positionImpulse.x)+f.y*(d.positionImpulse.y-u.positionImpulse.y));for(h=0;h<E;h++)i=n[h],!(!i.isActive||i.isSensor)&&(l=i.collision,u=l.parentA,d=l.parentB,f=l.normal,g=i.separation-i.slop*T,(u.isStatic||d.isStatic)&&(g*=2),u.isStatic||u.isSleeping||(p=x/u.totalContacts,u.positionImpulse.x+=f.x*g*p,u.positionImpulse.y+=f.y*g*p),d.isStatic||d.isSleeping||(p=x/d.totalContacts,d.positionImpulse.x-=f.x*g*p,d.positionImpulse.y-=f.y*g*p))},o.postSolvePosition=function(n){for(var e=o._positionWarming,s=n.length,h=m.translate,i=r.update,l=0;l<s;l++){var u=n[l],d=u.positionImpulse,f=d.x,p=d.y,g=u.velocity;if(u.totalContacts=0,f!==0||p!==0){for(var x=0;x<u.parts.length;x++){var T=u.parts[x];h(T.vertices,d),i(T.bounds,T.vertices,g),T.position.x+=f,T.position.y+=p}u.positionPrev.x+=f,u.positionPrev.y+=p,f*g.x+p*g.y<0?(d.x=0,d.y=0):(d.x*=e,d.y*=e)}}},o.preSolveVelocity=function(n){var e=n.length,s,h;for(s=0;s<e;s++){var i=n[s];if(!(!i.isActive||i.isSensor)){var l=i.contacts,u=i.contactCount,d=i.collision,f=d.parentA,p=d.parentB,g=d.normal,x=d.tangent;for(h=0;h<u;h++){var T=l[h],E=T.vertex,C=T.normalImpulse,R=T.tangentImpulse;if(C!==0||R!==0){var w=g.x*C+x.x*R,F=g.y*C+x.y*R;f.isStatic||f.isSleeping||(f.positionPrev.x+=w*f.inverseMass,f.positionPrev.y+=F*f.inverseMass,f.anglePrev+=f.inverseInertia*((E.x-f.position.x)*F-(E.y-f.position.y)*w)),p.isStatic||p.isSleeping||(p.positionPrev.x-=w*p.inverseMass,p.positionPrev.y-=F*p.inverseMass,p.anglePrev-=p.inverseInertia*((E.x-p.position.x)*F-(E.y-p.position.y)*w))}}}}},o.solveVelocity=function(n,e){var s=e/a._baseDelta,h=s*s,i=h*s,l=-o._restingThresh*s,u=o._restingThreshTangent,d=o._frictionNormalMultiplier*s,f=o._frictionMaxStatic,p=n.length,g,x,T,E;for(T=0;T<p;T++){var C=n[T];if(!(!C.isActive||C.isSensor)){var R=C.collision,w=R.parentA,F=R.parentB,I=R.normal.x,L=R.normal.y,D=R.tangent.x,B=R.tangent.y,U=C.inverseMass,W=C.friction*C.frictionStatic*d,K=C.contacts,Y=C.contactCount,G=1/Y,X=w.position.x-w.positionPrev.x,V=w.position.y-w.positionPrev.y,b=w.angle-w.anglePrev,z=F.position.x-F.positionPrev.x,k=F.position.y-F.positionPrev.y,$=F.angle-F.anglePrev;for(E=0;E<Y;E++){var J=K[E],j=J.vertex,q=j.x-w.position.x,_=j.y-w.position.y,tt=j.x-F.position.x,et=j.y-F.position.y,at=X-_*b,ot=V+q*b,nt=z-et*$,vt=k+tt*$,pt=at-nt,gt=ot-vt,rt=I*pt+L*gt,ut=D*pt+B*gt,ft=C.separation+rt,St=Math.min(ft,1);St=ft<0?0:St;var Tt=St*W;ut<-Tt||ut>Tt?(x=ut>0?ut:-ut,g=C.friction*(ut>0?1:-1)*i,g<-x?g=-x:g>x&&(g=x)):(g=ut,x=f);var wt=q*L-_*I,Pt=tt*L-et*I,Mt=G/(U+w.inverseInertia*wt*wt+F.inverseInertia*Pt*Pt),bt=(1+C.restitution)*rt*Mt;if(g*=Mt,rt<l)J.normalImpulse=0;else{var Kt=J.normalImpulse;J.normalImpulse+=bt,J.normalImpulse>0&&(J.normalImpulse=0),bt=J.normalImpulse-Kt}if(ut<-u||ut>u)J.tangentImpulse=0;else{var Lt=J.tangentImpulse;J.tangentImpulse+=g,J.tangentImpulse<-x&&(J.tangentImpulse=-x),J.tangentImpulse>x&&(J.tangentImpulse=x),g=J.tangentImpulse-Lt}var Vt=I*bt+D*g,Ut=L*bt+B*g;w.isStatic||w.isSleeping||(w.positionPrev.x+=Vt*w.inverseMass,w.positionPrev.y+=Ut*w.inverseMass,w.anglePrev+=(q*Ut-_*Vt)*w.inverseInertia),F.isStatic||F.isSleeping||(F.positionPrev.x-=Vt*F.inverseMass,F.positionPrev.y-=Ut*F.inverseMass,F.anglePrev-=(tt*Ut-et*Vt)*F.inverseInertia)}}}}})()},48140:(v,S,t)=>{var o={};v.exports=o;var m=t(41598),a=t(31725),r=t(53614),n=t(15647),e=t(66615),s=t(53402);(function(){o._warming=.4,o._torqueDampen=1,o._minLength=1e-6,o.create=function(h){var i=h;i.bodyA&&!i.pointA&&(i.pointA={x:0,y:0}),i.bodyB&&!i.pointB&&(i.pointB={x:0,y:0});var l=i.bodyA?a.add(i.bodyA.position,i.pointA):i.pointA,u=i.bodyB?a.add(i.bodyB.position,i.pointB):i.pointB,d=a.magnitude(a.sub(l,u));i.length=typeof i.length<"u"?i.length:d,i.id=i.id||s.nextId(),i.label=i.label||"Constraint",i.type="constraint",i.stiffness=i.stiffness||(i.length>0?1:.7),i.damping=i.damping||0,i.angularStiffness=i.angularStiffness||0,i.angleA=i.bodyA?i.bodyA.angle:i.angleA,i.angleB=i.bodyB?i.bodyB.angle:i.angleB,i.plugin={};var f={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return i.length===0&&i.stiffness>.1?(f.type="pin",f.anchors=!1):i.stiffness<.9&&(f.type="spring"),i.render=s.extend(f,i.render),i},o.preSolveAll=function(h){for(var i=0;i<h.length;i+=1){var l=h[i],u=l.constraintImpulse;l.isStatic||u.x===0&&u.y===0&&u.angle===0||(l.position.x+=u.x,l.position.y+=u.y,l.angle+=u.angle)}},o.solveAll=function(h,i){for(var l=s.clamp(i/s._baseDelta,0,1),u=0;u<h.length;u+=1){var d=h[u],f=!d.bodyA||d.bodyA&&d.bodyA.isStatic,p=!d.bodyB||d.bodyB&&d.bodyB.isStatic;(f||p)&&o.solve(h[u],l)}for(u=0;u<h.length;u+=1)d=h[u],f=!d.bodyA||d.bodyA&&d.bodyA.isStatic,p=!d.bodyB||d.bodyB&&d.bodyB.isStatic,!f&&!p&&o.solve(h[u],l)},o.solve=function(h,i){var l=h.bodyA,u=h.bodyB,d=h.pointA,f=h.pointB;if(!(!l&&!u)){l&&!l.isStatic&&(a.rotate(d,l.angle-h.angleA,d),h.angleA=l.angle),u&&!u.isStatic&&(a.rotate(f,u.angle-h.angleB,f),h.angleB=u.angle);var p=d,g=f;if(l&&(p=a.add(l.position,d)),u&&(g=a.add(u.position,f)),!(!p||!g)){var x=a.sub(p,g),T=a.magnitude(x);T<o._minLength&&(T=o._minLength);var E=(T-h.length)/T,C=h.stiffness>=1||h.length===0,R=C?h.stiffness*i:h.stiffness*i*i,w=h.damping*i,F=a.mult(x,E*R),I=(l?l.inverseMass:0)+(u?u.inverseMass:0),L=(l?l.inverseInertia:0)+(u?u.inverseInertia:0),D=I+L,B,U,W,K,Y;if(w>0){var G=a.create();W=a.div(x,T),Y=a.sub(u&&a.sub(u.position,u.positionPrev)||G,l&&a.sub(l.position,l.positionPrev)||G),K=a.dot(W,Y)}l&&!l.isStatic&&(U=l.inverseMass/I,l.constraintImpulse.x-=F.x*U,l.constraintImpulse.y-=F.y*U,l.position.x-=F.x*U,l.position.y-=F.y*U,w>0&&(l.positionPrev.x-=w*W.x*K*U,l.positionPrev.y-=w*W.y*K*U),B=a.cross(d,F)/D*o._torqueDampen*l.inverseInertia*(1-h.angularStiffness),l.constraintImpulse.angle-=B,l.angle-=B),u&&!u.isStatic&&(U=u.inverseMass/I,u.constraintImpulse.x+=F.x*U,u.constraintImpulse.y+=F.y*U,u.position.x+=F.x*U,u.position.y+=F.y*U,w>0&&(u.positionPrev.x+=w*W.x*K*U,u.positionPrev.y+=w*W.y*K*U),B=a.cross(f,F)/D*o._torqueDampen*u.inverseInertia*(1-h.angularStiffness),u.constraintImpulse.angle+=B,u.angle+=B)}}},o.postSolveAll=function(h){for(var i=0;i<h.length;i++){var l=h[i],u=l.constraintImpulse;if(!(l.isStatic||u.x===0&&u.y===0&&u.angle===0)){r.set(l,!1);for(var d=0;d<l.parts.length;d++){var f=l.parts[d];m.translate(f.vertices,u),d>0&&(f.position.x+=u.x,f.position.y+=u.y),u.angle!==0&&(m.rotate(f.vertices,u.angle,l.position),e.rotate(f.axes,u.angle),d>0&&a.rotateAbout(f.position,u.angle,l.position,f.position)),n.update(f.bounds,f.vertices,l.velocity)}u.angle*=o._warming,u.x*=o._warming,u.y*=o._warming}}},o.pointAWorld=function(h){return{x:(h.bodyA?h.bodyA.position.x:0)+(h.pointA?h.pointA.x:0),y:(h.bodyA?h.bodyA.position.y:0)+(h.pointA?h.pointA.y:0)}},o.pointBWorld=function(h){return{x:(h.bodyB?h.bodyB.position.x:0)+(h.pointB?h.pointB.x:0),y:(h.bodyB?h.bodyB.position.y:0)+(h.pointB?h.pointB.y:0)}},o.currentLength=function(h){var i=(h.bodyA?h.bodyA.position.x:0)+(h.pointA?h.pointA.x:0),l=(h.bodyA?h.bodyA.position.y:0)+(h.pointA?h.pointA.y:0),u=(h.bodyB?h.bodyB.position.x:0)+(h.pointB?h.pointB.x:0),d=(h.bodyB?h.bodyB.position.y:0)+(h.pointB?h.pointB.y:0),f=i-u,p=l-d;return Math.sqrt(f*f+p*p)}})()},53402:(v,S,t)=>{var o={};v.exports=o,function(){o._baseDelta=16.666666666666668,o._nextId=0,o._seed=0,o._nowStartTime=+new Date,o._warnedOnce={},o._decomp=null,o.extend=function(a,r){var n,e;typeof r=="boolean"?(n=2,e=r):(n=1,e=!0);for(var s=n;s<arguments.length;s++){var h=arguments[s];if(h)for(var i in h)e&&h[i]&&h[i].constructor===Object&&(!a[i]||a[i].constructor===Object)?(a[i]=a[i]||{},o.extend(a[i],e,h[i])):a[i]=h[i]}return a},o.clone=function(a,r){return o.extend({},r,a)},o.keys=function(a){if(Object.keys)return Object.keys(a);var r=[];for(var n in a)r.push(n);return r},o.values=function(a){var r=[];if(Object.keys){for(var n=Object.keys(a),e=0;e<n.length;e++)r.push(a[n[e]]);return r}for(var s in a)r.push(a[s]);return r},o.get=function(a,r,n,e){r=r.split(".").slice(n,e);for(var s=0;s<r.length;s+=1)a=a[r[s]];return a},o.set=function(a,r,n,e,s){var h=r.split(".").slice(e,s);return o.get(a,r,0,-1)[h[h.length-1]]=n,n},o.shuffle=function(a){for(var r=a.length-1;r>0;r--){var n=Math.floor(o.random()*(r+1)),e=a[r];a[r]=a[n],a[n]=e}return a},o.choose=function(a){return a[Math.floor(o.random()*a.length)]},o.isElement=function(a){return typeof HTMLElement<"u"?a instanceof HTMLElement:!!(a&&a.nodeType&&a.nodeName)},o.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"},o.isFunction=function(a){return typeof a=="function"},o.isPlainObject=function(a){return typeof a=="object"&&a.constructor===Object},o.isString=function(a){return toString.call(a)==="[object String]"},o.clamp=function(a,r,n){return a<r?r:a>n?n:a},o.sign=function(a){return a<0?-1:1},o.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-o._nowStartTime},o.random=function(a,r){return a=typeof a<"u"?a:0,r=typeof r<"u"?r:1,a+m()*(r-a)};var m=function(){return o._seed=(o._seed*9301+49297)%233280,o._seed/233280};o.colorToNumber=function(a){return a=a.replace("#",""),a.length==3&&(a=a.charAt(0)+a.charAt(0)+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2)),parseInt(a,16)},o.logLevel=1,o.log=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.info=function(){console&&o.logLevel>0&&o.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.warn=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.warnOnce=function(){var a=Array.prototype.slice.call(arguments).join(" ");o._warnedOnce[a]||(o.warn(a),o._warnedOnce[a]=!0)},o.deprecated=function(a,r,n){a[r]=o.chain(function(){o.warnOnce("🔅 deprecated 🔅",n)},a[r])},o.nextId=function(){return o._nextId++},o.indexOf=function(a,r){if(a.indexOf)return a.indexOf(r);for(var n=0;n<a.length;n++)if(a[n]===r)return n;return-1},o.map=function(a,r){if(a.map)return a.map(r);for(var n=[],e=0;e<a.length;e+=1)n.push(r(a[e]));return n},o.topologicalSort=function(a){var r=[],n=[],e=[];for(var s in a)!n[s]&&!e[s]&&o._topologicalSort(s,n,e,a,r);return r},o._topologicalSort=function(a,r,n,e,s){var h=e[a]||[];n[a]=!0;for(var i=0;i<h.length;i+=1){var l=h[i];n[l]||r[l]||o._topologicalSort(l,r,n,e,s)}n[a]=!1,r[a]=!0,s.push(a)},o.chain=function(){for(var a=[],r=0;r<arguments.length;r+=1){var n=arguments[r];n._chained?a.push.apply(a,n._chained):a.push(n)}var e=function(){for(var s,h=new Array(arguments.length),i=0,l=arguments.length;i<l;i++)h[i]=arguments[i];for(i=0;i<a.length;i+=1){var u=a[i].apply(s,h);typeof u<"u"&&(s=u)}return s};return e._chained=a,e},o.chainPathBefore=function(a,r,n){return o.set(a,r,o.chain(n,o.get(a,r)))},o.chainPathAfter=function(a,r,n){return o.set(a,r,o.chain(o.get(a,r),n))},o.setDecomp=function(a){o._decomp=a},o.getDecomp=function(){var a=o._decomp;try{!a&&typeof window<"u"&&(a=window.decomp),!a&&typeof t.g<"u"&&(a=t.g.decomp)}catch{a=null}return a}}()},48413:(v,S,t)=>{var o={};v.exports=o;var m=t(53614),a=t(66272),r=t(81388),n=t(99561),e=t(35810),s=t(69351),h=t(48140),i=t(53402),l=t(22562);(function(){o._deltaMax=16.666666666666668,o.create=function(u){u=u||{};var d={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},f=i.extend(d,u);return f.world=u.world||s.create({label:"World"}),f.pairs=u.pairs||n.create(),f.detector=u.detector||r.create(),f.detector.pairs=f.pairs,f.grid={buckets:[]},f.world.gravity=f.gravity,f.broadphase=f.grid,f.metrics={},f},o.update=function(u,d){var f=i.now(),p=u.world,g=u.detector,x=u.pairs,T=u.timing,E=T.timestamp,C;d>o._deltaMax&&i.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",o._deltaMax.toFixed(3),"ms."),d=typeof d<"u"?d:i._baseDelta,d*=T.timeScale,T.timestamp+=d,T.lastDelta=d;var R={timestamp:T.timestamp,delta:d};e.trigger(u,"beforeUpdate",R);var w=s.allBodies(p),F=s.allConstraints(p),I=s.allComposites(p);for(p.isModified&&(r.setBodies(g,w),s.setModified(p,!1,!1,!0)),u.enableSleeping&&m.update(w,d),o._bodiesApplyGravity(w,u.gravity),o.wrap(w,I),o.attractors(w),d>0&&o._bodiesUpdate(w,d),e.trigger(u,"beforeSolve",R),h.preSolveAll(w),C=0;C<u.constraintIterations;C++)h.solveAll(F,d);h.postSolveAll(w);var L=r.collisions(g);n.update(x,L,E),u.enableSleeping&&m.afterCollisions(x.list),x.collisionStart.length>0&&e.trigger(u,"collisionStart",{pairs:x.collisionStart,timestamp:T.timestamp,delta:d});var D=i.clamp(20/u.positionIterations,0,1);for(a.preSolvePosition(x.list),C=0;C<u.positionIterations;C++)a.solvePosition(x.list,d,D);for(a.postSolvePosition(w),h.preSolveAll(w),C=0;C<u.constraintIterations;C++)h.solveAll(F,d);for(h.postSolveAll(w),a.preSolveVelocity(x.list),C=0;C<u.velocityIterations;C++)a.solveVelocity(x.list,d);return o._bodiesUpdateVelocities(w),x.collisionActive.length>0&&e.trigger(u,"collisionActive",{pairs:x.collisionActive,timestamp:T.timestamp,delta:d}),x.collisionEnd.length>0&&e.trigger(u,"collisionEnd",{pairs:x.collisionEnd,timestamp:T.timestamp,delta:d}),o._bodiesClearForces(w),e.trigger(u,"afterUpdate",R),u.timing.lastElapsed=i.now()-f,u},o.merge=function(u,d){if(i.extend(u,d),d.world){u.world=d.world,o.clear(u);for(var f=s.allBodies(u.world),p=0;p<f.length;p++){var g=f[p];m.set(g,!1),g.id=i.nextId()}}},o.clear=function(u){n.clear(u.pairs),r.clear(u.detector)},o._bodiesClearForces=function(u){for(var d=u.length,f=0;f<d;f++){var p=u[f];p.force.x=0,p.force.y=0,p.torque=0}},o._bodiesApplyGravity=function(u,d){var f=typeof d.scale<"u"?d.scale:.001,p=u.length;if(!(d.x===0&&d.y===0||f===0))for(var g=0;g<p;g++){var x=u[g];x.ignoreGravity||x.isStatic||x.isSleeping||(x.force.y+=x.mass*d.y*f,x.force.x+=x.mass*d.x*f)}},o._bodiesUpdate=function(u,d){for(var f=u.length,p=0;p<f;p++){var g=u[p];g.isStatic||g.isSleeping||l.update(g,d)}},o._bodiesUpdateVelocities=function(u){for(var d=u.length,f=0;f<d;f++)l.updateVelocities(u[f])},o.wrap=function(u,d){for(var f=0;f<u.length;f+=1){var p=u[f];p.wrapBounds!==null&&l.wrap(p,p.wrapBounds)}for(f=0;f<d.length;f+=1){var g=d[f];g.wrapBounds!==null&&s.wrap(g,g.wrapBounds)}},o.attractors=function(u){for(var d=0;d<u.length;d++){var f=u[d],p=f.attractors;if(p&&p.length>0)for(var g=0;g<u.length;g++){var x=u[g];if(d!==g)for(var T=0;T<p.length;T++){var E=p[T],C=E;i.isFunction(E)&&(C=E(f,x)),C&&l.applyForce(x,x.position,C)}}}}})()},35810:(v,S,t)=>{var o={};v.exports=o;var m=t(53402);(function(){o.on=function(a,r,n){for(var e=r.split(" "),s,h=0;h<e.length;h++)s=e[h],a.events=a.events||{},a.events[s]=a.events[s]||[],a.events[s].push(n);return n},o.off=function(a,r,n){if(!r){a.events={};return}typeof r=="function"&&(n=r,r=m.keys(a.events).join(" "));for(var e=r.split(" "),s=0;s<e.length;s++){var h=a.events[e[s]],i=[];if(n&&h)for(var l=0;l<h.length;l++)h[l]!==n&&i.push(h[l]);a.events[e[s]]=i}},o.trigger=function(a,r,n){var e,s,h,i,l=a.events;if(l&&m.keys(l).length>0){n||(n={}),e=r.split(" ");for(var u=0;u<e.length;u++)if(s=e[u],h=l[s],h){i=m.clone(n,!1),i.name=s,i.source=a;for(var d=0;d<h.length;d++)h[d].apply(a,[i])}}}})()},6790:(v,S,t)=>{var o={};v.exports=o;var m=t(73832),a=t(53402);(function(){o.name="matter-js",o.version="0.20.0",o.uses=[],o.used=[],o.use=function(){m.use(o,Array.prototype.slice.call(arguments))},o.before=function(r,n){return r=r.replace(/^Matter./,""),a.chainPathBefore(o,r,n)},o.after=function(r,n){return r=r.replace(/^Matter./,""),a.chainPathAfter(o,r,n)}})()},73832:(v,S,t)=>{var o={};v.exports=o;var m=t(53402);(function(){o._registry={},o.register=function(a){if(o.isPlugin(a)||m.warn("Plugin.register:",o.toString(a),"does not implement all required fields."),a.name in o._registry){var r=o._registry[a.name],n=o.versionParse(a.version).number,e=o.versionParse(r.version).number;n>e?(m.warn("Plugin.register:",o.toString(r),"was upgraded to",o.toString(a)),o._registry[a.name]=a):n<e?m.warn("Plugin.register:",o.toString(r),"can not be downgraded to",o.toString(a)):a!==r&&m.warn("Plugin.register:",o.toString(a),"is already registered to different plugin object")}else o._registry[a.name]=a;return a},o.resolve=function(a){return o._registry[o.dependencyParse(a).name]},o.toString=function(a){return typeof a=="string"?a:(a.name||"anonymous")+"@"+(a.version||a.range||"0.0.0")},o.isPlugin=function(a){return a&&a.name&&a.version&&a.install},o.isUsed=function(a,r){return a.used.indexOf(r)>-1},o.isFor=function(a,r){var n=a.for&&o.dependencyParse(a.for);return!a.for||r.name===n.name&&o.versionSatisfies(r.version,n.range)},o.use=function(a,r){if(a.uses=(a.uses||[]).concat(r||[]),a.uses.length===0){m.warn("Plugin.use:",o.toString(a),"does not specify any dependencies to install.");return}for(var n=o.dependencies(a),e=m.topologicalSort(n),s=[],h=0;h<e.length;h+=1)if(e[h]!==a.name){var i=o.resolve(e[h]);if(!i){s.push("❌ "+e[h]);continue}o.isUsed(a,i.name)||(o.isFor(i,a)||(m.warn("Plugin.use:",o.toString(i),"is for",i.for,"but installed on",o.toString(a)+"."),i._warned=!0),i.install?i.install(a):(m.warn("Plugin.use:",o.toString(i),"does not specify an install function."),i._warned=!0),i._warned?(s.push("🔶 "+o.toString(i)),delete i._warned):s.push("✅ "+o.toString(i)),a.used.push(i.name))}s.length>0&&!i.silent&&m.info(s.join("  "))},o.dependencies=function(a,r){var n=o.dependencyParse(a),e=n.name;if(r=r||{},!(e in r)){a=o.resolve(a)||a,r[e]=m.map(a.uses||[],function(h){o.isPlugin(h)&&o.register(h);var i=o.dependencyParse(h),l=o.resolve(h);return l&&!o.versionSatisfies(l.version,i.range)?(m.warn("Plugin.dependencies:",o.toString(l),"does not satisfy",o.toString(i),"used by",o.toString(n)+"."),l._warned=!0,a._warned=!0):l||(m.warn("Plugin.dependencies:",o.toString(h),"used by",o.toString(n),"could not be resolved."),a._warned=!0),i.name});for(var s=0;s<r[e].length;s+=1)o.dependencies(r[e][s],r);return r}},o.dependencyParse=function(a){if(m.isString(a)){var r=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return r.test(a)||m.warn("Plugin.dependencyParse:",a,"is not a valid dependency string."),{name:a.split("@")[0],range:a.split("@")[1]||"*"}}return{name:a.name,range:a.range||a.version}},o.versionParse=function(a){var r=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;r.test(a)||m.warn("Plugin.versionParse:",a,"is not a valid version or range.");var n=r.exec(a),e=Number(n[4]),s=Number(n[5]),h=Number(n[6]);return{isRange:!!(n[1]||n[2]),version:n[3],range:a,operator:n[1]||n[2]||"",major:e,minor:s,patch:h,parts:[e,s,h],prerelease:n[7],number:e*1e8+s*1e4+h}},o.versionSatisfies=function(a,r){r=r||"*";var n=o.versionParse(r),e=o.versionParse(a);if(n.isRange){if(n.operator==="*"||a==="*")return!0;if(n.operator===">")return e.number>n.number;if(n.operator===">=")return e.number>=n.number;if(n.operator==="~")return e.major===n.major&&e.minor===n.minor&&e.patch>=n.patch;if(n.operator==="^")return n.major>0?e.major===n.major&&e.number>=n.number:n.minor>0?e.minor===n.minor&&e.patch>=n.patch:e.patch===n.patch}return a===r||a==="*"}})()},13037:(v,S,t)=>{var o={};v.exports=o;var m=t(35810),a=t(48413),r=t(53402);(function(){o._maxFrameDelta=66.66666666666667,o._frameDeltaFallback=16.666666666666668,o._timeBufferMargin=1.5,o._elapsedNextEstimate=1,o._smoothingLowerBound=.1,o._smoothingUpperBound=.9,o.create=function(e){var s={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},h=r.extend(s,e);return h.fps=0,h},o.run=function(e,s){return e.timeBuffer=o._frameDeltaFallback,function h(i){e.frameRequestId=o._onNextFrame(e,h),i&&e.enabled&&o.tick(e,s,i)}(),e},o.tick=function(e,s,h){var i=r.now(),l=e.delta,u=0,d=h-e.timeLastTick;if((!d||!e.timeLastTick||d>Math.max(o._maxFrameDelta,e.maxFrameTime))&&(d=e.frameDelta||o._frameDeltaFallback),e.frameDeltaSmoothing){e.frameDeltaHistory.push(d),e.frameDeltaHistory=e.frameDeltaHistory.slice(-e.frameDeltaHistorySize);var f=e.frameDeltaHistory.slice(0).sort(),p=e.frameDeltaHistory.slice(f.length*o._smoothingLowerBound,f.length*o._smoothingUpperBound),g=n(p);d=g||d}e.frameDeltaSnapping&&(d=1e3/Math.round(1e3/d)),e.frameDelta=d,e.timeLastTick=h,e.timeBuffer+=e.frameDelta,e.timeBuffer=r.clamp(e.timeBuffer,0,e.frameDelta+l*o._timeBufferMargin),e.lastUpdatesDeferred=0;var x=e.maxUpdates||Math.ceil(e.maxFrameTime/l),T={timestamp:s.timing.timestamp};m.trigger(e,"beforeTick",T),m.trigger(e,"tick",T);for(var E=r.now();l>0&&e.timeBuffer>=l*o._timeBufferMargin;){m.trigger(e,"beforeUpdate",T),a.update(s,l),m.trigger(e,"afterUpdate",T),e.timeBuffer-=l,u+=1;var C=r.now()-i,R=r.now()-E,w=C+o._elapsedNextEstimate*R/u;if(u>=x||w>e.maxFrameTime){e.lastUpdatesDeferred=Math.round(Math.max(0,e.timeBuffer/l-o._timeBufferMargin));break}}s.timing.lastUpdatesPerFrame=u,m.trigger(e,"afterTick",T),e.frameDeltaHistory.length>=100&&(e.lastUpdatesDeferred&&Math.round(e.frameDelta/l)>x?r.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):e.lastUpdatesDeferred&&r.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof e.isFixed<"u"&&r.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(e.deltaMin||e.deltaMax)&&r.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),e.fps!==0&&r.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},o.stop=function(e){o._cancelNextFrame(e)},o._onNextFrame=function(e,s){if(typeof window<"u"&&window.requestAnimationFrame)e.frameRequestId=window.requestAnimationFrame(s);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return e.frameRequestId},o._cancelNextFrame=function(e){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(e.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var n=function(e){for(var s=0,h=e.length,i=0;i<h;i+=1)s+=e[i];return s/h||0};o._mean=n})()},53614:(v,S,t)=>{var o={};v.exports=o;var m=t(22562),a=t(35810),r=t(53402);(function(){o._motionWakeThreshold=.18,o._motionSleepThreshold=.08,o._minBias=.9,o.update=function(n,e){for(var s=e/r._baseDelta,h=o._motionSleepThreshold,i=0;i<n.length;i++){var l=n[i],u=m.getSpeed(l),d=m.getAngularSpeed(l),f=u*u+d*d;if(l.force.x!==0||l.force.y!==0){o.set(l,!1);continue}var p=Math.min(l.motion,f),g=Math.max(l.motion,f);l.motion=o._minBias*p+(1-o._minBias)*g,l.sleepThreshold>0&&l.motion<h?(l.sleepCounter+=1,l.sleepCounter>=l.sleepThreshold/s&&o.set(l,!0)):l.sleepCounter>0&&(l.sleepCounter-=1)}},o.afterCollisions=function(n){for(var e=o._motionSleepThreshold,s=0;s<n.length;s++){var h=n[s];if(h.isActive){var i=h.collision,l=i.bodyA.parent,u=i.bodyB.parent;if(!(l.isSleeping&&u.isSleeping||l.isStatic||u.isStatic)&&(l.isSleeping||u.isSleeping)){var d=l.isSleeping&&!l.isStatic?l:u,f=d===l?u:l;!d.isStatic&&f.motion>e&&o.set(d,!1)}}}},o.set=function(n,e){var s=n.isSleeping;e?(n.isSleeping=!0,n.sleepCounter=n.sleepThreshold,n.positionImpulse.x=0,n.positionImpulse.y=0,n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.anglePrev=n.angle,n.speed=0,n.angularSpeed=0,n.motion=0,s||a.trigger(n,"sleepStart")):(n.isSleeping=!1,n.sleepCounter=0,s&&a.trigger(n,"sleepEnd"))}})()},66280:(v,S,t)=>{var o={};v.exports=o;var m=t(41598),a=t(53402),r=t(22562),n=t(15647),e=t(31725);(function(){o.rectangle=function(s,h,i,l,u){u=u||{};var d={label:"Rectangle Body",position:{x:s,y:h},vertices:m.fromPath("L 0 0 L "+i+" 0 L "+i+" "+l+" L 0 "+l)};if(u.chamfer){var f=u.chamfer;d.vertices=m.chamfer(d.vertices,f.radius,f.quality,f.qualityMin,f.qualityMax),delete u.chamfer}return r.create(a.extend({},d,u))},o.trapezoid=function(s,h,i,l,u,d){d=d||{},u>=1&&a.warn("Bodies.trapezoid: slope parameter must be < 1."),u*=.5;var f=(1-u*2)*i,p=i*u,g=p+f,x=g+p,T;u<.5?T="L 0 0 L "+p+" "+-l+" L "+g+" "+-l+" L "+x+" 0":T="L 0 0 L "+g+" "+-l+" L "+x+" 0";var E={label:"Trapezoid Body",position:{x:s,y:h},vertices:m.fromPath(T)};if(d.chamfer){var C=d.chamfer;E.vertices=m.chamfer(E.vertices,C.radius,C.quality,C.qualityMin,C.qualityMax),delete d.chamfer}return r.create(a.extend({},E,d))},o.circle=function(s,h,i,l,u){l=l||{};var d={label:"Circle Body",circleRadius:i};u=u||25;var f=Math.ceil(Math.max(10,Math.min(u,i)));return f%2===1&&(f+=1),o.polygon(s,h,f,i,a.extend({},d,l))},o.polygon=function(s,h,i,l,u){if(u=u||{},i<3)return o.circle(s,h,l,u);for(var d=2*Math.PI/i,f="",p=d*.5,g=0;g<i;g+=1){var x=p+g*d,T=Math.cos(x)*l,E=Math.sin(x)*l;f+="L "+T.toFixed(3)+" "+E.toFixed(3)+" "}var C={label:"Polygon Body",position:{x:s,y:h},vertices:m.fromPath(f)};if(u.chamfer){var R=u.chamfer;C.vertices=m.chamfer(C.vertices,R.radius,R.quality,R.qualityMin,R.qualityMax),delete u.chamfer}return r.create(a.extend({},C,u))},o.fromVertices=function(s,h,i,l,u,d,f,p){var g=a.getDecomp(),x,T,E,C,R,w,F,I,L,D,B;for(x=!!(g&&g.quickDecomp),l=l||{},E=[],u=typeof u<"u"?u:!1,d=typeof d<"u"?d:.01,f=typeof f<"u"?f:10,p=typeof p<"u"?p:.01,a.isArray(i[0])||(i=[i]),D=0;D<i.length;D+=1)if(w=i[D],C=m.isConvex(w),R=!C,R&&!x&&a.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),C||!x)C?w=m.clockwiseSort(w):w=m.hull(w),E.push({position:{x:s,y:h},vertices:w});else{var U=w.map(function(J){return[J.x,J.y]});g.makeCCW(U),d!==!1&&g.removeCollinearPoints(U,d),p!==!1&&g.removeDuplicatePoints&&g.removeDuplicatePoints(U,p);var W=g.quickDecomp(U);for(F=0;F<W.length;F++){var K=W[F],Y=K.map(function(J){return{x:J[0],y:J[1]}});f>0&&m.area(Y)<f||E.push({position:m.centre(Y),vertices:Y})}}for(F=0;F<E.length;F++)E[F]=r.create(a.extend(E[F],l));if(u){var G=5;for(F=0;F<E.length;F++){var X=E[F];for(I=F+1;I<E.length;I++){var V=E[I];if(n.overlaps(X.bounds,V.bounds)){var b=X.vertices,z=V.vertices;for(L=0;L<X.vertices.length;L++)for(B=0;B<V.vertices.length;B++){var k=e.magnitudeSquared(e.sub(b[(L+1)%b.length],z[B])),$=e.magnitudeSquared(e.sub(b[L],z[(B+1)%z.length]));k<G&&$<G&&(b[L].isInternal=!0,z[B].isInternal=!0)}}}}}return E.length>1?(T=r.create(a.extend({parts:E.slice(0)},l)),r.setPosition(T,{x:s,y:h}),T):E[0]},o.flagCoincidentParts=function(s,h){h===void 0&&(h=5);for(var i=0;i<s.length;i++)for(var l=s[i],u=i+1;u<s.length;u++){var d=s[u];if(n.overlaps(l.bounds,d.bounds))for(var f=l.vertices,p=d.vertices,g=0;g<l.vertices.length;g++)for(var x=0;x<d.vertices.length;x++){var T=e.magnitudeSquared(e.sub(f[(g+1)%f.length],p[x])),E=e.magnitudeSquared(e.sub(f[g],p[(x+1)%p.length]));T<h&&E<h&&(f[g].isInternal=!0,p[x].isInternal=!0)}}return s}})()},74116:(v,S,t)=>{var o={};v.exports=o;var m=t(69351),a=t(48140),r=t(53402),n=t(22562),e=t(66280);(function(){o.stack=function(s,h,i,l,u,d,f){for(var p=m.create({label:"Stack"}),g=s,x=h,T,E=0,C=0;C<l;C++){for(var R=0,w=0;w<i;w++){var F=f(g,x,w,C,T,E);if(F){var I=F.bounds.max.y-F.bounds.min.y,L=F.bounds.max.x-F.bounds.min.x;I>R&&(R=I),n.translate(F,{x:L*.5,y:I*.5}),g=F.bounds.max.x+u,m.addBody(p,F),T=F,E+=1}else g+=u}x+=R+d,g=s}return p},o.chain=function(s,h,i,l,u,d){for(var f=s.bodies,p=1;p<f.length;p++){var g=f[p-1],x=f[p],T=g.bounds.max.y-g.bounds.min.y,E=g.bounds.max.x-g.bounds.min.x,C=x.bounds.max.y-x.bounds.min.y,R=x.bounds.max.x-x.bounds.min.x,w={bodyA:g,pointA:{x:E*h,y:T*i},bodyB:x,pointB:{x:R*l,y:C*u}},F=r.extend(w,d);m.addConstraint(s,a.create(F))}return s.label+=" Chain",s},o.mesh=function(s,h,i,l,u){var d=s.bodies,f,p,g,x,T;for(f=0;f<i;f++){for(p=1;p<h;p++)g=d[p-1+f*h],x=d[p+f*h],m.addConstraint(s,a.create(r.extend({bodyA:g,bodyB:x},u)));if(f>0)for(p=0;p<h;p++)g=d[p+(f-1)*h],x=d[p+f*h],m.addConstraint(s,a.create(r.extend({bodyA:g,bodyB:x},u))),l&&p>0&&(T=d[p-1+(f-1)*h],m.addConstraint(s,a.create(r.extend({bodyA:T,bodyB:x},u)))),l&&p<h-1&&(T=d[p+1+(f-1)*h],m.addConstraint(s,a.create(r.extend({bodyA:T,bodyB:x},u))))}return s.label+=" Mesh",s},o.pyramid=function(s,h,i,l,u,d,f){return o.stack(s,h,i,l,u,d,function(p,g,x,T,E,C){var R=Math.min(l,Math.ceil(i/2)),w=E?E.bounds.max.x-E.bounds.min.x:0;if(!(T>R)){T=R-T;var F=T,I=i-1-T;if(!(x<F||x>I)){C===1&&n.translate(E,{x:(x+(i%2===1?1:-1))*w,y:0});var L=E?x*w:0;return f(s+L+x*u,g,x,T,E,C)}}})},o.newtonsCradle=function(s,h,i,l,u){for(var d=m.create({label:"Newtons Cradle"}),f=0;f<i;f++){var p=1.9,g=e.circle(s+f*(l*p),h+u,l,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),x=a.create({pointA:{x:s+f*(l*p),y:h},bodyB:g});m.addBody(d,g),m.addConstraint(d,x)}return d},o.car=function(s,h,i,l,u){var d=n.nextGroup(!0),f=20,p=-i*.5+f,g=i*.5-f,x=0,T=m.create({label:"Car"}),E=e.rectangle(s,h,i,l,{collisionFilter:{group:d},chamfer:{radius:l*.5},density:2e-4}),C=e.circle(s+p,h+x,u,{collisionFilter:{group:d},friction:.8}),R=e.circle(s+g,h+x,u,{collisionFilter:{group:d},friction:.8}),w=a.create({bodyB:E,pointB:{x:p,y:x},bodyA:C,stiffness:1,length:0}),F=a.create({bodyB:E,pointB:{x:g,y:x},bodyA:R,stiffness:1,length:0});return m.addBody(T,E),m.addBody(T,C),m.addBody(T,R),m.addConstraint(T,w),m.addConstraint(T,F),T},o.softBody=function(s,h,i,l,u,d,f,p,g,x){g=r.extend({inertia:1/0},g),x=r.extend({stiffness:.2,render:{type:"line",anchors:!1}},x);var T=o.stack(s,h,i,l,u,d,function(E,C){return e.circle(E,C,p,g)});return o.mesh(T,i,l,f,x),T.label="Soft Body",T}})()},66615:(v,S,t)=>{var o={};v.exports=o;var m=t(31725),a=t(53402);(function(){o.fromVertices=function(r){for(var n={},e=0;e<r.length;e++){var s=(e+1)%r.length,h=m.normalise({x:r[s].y-r[e].y,y:r[e].x-r[s].x}),i=h.y===0?1/0:h.x/h.y;i=i.toFixed(3).toString(),n[i]=h}return a.values(n)},o.rotate=function(r,n){if(n!==0)for(var e=Math.cos(n),s=Math.sin(n),h=0;h<r.length;h++){var i=r[h],l;l=i.x*e-i.y*s,i.y=i.x*s+i.y*e,i.x=l}}})()},15647:v=>{var S={};v.exports=S,function(){S.create=function(t){var o={min:{x:0,y:0},max:{x:0,y:0}};return t&&S.update(o,t),o},S.update=function(t,o,m){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var a=0;a<o.length;a++){var r=o[a];r.x>t.max.x&&(t.max.x=r.x),r.x<t.min.x&&(t.min.x=r.x),r.y>t.max.y&&(t.max.y=r.y),r.y<t.min.y&&(t.min.y=r.y)}m&&(m.x>0?t.max.x+=m.x:t.min.x+=m.x,m.y>0?t.max.y+=m.y:t.min.y+=m.y)},S.contains=function(t,o){return o.x>=t.min.x&&o.x<=t.max.x&&o.y>=t.min.y&&o.y<=t.max.y},S.overlaps=function(t,o){return t.min.x<=o.max.x&&t.max.x>=o.min.x&&t.max.y>=o.min.y&&t.min.y<=o.max.y},S.translate=function(t,o){t.min.x+=o.x,t.max.x+=o.x,t.min.y+=o.y,t.max.y+=o.y},S.shift=function(t,o){var m=t.max.x-t.min.x,a=t.max.y-t.min.y;t.min.x=o.x,t.max.x=o.x+m,t.min.y=o.y,t.max.y=o.y+a},S.wrap=function(t,o,m){var a=null,r=null;if(typeof o.min.x<"u"&&typeof o.max.x<"u"&&(t.min.x>o.max.x?a=o.min.x-t.max.x:t.max.x<o.min.x&&(a=o.max.x-t.min.x)),typeof o.min.y<"u"&&typeof o.max.y<"u"&&(t.min.y>o.max.y?r=o.min.y-t.max.y:t.max.y<o.min.y&&(r=o.max.y-t.min.y)),a!==null||r!==null)return{x:a||0,y:r||0}}}()},74058:(v,S,t)=>{var o={};v.exports=o,t(15647);var m=t(53402);(function(){o.pathToVertices=function(a,r){typeof window<"u"&&!("SVGPathSeg"in window)&&m.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var n,e,s,h,i,l,u,d,f,p,g=[],x,T,E=0,C=0,R=0;r=r||15;var w=function(I,L,D){var B=D%2===1&&D>1;if(!f||I!=f.x||L!=f.y){f&&B?(x=f.x,T=f.y):(x=0,T=0);var U={x:x+I,y:T+L};(B||!f)&&(f=U),g.push(U),C=x+I,R=T+L}},F=function(I){var L=I.pathSegTypeAsLetter.toUpperCase();if(L!=="Z"){switch(L){case"M":case"L":case"T":case"C":case"S":case"Q":C=I.x,R=I.y;break;case"H":C=I.x;break;case"V":R=I.y;break}w(C,R,I.pathSegType)}};for(o._svgPathToAbsolute(a),s=a.getTotalLength(),l=[],n=0;n<a.pathSegList.numberOfItems;n+=1)l.push(a.pathSegList.getItem(n));for(u=l.concat();E<s;){if(p=a.getPathSegAtLength(E),i=l[p],i!=d){for(;u.length&&u[0]!=i;)F(u.shift());d=i}switch(i.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":h=a.getPointAtLength(E),w(h.x,h.y,0);break}E+=r}for(n=0,e=u.length;n<e;++n)F(u[n]);return g},o._svgPathToAbsolute=function(a){for(var r,n,e,s,h,i,l=a.pathSegList,u=0,d=0,f=l.numberOfItems,p=0;p<f;++p){var g=l.getItem(p),x=g.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(x))"x"in g&&(u=g.x),"y"in g&&(d=g.y);else switch("x1"in g&&(e=u+g.x1),"x2"in g&&(h=u+g.x2),"y1"in g&&(s=d+g.y1),"y2"in g&&(i=d+g.y2),"x"in g&&(u+=g.x),"y"in g&&(d+=g.y),x){case"m":l.replaceItem(a.createSVGPathSegMovetoAbs(u,d),p);break;case"l":l.replaceItem(a.createSVGPathSegLinetoAbs(u,d),p);break;case"h":l.replaceItem(a.createSVGPathSegLinetoHorizontalAbs(u),p);break;case"v":l.replaceItem(a.createSVGPathSegLinetoVerticalAbs(d),p);break;case"c":l.replaceItem(a.createSVGPathSegCurvetoCubicAbs(u,d,e,s,h,i),p);break;case"s":l.replaceItem(a.createSVGPathSegCurvetoCubicSmoothAbs(u,d,h,i),p);break;case"q":l.replaceItem(a.createSVGPathSegCurvetoQuadraticAbs(u,d,e,s),p);break;case"t":l.replaceItem(a.createSVGPathSegCurvetoQuadraticSmoothAbs(u,d),p);break;case"a":l.replaceItem(a.createSVGPathSegArcAbs(u,d,g.r1,g.r2,g.angle,g.largeArcFlag,g.sweepFlag),p);break;case"z":case"Z":u=r,d=n;break}(x=="M"||x=="m")&&(r=u,n=d)}}})()},31725:v=>{var S={};v.exports=S,function(){S.create=function(t,o){return{x:t||0,y:o||0}},S.clone=function(t){return{x:t.x,y:t.y}},S.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},S.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},S.rotate=function(t,o,m){var a=Math.cos(o),r=Math.sin(o);m||(m={});var n=t.x*a-t.y*r;return m.y=t.x*r+t.y*a,m.x=n,m},S.rotateAbout=function(t,o,m,a){var r=Math.cos(o),n=Math.sin(o);a||(a={});var e=m.x+((t.x-m.x)*r-(t.y-m.y)*n);return a.y=m.y+((t.x-m.x)*n+(t.y-m.y)*r),a.x=e,a},S.normalise=function(t){var o=S.magnitude(t);return o===0?{x:0,y:0}:{x:t.x/o,y:t.y/o}},S.dot=function(t,o){return t.x*o.x+t.y*o.y},S.cross=function(t,o){return t.x*o.y-t.y*o.x},S.cross3=function(t,o,m){return(o.x-t.x)*(m.y-t.y)-(o.y-t.y)*(m.x-t.x)},S.add=function(t,o,m){return m||(m={}),m.x=t.x+o.x,m.y=t.y+o.y,m},S.sub=function(t,o,m){return m||(m={}),m.x=t.x-o.x,m.y=t.y-o.y,m},S.mult=function(t,o){return{x:t.x*o,y:t.y*o}},S.div=function(t,o){return{x:t.x/o,y:t.y/o}},S.perp=function(t,o){return o=o===!0?-1:1,{x:o*-t.y,y:o*t.x}},S.neg=function(t){return{x:-t.x,y:-t.y}},S.angle=function(t,o){return Math.atan2(o.y-t.y,o.x-t.x)},S._temp=[S.create(),S.create(),S.create(),S.create(),S.create(),S.create()]}()},41598:(v,S,t)=>{var o={};v.exports=o;var m=t(31725),a=t(53402);(function(){o.create=function(r,n){for(var e=[],s=0;s<r.length;s++){var h=r[s],i={x:h.x,y:h.y,index:s,body:n,isInternal:!1};e.push(i)}return e},o.fromPath=function(r,n){var e=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,s=[];return r.replace(e,function(h,i,l){s.push({x:parseFloat(i),y:parseFloat(l)})}),o.create(s,n)},o.centre=function(r){for(var n=o.area(r,!0),e={x:0,y:0},s,h,i,l=0;l<r.length;l++)i=(l+1)%r.length,s=m.cross(r[l],r[i]),h=m.mult(m.add(r[l],r[i]),s),e=m.add(e,h);return m.div(e,6*n)},o.mean=function(r){for(var n={x:0,y:0},e=0;e<r.length;e++)n.x+=r[e].x,n.y+=r[e].y;return m.div(n,r.length)},o.area=function(r,n){for(var e=0,s=r.length-1,h=0;h<r.length;h++)e+=(r[s].x-r[h].x)*(r[s].y+r[h].y),s=h;return n?e/2:Math.abs(e)/2},o.inertia=function(r,n){for(var e=0,s=0,h=r,i,l,u=0;u<h.length;u++)l=(u+1)%h.length,i=Math.abs(m.cross(h[l],h[u])),e+=i*(m.dot(h[l],h[l])+m.dot(h[l],h[u])+m.dot(h[u],h[u])),s+=i;return n/6*(e/s)},o.translate=function(r,n,e){e=typeof e<"u"?e:1;var s=r.length,h=n.x*e,i=n.y*e,l;for(l=0;l<s;l++)r[l].x+=h,r[l].y+=i;return r},o.rotate=function(r,n,e){if(n!==0){var s=Math.cos(n),h=Math.sin(n),i=e.x,l=e.y,u=r.length,d,f,p,g;for(g=0;g<u;g++)d=r[g],f=d.x-i,p=d.y-l,d.x=i+(f*s-p*h),d.y=l+(f*h+p*s);return r}},o.contains=function(r,n){for(var e=n.x,s=n.y,h=r.length,i=r[h-1],l,u=0;u<h;u++){if(l=r[u],(e-i.x)*(l.y-i.y)+(s-i.y)*(i.x-l.x)>0)return!1;i=l}return!0},o.scale=function(r,n,e,s){if(n===1&&e===1)return r;s=s||o.centre(r);for(var h,i,l=0;l<r.length;l++)h=r[l],i=m.sub(h,s),r[l].x=s.x+i.x*n,r[l].y=s.y+i.y*e;return r},o.chamfer=function(r,n,e,s,h){typeof n=="number"?n=[n]:n=n||[8],e=typeof e<"u"?e:-1,s=s||2,h=h||14;for(var i=[],l=0;l<r.length;l++){var u=r[l-1>=0?l-1:r.length-1],d=r[l],f=r[(l+1)%r.length],p=n[l<n.length?l:n.length-1];if(p===0){i.push(d);continue}var g=m.normalise({x:d.y-u.y,y:u.x-d.x}),x=m.normalise({x:f.y-d.y,y:d.x-f.x}),T=Math.sqrt(2*Math.pow(p,2)),E=m.mult(a.clone(g),p),C=m.normalise(m.mult(m.add(g,x),.5)),R=m.sub(d,m.mult(C,T)),w=e;e===-1&&(w=Math.pow(p,.32)*1.75),w=a.clamp(w,s,h),w%2===1&&(w+=1);for(var F=Math.acos(m.dot(g,x)),I=F/w,L=0;L<w;L++)i.push(m.add(m.rotate(E,I*L),R))}return i},o.clockwiseSort=function(r){var n=o.mean(r);return r.sort(function(e,s){return m.angle(n,e)-m.angle(n,s)}),r},o.isConvex=function(r){var n=0,e=r.length,s,h,i,l;if(e<3)return null;for(s=0;s<e;s++)if(h=(s+1)%e,i=(s+2)%e,l=(r[h].x-r[s].x)*(r[i].y-r[h].y),l-=(r[h].y-r[s].y)*(r[i].x-r[h].x),l<0?n|=1:l>0&&(n|=2),n===3)return!1;return n!==0?!0:null},o.hull=function(r){var n=[],e=[],s,h;for(r=r.slice(0),r.sort(function(i,l){var u=i.x-l.x;return u!==0?u:i.y-l.y}),h=0;h<r.length;h+=1){for(s=r[h];e.length>=2&&m.cross3(e[e.length-2],e[e.length-1],s)<=0;)e.pop();e.push(s)}for(h=r.length-1;h>=0;h-=1){for(s=r[h];n.length>=2&&m.cross3(n[n.length-2],n[n.length-1],s)<=0;)n.pop();n.push(s)}return n.pop(),e.pop(),n.concat(e)}})()},55973:v=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={decomp:F,quickDecomp:B,isSimple:L,removeCollinearPoints:U,removeDuplicatePoints:W,makeCCW:f};function S(G,X,V){V=V||0;var b=[0,0],z,k,$,J,j,q,_;return z=G[1][1]-G[0][1],k=G[0][0]-G[1][0],$=z*G[0][0]+k*G[0][1],J=X[1][1]-X[0][1],j=X[0][0]-X[1][0],q=J*X[0][0]+j*X[0][1],_=z*j-J*k,K(_,0,V)||(b[0]=(j*$-k*q)/_,b[1]=(z*q-J*$)/_),b}function t(G,X,V,b){var z=X[0]-G[0],k=X[1]-G[1],$=b[0]-V[0],J=b[1]-V[1];if($*k-J*z===0)return!1;var j=(z*(V[1]-G[1])+k*(G[0]-V[0]))/($*k-J*z),q=($*(G[1]-V[1])+J*(V[0]-G[0]))/(J*z-$*k);return j>=0&&j<=1&&q>=0&&q<=1}function o(G,X,V){return(X[0]-G[0])*(V[1]-G[1])-(V[0]-G[0])*(X[1]-G[1])}function m(G,X,V){return o(G,X,V)>0}function a(G,X,V){return o(G,X,V)>=0}function r(G,X,V){return o(G,X,V)<0}function n(G,X,V){return o(G,X,V)<=0}var e=[],s=[];function h(G,X,V,b){if(b){var z=e,k=s;z[0]=X[0]-G[0],z[1]=X[1]-G[1],k[0]=V[0]-X[0],k[1]=V[1]-X[1];var $=z[0]*k[0]+z[1]*k[1],J=Math.sqrt(z[0]*z[0]+z[1]*z[1]),j=Math.sqrt(k[0]*k[0]+k[1]*k[1]),q=Math.acos($/(J*j));return q<b}else return o(G,X,V)===0}function i(G,X){var V=X[0]-G[0],b=X[1]-G[1];return V*V+b*b}function l(G,X){var V=G.length;return G[X<0?X%V+V:X%V]}function u(G){G.length=0}function d(G,X,V,b){for(var z=V;z<b;z++)G.push(X[z])}function f(G){for(var X=0,V=G,b=1;b<G.length;++b)(V[b][1]<V[X][1]||V[b][1]===V[X][1]&&V[b][0]>V[X][0])&&(X=b);return m(l(G,X-1),l(G,X),l(G,X+1))?!1:(p(G),!0)}function p(G){for(var X=[],V=G.length,b=0;b!==V;b++)X.push(G.pop());for(var b=0;b!==V;b++)G[b]=X[b]}function g(G,X){return r(l(G,X-1),l(G,X),l(G,X+1))}var x=[],T=[];function E(G,X,V){var b,z,k=x,$=T;if(a(l(G,X+1),l(G,X),l(G,V))&&n(l(G,X-1),l(G,X),l(G,V)))return!1;z=i(l(G,X),l(G,V));for(var J=0;J!==G.length;++J)if(!((J+1)%G.length===X||J===X)&&a(l(G,X),l(G,V),l(G,J+1))&&n(l(G,X),l(G,V),l(G,J))&&(k[0]=l(G,X),k[1]=l(G,V),$[0]=l(G,J),$[1]=l(G,J+1),b=S(k,$),i(l(G,X),b)<z))return!1;return!0}function C(G,X,V){for(var b=0;b!==G.length;++b)if(!(b===X||b===V||(b+1)%G.length===X||(b+1)%G.length===V)&&t(l(G,X),l(G,V),l(G,b),l(G,b+1)))return!1;return!0}function R(G,X,V,b){var z=b||[];if(u(z),X<V)for(var k=X;k<=V;k++)z.push(G[k]);else{for(var k=0;k<=V;k++)z.push(G[k]);for(var k=X;k<G.length;k++)z.push(G[k])}return z}function w(G){for(var X=[],V=[],b=[],z=[],k=Number.MAX_VALUE,$=0;$<G.length;++$)if(g(G,$)){for(var J=0;J<G.length;++J)if(E(G,$,J)){V=w(R(G,$,J,z)),b=w(R(G,J,$,z));for(var j=0;j<b.length;j++)V.push(b[j]);V.length<k&&(X=V,k=V.length,X.push([l(G,$),l(G,J)]))}}return X}function F(G){var X=w(G);return X.length>0?I(G,X):[G]}function I(G,X){if(X.length===0)return[G];if(X instanceof Array&&X.length&&X[0]instanceof Array&&X[0].length===2&&X[0][0]instanceof Array){for(var V=[G],b=0;b<X.length;b++)for(var z=X[b],k=0;k<V.length;k++){var $=V[k],J=I($,z);if(J){V.splice(k,1),V.push(J[0],J[1]);break}}return V}else{var z=X,b=G.indexOf(z[0]),k=G.indexOf(z[1]);return b!==-1&&k!==-1?[R(G,b,k),R(G,k,b)]:!1}}function L(G){var X=G,V;for(V=0;V<X.length-1;V++)for(var b=0;b<V-1;b++)if(t(X[V],X[V+1],X[b],X[b+1]))return!1;for(V=1;V<X.length-2;V++)if(t(X[0],X[X.length-1],X[V],X[V+1]))return!1;return!0}function D(G,X,V,b,z){z=z||0;var k=X[1]-G[1],$=G[0]-X[0],J=k*G[0]+$*G[1],j=b[1]-V[1],q=V[0]-b[0],_=j*V[0]+q*V[1],tt=k*q-j*$;return K(tt,0,z)?[0,0]:[(q*J-$*_)/tt,(k*_-j*J)/tt]}function B(G,X,V,b,z,k,$){k=k||100,$=$||0,z=z||25,X=typeof X<"u"?X:[],V=V||[],b=b||[];var J=[0,0],j=[0,0],q=[0,0],_=0,tt=0,et=0,at=0,ot=0,nt=0,vt=0,pt=[],gt=[],rt=G,ut=G;if(ut.length<3)return X;if($++,$>k)return console.warn("quickDecomp: max level ("+k+") reached."),X;for(var ft=0;ft<G.length;++ft)if(g(rt,ft)){V.push(rt[ft]),_=tt=Number.MAX_VALUE;for(var St=0;St<G.length;++St)m(l(rt,ft-1),l(rt,ft),l(rt,St))&&n(l(rt,ft-1),l(rt,ft),l(rt,St-1))&&(q=D(l(rt,ft-1),l(rt,ft),l(rt,St),l(rt,St-1)),r(l(rt,ft+1),l(rt,ft),q)&&(et=i(rt[ft],q),et<tt&&(tt=et,j=q,nt=St))),m(l(rt,ft+1),l(rt,ft),l(rt,St+1))&&n(l(rt,ft+1),l(rt,ft),l(rt,St))&&(q=D(l(rt,ft+1),l(rt,ft),l(rt,St),l(rt,St+1)),m(l(rt,ft-1),l(rt,ft),q)&&(et=i(rt[ft],q),et<_&&(_=et,J=q,ot=St)));if(nt===(ot+1)%G.length)q[0]=(j[0]+J[0])/2,q[1]=(j[1]+J[1])/2,b.push(q),ft<ot?(d(pt,rt,ft,ot+1),pt.push(q),gt.push(q),nt!==0&&d(gt,rt,nt,rt.length),d(gt,rt,0,ft+1)):(ft!==0&&d(pt,rt,ft,rt.length),d(pt,rt,0,ot+1),pt.push(q),gt.push(q),d(gt,rt,nt,ft+1));else{if(nt>ot&&(ot+=G.length),at=Number.MAX_VALUE,ot<nt)return X;for(var St=nt;St<=ot;++St)a(l(rt,ft-1),l(rt,ft),l(rt,St))&&n(l(rt,ft+1),l(rt,ft),l(rt,St))&&(et=i(l(rt,ft),l(rt,St)),et<at&&C(rt,ft,St)&&(at=et,vt=St%G.length));ft<vt?(d(pt,rt,ft,vt+1),vt!==0&&d(gt,rt,vt,ut.length),d(gt,rt,0,ft+1)):(ft!==0&&d(pt,rt,ft,ut.length),d(pt,rt,0,vt+1),d(gt,rt,vt,ft+1))}return pt.length<gt.length?(B(pt,X,V,b,z,k,$),B(gt,X,V,b,z,k,$)):(B(gt,X,V,b,z,k,$),B(pt,X,V,b,z,k,$)),X}return X.push(G),X}function U(G,X){for(var V=0,b=G.length-1;G.length>3&&b>=0;--b)h(l(G,b-1),l(G,b),l(G,b+1),X)&&(G.splice(b%G.length,1),V++);return V}function W(G,X){for(var V=G.length-1;V>=1;--V)for(var b=G[V],z=V-1;z>=0;--z)if(Y(b,G[z],X)){G.splice(V,1);continue}}function K(G,X,V){return V=V||0,Math.abs(G-X)<=V}function Y(G,X,V){return K(G[0],X[0],V)&&K(G[1],X[1],V)}},52018:(v,S,t)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var o=t(83419),m=new o({initialize:function(r){this.pluginManager=r,this.game=r.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});v.exports=m},42363:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};v.exports=S},37277:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={},t={},o={};o.register=function(m,a,r,n){n===void 0&&(n=!1),S[m]={plugin:a,mapping:r,custom:n}},o.registerCustom=function(m,a,r,n){t[m]={plugin:a,mapping:r,data:n}},o.hasCore=function(m){return S.hasOwnProperty(m)},o.hasCustom=function(m){return t.hasOwnProperty(m)},o.getCore=function(m){return S[m]},o.getCustom=function(m){return t[m]},o.getCustomClass=function(m){return t.hasOwnProperty(m)?t[m].plugin:null},o.remove=function(m){S.hasOwnProperty(m)&&delete S[m]},o.removeCustom=function(m){t.hasOwnProperty(m)&&delete t[m]},o.destroyCorePlugins=function(){for(var m in S)S.hasOwnProperty(m)&&delete S[m]},o.destroyCustomPlugins=function(){for(var m in t)t.hasOwnProperty(m)&&delete t[m]},v.exports=o},77332:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(8443),a=t(50792),r=t(74099),n=t(44603),e=t(39429),s=t(95540),h=t(37277),i=t(72905),l=t(8054),u=new o({Extends:a,initialize:function(f){a.call(this),this.game=f,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],f.isBooted||f.config.renderType===l.HEADLESS?this.boot():f.events.once(m.BOOT,this.boot,this)},boot:function(){var d,f,p,g,x,T,E,C=this.game.config,R=C.installGlobalPlugins;for(R=R.concat(this._pendingGlobal),d=0;d<R.length;d++)f=R[d],p=s(f,"key",null),g=s(f,"plugin",null),x=s(f,"start",!1),T=s(f,"mapping",null),E=s(f,"data",null),p&&(g?this.install(p,g,x,T,E):console.warn("Missing `plugin` for key: "+p));for(R=C.installScenePlugins,R=R.concat(this._pendingScene),d=0;d<R.length;d++)f=R[d],p=s(f,"key",null),g=s(f,"plugin",null),T=s(f,"mapping",null),p&&(g?this.installScenePlugin(p,g,T):console.warn("Missing `plugin` for key: "+p));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(m.DESTROY,this.destroy,this)},addToScene:function(d,f,p){var g,x,T,E=this.game,C=d.scene,R=d.settings.map,w=d.settings.isBooted;for(g=0;g<f.length;g++)x=f[g],E[x]?(d[x]=E[x],R.hasOwnProperty(x)&&(C[R[x]]=d[x])):x==="game"&&R.hasOwnProperty(x)&&(C[R[x]]=E);for(var F=0;F<p.length;F++)for(T=p[F],g=0;g<T.length;g++)if(x=T[g],!!h.hasCore(x)){var I=h.getCore(x),L=I.mapping,D=new I.plugin(C,this,L);d[L]=D,I.custom?C[L]=D:R.hasOwnProperty(L)&&(C[R[L]]=D),w&&D.boot()}for(T=this.plugins,g=0;g<T.length;g++){var B=T[g];B.mapping&&(C[B.mapping]=B.plugin)}},getDefaultScenePlugins:function(){var d=this.game.config.defaultPlugins;return d=d.concat(this.scenePlugins),d},installScenePlugin:function(d,f,p,g,x){if(x===void 0&&(x=!1),typeof f!="function"){console.warn("Invalid Scene Plugin: "+d);return}if(h.hasCore(d)||h.register(d,f,p,!0),this.scenePlugins.indexOf(d)===-1)this.scenePlugins.push(d);else if(!x&&h.hasCore(d)){console.warn("Scene Plugin key in use: "+d);return}if(g){var T=new f(g,this,d);g.sys[d]=T,p&&p!==""&&(g[p]=T),T.boot()}},install:function(d,f,p,g,x){if(p===void 0&&(p=!1),g===void 0&&(g=null),x===void 0&&(x=null),typeof f!="function")return console.warn("Invalid Plugin: "+d),null;if(h.hasCustom(d))return console.warn("Plugin key in use: "+d),null;if(g!==null&&(p=!0),!this.game.isBooted)this._pendingGlobal.push({key:d,plugin:f,start:p,mapping:g,data:x});else if(h.registerCustom(d,f,g,x),p)return this.start(d);return null},getIndex:function(d){for(var f=this.plugins,p=0;p<f.length;p++){var g=f[p];if(g.key===d)return p}return-1},getEntry:function(d){var f=this.getIndex(d);if(f!==-1)return this.plugins[f]},isActive:function(d){var f=this.getEntry(d);return f&&f.active},start:function(d,f){f===void 0&&(f=d);var p=this.getEntry(f);return p&&!p.active?(p.active=!0,p.plugin.start()):p||(p=this.createEntry(d,f)),p?p.plugin:null},createEntry:function(d,f){var p=h.getCustom(d);if(p){var g=new p.plugin(this);p={key:f,plugin:g,active:!0,mapping:p.mapping,data:p.data},this.plugins.push(p),g.init(p.data),g.start()}return p},stop:function(d){var f=this.getEntry(d);return f&&f.active&&(f.active=!1,f.plugin.stop()),this},get:function(d,f){f===void 0&&(f=!0);var p=this.getEntry(d);if(p)return p.plugin;var g=this.getClass(d);return g&&f?(p=this.createEntry(d,d),p?p.plugin:null):g||null},getClass:function(d){return h.getCustomClass(d)},removeGlobalPlugin:function(d){var f=this.getEntry(d);f&&i(this.plugins,f),h.removeCustom(d)},removeScenePlugin:function(d){i(this.scenePlugins,d),h.remove(d)},registerGameObject:function(d,f,p){return f&&e.register(d,f),p&&n.register(d,p),this},removeGameObject:function(d,f,p){return f===void 0&&(f=!0),p===void 0&&(p=!0),f&&e.remove(d),p&&n.remove(d),this},registerFileType:function(d,f,p){r.register(d,f),p&&p.sys.load&&(p.sys.load[d]=f)},destroy:function(){for(var d=0;d<this.plugins.length;d++)this.plugins[d].plugin.destroy();h.destroyCustomPlugins(),this.game.noReturn&&h.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});v.exports=u},45145:(v,S,t)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var o=t(52018),m=t(83419),a=t(44594),r=new m({Extends:o,initialize:function(e,s,h){o.call(this,s),this.scene=e,this.systems=e.sys,this.pluginKey=h,e.sys.events.once(a.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});v.exports=r},18922:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={BasePlugin:t(52018),DefaultPlugins:t(42363),PluginCache:t(37277),PluginManager:t(77332),ScenePlugin:t(45145)}},63595:()=>{typeof HTMLVideoElement<"u"&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(v){const S=performance.now(),t=this.getVideoPlaybackQuality(),o=this.mozPresentedFrames||this.mozPaintedFrames||t.totalVideoFrames-t.droppedVideoFrames,m=(a,r)=>{const n=this.getVideoPlaybackQuality(),e=this.mozPresentedFrames||this.mozPaintedFrames||n.totalVideoFrames-n.droppedVideoFrames;if(e>o){const s=this.mozFrameDelay||n.totalFrameDelay-t.totalFrameDelay||0,h=r-a;v(r,{presentationTime:r+s*1e3,expectedDisplayTime:r+h,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+h/1e3,presentedFrames:e,processingDuration:s}),delete this._rvfcpolyfillmap[S]}else this._rvfcpolyfillmap[S]=requestAnimationFrame(s=>m(r,s))};return this._rvfcpolyfillmap[S]=requestAnimationFrame(a=>m(S,a)),S},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(v){cancelAnimationFrame(this._rvfcpolyfillmap[v]),delete this._rvfcpolyfillmap[v]})},10312:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={DEFAULT:0,LINEAR:0,NEAREST:1};v.exports=S},68627:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(19715),m=t(32880),a=t(83419),r=t(8054),n=t(50792),e=t(92503),s=t(56373),h=t(97480),i=t(69442),l=t(8443),u=t(61340),d=new a({Extends:n,initialize:function(p){n.call(this);var g=p.config;this.config={clearBeforeRender:g.clearBeforeRender,backgroundColor:g.backgroundColor,antialias:g.antialias,roundPixels:g.roundPixels,transparent:g.transparent},this.game=p,this.type=r.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=p.canvas;var x={alpha:g.transparent,desynchronized:g.desynchronized,willReadFrequently:!1};this.gameContext=g.context?g.context:this.gameCanvas.getContext("2d",x),this.currentContext=this.gameContext,this.antialias=g.antialias,this.blendModes=s(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new u,this._tempMatrix2=new u,this._tempMatrix3=new u,this.isBooted=!1,this.init()},init:function(){var f=this.game;f.events.once(l.BOOT,function(){var p=this.config;if(!p.transparent){var g=this.gameContext,x=this.gameCanvas;g.fillStyle=p.backgroundColor.rgba,g.fillRect(0,0,x.width,x.height)}},this),f.textures.once(i.READY,this.boot,this)},boot:function(){var f=this.game,p=f.scale.baseSize;this.width=p.width,this.height=p.height,this.isBooted=!0,f.scale.on(h.RESIZE,this.onResize,this),this.resize(p.width,p.height)},onResize:function(f,p){(p.width!==this.width||p.height!==this.height)&&this.resize(p.width,p.height)},resize:function(f,p){this.width=f,this.height=p,this.emit(e.RESIZE,f,p)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(f){return this.currentContext.globalCompositeOperation=f,this},setContext:function(f){return this.currentContext=f||this.gameContext,this},setAlpha:function(f){return this.currentContext.globalAlpha=f,this},preRender:function(){var f=this.gameContext,p=this.config,g=this.width,x=this.height;f.globalAlpha=1,f.globalCompositeOperation="source-over",f.setTransform(1,0,0,1,0,0),this.emit(e.PRE_RENDER_CLEAR),p.clearBeforeRender&&(f.clearRect(0,0,g,x),p.transparent||(f.fillStyle=p.backgroundColor.rgba,f.fillRect(0,0,g,x))),f.save(),this.drawCount=0,this.emit(e.PRE_RENDER)},render:function(f,p,g){var x=p.length;this.emit(e.RENDER,f,g);var T=g.x,E=g.y,C=g.width,R=g.height,w=g.renderToTexture?g.context:f.sys.context;w.save(),this.game.scene.customViewports&&(w.beginPath(),w.rect(T,E,C,R),w.clip()),g.emit(o.PRE_RENDER,g),this.currentContext=w;var F=g.mask;F&&F.preRenderCanvas(this,null,g._maskCamera),g.transparent||(w.fillStyle=g.backgroundColor.rgba,w.fillRect(T,E,C,R)),w.globalAlpha=g.alpha,w.globalCompositeOperation="source-over",this.drawCount+=x,g.renderToTexture&&g.emit(o.PRE_RENDER,g),g.matrix.copyToContext(w);for(var I=0;I<x;I++){var L=p[I];L.mask&&L.mask.preRenderCanvas(this,L,g),L.renderCanvas(this,L,g),L.mask&&L.mask.postRenderCanvas(this,L,g)}w.setTransform(1,0,0,1,0,0),w.globalCompositeOperation="source-over",w.globalAlpha=1,g.flashEffect.postRenderCanvas(w),g.fadeEffect.postRenderCanvas(w),g.dirty=!1,F&&F.postRenderCanvas(this),w.restore(),g.renderToTexture&&(g.emit(o.POST_RENDER,g),g.renderToGame&&f.sys.context.drawImage(g.canvas,T,E)),g.emit(o.POST_RENDER,g)},postRender:function(){var f=this.gameContext;f.restore(),this.emit(e.POST_RENDER);var p=this.snapshotState;p.callback&&(m(this.gameCanvas,p),p.callback=null)},snapshotCanvas:function(f,p,g,x,T,E,C,R,w){g===void 0&&(g=!1),this.snapshotArea(x,T,E,C,p,R,w);var F=this.snapshotState;return F.getPixel=g,m(f,F),F.callback=null,this},snapshot:function(f,p,g){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,f,p,g)},snapshotArea:function(f,p,g,x,T,E,C){var R=this.snapshotState;return R.callback=T,R.type=E,R.encoder=C,R.getPixel=!1,R.x=f,R.y=p,R.width=Math.min(g,this.gameCanvas.width),R.height=Math.min(x,this.gameCanvas.height),this},snapshotPixel:function(f,p,g){return this.snapshotArea(f,p,1,1,g),this.snapshotState.getPixel=!0,this},batchSprite:function(f,p,g,x){var T=g.alpha*f.alpha;if(T!==0){var E=this.currentContext,C=this._tempMatrix1,R=this._tempMatrix2,w=p.canvasData,F=w.x,I=w.y,L=p.cutWidth,D=p.cutHeight,B=p.customPivot,U=p.source.resolution,W=f.displayOriginX,K=f.displayOriginY,Y=-W+p.x,G=-K+p.y;if(f.isCropped){var X=f._crop;(X.flipX!==f.flipX||X.flipY!==f.flipY)&&p.updateCropUVs(X,f.flipX,f.flipY),L=X.cw,D=X.ch,F=X.cx,I=X.cy,Y=-W+X.x,G=-K+X.y,f.flipX&&(Y>=0?Y=-(Y+L):Y<0&&(Y=Math.abs(Y)-L)),f.flipY&&(G>=0?G=-(G+D):G<0&&(G=Math.abs(G)-D))}var V=1,b=1;f.flipX&&(B||(Y+=-p.realWidth+W*2),V=-1),f.flipY&&(B||(G+=-p.realHeight+K*2),b=-1);var z=f.x,k=f.y;if(g.roundPixels&&(z=Math.floor(z),k=Math.floor(k)),R.applyITRS(z,k,f.rotation,f.scaleX*V,f.scaleY*b),C.copyFrom(g.matrix),x?(C.multiplyWithOffset(x,-g.scrollX*f.scrollFactorX,-g.scrollY*f.scrollFactorY),R.e=z,R.f=k):(R.e-=g.scrollX*f.scrollFactorX,R.f-=g.scrollY*f.scrollFactorY),C.multiply(R),g.renderRoundPixels&&(C.e=Math.floor(C.e+.5),C.f=Math.floor(C.f+.5)),E.save(),C.setToContext(E),E.globalCompositeOperation=this.blendModes[f.blendMode],E.globalAlpha=T,E.imageSmoothingEnabled=!p.source.scaleMode,f.mask&&f.mask.preRenderCanvas(this,f,g),L>0&&D>0){var $=L/U,J=D/U;g.roundPixels&&(Y=Math.floor(Y+.5),G=Math.floor(G+.5),$+=.5,J+=.5),E.drawImage(p.source.image,F,I,L,D,Y,G,$,J)}f.mask&&f.mask.postRenderCanvas(this,f,g),E.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});v.exports=d},55830:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CanvasRenderer:t(68627),GetBlendModes:t(56373),SetTransform:t(20926)}},56373:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10312),m=t(89289),a=function(){var r=[],n=m.supportNewBlendModes,e="source-over";return r[o.NORMAL]=e,r[o.ADD]="lighter",r[o.MULTIPLY]=n?"multiply":e,r[o.SCREEN]=n?"screen":e,r[o.OVERLAY]=n?"overlay":e,r[o.DARKEN]=n?"darken":e,r[o.LIGHTEN]=n?"lighten":e,r[o.COLOR_DODGE]=n?"color-dodge":e,r[o.COLOR_BURN]=n?"color-burn":e,r[o.HARD_LIGHT]=n?"hard-light":e,r[o.SOFT_LIGHT]=n?"soft-light":e,r[o.DIFFERENCE]=n?"difference":e,r[o.EXCLUSION]=n?"exclusion":e,r[o.HUE]=n?"hue":e,r[o.SATURATION]=n?"saturation":e,r[o.COLOR]=n?"color":e,r[o.LUMINOSITY]=n?"luminosity":e,r[o.ERASE]="destination-out",r[o.SOURCE_IN]="source-in",r[o.SOURCE_OUT]="source-out",r[o.SOURCE_ATOP]="source-atop",r[o.DESTINATION_OVER]="destination-over",r[o.DESTINATION_IN]="destination-in",r[o.DESTINATION_OUT]="destination-out",r[o.DESTINATION_ATOP]="destination-atop",r[o.LIGHTER]="lighter",r[o.COPY]="copy",r[o.XOR]="xor",r};v.exports=a},20926:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91296),m=function(a,r,n,e,s){var h=e.alpha*n.alpha;if(h<=0)return!1;var i=o(n,e,s).calc;return r.globalCompositeOperation=a.blendModes[n.blendMode],r.globalAlpha=h,r.save(),i.setToContext(r),r.imageSmoothingEnabled=n.frame?!n.frame.source.scaleMode:a.antialias,!0};v.exports=m},63899:v=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="losewebgl"},6119:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="postrender"},48070:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="prerender"},15640:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="render"},8912:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resize"},87124:v=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="restorewebgl"},92503:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={LOSE_WEBGL:t(63899),POST_RENDER:t(6119),PRE_RENDER:t(48070),RENDER:t(15640),RESIZE:t(8912),RESTORE_WEBGL:t(87124)}},36909:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Events:t(92503),Snapshot:t(89966)},v.exports.Canvas=t(55830),v.exports.WebGL=t(4159)},32880:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(27919),m=t(40987),a=t(95540),r=function(n,e){var s=a(e,"callback"),h=a(e,"type","image/png"),i=a(e,"encoder",.92),l=Math.abs(Math.round(a(e,"x",0))),u=Math.abs(Math.round(a(e,"y",0))),d=Math.floor(a(e,"width",n.width)),f=Math.floor(a(e,"height",n.height)),p=a(e,"getPixel",!1);if(p){var g=n.getContext("2d",{willReadFrequently:!1}),x=g.getImageData(l,u,1,1),T=x.data;s.call(null,new m(T[0],T[1],T[2],T[3]))}else if(l!==0||u!==0||d!==n.width||f!==n.height){var E=o.createWebGL(this,d,f),C=E.getContext("2d",{willReadFrequently:!0});d>0&&f>0&&C.drawImage(n,l,u,d,f,0,0,d,f);var R=new Image;R.onerror=function(){s.call(null),o.remove(E)},R.onload=function(){s.call(null,R),o.remove(E)},R.src=E.toDataURL(h,i)}else{var w=new Image;w.onerror=function(){s.call(null)},w.onload=function(){s.call(null,w)},w.src=n.toDataURL(h,i)}};v.exports=r},88815:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(27919),m=t(40987),a=t(95540),r=function(n,e){var s=n,h=a(e,"callback"),i=a(e,"type","image/png"),l=a(e,"encoder",.92),u=Math.abs(Math.round(a(e,"x",0))),d=Math.abs(Math.round(a(e,"y",0))),f=a(e,"getPixel",!1),p=a(e,"isFramebuffer",!1),g=p?a(e,"bufferWidth",1):s.drawingBufferWidth,x=p?a(e,"bufferHeight",1):s.drawingBufferHeight;if(f){var T=new Uint8Array(4),E=p?d:x-d;s.readPixels(u,E,1,1,s.RGBA,s.UNSIGNED_BYTE,T),h.call(null,new m(T[0],T[1],T[2],T[3]))}else{var C=Math.floor(a(e,"width",g)),R=Math.floor(a(e,"height",x)),w=C*R*4,F=new Uint8Array(w);s.readPixels(u,x-d-R,C,R,s.RGBA,s.UNSIGNED_BYTE,F);for(var I=o.createWebGL(this,C,R),L=I.getContext("2d",{willReadFrequently:!0}),D=L.getImageData(0,0,C,R),B=D.data,U=0;U<R;U++)for(var W=0;W<C;W++){var K=((R-U-1)*C+W)*4,Y=p?w-(U*C+(C-W))*4:(U*C+W)*4;B[Y+0]=F[K+0],B[Y+1]=F[K+1],B[Y+2]=F[K+2],B[Y+3]=F[K+3]}L.putImageData(D,0,0);var G=new Image;G.onerror=function(){h.call(null),o.remove(I)},G.onload=function(){h.call(null,G),o.remove(I)},G.src=I.toDataURL(i,l)}};v.exports=r},89966:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Canvas:t(32880),WebGL:t(88815)}},7530:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(36060),a=t(90330),r=t(82264),n=t(95540),e=t(32302),s=t(63448),h=t(31302),i=t(58918),l=t(14811),u=t(92651),d=t(96569),f=t(56527),p=t(57516),g=t(43439),x=t(81041),T=t(12385),E=t(7589),C=t(95428),R=t(72905),w=new o({initialize:function(I){this.game=I.game,this.renderer=I,this.classes=new a([[m.UTILITY_PIPELINE,E],[m.MULTI_PIPELINE,p],[m.BITMAPMASK_PIPELINE,h],[m.SINGLE_PIPELINE,T],[m.ROPE_PIPELINE,x],[m.LIGHT_PIPELINE,d],[m.POINTLIGHT_PIPELINE,g],[m.MOBILE_PIPELINE,f]]),this.postPipelineClasses=new a,this.pipelines=new a,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(F,I,L){var D=this.renderer,B=this.renderTargets;this.frameInc=Math.floor(n(F,"frameInc",32));var U=D.width,W=D.height,K=this.game.config.disablePreFX,Y=this.game.config.disablePostFX;if(Y||this.postPipelineClasses.setAll([[String(l.BARREL),i.Barrel],[String(l.BLOOM),i.Bloom],[String(l.BLUR),i.Blur],[String(l.BOKEH),i.Bokeh],[String(l.CIRCLE),i.Circle],[String(l.COLOR_MATRIX),i.ColorMatrix],[String(l.DISPLACEMENT),i.Displacement],[String(l.GLOW),i.Glow],[String(l.GRADIENT),i.Gradient],[String(l.PIXELATE),i.Pixelate],[String(l.SHADOW),i.Shadow],[String(l.SHINE),i.Shine],[String(l.VIGNETTE),i.Vignette],[String(l.WIPE),i.Wipe]]),!K){this.classes.set(m.FX_PIPELINE,u);for(var G=Math.min(U,W),X=Math.ceil(G/this.frameInc),V=1;V<X;V++){var b=V*this.frameInc;B.push(new e(D,b,b)),B.push(new e(D,b,b)),B.push(new e(D,b,b)),this.maxDimension=b}B.push(new e(D,U,W,1,0,!0,!0)),B.push(new e(D,U,W,1,0,!0,!0)),B.push(new e(D,U,W,1,0,!0,!0))}var z,k,$=this,J=this.game;if(this.classes.each(function(q,_){z=$.add(q,new _({game:J})),q===m.UTILITY_PIPELINE&&($.UTILITY_PIPELINE=z,$.fullFrame1=z.fullFrame1,$.fullFrame2=z.fullFrame2,$.halfFrame1=z.halfFrame1,$.halfFrame2=z.halfFrame2)}),this.MULTI_PIPELINE=this.get(m.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(m.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(m.MOBILE_PIPELINE),K||(this.FX_PIPELINE=this.get(m.FX_PIPELINE)),F)for(k in F){var j=F[k];z=new j(J),z.name=k,z.isPostFX?this.postPipelineClasses.set(k,j):this.has(k)||(this.classes.set(k,j),this.add(k,z))}this.default=this.get(I),L&&!r.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(F){var I=this.get(F);return I&&(this.default=I),I},add:function(F,I){if(I.isPostFX){console.warn(F+" is a Post Pipeline. Use `addPostPipeline` instead");return}var L=this.pipelines,D=this.renderer;return L.has(F)?console.warn("Pipeline exists: "+F):(I.name=F,I.manager=this,L.set(F,I)),I.hasBooted||I.boot(),D.width!==0&&D.height!==0&&!I.isPreFX&&I.resize(D.width,D.height),I},addPostPipeline:function(F,I){this.postPipelineClasses.has(F)||this.postPipelineClasses.set(F,I)},flush:function(){this.current&&this.current.flush()},has:function(F){var I=this.pipelines;return typeof F=="string"?I.has(F):!!I.contains(F)},get:function(F){var I=this.pipelines;if(typeof F=="string")return I.get(F);if(I.contains(F))return F},getPostPipeline:function(F,I,L){var D=this.postPipelineClasses,B,U="",W=typeof F;if(W==="string"||W==="number"?(B=D.get(F),U=F):W==="function"?(D.contains(F)&&(B=F),U=F.name):W==="object"&&(B=D.get(F.name),U=F.name),B){var K=new B(this.game,L);return K.name=U,I&&(K.gameObject=I),this.postPipelineInstances.push(K),K}},removePostPipeline:function(F){R(this.postPipelineInstances,F)},remove:function(F,I,L){I===void 0&&(I=!0),L===void 0&&(L=!0),this.pipelines.delete(F),I&&this.classes.delete(F),L&&this.postPipelineClasses.delete(F)},set:function(F,I,L){if(!F.isPostFX)return this.isCurrent(F,L)||(this.flush(),this.current&&this.current.unbind(),this.current=F,F.bind(L)),F.updateProjectionMatrix(),F.onBind(I),F},preBatch:function(F){if(F.hasPostPipeline){this.flush();for(var I=F.postPipelines,L=I.length-1;L>=0;L--){var D=I[L];D.active&&D.preBatch(F)}}},postBatch:function(F){if(F.hasPostPipeline){this.flush();for(var I=F.postPipelines,L=0;L<I.length;L++){var D=I[L];D.active&&D.postBatch(F)}}},preBatchCamera:function(F){if(F.hasPostPipeline){this.flush();for(var I=F.postPipelines,L=I.length-1;L>=0;L--){var D=I[L];D.active&&D.preBatch(F)}}},postBatchCamera:function(F){if(F.hasPostPipeline){this.flush();for(var I=F.postPipelines,L=0;L<I.length;L++){var D=I[L];D.active&&D.postBatch(F)}}},isCurrent:function(F,I){var L=this.renderer,D=this.current;return D&&!I&&(I=D.currentShader),!(D!==F||I.program!==L.currentProgram)},copyFrame:function(F,I,L,D,B){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(F,I,L,D,B),this},copyToGame:function(F){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(F),this},drawFrame:function(F,I,L,D){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(F,I,L,D),this},blendFrames:function(F,I,L,D,B){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(F,I,L,D,B),this},blendFramesAdditive:function(F,I,L,D,B){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(F,I,L,D,B),this},clearFrame:function(F,I){return this.UTILITY_PIPELINE.clearFrame(F,I),this},blitFrame:function(F,I,L,D,B,U){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(F,I,L,D,B,U),this},copyFrameRect:function(F,I,L,D,B,U,W,K){return this.UTILITY_PIPELINE.copyFrameRect(F,I,L,D,B,U,W,K),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(F){return this.UTILITY_PIPELINE.bind(F)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(F,I){I.restoreContext()}),C(this.postPipelineInstances,function(F){F.restoreContext()})},rebind:function(F){F===void 0&&this.previous&&(F=this.previous);var I=this.renderer,L=I.gl;L.disable(L.DEPTH_TEST),L.disable(L.CULL_FACE),I.hasActiveStencilMask()?L.clear(L.DEPTH_BUFFER_BIT):(L.disable(L.STENCIL_TEST),L.clear(L.DEPTH_BUFFER_BIT|L.STENCIL_BUFFER_BIT)),L.viewport(0,0,I.width,I.height),I.currentProgram=null,I.setBlendMode(0,!0);var D=I.vaoExtension;D&&D.bindVertexArrayOES(null);var B=this.pipelines.entries;for(var U in B)B[U].glReset=!0;F&&(this.current=F,F.rebind())},clear:function(){var F=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,F.currentProgram=null,F.setBlendMode(0,!0);var I=F.vaoExtension;I&&I.bindVertexArrayOES(null)},getRenderTarget:function(F){var I=this.renderTargets,L=3;if(F>this.maxDimension)return this.targetIndex=I.length-L,I[this.targetIndex];var D=(s(F,this.frameInc,0,!0)-1)*L;return this.targetIndex=D,I[D]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});v.exports=w},32302:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(92503),a=new o({initialize:function(n,e,s,h,i,l,u,d,f){h===void 0&&(h=1),i===void 0&&(i=0),l===void 0&&(l=!0),u===void 0&&(u=!1),d===void 0&&(d=!0),f===void 0&&(f=!0),this.renderer=n,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=h,this.minFilter=i,this.autoClear=l,this.autoResize=!0,this.hasDepthBuffer=d,this.forceClamp=f,this.init(e,s),u?this.renderer.on(m.RESIZE,this.resize,this):this.autoResize=!1},init:function(r,n){var e=this.renderer;this.texture=e.createTextureFromSource(null,r,n,this.minFilter,this.forceClamp),this.framebuffer=e.createFramebuffer(r,n,this.texture,this.hasDepthBuffer),this.width=r,this.height=n},setAutoResize:function(r){return r&&!this.autoResize?(this.renderer.on(m.RESIZE,this.resize,this),this.autoResize=!0):!r&&this.autoResize&&(this.renderer.off(m.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(r,n){if(this.autoResize&&this.willResize(r,n)){var e=this.renderer;e.deleteFramebuffer(this.framebuffer),e.deleteTexture(this.texture),this.texture=e.createTextureFromSource(null,r,n,this.minFilter,this.forceClamp),this.framebuffer=e.createFramebuffer(r,n,this.texture,this.hasDepthBuffer),this.width=r,this.height=n}return this},willResize:function(r,n){return typeof r!="number"||typeof n!="number"?!1:(r=Math.round(r*this.scale),n=Math.round(n*this.scale),r=Math.max(r,1),n=Math.max(n,1),r!==this.width||n!==this.height)},bind:function(r,n,e){r===void 0&&(r=!1);var s=this.renderer;if(r&&s.flush(),n&&e&&this.resize(n,e),s.pushFramebuffer(this.framebuffer,!1,!1),r&&this.adjustViewport(),this.autoClear){var h=this.renderer.gl;h.clearColor(0,0,0,0),h.clear(h.COLOR_BUFFER_BIT)}s.clearStencilMask()},adjustViewport:function(){var r=this.renderer.gl;r.viewport(0,0,this.width,this.height),r.disable(r.SCISSOR_TEST)},clear:function(r,n,e,s){var h=this.renderer,i=h.gl;h.pushFramebuffer(this.framebuffer),r!==void 0&&n!==void 0&&e!==void 0&&s!==void 0?(i.enable(i.SCISSOR_TEST),i.scissor(r,n,e,s)):i.disable(i.SCISSOR_TEST),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT),h.popFramebuffer(),h.resetScissor()},unbind:function(r){r===void 0&&(r=!1);var n=this.renderer;return r&&n.flush(),n.popFramebuffer()},destroy:function(){var r=this.renderer;r.off(m.RESIZE,this.resize,this),r.deleteFramebuffer(this.framebuffer),r.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});v.exports=a},70554:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={getTintFromFloats:function(S,t,o,m){var a=(S*255|0)&255,r=(t*255|0)&255,n=(o*255|0)&255,e=(m*255|0)&255;return(e<<24|a<<16|r<<8|n)>>>0},getTintAppendFloatAlpha:function(S,t){var o=(t*255|0)&255;return(o<<24|S)>>>0},getTintAppendFloatAlphaAndSwap:function(S,t){var o=(S>>16|0)&255,m=(S>>8|0)&255,a=(S|0)&255,r=(t*255|0)&255;return(r<<24|a<<16|m<<8|o)>>>0},getFloatsFromUintRGB:function(S){var t=(S>>16|0)&255,o=(S>>8|0)&255,m=(S|0)&255;return[t/255,o/255,m/255]},checkShaderMax:function(S,t){var o=Math.min(16,S.getParameter(S.MAX_TEXTURE_IMAGE_UNITS));return!t||t===-1?o:Math.min(o,t)},parseFragmentShaderMaxTextures:function(S,t){if(!S)return"";for(var o="",m=0;m<t;m++)m>0&&(o+=`
	else `),m<t-1&&(o+="if (outTexId < "+m+".5)"),o+=`
	{`,o+=`
		texture = texture2D(uMainSampler[`+m+"], outTexCoord);",o+=`
	}`;return S=S.replace(/%count%/gi,t.toString()),S.replace(/%forloop%/gi,o)},setGlowQuality:function(S,t,o,m){return o===void 0&&(o=t.config.glowFXQuality),m===void 0&&(m=t.config.glowFXDistance),S=S.replace(/__SIZE__/gi,(1/o/m).toFixed(7)),S=S.replace(/__DIST__/gi,m.toFixed(0)+".0"),S}}},29100:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(62644),a=t(50792),r=t(77085),n=t(95540),e=t(37867),s=t(92503),h=t(32302),i=t(70554),l=t(38683),u=new o({Extends:a,initialize:function(f){a.call(this);var p=f.game,g=p.renderer,x=g.gl;this.name=n(f,"name","WebGLPipeline"),this.game=p,this.renderer=g,this.manager,this.gl=x,this.view=p.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=n(f,"topology",x.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=n(f,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=f,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=n(f,"resizeUniform","")},boot:function(){var d,f=this.gl,p=this.config,g=this.renderer;this.isPostFX||(this.projectionMatrix=new e().identity());var x=this.renderTargets,T=n(p,"renderTarget",!1);typeof T=="boolean"&&T&&(T=1);var E=g.width,C=g.height;if(typeof T=="number")for(d=0;d<T;d++)x.push(new h(g,E,C,1,0,!0));else if(Array.isArray(T))for(d=0;d<T.length;d++){var R=n(T[d],"scale",1),w=n(T[d],"minFilter",0),F=n(T[d],"autoClear",1),I=n(T[d],"autoResize",!1),L=n(T[d],"width",null),D=n(T[d],"height",L);L?x.push(new h(g,L,D,1,w,F,I)):x.push(new h(g,E,C,R,w,F,I))}x.length&&(this.currentRenderTarget=x[0]),this.setShadersFromConfig(p);var B=this.shaders,U=0;for(d=0;d<B.length;d++)B[d].vertexSize>U&&(U=B[d].vertexSize);var W=n(p,"batchSize",g.config.batchSize);this.vertexCapacity=W*6;var K=new ArrayBuffer(this.vertexCapacity*U);this.vertexData=K,this.bytes=new Uint8Array(K),this.vertexViewF32=new Float32Array(K),this.vertexViewU32=new Uint32Array(K);var Y=n(p,"vertices",null);for(Y?(this.vertexViewF32.set(Y),this.vertexBuffer=g.createVertexBuffer(K,f.STATIC_DRAW)):this.vertexBuffer=g.createVertexBuffer(K.byteLength,f.DYNAMIC_DRAW),this.setVertexBuffer(),d=B.length-1;d>=0;d--)B[d].rebind();this.hasBooted=!0,g.on(s.RESIZE,this.resize,this),g.on(s.PRE_RENDER,this.onPreRender,this),g.on(s.RENDER,this.onRender,this),g.on(s.POST_RENDER,this.onPostRender,this),this.emit(r.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(d,f,p){var g=this.renderer;if(d!==this.currentShader||g.currentProgram!==this.currentShader.program){this.flush();var x=this.setVertexBuffer(p);x&&!f&&(f=!0),d.bind(f,!1),this.currentShader=d}return this},getShaderByName:function(d){for(var f=this.shaders,p=0;p<f.length;p++)if(f[p].name===d)return f[p]},setShadersFromConfig:function(d){var f,p=this.shaders,g=this.renderer;for(f=0;f<p.length;f++)p[f].destroy();var x="vertShader",T="fragShader",E="attributes",C=n(d,x,null),R=i.parseFragmentShaderMaxTextures(n(d,T,null),g.maxTextures),w=n(d,E,null),F=n(d,"shaders",[]),I=F.length;if(I===0)C&&R&&(this.shaders=[new l(this,"default",C,R,m(w))]);else{var L=[];for(f=0;f<I;f++){var D=F[f],B,U,W,K;if(typeof D=="string"?(B="default",U=C,W=i.parseFragmentShaderMaxTextures(D,g.maxTextures),K=w):(B=n(D,"name","default"),U=n(D,x,C),W=i.parseFragmentShaderMaxTextures(n(D,T,R),g.maxTextures),K=n(D,E,w)),B==="default"){var Y=W.split(`
`),G=Y[0].trim();G.indexOf("#define SHADER_NAME")>-1&&(B=G.substring(20))}U&&W&&L.push(new l(this,B,U,W,m(K)))}this.shaders=L}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(d){return this.currentBatch={start:this.vertexCount,count:0,texture:[d],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=d,this.batch.push(this.currentBatch),0},addTextureToBatch:function(d){var f=this.currentBatch;f&&(f.texture.push(d),f.unit++,f.maxUnit++)},pushBatch:function(d){if(!this.currentBatch||this.forceZero&&d!==this.currentTexture)return this.createBatch(d);if(d===this.currentTexture)return this.currentUnit;var f=this.currentBatch,p=f.texture.indexOf(d);return p===-1?f.texture.length===this.renderer.maxTextures?this.createBatch(d):(f.unit++,f.maxUnit++,f.texture.push(d),this.currentUnit=f.unit,this.currentTexture=d,f.unit):(this.currentUnit=p,this.currentTexture=d,p)},setGameObject:function(d,f){return f===void 0&&(f=d.frame),this.pushBatch(f.source.glTexture)},shouldFlush:function(d){return d===void 0&&(d=0),this.vertexCount+d>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(d,f){(d!==this.width||f!==this.height)&&this.flush(),this.width=d,this.height=f;for(var p=this.renderTargets,g=0;g<p.length;g++)p[g].resize(d,f);return this.setProjectionMatrix(d,f),this.resizeUniform&&this.set2f(this.resizeUniform,d,f),this.emit(r.RESIZE,d,f,this),this.onResize(d,f),this},setProjectionMatrix:function(d,f){var p=this.projectionMatrix;if(!p)return this;this.projectionWidth=d,this.projectionHeight=f,p.ortho(0,d,f,0,-1e3,1e3);for(var g=this.shaders,x="uProjectionMatrix",T=0;T<g.length;T++){var E=g[T];E.hasUniform(x)&&(E.resetUniform(x),E.setMatrix4fv(x,!1,p.val,E))}return this},flipProjectionMatrix:function(d){d===void 0&&(d=!0);var f=this.projectionMatrix;if(!f)return this;var p=this.projectionWidth,g=this.projectionHeight;d?f.ortho(0,p,0,g,-1e3,1e3):f.ortho(0,p,g,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,f.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var d=this.renderer.projectionWidth,f=this.renderer.projectionHeight;(this.projectionWidth!==d||this.projectionHeight!==f)&&this.setProjectionMatrix(d,f)}},bind:function(d){if(d===void 0&&(d=this.currentShader),this.glReset)return this.rebind(d);var f=!1,p=this.gl;return p.getParameter(p.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(p.bindBuffer(p.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,f=!0),d.bind(f),this.currentShader=d,this.activeTextures.length=0,this.emit(r.BIND,this,d),this.onActive(d),this},rebind:function(d){this.activeBuffer=null,this.setVertexBuffer();for(var f=this.shaders,p=f.length-1;p>=0;p--){var g=f[p].rebind();(!d||g===d)&&(this.currentShader=g)}return this.activeTextures.length=0,this.emit(r.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var d=this.shaders,f=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,f&&this.setVertexBuffer();for(var p=0;p<d.length;p++){var g=d[p];g.syncUniforms(),f&&g.rebind()}},setVertexBuffer:function(d){if(d===void 0&&(d=this.vertexBuffer),d!==this.activeBuffer){var f=this.gl;return this.gl.bindBuffer(f.ARRAY_BUFFER,d.webGLBuffer),this.activeBuffer=d,!0}return!1},preBatch:function(d){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(d),this},postBatch:function(d){return this.onDraw(this.currentRenderTarget),this.onPostBatch(d),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(d){if(d===void 0&&(d=!1),this.vertexCount>0){this.emit(r.BEFORE_FLUSH,this,d),this.onBeforeFlush(d);var f=this.gl,p=this.vertexCount,g=this.currentShader.vertexSize,x=this.topology;if(this.active){this.setVertexBuffer(),p===this.vertexCapacity?f.bufferData(f.ARRAY_BUFFER,this.vertexData,f.DYNAMIC_DRAW):f.bufferSubData(f.ARRAY_BUFFER,0,this.bytes.subarray(0,p*g));var T,E,C,R=this.batch,w=this.activeTextures;if(this.forceZero)for(w[0]||f.activeTexture(f.TEXTURE0),T=0;T<R.length;T++)E=R[T],C=E.texture[0],w[0]!==C&&(f.bindTexture(f.TEXTURE_2D,C.webGLTexture),w[0]=C),f.drawArrays(x,E.start,E.count);else for(T=0;T<R.length;T++){E=R[T];for(var F=0;F<=E.maxUnit;F++)C=E.texture[F],w[F]!==C&&(f.activeTexture(f.TEXTURE0+F),f.bindTexture(f.TEXTURE_2D,C.webGLTexture),w[F]=C);f.drawArrays(x,E.start,E.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(r.AFTER_FLUSH,this,d),this.onAfterFlush(d)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(d,f,p,g,x,T,E){var C=this.vertexViewF32,R=this.vertexViewU32,w=this.vertexCount*this.currentShader.vertexComponentCount-1;C[++w]=d,C[++w]=f,C[++w]=p,C[++w]=g,C[++w]=x,C[++w]=T,R[++w]=E,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(d,f,p,g,x,T,E,C,R,w,F,I,L,D,B,U,W,K,Y,G){G===void 0&&(G=this.currentUnit);var X=!1;this.shouldFlush(6)&&(this.flush(),X=!0),this.currentBatch||(G=this.setTexture2D(Y));var V=this.vertexViewF32,b=this.vertexViewU32,z=this.vertexCount*this.currentShader.vertexComponentCount-1;return V[++z]=f,V[++z]=p,V[++z]=w,V[++z]=F,V[++z]=G,V[++z]=K,b[++z]=D,V[++z]=g,V[++z]=x,V[++z]=w,V[++z]=L,V[++z]=G,V[++z]=K,b[++z]=U,V[++z]=T,V[++z]=E,V[++z]=I,V[++z]=L,V[++z]=G,V[++z]=K,b[++z]=W,V[++z]=f,V[++z]=p,V[++z]=w,V[++z]=F,V[++z]=G,V[++z]=K,b[++z]=D,V[++z]=T,V[++z]=E,V[++z]=I,V[++z]=L,V[++z]=G,V[++z]=K,b[++z]=W,V[++z]=C,V[++z]=R,V[++z]=I,V[++z]=F,V[++z]=G,V[++z]=K,b[++z]=B,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(d),X},batchTri:function(d,f,p,g,x,T,E,C,R,w,F,I,L,D,B,U,W){W===void 0&&(W=this.currentUnit);var K=!1;this.shouldFlush(3)&&(this.flush(),K=!0),this.currentBatch||(W=this.setTexture2D(U));var Y=this.vertexViewF32,G=this.vertexViewU32,X=this.vertexCount*this.currentShader.vertexComponentCount-1;return Y[++X]=f,Y[++X]=p,Y[++X]=C,Y[++X]=R,Y[++X]=W,Y[++X]=B,G[++X]=I,Y[++X]=g,Y[++X]=x,Y[++X]=C,Y[++X]=F,Y[++X]=W,Y[++X]=B,G[++X]=L,Y[++X]=T,Y[++X]=E,Y[++X]=w,Y[++X]=F,Y[++X]=W,Y[++X]=B,G[++X]=D,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(d),K},drawFillRect:function(d,f,p,g,x,T,E,C){E===void 0&&(E=this.renderer.whiteTexture),C===void 0&&(C=!0),d=Math.floor(d),f=Math.floor(f);var R=Math.floor(d+p),w=Math.floor(f+g),F=this.setTexture2D(E),I=i.getTintAppendFloatAlphaAndSwap(x,T),L=0,D=0,B=1,U=1;C&&(D=1,U=0),this.batchQuad(null,d,f,d,w,R,w,R,f,L,D,B,U,I,I,I,I,0,E,F)},setTexture2D:function(d){return d===void 0&&(d=this.renderer.whiteTexture),this.pushBatch(d)},bindTexture:function(d,f){f===void 0&&(f=0);var p=this.gl;return p.activeTexture(p.TEXTURE0+f),p.bindTexture(p.TEXTURE_2D,d.webGLTexture),this},bindRenderTarget:function(d,f){return this.bindTexture(d.texture,f)},setTime:function(d,f){return this.set1f(d,this.game.loop.getDuration(),f),this},setBoolean:function(d,f,p){return p===void 0&&(p=this.currentShader),p.setBoolean(d,f),this},set1f:function(d,f,p){return p===void 0&&(p=this.currentShader),p.set1f(d,f),this},set2f:function(d,f,p,g){return g===void 0&&(g=this.currentShader),g.set2f(d,f,p),this},set3f:function(d,f,p,g,x){return x===void 0&&(x=this.currentShader),x.set3f(d,f,p,g),this},set4f:function(d,f,p,g,x,T){return T===void 0&&(T=this.currentShader),T.set4f(d,f,p,g,x),this},set1fv:function(d,f,p){return p===void 0&&(p=this.currentShader),p.set1fv(d,f),this},set2fv:function(d,f,p){return p===void 0&&(p=this.currentShader),p.set2fv(d,f),this},set3fv:function(d,f,p){return p===void 0&&(p=this.currentShader),p.set3fv(d,f),this},set4fv:function(d,f,p){return p===void 0&&(p=this.currentShader),p.set4fv(d,f),this},set1iv:function(d,f,p){return p===void 0&&(p=this.currentShader),p.set1iv(d,f),this},set2iv:function(d,f,p){return p===void 0&&(p=this.currentShader),p.set2iv(d,f),this},set3iv:function(d,f,p){return p===void 0&&(p=this.currentShader),p.set3iv(d,f),this},set4iv:function(d,f,p){return p===void 0&&(p=this.currentShader),p.set4iv(d,f),this},set1i:function(d,f,p){return p===void 0&&(p=this.currentShader),p.set1i(d,f),this},set2i:function(d,f,p,g){return g===void 0&&(g=this.currentShader),g.set2i(d,f,p),this},set3i:function(d,f,p,g,x){return x===void 0&&(x=this.currentShader),x.set3i(d,f,p,g),this},set4i:function(d,f,p,g,x,T){return T===void 0&&(T=this.currentShader),T.set4i(d,f,p,g,x),this},setMatrix2fv:function(d,f,p,g){return g===void 0&&(g=this.currentShader),g.setMatrix2fv(d,f,p),this},setMatrix3fv:function(d,f,p,g){return g===void 0&&(g=this.currentShader),g.setMatrix3fv(d,f,p),this},setMatrix4fv:function(d,f,p,g){return g===void 0&&(g=this.currentShader),g.setMatrix4fv(d,f,p),this},destroy:function(){this.emit(r.DESTROY,this);var d,f=this.shaders;for(d=0;d<f.length;d++)f[d].destroy();var p=this.renderTargets;for(d=0;d<p.length;d++)p[d].destroy();var g=this.renderer;return g.deleteBuffer(this.vertexBuffer),g.off(s.RESIZE,this.resize,this),g.off(s.PRE_RENDER,this.onPreRender,this),g.off(s.RENDER,this.onRender,this),g.off(s.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});v.exports=u},74797:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95428),m=t(72905),a=t(19715),r=t(83419),n=t(8054),e=t(50792),s=t(92503),h=t(50030),i=t(37867),l=t(29747),u=t(7530),d=t(32302),f=t(97480),p=t(69442),g=t(70554),x=t(88815),T=t(26128),E=t(1482),C=t(82751),R=t(84387),w=t(93567),F=t(57183),I=new r({Extends:e,initialize:function(D){e.call(this);var B=D.config,U={alpha:B.transparent,desynchronized:B.desynchronized,depth:!0,antialias:B.antialiasGL,premultipliedAlpha:B.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:B.failIfMajorPerformanceCaveat,powerPreference:B.powerPreference,preserveDrawingBuffer:B.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:B.clearBeforeRender,antialias:B.antialias,backgroundColor:B.backgroundColor,contextCreation:U,roundPixels:B.roundPixels,maxTextures:B.maxTextures,maxTextureSize:B.maxTextureSize,batchSize:B.batchSize,maxLights:B.maxLights,mipmapFilter:B.mipmapFilter},this.game=D,this.type=n.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=D.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=l,this.contextRestoredHandler=l,this.previousContextLostHandler=l,this.previousContextRestoredHandler=l,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(L){var D,B=this.game,U=this.canvas,W=L.backgroundColor;if(B.config.context?D=B.config.context:D=U.getContext("webgl",L.contextCreation)||U.getContext("experimental-webgl",L.contextCreation),!D||D.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=D,this.setExtensions(),this.setContextHandlers(),B.context=D;for(var K=0;K<=27;K++)this.blendModes.push({func:[D.ONE,D.ONE_MINUS_SRC_ALPHA],equation:D.FUNC_ADD});this.blendModes[1].func=[D.ONE,D.DST_ALPHA],this.blendModes[2].func=[D.DST_COLOR,D.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[D.ONE,D.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[D.ZERO,D.ONE_MINUS_SRC_ALPHA],equation:D.FUNC_REVERSE_SUBTRACT},this.glFormats=[D.BYTE,D.SHORT,D.UNSIGNED_BYTE,D.UNSIGNED_SHORT,D.FLOAT],this.glFuncMap={mat2:{func:D.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:D.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:D.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:D.uniform1f,length:1},"1fv":{func:D.uniform1fv,length:1},"1i":{func:D.uniform1i,length:1},"1iv":{func:D.uniform1iv,length:1},"2f":{func:D.uniform2f,length:2},"2fv":{func:D.uniform2fv,length:1},"2i":{func:D.uniform2i,length:2},"2iv":{func:D.uniform2iv,length:1},"3f":{func:D.uniform3f,length:3},"3fv":{func:D.uniform3fv,length:1},"3i":{func:D.uniform3i,length:3},"3iv":{func:D.uniform3iv,length:1},"4f":{func:D.uniform4f,length:4},"4fv":{func:D.uniform4fv,length:1},"4i":{func:D.uniform4i,length:4},"4iv":{func:D.uniform4iv,length:1}},(!L.maxTextures||L.maxTextures===-1)&&(L.maxTextures=D.getParameter(D.MAX_TEXTURE_IMAGE_UNITS)),L.maxTextureSize||(L.maxTextureSize=D.getParameter(D.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),D.disable(D.DEPTH_TEST),D.disable(D.CULL_FACE),D.enable(D.BLEND),D.clearColor(W.redGL,W.greenGL,W.blueGL,W.alphaGL),D.clear(D.COLOR_BUFFER_BIT);var Y=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return Y.indexOf(L.mipmapFilter)!==-1&&(this.mipmapFilter=D[L.mipmapFilter]),this.maxTextures=g.checkShaderMax(D,L.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new u(this),this.setBlendMode(n.BlendModes.NORMAL),this.projectionMatrix=new i().identity(),B.textures.once(p.READY,this.boot,this),this},boot:function(){var L=this.game,D=this.pipelines,B=L.scale.baseSize,U=B.width,W=B.height;this.width=U,this.height=W,this.isBooted=!0,this.renderTarget=new d(this,U,W,1,0,!0,!0),this.maskTarget=new d(this,U,W,1,0,!0,!0),this.maskSource=new d(this,U,W,1,0,!0,!0);var K=L.config;D.boot(K.pipeline,K.defaultPipeline,K.autoMobilePipeline),this.blankTexture=L.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=L.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=L.textures.getFrame("__WHITE").glTexture;var Y=this.gl;Y.bindFramebuffer(Y.FRAMEBUFFER,null),Y.enable(Y.SCISSOR_TEST),L.scale.on(f.RESIZE,this.onResize,this),this.resize(U,W)},setExtensions:function(){var L=this.gl,D=L.getSupportedExtensions();this.supportedExtensions=D;var B="ANGLE_instanced_arrays";this.instancedArraysExtension=D.indexOf(B)>-1?L.getExtension(B):null;var U="OES_vertex_array_object";this.vaoExtension=D.indexOf(U)>-1?L.getExtension(U):null},setContextHandlers:function(L,D){this.previousContextLostHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,!1),this.previousContextRestoredHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,!1),typeof L=="function"?this.contextLostHandler=L.bind(this):this.contextLostHandler=this.dispatchContextLost.bind(this),typeof D=="function"?this.contextRestoredHandler=D.bind(this):this.contextRestoredHandler=this.dispatchContextRestored.bind(this),this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.previousContextLostHandler=this.contextLostHandler,this.previousContextRestoredHandler=this.contextRestoredHandler},dispatchContextLost:function(L){this.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),this.emit(s.LOSE_WEBGL,this),L.preventDefault()},dispatchContextRestored:function(L){var D=this.gl;if(D.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}this.currentProgram=null,this.currentFramebuffer=null,this.setBlendMode(n.BlendModes.NORMAL),D.disable(D.BLEND),D.disable(D.DEPTH_TEST),D.enable(D.CULL_FACE),this.compression=this.getCompressedTextures();var B=function(U){U.createResource()};o(this.glTextureWrappers,B),o(this.glBufferWrappers,B),o(this.glFramebufferWrappers,B),o(this.glProgramWrappers,B),o(this.glAttribLocationWrappers,B),o(this.glUniformLocationWrappers,B),this.createTemporaryTextures(),this.pipelines.restoreContext(),this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height),this.setExtensions(),this.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),this.emit(s.RESTORE_WEBGL,this),L.preventDefault()},createTemporaryTextures:function(){for(var L=this.gl,D=0;D<this.maxTextures;D++){var B=L.createTexture();L.activeTexture(L.TEXTURE0+D),L.bindTexture(L.TEXTURE_2D,B),L.texImage2D(L.TEXTURE_2D,0,L.RGBA,1,1,0,L.RGBA,L.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(D)}},captureFrame:function(L,D){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(L,D,B){},stopCapture:function(){},onCapture:function(L){},onResize:function(L,D){(D.width!==this.width||D.height!==this.height)&&this.resize(D.width,D.height)},beginCapture:function(L,D){L===void 0&&(L=this.width),D===void 0&&(D=this.height),this.renderTarget.bind(!0,L,D),this.setProjectionMatrix(L,D)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(L,D){var B=this.gl;return this.width=L,this.height=D,this.setProjectionMatrix(L,D),B.viewport(0,0,L,D),this.drawingBufferHeight=B.drawingBufferHeight,B.scissor(0,B.drawingBufferHeight-D,L,D),this.defaultScissor[2]=L,this.defaultScissor[3]=D,this.emit(s.RESIZE,L,D),this},getCompressedTextures:function(){var L="WEBGL_compressed_texture_",D="WEBKIT_"+L,B="EXT_texture_compression_",U=function(K,Y){var G=K.getExtension(L+Y)||K.getExtension(D+Y)||K.getExtension(B+Y);if(G){var X={};for(var V in G)X[G[V]]=V;return X}},W=this.gl;return{ETC:U(W,"etc"),ETC1:U(W,"etc1"),ATC:U(W,"atc"),ASTC:U(W,"astc"),BPTC:U(W,"bptc"),RGTC:U(W,"rgtc"),PVRTC:U(W,"pvrtc"),S3TC:U(W,"s3tc"),S3TCSRGB:U(W,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(L,D){var B=this.compression[L.toUpperCase()];if(D in B)return B[D]},supportsCompressedTexture:function(L,D){var B=this.compression[L.toUpperCase()];return B?D?D in B:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(L,D){return(L!==this.projectionWidth||D!==this.projectionHeight)&&(this.projectionWidth=L,this.projectionHeight=D,this.projectionMatrix.ortho(0,L,D,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(L){return this.supportedExtensions?this.supportedExtensions.indexOf(L):!1},getExtension:function(L){return this.hasExtension(L)?(L in this.extensions||(this.extensions[L]=this.gl.getExtension(L)),this.extensions[L]):null},flush:function(){this.pipelines.flush()},pushScissor:function(L,D,B,U,W){W===void 0&&(W=this.drawingBufferHeight);var K=this.scissorStack,Y=[L,D,B,U];return K.push(Y),this.setScissor(L,D,B,U,W),this.currentScissor=Y,Y},setScissor:function(L,D,B,U,W){W===void 0&&(W=this.drawingBufferHeight);var K=this.gl,Y=this.currentScissor,G=B>0&&U>0;if(Y&&G){var X=Y[0],V=Y[1],b=Y[2],z=Y[3];G=X!==L||V!==D||b!==B||z!==U}G&&(this.flush(),K.scissor(L,W-D-U,B,U))},resetScissor:function(){var L=this.gl;L.enable(L.SCISSOR_TEST);var D=this.currentScissor;if(D){var B=D[0],U=D[1],W=D[2],K=D[3];W>0&&K>0&&L.scissor(B,this.drawingBufferHeight-U-K,W,K)}},popScissor:function(){var L=this.scissorStack;L.pop();var D=L[L.length-1];D&&this.setScissor(D[0],D[1],D[2],D[3]),this.currentScissor=D},hasActiveStencilMask:function(){var L=this.currentMask.mask,D=this.currentCameraMask.mask;return L&&L.isStencil||D&&D.isStencil},resetViewport:function(){var L=this.gl;L.viewport(0,0,this.width,this.height),this.drawingBufferHeight=L.drawingBufferHeight},setBlendMode:function(L,D){D===void 0&&(D=!1);var B=this.gl,U=this.blendModes[L];return D||L!==n.BlendModes.SKIP_CHECK&&this.currentBlendMode!==L?(this.flush(),B.enable(B.BLEND),B.blendEquation(U.equation),U.func.length>2?B.blendFuncSeparate(U.func[0],U.func[1],U.func[2],U.func[3]):B.blendFunc(U.func[0],U.func[1]),this.currentBlendMode=L,!0):!1},addBlendMode:function(L,D){var B=this.blendModes.push({func:L,equation:D});return B-1},updateBlendMode:function(L,D,B){return this.blendModes[L]&&(this.blendModes[L].func=D,B&&(this.blendModes[L].equation=B)),this},removeBlendMode:function(L){return L>17&&this.blendModes[L]&&this.blendModes.splice(L,1),this},pushFramebuffer:function(L,D,B,U,W){return L===this.currentFramebuffer?this:(this.fboStack.push(L),this.setFramebuffer(L,D,B,U,W))},setFramebuffer:function(L,D,B,U,W){if(D===void 0&&(D=!1),B===void 0&&(B=!0),U===void 0&&(U=null),W===void 0&&(W=!1),L===this.currentFramebuffer)return this;var K=this.gl,Y=this.width,G=this.height;return L&&L.renderTexture&&B?(Y=L.renderTexture.width,G=L.renderTexture.height):this.flush(),L?K.bindFramebuffer(K.FRAMEBUFFER,L.webGLFramebuffer):K.bindFramebuffer(K.FRAMEBUFFER,null),B&&K.viewport(0,0,Y,G),U&&K.framebufferTexture2D(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_2D,U.webGLTexture,0),W&&(K.clearColor(0,0,0,0),K.clear(K.COLOR_BUFFER_BIT)),D&&(L?(this.drawingBufferHeight=G,this.pushScissor(0,0,Y,G)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=L,this},popFramebuffer:function(L,D){L===void 0&&(L=!1),D===void 0&&(D=!0);var B=this.fboStack;B.pop();var U=B[B.length-1];return U||(U=null),this.setFramebuffer(U,L,D),U},restoreFramebuffer:function(L,D){L===void 0&&(L=!1),D===void 0&&(D=!0);var B=this.fboStack,U=B[B.length-1];U||(U=null),this.currentFramebuffer=null,this.setFramebuffer(U,L,D)},setProgram:function(L){return L!==this.currentProgram?(this.flush(),this.gl.useProgram(L.webGLProgram),this.currentProgram=L,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(L,D,B,U,W){W===void 0&&(W=!1);var K=this.gl,Y=K.NEAREST,G=K.NEAREST,X=K.CLAMP_TO_EDGE,V=null;D=L?L.width:D,B=L?L.height:B;var b=h(D,B);if(b&&!W&&(X=K.REPEAT),U===n.ScaleModes.LINEAR&&this.config.antialias){var z=L&&L.compressed,k=!z&&b||z&&L.mipmaps.length>1;Y=this.mipmapFilter&&k?this.mipmapFilter:K.LINEAR,G=K.LINEAR}return!L&&typeof D=="number"&&typeof B=="number"?V=this.createTexture2D(0,Y,G,X,X,K.RGBA,null,D,B):V=this.createTexture2D(0,Y,G,X,X,K.RGBA,L),V},createTexture2D:function(L,D,B,U,W,K,Y,G,X,V,b,z){typeof G!="number"&&(G=Y?Y.width:1),typeof X!="number"&&(X=Y?Y.height:1);var k=new C(this.gl,L,D,B,U,W,K,Y,G,X,V,b,z);return this.glTextureWrappers.push(k),k},createFramebuffer:function(L,D,B,U){this.currentFramebuffer=null;var W=new R(this.gl,L,D,B,U);return this.glFramebufferWrappers.push(W),W},beginBitmapMask:function(L,D){var B=this.gl;B&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==L&&(this.currentMask.mask=L,this.currentMask.camera=D))},drawBitmapMask:function(L,D,B){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),L.renderWebGL(this,L,D),this.maskSource.unbind(!0),this.maskTarget.unbind();var U=this.gl,W=this.getCurrentStencilMask();W?(U.enable(U.STENCIL_TEST),W.mask.applyStencil(this,W.camera,!0)):this.currentMask.mask=null,this.pipelines.set(B),U.activeTexture(U.TEXTURE0),U.bindTexture(U.TEXTURE_2D,this.maskTarget.texture.webGLTexture),U.activeTexture(U.TEXTURE1),U.bindTexture(U.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(L,D){var B=new E(this.gl,L,D);return this.glProgramWrappers.push(B),B},createVertexBuffer:function(L,D){var B=this.gl,U=new T(B,L,B.ARRAY_BUFFER,D);return this.glBufferWrappers.push(U),U},createAttribLocation:function(L,D){var B=new w(this.gl,L,D);return this.glAttribLocationWrappers.push(B),B},createUniformLocation:function(L,D){var B=new F(this.gl,L,D);return this.glUniformLocationWrappers.push(B),B},createIndexBuffer:function(L,D){var B=this.gl,U=new T(B,L,B.ELEMENT_ARRAY_BUFFER,D);return this.glBufferWrappers.push(U),U},deleteTexture:function(L){if(L)return m(this.glTextureWrappers,L),L.destroy(),this},deleteFramebuffer:function(L){return L?(m(this.fboStack,L),m(this.glFramebufferWrappers,L),L.destroy(),this):this},deleteProgram:function(L){return L&&(m(this.glProgramWrappers,L),L.destroy()),this},deleteAttribLocation:function(L){return L&&(m(this.glAttribLocationWrappers,L),L.destroy()),this},deleteUniformLocation:function(L){return L&&(m(this.glUniformLocationWrappers,L),L.destroy()),this},deleteBuffer:function(L){return L?(m(this.glBufferWrappers,L),L.destroy(),this):this},preRenderCamera:function(L){var D=L.x,B=L.y,U=L.width,W=L.height,K=L.backgroundColor;if(L.emit(a.PRE_RENDER,L),this.pipelines.preBatchCamera(L),this.pushScissor(D,B,U,W),L.mask&&(this.currentCameraMask.mask=L.mask,this.currentCameraMask.camera=L._maskCamera,L.mask.preRenderWebGL(this,L,L._maskCamera)),K.alphaGL>0){var Y=this.pipelines.setMulti();Y.drawFillRect(D,B,U,W,g.getTintFromFloats(K.blueGL,K.greenGL,K.redGL,1),K.alphaGL)}},getCurrentStencilMask:function(){var L=null,D=this.maskStack,B=this.currentCameraMask;return D.length>0?L=D[D.length-1]:B.mask&&B.mask.isStencil&&(L=B),L},postRenderCamera:function(L){var D=L.flashEffect,B=L.fadeEffect;if(D.isRunning||B.isRunning||B.isComplete){var U=this.pipelines.setMulti();D.postRenderWebGL(U,g.getTintFromFloats),B.postRenderWebGL(U,g.getTintFromFloats)}L.dirty=!1,this.popScissor(),L.mask&&(this.currentCameraMask.mask=null,L.mask.postRenderWebGL(this,L._maskCamera)),this.pipelines.postBatchCamera(L),L.emit(a.POST_RENDER,L)},preRender:function(){if(!this.contextLost){var L=this.gl;if(L.bindFramebuffer(L.FRAMEBUFFER,null),this.emit(s.PRE_RENDER_CLEAR),this.config.clearBeforeRender){var D=this.config.backgroundColor;L.clearColor(D.redGL,D.greenGL,D.blueGL,D.alphaGL),L.clear(L.COLOR_BUFFER_BIT|L.DEPTH_BUFFER_BIT|L.STENCIL_BUFFER_BIT)}L.enable(L.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&L.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(s.PRE_RENDER)}},render:function(L,D,B){if(!this.contextLost){var U=D.length;if(this.emit(s.RENDER,L,B),this.preRenderCamera(B),U===0){this.setBlendMode(n.BlendModes.NORMAL),this.postRenderCamera(B);return}this.currentType="";for(var W=this.currentMask,K=0;K<U;K++){this.finalType=K===U-1;var Y=D[K],G=Y.mask;W=this.currentMask,W.mask&&W.mask!==G&&W.mask.postRenderWebGL(this,W.camera),G&&W.mask!==G&&G.preRenderWebGL(this,Y,B),Y.blendMode!==this.currentBlendMode&&this.setBlendMode(Y.blendMode);var X=Y.type;X!==this.currentType&&(this.newType=!0,this.currentType=X),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=D[K+1].type===this.currentType,Y.renderWebGL(this,Y,B),this.newType=!1}W=this.currentMask,W.mask&&W.mask.postRenderWebGL(this,W.camera),this.setBlendMode(n.BlendModes.NORMAL),this.postRenderCamera(B)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(s.POST_RENDER);var L=this.snapshotState;L.callback&&(x(this.gl,L),L.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var L=this.gl,D=this.getCurrentStencilMask();if(D){var B=D.mask;L.enable(L.STENCIL_TEST),B.invertAlpha?L.stencilFunc(L.NOTEQUAL,B.level,255):L.stencilFunc(L.EQUAL,B.level,255)}},snapshot:function(L,D,B){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,L,D,B)},snapshotArea:function(L,D,B,U,W,K,Y){var G=this.snapshotState;return G.callback=W,G.type=K,G.encoder=Y,G.getPixel=!1,G.x=L,G.y=D,G.width=B,G.height=U,this},snapshotPixel:function(L,D,B){return this.snapshotArea(L,D,1,1,B),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(L,D,B,U,W,K,Y,G,X,V,b){W===void 0&&(W=!1),K===void 0&&(K=0),Y===void 0&&(Y=0),G===void 0&&(G=D),X===void 0&&(X=B),V==="pixel"&&(W=!0,V="image/png");var z=this.currentFramebuffer;this.snapshotArea(K,Y,G,X,U,V,b);var k=this.snapshotState;return k.getPixel=W,k.isFramebuffer=!0,k.bufferWidth=D,k.bufferHeight=B,k.width=Math.min(k.width,D),k.height=Math.min(k.height,B),this.setFramebuffer(L),x(this.gl,k),this.setFramebuffer(z),k.callback=null,k.isFramebuffer=!1,this},canvasToTexture:function(L,D,B,U){B===void 0&&(B=!1),U===void 0&&(U=!1);var W=this.gl,K=W.NEAREST,Y=W.NEAREST,G=L.width,X=L.height,V=W.CLAMP_TO_EDGE,b=h(G,X);return!B&&b&&(V=W.REPEAT),this.config.antialias&&(K=b&&this.mipmapFilter?this.mipmapFilter:W.LINEAR,Y=W.LINEAR),D?(D.update(L,G,X,U,V,V,K,Y,D.format),D):this.createTexture2D(0,K,Y,V,V,W.RGBA,L,G,X,!0,!1,U)},createCanvasTexture:function(L,D,B){return D===void 0&&(D=!1),B===void 0&&(B=!1),this.canvasToTexture(L,null,D,B)},updateCanvasTexture:function(L,D,B,U){return B===void 0&&(B=!1),U===void 0&&(U=!1),this.canvasToTexture(L,D,U,B)},videoToTexture:function(L,D,B,U){B===void 0&&(B=!1),U===void 0&&(U=!1);var W=this.gl,K=W.NEAREST,Y=W.NEAREST,G=L.videoWidth,X=L.videoHeight,V=W.CLAMP_TO_EDGE,b=h(G,X);return!B&&b&&(V=W.REPEAT),this.config.antialias&&(K=b&&this.mipmapFilter?this.mipmapFilter:W.LINEAR,Y=W.LINEAR),D?(D.update(L,G,X,U,V,V,K,Y,D.format),D):this.createTexture2D(0,K,Y,V,V,W.RGBA,L,G,X,!0,!0,U)},createVideoTexture:function(L,D,B){return D===void 0&&(D=!1),B===void 0&&(B=!1),this.videoToTexture(L,null,D,B)},updateVideoTexture:function(L,D,B,U){return B===void 0&&(B=!1),U===void 0&&(U=!1),this.videoToTexture(L,D,U,B)},createUint8ArrayTexture:function(L,D,B){var U=this.gl,W=U.NEAREST,K=U.NEAREST,Y=U.CLAMP_TO_EDGE,G=h(D,B);return G&&(Y=U.REPEAT),this.createTexture2D(0,W,K,Y,Y,U.RGBA,L,D,B)},setTextureFilter:function(L,D){var B=this.gl,U=D===0?B.LINEAR:B.NEAREST;B.activeTexture(B.TEXTURE0);var W=B.getParameter(B.TEXTURE_BINDING_2D);return B.bindTexture(B.TEXTURE_2D,L.webGLTexture),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MIN_FILTER,U),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MAG_FILTER,U),L.minFilter=U,L.magFilter=U,W&&B.bindTexture(B.TEXTURE_2D,W),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var L=function(D){D.destroy()};o(this.glAttribLocationWrappers,L),o(this.glBufferWrappers,L),o(this.glFramebufferWrappers,L),o(this.glProgramWrappers,L),o(this.glTextureWrappers,L),o(this.glUniformLocationWrappers,L),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});v.exports=I},38683:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(95428),a=t(95540),r=t(14500),n=new o({initialize:function(s,h,i,l,u){this.pipeline=s,this.name=h,this.renderer=s.renderer,this.gl=this.renderer.gl,this.fragSrc=l,this.vertSrc=i,this.program=this.renderer.createProgram(i,l),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(u),this.createUniforms()},createAttributes:function(e){var s=0,h=0,i=[];this.vertexComponentCount=0;for(var l=0;l<e.length;l++){var u=e[l],d=u.name,f=a(u,"size",1),p=a(u,"type",r.FLOAT),g=p.enum,x=p.size,T=!!u.normalized;i.push({name:d,size:f,type:g,normalized:T,offset:h,enabled:!1,location:-1}),x===4?s+=f:s++,h+=f*x}this.vertexSize=h,this.vertexComponentCount=s,this.attributes=i},bind:function(e,s){return e===void 0&&(e=!1),s===void 0&&(s=!1),s&&this.pipeline.flush(),this.renderer.setProgram(this.program),e&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(e){e===void 0&&(e=!1);for(var s=this.gl,h=this.renderer,i=this.vertexSize,l=this.attributes,u=this.program,d=0;d<l.length;d++){var f=l[d],p=f.size,g=f.type,x=f.offset,T=f.enabled,E=f.location,C=!!f.normalized;if(e){E!==-1&&h.deleteAttribLocation(E);var R=this.renderer.createAttribLocation(u,f.name);R.webGLAttribLocation>=0?(s.enableVertexAttribArray(R.webGLAttribLocation),s.vertexAttribPointer(R.webGLAttribLocation,p,g,C,i,x),f.enabled=!0,f.location=R):R.webGLAttribLocation!==-1&&s.disableVertexAttribArray(R.webGLAttribLocation)}else T?s.vertexAttribPointer(E.webGLAttribLocation,p,g,C,i,x):!T&&E!==-1&&E.webGLAttribLocation>-1&&(s.disableVertexAttribArray(E.webGLAttribLocation),f.location=-1)}return this},createUniforms:function(){var e=this.gl,s=this.program,h=this.uniforms,i,l,u,d=e.getProgramParameter(s.webGLProgram,e.ACTIVE_UNIFORMS);for(i=0;i<d;i++){var f=e.getActiveUniform(s.webGLProgram,i);if(f){l=f.name,u=this.renderer.createUniformLocation(s,l),u!==null&&(h[l]={name:l,location:u,setter:null,value1:null,value2:null,value3:null,value4:null});var p=l.indexOf("[");p>0&&(l=l.substr(0,p),h.hasOwnProperty(l)||(u=this.renderer.createUniformLocation(s,l),u!==null&&(h[l]={name:l,location:u,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var e=this.gl;this.renderer.setProgram(this.program);for(var s in this.uniforms){var h=this.uniforms[s];h.setter&&h.setter.call(e,h.location.webGLUniformLocation,h.value1,h.value2,h.value3,h.value4)}},hasUniform:function(e){return this.uniforms.hasOwnProperty(e)},resetUniform:function(e){var s=this.uniforms[e];return s&&(s.value1=null,s.value2=null,s.value3=null,s.value4=null),this},setUniform1:function(e,s,h,i){var l=this.uniforms[s];return l?((i||l.value1!==h)&&(l.setter||(l.setter=e),l.value1=h,this.renderer.setProgram(this.program),e.call(this.gl,l.location.webGLUniformLocation,h),this.pipeline.currentShader=this),this):this},setUniform2:function(e,s,h,i,l){var u=this.uniforms[s];return u?((l||u.value1!==h||u.value2!==i)&&(u.setter||(u.setter=e),u.value1=h,u.value2=i,this.renderer.setProgram(this.program),e.call(this.gl,u.location.webGLUniformLocation,h,i),this.pipeline.currentShader=this),this):this},setUniform3:function(e,s,h,i,l,u){var d=this.uniforms[s];return d?((u||d.value1!==h||d.value2!==i||d.value3!==l)&&(d.setter||(d.setter=e),d.value1=h,d.value2=i,d.value3=l,this.renderer.setProgram(this.program),e.call(this.gl,d.location.webGLUniformLocation,h,i,l),this.pipeline.currentShader=this),this):this},setUniform4:function(e,s,h,i,l,u,d){var f=this.uniforms[s];return f?((d||f.value1!==h||f.value2!==i||f.value3!==l||f.value4!==u)&&(f.setter||(f.setter=e),f.value1=h,f.value2=i,f.value3=l,f.value4=u,this.renderer.setProgram(this.program),e.call(this.gl,f.location.webGLUniformLocation,h,i,l,u),this.pipeline.currentShader=this),this):this},setBoolean:function(e,s){return this.setUniform1(this.gl.uniform1i,e,Number(s))},set1f:function(e,s){return this.setUniform1(this.gl.uniform1f,e,s)},set2f:function(e,s,h){return this.setUniform2(this.gl.uniform2f,e,s,h)},set3f:function(e,s,h,i){return this.setUniform3(this.gl.uniform3f,e,s,h,i)},set4f:function(e,s,h,i,l){return this.setUniform4(this.gl.uniform4f,e,s,h,i,l)},set1fv:function(e,s){return this.setUniform1(this.gl.uniform1fv,e,s,!0)},set2fv:function(e,s){return this.setUniform1(this.gl.uniform2fv,e,s,!0)},set3fv:function(e,s){return this.setUniform1(this.gl.uniform3fv,e,s,!0)},set4fv:function(e,s){return this.setUniform1(this.gl.uniform4fv,e,s,!0)},set1iv:function(e,s){return this.setUniform1(this.gl.uniform1iv,e,s,!0)},set2iv:function(e,s){return this.setUniform1(this.gl.uniform2iv,e,s,!0)},set3iv:function(e,s){return this.setUniform1(this.gl.uniform3iv,e,s,!0)},set4iv:function(e,s){return this.setUniform1(this.gl.uniform4iv,e,s,!0)},set1i:function(e,s){return this.setUniform1(this.gl.uniform1i,e,s)},set2i:function(e,s,h){return this.setUniform2(this.gl.uniform2i,e,s,h)},set3i:function(e,s,h,i){return this.setUniform3(this.gl.uniform3i,e,s,h,i)},set4i:function(e,s,h,i,l){return this.setUniform4(this.gl.uniform4i,e,s,h,i,l)},setMatrix2fv:function(e,s,h){return this.setUniform2(this.gl.uniformMatrix2fv,e,s,h,!0)},setMatrix3fv:function(e,s,h){return this.setUniform2(this.gl.uniformMatrix3fv,e,s,h,!0)},setMatrix4fv:function(e,s,h){return this.setUniform2(this.gl.uniformMatrix4fv,e,s,h,!0)},createProgram:function(e,s){return e===void 0&&(e=this.vertSrc),s===void 0&&(s=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=e,this.fragSrc=s,this.program=this.renderer.createProgram(e,s),this.createUniforms(),this.rebind()},destroy:function(){var e=this.renderer;m(this.uniforms,function(s){e.deleteUniformLocation(s.location)}),this.uniforms=null,m(this.attributes,function(s){e.deleteAttribLocation(s.location)}),this.attributes=null,e.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});v.exports=n},14500:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};v.exports=S},4159:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(14500),m=t(79291),a={PipelineManager:t(7530),Pipelines:t(96615),RenderTarget:t(32302),Utils:t(70554),WebGLPipeline:t(29100),WebGLRenderer:t(74797),WebGLShader:t(38683),Wrappers:t(9503)};a=m(!1,a,o),v.exports=a},31302:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(95540),a=t(78908),r=t(85191),n=t(14500),e=t(29100),s=new o({Extends:e,initialize:function(i){i.fragShader=m(i,"fragShader",a),i.vertShader=m(i,"vertShader",r),i.batchSize=m(i,"batchSize",1),i.vertices=m(i,"vertices",[-1,1,-1,-7,7,1]),i.attributes=m(i,"attributes",[{name:"inPosition",size:2,type:n.FLOAT}]),e.call(this,i)},boot:function(){e.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(h,i){e.prototype.resize.call(this,h,i),this.set2f("uResolution",h,i)},beginMask:function(h,i,l){this.renderer.beginBitmapMask(h,l)},endMask:function(h,i,l){var u=this.gl,d=this.renderer,f=h.bitmapMask;f&&u&&(d.drawBitmapMask(f,i,this),l&&this.set2f("uResolution",l.width,l.height),this.set1i("uInvertMaskAlpha",h.invertAlpha),u.drawArrays(this.topology,0,3),l&&this.set2f("uResolution",this.width,this.height),u.bindTexture(u.TEXTURE_2D,null))}});v.exports=s},92651:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(58918),a=t(14811),r=t(95540),n=t(43558),e=t(89350),s=t(70554),h=new o({Extends:n,initialize:function(l){l.shaders=[s.setGlowQuality(e.FXGlowFrag,l.game),e.FXShadowFrag,e.FXPixelateFrag,e.FXVignetteFrag,e.FXShineFrag,e.FXBlurLowFrag,e.FXBlurMedFrag,e.FXBlurHighFrag,e.FXGradientFrag,e.FXBloomFrag,e.ColorMatrixFrag,e.FXCircleFrag,e.FXBarrelFrag,e.FXDisplacementFrag,e.FXWipeFrag,e.FXBokehFrag],n.call(this,l);var u=this.game;this.glow=new m.Glow(u),this.shadow=new m.Shadow(u),this.pixelate=new m.Pixelate(u),this.vignette=new m.Vignette(u),this.shine=new m.Shine(u),this.gradient=new m.Gradient(u),this.circle=new m.Circle(u),this.barrel=new m.Barrel(u),this.wipe=new m.Wipe(u),this.bokeh=new m.Bokeh(u);var d=[];d[a.GLOW]=this.onGlow,d[a.SHADOW]=this.onShadow,d[a.PIXELATE]=this.onPixelate,d[a.VIGNETTE]=this.onVignette,d[a.SHINE]=this.onShine,d[a.BLUR]=this.onBlur,d[a.GRADIENT]=this.onGradient,d[a.BLOOM]=this.onBloom,d[a.COLOR_MATRIX]=this.onColorMatrix,d[a.CIRCLE]=this.onCircle,d[a.BARREL]=this.onBarrel,d[a.DISPLACEMENT]=this.onDisplacement,d[a.WIPE]=this.onWipe,d[a.BOKEH]=this.onBokeh,this.fxHandlers=d,this.source,this.target,this.swap},onDraw:function(i,l,u){this.source=i,this.target=l,this.swap=u;var d=i.width,f=i.height,p=this.tempSprite,g=this.fxHandlers;if(p&&p.preFX)for(var x=p.preFX.list,T=0;T<x.length;T++){var E=x[T];E.active&&g[E.type].call(this,E,d,f)}this.drawToGame(this.source)},runDraw:function(){var i=this.source,l=this.target;this.copy(i,l),this.source=l,this.target=i},onGlow:function(i,l,u){var d=this.shaders[a.GLOW];this.setShader(d),this.glow.onPreRender(i,d,l,u),this.runDraw()},onShadow:function(i){var l=this.shaders[a.SHADOW];this.setShader(l),this.shadow.onPreRender(i,l),this.runDraw()},onPixelate:function(i,l,u){var d=this.shaders[a.PIXELATE];this.setShader(d),this.pixelate.onPreRender(i,d,l,u),this.runDraw()},onVignette:function(i){var l=this.shaders[a.VIGNETTE];this.setShader(l),this.vignette.onPreRender(i,l),this.runDraw()},onShine:function(i,l,u){var d=this.shaders[a.SHINE];this.setShader(d),this.shine.onPreRender(i,d,l,u),this.runDraw()},onBlur:function(i,l,u){var d=r(i,"quality"),f=this.shaders[a.BLUR+d];this.setShader(f),this.set1i("uMainSampler",0),this.set2f("resolution",l,u),this.set1f("strength",r(i,"strength")),this.set3fv("color",r(i,"glcolor"));for(var p=r(i,"x"),g=r(i,"y"),x=r(i,"steps"),T=0;T<x;T++)this.set2f("offset",p,0),this.runDraw(),this.set2f("offset",0,g),this.runDraw()},onGradient:function(i){var l=this.shaders[a.GRADIENT];this.setShader(l),this.gradient.onPreRender(i,l),this.runDraw()},onBloom:function(i,l,u){var d=this.shaders[a.BLOOM];this.copySprite(this.source,this.swap),this.setShader(d),this.set1i("uMainSampler",0),this.set1f("strength",r(i,"blurStrength")),this.set3fv("color",r(i,"glcolor"));for(var f=2/l*r(i,"offsetX"),p=2/u*r(i,"offsetY"),g=r(i,"steps"),x=0;x<g;x++)this.set2f("offset",f,0),this.runDraw(),this.set2f("offset",0,p),this.runDraw();this.blendFrames(this.swap,this.source,this.target,r(i,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(i){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",i.getData()),this.set1f("uAlpha",i.alpha),this.runDraw()},onCircle:function(i,l,u){var d=this.shaders[a.CIRCLE];this.setShader(d),this.circle.onPreRender(i,d,l,u),this.runDraw()},onBarrel:function(i){var l=this.shaders[a.BARREL];this.setShader(l),this.barrel.onPreRender(i,l),this.runDraw()},onDisplacement:function(i){this.setShader(this.shaders[a.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",i.x,i.y),this.bindTexture(i.glTexture,1),this.runDraw()},onWipe:function(i){var l=this.shaders[a.WIPE];this.setShader(l),this.wipe.onPreRender(i,l),this.runDraw()},onBokeh:function(i,l,u){var d=this.shaders[a.BOKEH];this.setShader(d),this.bokeh.onPreRender(i,d,l,u),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,n.prototype.destroy.call(this),this}});v.exports=h},96569:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(95540),a=t(31063),r=t(57516),n=t(61340),e=t(26099),s=t(29100),h=new o({Extends:r,initialize:function(l){var u=m(l,"fragShader",a);l.fragShader=u.replace("%LIGHT_COUNT%",l.game.renderer.config.maxLights),r.call(this,l),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new e,this._tempMatrix=new n,this._tempMatrix2=new n},boot:function(){s.prototype.boot.call(this)},onRender:function(i,l){var u=i.sys.lights;if(this.lightsActive=!1,!(!u||!u.active)){var d=u.getLights(l),f=d.length;this.lightsActive=!0;var p,g=this.renderer,x=g.height,T=l.matrix,E=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",l.x,l.y,l.rotation,l.zoom),this.set3f("uAmbientLightColor",u.ambientColor.r,u.ambientColor.g,u.ambientColor.b),this.set1i("uLightCount",f),p=0;p<f;p++){var C=d[p].light,R=C.color,w="uLights["+p+"].";T.transformPoint(C.x,C.y,E),this.set2f(w+"position",E.x-l.scrollX*C.scrollFactorX*l.zoom,x-(E.y-l.scrollY*C.scrollFactorY*l.zoom)),this.set3f(w+"color",R.r,R.g,R.b),this.set1f(w+"intensity",C.intensity),this.set1f(w+"radius",C.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(i){if(i!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var l=this.inverseRotationMatrix;if(i){var u=-i,d=Math.cos(u),f=Math.sin(u);l[1]=f,l[3]=-f,l[0]=l[4]=d}else l[0]=l[4]=1,l[1]=l[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,l),this.currentNormalMapRotation=i}},setTexture2D:function(i,l){var u=this.renderer;i===void 0&&(i=u.whiteTexture);var d=this.getNormalMap(l);this.isNewNormalMap(i,d)&&(this.flush(),this.createBatch(i),this.addTextureToBatch(d),this.currentNormalMap=d);var f=0;if(l&&l.parentContainer){var p=l.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);f=p.rotationNormalized}else l&&(f=l.rotation);return this.currentBatch===null&&(this.createBatch(i),this.addTextureToBatch(d)),this.setNormalMapRotation(f),0},setGameObject:function(i,l){l===void 0&&(l=i.frame);var u=l.glTexture,d=this.getNormalMap(i);if(this.isNewNormalMap(u,d)&&(this.flush(),this.createBatch(u),this.addTextureToBatch(d),this.currentNormalMap=d),i.parentContainer){var f=i.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(f.rotationNormalized)}else this.setNormalMapRotation(i.rotation);return this.currentBatch===null&&(this.createBatch(u),this.addTextureToBatch(d)),0},isNewNormalMap:function(i,l){return this.currentTexture!==i||this.currentNormalMap!==l},getNormalMap:function(i){var l;if(i)i.displayTexture?l=i.displayTexture.dataSource[i.displayFrame.sourceIndex]:i.texture?l=i.texture.dataSource[i.frame.sourceIndex]:i.tileset&&(Array.isArray(i.tileset)?l=i.tileset[0].image.dataSource[0]:l=i.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return l?l.glTexture:this.renderer.normalTexture},batchSprite:function(i,l,u){this.lightsActive&&r.prototype.batchSprite.call(this,i,l,u)},batchTexture:function(i,l,u,d,f,p,g,x,T,E,C,R,w,F,I,L,D,B,U,W,K,Y,G,X,V,b,z,k,$,J,j,q){this.lightsActive&&r.prototype.batchTexture.call(this,i,l,u,d,f,p,g,x,T,E,C,R,w,F,I,L,D,B,U,W,K,Y,G,X,V,b,z,k,$,J,j,q)},batchTextureFrame:function(i,l,u,d,f,p,g){this.lightsActive&&r.prototype.batchTextureFrame.call(this,i,l,u,d,f,p,g)}});v.exports=h},56527:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(95540),a=t(57516),r=t(45561),n=t(60722),e=t(14500),s=t(29100),h=new o({Extends:a,initialize:function(l){l.fragShader=m(l,"fragShader",r),l.vertShader=m(l,"vertShader",n),l.attributes=m(l,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:e.UNSIGNED_BYTE,normalized:!0}]),l.forceZero=!0,l.resizeUniform="uResolution",a.call(this,l)},boot:function(){s.prototype.boot.call(this);var i=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",i.width,i.height)}});v.exports=h},57516:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(94811),a=t(95540),r=t(98840),n=t(44667),e=t(61340),s=t(70554),h=t(14500),i=t(29100),l=new o({Extends:i,initialize:function(d){var f=d.game.renderer,p=a(d,"fragShader",r);d.fragShader=s.parseFragmentShaderMaxTextures(p,f.maxTextures),d.vertShader=a(d,"vertShader",n),d.attributes=a(d,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:h.UNSIGNED_BYTE,normalized:!0}]),d.resizeUniform="uResolution",i.call(this,d),this._tempMatrix1=new e,this._tempMatrix2=new e,this._tempMatrix3=new e,this.calcMatrix=new e,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){i.prototype.boot.call(this);var u=this.renderer;this.set1iv("uMainSampler",u.textureIndexes),this.set2f("uResolution",u.width,u.height)},batchSprite:function(u,d,f){this.manager.set(this,u);var p=this._tempMatrix1,g=this._tempMatrix2,x=this._tempMatrix3,T=u.frame,E=T.glTexture,C=T.u0,R=T.v0,w=T.u1,F=T.v1,I=T.x,L=T.y,D=T.cutWidth,B=T.cutHeight,U=T.customPivot,W=u.displayOriginX,K=u.displayOriginY,Y=-W+I,G=-K+L;if(u.isCropped){var X=u._crop;(X.flipX!==u.flipX||X.flipY!==u.flipY)&&T.updateCropUVs(X,u.flipX,u.flipY),C=X.u0,R=X.v0,w=X.u1,F=X.v1,D=X.width,B=X.height,I=X.x,L=X.y,Y=-W+I,G=-K+L}var V=1,b=1;u.flipX&&(U||(Y+=-T.realWidth+W*2),V=-1),u.flipY&&(U||(G+=-T.realHeight+K*2),b=-1);var z=u.x,k=u.y;d.roundPixels&&(z=Math.floor(z),k=Math.floor(k)),g.applyITRS(z,k,u.rotation,u.scaleX*V,u.scaleY*b),p.copyFrom(d.matrix),f?(p.multiplyWithOffset(f,-d.scrollX*u.scrollFactorX,-d.scrollY*u.scrollFactorY),g.e=z,g.f=k):(g.e-=d.scrollX*u.scrollFactorX,g.f-=d.scrollY*u.scrollFactorY),p.multiply(g,x);var $=x.setQuad(Y,G,Y+D,G+B,d.renderRoundPixels),J=s.getTintAppendFloatAlpha,j=d.alpha,q=J(u.tintTopLeft,j*u._alphaTL),_=J(u.tintTopRight,j*u._alphaTR),tt=J(u.tintBottomLeft,j*u._alphaBL),et=J(u.tintBottomRight,j*u._alphaBR);this.shouldFlush(6)&&this.flush();var at=this.setGameObject(u,T);this.manager.preBatch(u),this.batchQuad(u,$[0],$[1],$[2],$[3],$[4],$[5],$[6],$[7],C,R,w,F,q,_,tt,et,u.tintFill,E,at),this.manager.postBatch(u)},batchTexture:function(u,d,f,p,g,x,T,E,C,R,w,F,I,L,D,B,U,W,K,Y,G,X,V,b,z,k,$,J,j,q,_,tt,et){et===void 0&&(et=!1),this.manager.set(this,u);var at=this._tempMatrix1,ot=this._tempMatrix2,nt=this._tempMatrix3,vt=W/f+$,pt=K/p+J,gt=(W+Y)/f+$,rt=(K+G)/p+J,ut=T,ft=E,St=-B,Tt=-U;if(u.isCropped){var wt=u._crop,Pt=wt.width,Mt=wt.height;ut=Pt,ft=Mt,T=Pt,E=Mt,W=wt.x,K=wt.y;var bt=W,Kt=K;F&&(bt=Y-wt.x-Pt),I&&(Kt=G-wt.y-Mt),vt=bt/f+$,pt=Kt/p+J,gt=(bt+Pt)/f+$,rt=(Kt+Mt)/p+J,St=-B+W,Tt=-U+K}I=I^(!_&&d.isRenderTexture?1:0),F&&(ut*=-1,St+=T),I&&(ft*=-1,Tt+=E),j.roundPixels&&(g=Math.floor(g),x=Math.floor(x)),ot.applyITRS(g,x,w,C,R),at.copyFrom(j.matrix),q?(at.multiplyWithOffset(q,-j.scrollX*L,-j.scrollY*D),ot.e=g,ot.f=x):(ot.e-=j.scrollX*L,ot.f-=j.scrollY*D),at.multiply(ot,nt);var Lt=nt.setQuad(St,Tt,St+ut,Tt+ft,j.renderRoundPixels);tt==null&&(tt=this.setTexture2D(d)),u&&!et&&this.manager.preBatch(u),this.batchQuad(u,Lt[0],Lt[1],Lt[2],Lt[3],Lt[4],Lt[5],Lt[6],Lt[7],vt,pt,gt,rt,X,V,b,z,k,d,tt),u&&!et&&this.manager.postBatch(u)},batchTextureFrame:function(u,d,f,p,g,x,T){this.manager.set(this);var E=this._tempMatrix1.copyFrom(x),C=this._tempMatrix2;T?E.multiply(T,C):C=E;var R=C.setQuad(d,f,d+u.width,f+u.height),w=this.setTexture2D(u.source.glTexture);p=s.getTintAppendFloatAlpha(p,g),this.batchQuad(null,R[0],R[1],R[2],R[3],R[4],R[5],R[6],R[7],u.u0,u.v0,u.u1,u.v1,p,p,p,p,0,u.glTexture,w)},batchFillRect:function(u,d,f,p,g,x){this.renderer.pipelines.set(this);var T=this.calcMatrix;x&&x.multiply(g,T);var E=T.setQuad(u,d,u+f,d+p),C=this.fillTint;this.batchQuad(null,E[0],E[1],E[2],E[3],E[4],E[5],E[6],E[7],0,0,1,1,C.TL,C.TR,C.BL,C.BR,2)},batchFillTriangle:function(u,d,f,p,g,x,T,E){this.renderer.pipelines.set(this);var C=this.calcMatrix;E&&E.multiply(T,C);var R=C.getX(u,d),w=C.getY(u,d),F=C.getX(f,p),I=C.getY(f,p),L=C.getX(g,x),D=C.getY(g,x),B=this.fillTint;this.batchTri(null,R,w,F,I,L,D,0,0,1,1,B.TL,B.TR,B.BL,2)},batchStrokeTriangle:function(u,d,f,p,g,x,T,E,C){var R=this.tempTriangle;R[0].x=u,R[0].y=d,R[0].width=T,R[1].x=f,R[1].y=p,R[1].width=T,R[2].x=g,R[2].y=x,R[2].width=T,R[3].x=u,R[3].y=d,R[3].width=T,this.batchStrokePath(R,T,!1,E,C)},batchFillPath:function(u,d,f){this.renderer.pipelines.set(this);var p=this.calcMatrix;f&&f.multiply(d,p);for(var g=u.length,x=this.polygonCache,T,E,C=this.fillTint.TL,R=this.fillTint.TR,w=this.fillTint.BL,F=0;F<g;++F)E=u[F],x.push(E.x,E.y);T=m(x),g=T.length;for(var I=0;I<g;I+=3){var L=T[I+0]*2,D=T[I+1]*2,B=T[I+2]*2,U=x[L+0],W=x[L+1],K=x[D+0],Y=x[D+1],G=x[B+0],X=x[B+1],V=p.getX(U,W),b=p.getY(U,W),z=p.getX(K,Y),k=p.getY(K,Y),$=p.getX(G,X),J=p.getY(G,X);this.batchTri(null,V,b,z,k,$,J,0,0,1,1,C,R,w,2)}x.length=0},batchStrokePath:function(u,d,f,p,g){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var x=u.length-1,T=0;T<x;T++){var E=u[T],C=u[T+1];this.batchLine(E.x,E.y,C.x,C.y,E.width/2,C.width/2,d,T,!f&&T===x-1,p,g)}},batchLine:function(u,d,f,p,g,x,T,E,C,R,w){this.renderer.pipelines.set(this);var F=this.calcMatrix;w&&w.multiply(R,F);var I=f-u,L=p-d,D=Math.sqrt(I*I+L*L);if(D!==0){var B=g*(p-d)/D,U=g*(u-f)/D,W=x*(p-d)/D,K=x*(u-f)/D,Y=f-W,G=p-K,X=u-B,V=d-U,b=f+W,z=p+K,k=u+B,$=d+U,J=F.getX(Y,G),j=F.getY(Y,G),q=F.getX(X,V),_=F.getY(X,V),tt=F.getX(b,z),et=F.getY(b,z),at=F.getX(k,$),ot=F.getY(k,$),nt=this.strokeTint,vt=nt.TL,pt=nt.TR,gt=nt.BL,rt=nt.BR;if(this.batchQuad(null,at,ot,q,_,J,j,tt,et,0,0,1,1,vt,pt,gt,rt,2),!(T<=2)){var ut=this.prevQuad,ft=this.firstQuad;E>0&&ut[4]?this.batchQuad(null,at,ot,q,_,ut[0],ut[1],ut[2],ut[3],0,0,1,1,vt,pt,gt,rt,2):(ft[0]=at,ft[1]=ot,ft[2]=q,ft[3]=_,ft[4]=1),C&&ft[4]?this.batchQuad(null,J,j,tt,et,ft[0],ft[1],ft[2],ft[3],0,0,1,1,vt,pt,gt,rt,2):(ut[0]=J,ut[1]=j,ut[2]=tt,ut[3]=et,ut[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,i.prototype.destroy.call(this),this}});v.exports=l},43439:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(95540),a=t(4127),r=t(89924),n=t(29100),e=new o({Extends:n,initialize:function(h){h.vertShader=m(h,"vertShader",r),h.fragShader=m(h,"fragShader",a),h.attributes=m(h,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),n.call(this,h)},onRender:function(s,h){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",h.zoom)},batchPointLight:function(s,h,i,l,u,d,f,p,g,x,T,E){var C=s.color,R=s.intensity,w=s.radius,F=s.attenuation,I=C.r*R,L=C.g*R,D=C.b*R,B=h.alpha*s.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(i,l,T,E,w,F,I,L,D,B),this.batchLightVert(u,d,T,E,w,F,I,L,D,B),this.batchLightVert(f,p,T,E,w,F,I,L,D,B),this.batchLightVert(i,l,T,E,w,F,I,L,D,B),this.batchLightVert(f,p,T,E,w,F,I,L,D,B),this.batchLightVert(g,x,T,E,w,F,I,L,D,B),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(s,h,i,l,u,d,f,p,g,x){var T=this.vertexViewF32,E=this.vertexCount*this.currentShader.vertexComponentCount-1;T[++E]=s,T[++E]=h,T[++E]=i,T[++E]=l,T[++E]=u,T[++E]=d,T[++E]=f,T[++E]=p,T[++E]=g,T[++E]=x,this.vertexCount++}});v.exports=e},84057:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(89422),a=t(95540),r=t(27681),n=t(49627),e=t(29100),s=new o({Extends:e,initialize:function(i){i.renderTarget=a(i,"renderTarget",1),i.fragShader=a(i,"fragShader",r),i.vertShader=a(i,"vertShader",n),i.attributes=a(i,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),i.batchSize=1,i.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],e.call(this,i),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new m,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){e.prototype.boot.call(this);var h=this.manager.UTILITY_PIPELINE;this.fullFrame1=h.fullFrame1,this.fullFrame2=h.fullFrame2,this.halfFrame1=h.halfFrame1,this.halfFrame2=h.halfFrame2;var i=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",i.width,i.height);for(var l=this.renderTargets,u=0;u<l.length;u++)l[u].autoResize=!0},postBatch:function(h){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(h),this},onDraw:function(h){this.bindAndDraw(h)},getController:function(h){return h!==void 0?h:this.controller?this.controller:this},copySprite:function(h,i,l){l===void 0&&(l=!1);var u=this.gl;u.activeTexture(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,h.texture.webGLTexture);var d=u.getParameter(u.FRAMEBUFFER_BINDING);u.bindFramebuffer(u.FRAMEBUFFER,i.framebuffer.webGLFramebuffer),u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,i.texture.webGLTexture,0),u.clearColor(0,0,0,0),u.clear(u.COLOR_BUFFER_BIT),u.bufferData(u.ARRAY_BUFFER,this.vertexData,u.STATIC_DRAW),u.drawArrays(u.TRIANGLES,0,6),l&&(u.bindTexture(u.TEXTURE_2D,null),u.bindFramebuffer(u.FRAMEBUFFER,d))},copyFrame:function(h,i,l,u,d){this.manager.copyFrame(h,i,l,u,d)},copyToGame:function(h){this.manager.copyToGame(h)},drawFrame:function(h,i,l){this.manager.drawFrame(h,i,l,this.colorMatrix)},blendFrames:function(h,i,l,u,d){this.manager.blendFrames(h,i,l,u,d)},blendFramesAdditive:function(h,i,l,u,d){this.manager.blendFramesAdditive(h,i,l,u,d)},clearFrame:function(h,i){this.manager.clearFrame(h,i)},blitFrame:function(h,i,l,u,d,f){this.manager.blitFrame(h,i,l,u,d,f)},copyFrameRect:function(h,i,l,u,d,f,p,g){this.manager.copyFrameRect(h,i,l,u,d,f,p,g)},bindAndDraw:function(h,i,l,u,d){l===void 0&&(l=!0),u===void 0&&(u=!0);var f=this.gl,p=this.renderer;this.bind(d),this.set1i("uMainSampler",0),i?(f.viewport(0,0,i.width,i.height),f.bindFramebuffer(f.FRAMEBUFFER,i.framebuffer.webGLFramebuffer),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,i.texture.webGLTexture,0),l&&(u?f.clearColor(0,0,0,0):f.clearColor(0,0,0,1),f.clear(f.COLOR_BUFFER_BIT))):(p.popFramebuffer(!1,!1),p.currentFramebuffer||f.viewport(0,0,p.width,p.height)),p.restoreStencilMask(),f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,h.texture.webGLTexture),f.bufferData(f.ARRAY_BUFFER,this.vertexData,f.STATIC_DRAW),f.drawArrays(f.TRIANGLES,0,6),i&&(f.bindTexture(f.TEXTURE_2D,null),f.bindFramebuffer(f.FRAMEBUFFER,p.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),e.prototype.destroy.call(this),this}});v.exports=s},43558:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10312),m=t(67502),a=t(83419),r=t(96293),n=t(95540),e=t(57516),s=t(27681),h=t(87841),i=t(32302),l=t(45561),u=t(60722),d=t(29100),f=new a({Extends:e,initialize:function(g){var x=n(g,"fragShader",s),T=n(g,"vertShader",u),E=n(g,"drawShader",s),C=[{name:"DrawSprite",fragShader:l,vertShader:u},{name:"CopySprite",fragShader:x,vertShader:T},{name:"DrawGame",fragShader:E,vertShader:u},{name:"ColorMatrix",fragShader:r}],R=n(g,"shaders",[]);g.shaders=C.concat(R),g.vertShader||(g.vertShader=T),g.batchSize=1,e.call(this,g),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new h,this.targetBounds=new h,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){d.prototype.boot.call(this);var p=this.shaders,g=this.renderer;this.drawSpriteShader=p[0],this.copyShader=p[1],this.gameShader=p[2],this.colorMatrixShader=p[3],this.fsTarget=new i(g,g.width,g.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var x=new ArrayBuffer(168);this.quadVertexData=x,this.quadVertexViewF32=new Float32Array(x),this.quadVertexBuffer=g.createVertexBuffer(x,this.gl.STATIC_DRAW),this.onResize(g.width,g.height),this.currentShader=this.copyShader,this.set2f("uResolution",g.width,g.height)},onResize:function(p,g){var x=this.quadVertexViewF32;x[1]=g,x[22]=g,x[14]=p,x[28]=p,x[35]=p,x[36]=g},batchQuad:function(p,g,x,T,E,C,R,w,F,I,L,D,B,U,W,K,Y,G,X){var V=Math.min(g,T,C,w),b=Math.min(x,E,R,F),z=Math.max(g,T,C,w),k=Math.max(x,E,R,F),$=z-V,J=k-b,j=this.spriteBounds.setTo(V,b,$,J),q=p?p.preFX.padding:0,_=$+q*2,tt=J+q*2,et=Math.abs(Math.max(_,tt)),at=this.manager.getRenderTarget(et),ot=this.targetBounds.setTo(0,0,at.width,at.height);m(ot,Math.round(j.centerX),Math.round(j.centerY)),this.tempSprite=p;var nt=this.gl,vt=this.renderer;vt.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",vt.width,vt.height),this.flipProjectionMatrix(!0),p&&(this.onDrawSprite(p,at),p.preFX.onFX(this));var pt=this.fsTarget;return this.flush(),nt.viewport(0,0,vt.width,vt.height),nt.bindFramebuffer(nt.FRAMEBUFFER,pt.framebuffer.webGLFramebuffer),nt.framebufferTexture2D(nt.FRAMEBUFFER,nt.COLOR_ATTACHMENT0,nt.TEXTURE_2D,pt.texture.webGLTexture,0),nt.clearColor(0,0,0,0),nt.clear(nt.COLOR_BUFFER_BIT),this.setTexture2D(X),this.batchVert(g,x,I,L,0,G,U),this.batchVert(T,E,I,B,0,G,K),this.batchVert(C,R,D,B,0,G,Y),this.batchVert(g,x,I,L,0,G,U),this.batchVert(C,R,D,B,0,G,Y),this.batchVert(w,F,D,L,0,G,W),this.flush(),this.flipProjectionMatrix(!1),nt.activeTexture(nt.TEXTURE0),nt.bindTexture(nt.TEXTURE_2D,at.texture.webGLTexture),nt.copyTexSubImage2D(nt.TEXTURE_2D,0,0,0,ot.x,ot.y,ot.width,ot.height),nt.bindFramebuffer(nt.FRAMEBUFFER,null),nt.bindTexture(nt.TEXTURE_2D,null),this.onBatch(p),this.currentShader=this.copyShader,this.onDraw(at,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(p,g,x,T,E,C,R){x===void 0&&(x=!0),T===void 0&&(T=!0),E===void 0&&(E=!1),R===void 0&&(R=this.copyShader);var w=this.gl,F=this.tempSprite;C&&(R=this.colorMatrixShader),this.currentShader=R;var I=this.setVertexBuffer(this.quadVertexBuffer);R.bind(I,!1);var L=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",L.width,L.height),F.preFX.onFXCopy(this),this.onCopySprite(p,g,F),C&&(this.set1fv("uColorMatrix",C.getData()),this.set1f("uAlpha",C.alpha)),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,p.texture.webGLTexture),p.height>g.height)w.viewport(0,0,p.width,p.height),this.setTargetUVs(p,g);else{var D=g.height-p.height;w.viewport(0,D,p.width,p.height),this.resetUVs()}if(w.bindFramebuffer(w.FRAMEBUFFER,g.framebuffer.webGLFramebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,g.texture.webGLTexture,0),x&&(w.clearColor(0,0,0,+!T),w.clear(w.COLOR_BUFFER_BIT)),E){var B=this.renderer.currentBlendMode;this.renderer.setBlendMode(o.ERASE)}w.bufferData(w.ARRAY_BUFFER,this.quadVertexData,w.STATIC_DRAW),w.drawArrays(w.TRIANGLES,0,6),E&&this.renderer.setBlendMode(B),w.bindFramebuffer(w.FRAMEBUFFER,null)},copy:function(p,g){var x=this.gl;this.set1i("uMainSampler",0),x.activeTexture(x.TEXTURE0),x.bindTexture(x.TEXTURE_2D,p.texture.webGLTexture),x.viewport(0,0,p.width,p.height),this.setUVs(0,0,0,1,1,1,1,0),x.bindFramebuffer(x.FRAMEBUFFER,g.framebuffer.webGLFramebuffer),x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,g.texture.webGLTexture,0),x.clearColor(0,0,0,0),x.clear(x.COLOR_BUFFER_BIT),x.bufferData(x.ARRAY_BUFFER,this.quadVertexData,x.STATIC_DRAW),x.drawArrays(x.TRIANGLES,0,6),x.bindFramebuffer(x.FRAMEBUFFER,null)},blendFrames:function(p,g,x,T,E){this.manager.blendFrames(p,g,x,T,E)},blendFramesAdditive:function(p,g,x,T,E){this.manager.blendFramesAdditive(p,g,x,T,E)},drawToGame:function(p){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(p)},copyToGame:function(p){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(p)},bindAndDraw:function(p){var g=this.gl,x=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(p.texture);var T=this._tempMatrix1.loadIdentity(),E=this.targetBounds.x,C=this.targetBounds.y,R=E+p.width,w=C+p.height,F=T.getX(E,C),I=T.getX(E,w),L=T.getX(R,w),D=T.getX(R,C),B=T.getY(E,C),U=T.getY(E,w),W=T.getY(R,w),K=T.getY(R,C),Y=16777215;this.batchVert(F,B,0,0,0,0,Y),this.batchVert(I,U,0,1,0,0,Y),this.batchVert(L,W,1,1,0,0,Y),this.batchVert(F,B,0,0,0,0,Y),this.batchVert(L,W,1,1,0,0,Y),this.batchVert(D,K,1,0,0,0,Y),x.restoreFramebuffer(!1,!0),x.currentFramebuffer||g.viewport(0,0,x.width,x.height),x.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(p){this.drawToGame(p)},setUVs:function(p,g,x,T,E,C,R,w){var F=this.quadVertexViewF32;F[2]=p,F[3]=g,F[9]=x,F[10]=T,F[16]=E,F[17]=C,F[23]=p,F[24]=g,F[30]=E,F[31]=C,F[37]=R,F[38]=w},setTargetUVs:function(p,g){var x=g.height/p.height;x>.5?x=.5-(x-.5):x=.5+(.5-x),this.setUVs(0,x,0,1+x,1,1+x,1,x)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,e.prototype.destroy.call(this),this}});v.exports=f},81041:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(95540),a=t(57516),r=new o({Extends:a,initialize:function(e){e.topology=5,e.batchSize=m(e,"batchSize",256),a.call(this,e)}});v.exports=r},12385:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(95540),a=t(57516),r=t(45561),n=t(60722),e=t(29100),s=new o({Extends:a,initialize:function(i){i.fragShader=m(i,"fragShader",r),i.vertShader=m(i,"vertShader",n),i.forceZero=!0,a.call(this,i)},boot:function(){e.prototype.boot.call(this);var h=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",h.width,h.height)}});v.exports=s},7589:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35407),m=t(10312),a=t(83419),r=t(89422),n=t(96293),e=t(36682),s=t(95540),h=t(48247),i=t(49627),l=t(29100),u=new a({Extends:l,initialize:function(f){f.renderTarget=s(f,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),f.vertShader=s(f,"vertShader",i),f.shaders=s(f,"shaders",[{name:"Copy",fragShader:e},{name:"AddBlend",fragShader:o},{name:"LinearBlend",fragShader:h},{name:"ColorMatrix",fragShader:n}]),f.attributes=s(f,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),f.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],f.batchSize=1,l.call(this,f),this.colorMatrix=new r,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){l.prototype.boot.call(this);var d=this.shaders,f=this.renderTargets;this.copyShader=d[0],this.addShader=d[1],this.linearShader=d[2],this.colorMatrixShader=d[3],this.fullFrame1=f[0],this.fullFrame2=f[1],this.halfFrame1=f[2],this.halfFrame2=f[3]},copyFrame:function(d,f,p,g,x){p===void 0&&(p=1),g===void 0&&(g=!0),x===void 0&&(x=!0);var T=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",p),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,d.texture.webGLTexture),f?(T.viewport(0,0,f.width,f.height),T.bindFramebuffer(T.FRAMEBUFFER,f.framebuffer.webGLFramebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,f.texture.webGLTexture,0)):T.viewport(0,0,d.width,d.height),g&&(x?T.clearColor(0,0,0,0):T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT)),T.bufferData(T.ARRAY_BUFFER,this.vertexData,T.STATIC_DRAW),T.drawArrays(T.TRIANGLES,0,6),T.bindFramebuffer(T.FRAMEBUFFER,null),T.bindTexture(T.TEXTURE_2D,null)},blitFrame:function(d,f,p,g,x,T,E){p===void 0&&(p=1),g===void 0&&(g=!0),x===void 0&&(x=!0),T===void 0&&(T=!1),E===void 0&&(E=!1);var C=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",p),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,d.texture.webGLTexture),d.height>f.height)C.viewport(0,0,d.width,d.height),this.setTargetUVs(d,f);else{var R=f.height-d.height;C.viewport(0,R,d.width,d.height)}if(C.bindFramebuffer(C.FRAMEBUFFER,f.framebuffer.webGLFramebuffer),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,f.texture.webGLTexture,0),g&&(x?C.clearColor(0,0,0,0):C.clearColor(0,0,0,1),C.clear(C.COLOR_BUFFER_BIT)),T){var w=this.renderer.currentBlendMode;this.renderer.setBlendMode(m.ERASE)}E&&this.flipY(),C.bufferData(C.ARRAY_BUFFER,this.vertexData,C.STATIC_DRAW),C.drawArrays(C.TRIANGLES,0,6),T&&this.renderer.setBlendMode(w),C.bindFramebuffer(C.FRAMEBUFFER,null),C.bindTexture(C.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(d,f,p,g,x,T,E,C){E===void 0&&(E=!0),C===void 0&&(C=!0);var R=this.gl;R.bindFramebuffer(R.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,d.texture.webGLTexture,0),E&&(C?R.clearColor(0,0,0,0):R.clearColor(0,0,0,1),R.clear(R.COLOR_BUFFER_BIT)),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,f.texture.webGLTexture),R.copyTexSubImage2D(R.TEXTURE_2D,0,0,0,p,g,x,T),R.bindFramebuffer(R.FRAMEBUFFER,null),R.bindTexture(R.TEXTURE_2D,null)},copyToGame:function(d){var f=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,d.texture.webGLTexture),f.bufferData(f.ARRAY_BUFFER,this.vertexData,f.STATIC_DRAW),f.drawArrays(f.TRIANGLES,0,6)},drawFrame:function(d,f,p,g){p===void 0&&(p=!0),g===void 0&&(g=this.colorMatrix);var x=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",g.getData()),this.set1f("uAlpha",g.alpha),x.activeTexture(x.TEXTURE0),x.bindTexture(x.TEXTURE_2D,d.texture.webGLTexture),f?(x.viewport(0,0,f.width,f.height),x.bindFramebuffer(x.FRAMEBUFFER,f.framebuffer.webGLFramebuffer),x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,f.texture.webGLTexture,0)):x.viewport(0,0,d.width,d.height),p?x.clearColor(0,0,0,0):x.clearColor(0,0,0,1),x.clear(x.COLOR_BUFFER_BIT),x.bufferData(x.ARRAY_BUFFER,this.vertexData,x.STATIC_DRAW),x.drawArrays(x.TRIANGLES,0,6),x.bindFramebuffer(x.FRAMEBUFFER,null),x.bindTexture(x.TEXTURE_2D,null)},blendFrames:function(d,f,p,g,x,T){g===void 0&&(g=1),x===void 0&&(x=!0),T===void 0&&(T=this.linearShader);var E=this.gl;this.setShader(T),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",g),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,d.texture.webGLTexture),E.activeTexture(E.TEXTURE1),E.bindTexture(E.TEXTURE_2D,f.texture.webGLTexture),p?(E.bindFramebuffer(E.FRAMEBUFFER,p.framebuffer.webGLFramebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,p.texture.webGLTexture,0),E.viewport(0,0,p.width,p.height)):E.viewport(0,0,d.width,d.height),x?E.clearColor(0,0,0,0):E.clearColor(0,0,0,1),E.clear(E.COLOR_BUFFER_BIT),E.bufferData(E.ARRAY_BUFFER,this.vertexData,E.STATIC_DRAW),E.drawArrays(E.TRIANGLES,0,6),E.bindFramebuffer(E.FRAMEBUFFER,null),E.bindTexture(E.TEXTURE_2D,null)},blendFramesAdditive:function(d,f,p,g,x){this.blendFrames(d,f,p,g,x,this.addShader)},clearFrame:function(d,f){f===void 0&&(f=!0);var p=this.gl;p.viewport(0,0,d.width,d.height),p.bindFramebuffer(p.FRAMEBUFFER,d.framebuffer.webGLFramebuffer),f?p.clearColor(0,0,0,0):p.clearColor(0,0,0,1),p.clear(p.COLOR_BUFFER_BIT);var g=this.renderer.currentFramebuffer;p.bindFramebuffer(p.FRAMEBUFFER,g.webGLFramebuffer)},setUVs:function(d,f,p,g,x,T,E,C){var R=this.vertexViewF32;R[2]=d,R[3]=f,R[6]=p,R[7]=g,R[10]=x,R[11]=T,R[14]=d,R[15]=f,R[18]=x,R[19]=T,R[22]=E,R[23]=C},setTargetUVs:function(d,f){var p=f.height/d.height;p>.5?p=.5-(p-.5):p=.5+(.5-p),this.setUVs(0,p,0,1+p,1,1+p,1,p)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});v.exports=u},36060:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};v.exports=S},84817:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pipelineafterflush"},36712:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pipelinebeforeflush"},40285:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pipelinebind"},65918:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pipelineboot"},92852:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pipelinedestroy"},56072:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pipelinerebind"},57566:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pipelineresize"},77085:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={AFTER_FLUSH:t(84817),BEFORE_FLUSH:t(36712),BIND:t(40285),BOOT:t(65918),DESTROY:t(92852),REBIND:t(56072),RESIZE:t(57566)}},54812:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(99155),a=t(84057),r=new o({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:m}),this.amount=1},onPreRender:function(n,e){n=this.getController(n),this.set1f("amount",n.amount,e)}});v.exports=r},67329:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(24400),a=t(84057),r=new o({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:m}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(n){n=this.getController(n),this.set1f("strength",n.blurStrength),this.set3fv("color",n.glcolor)},onDraw:function(n){var e=this.getController(),s=this.fullFrame1,h=this.fullFrame2;this.copyFrame(n,h);for(var i=2/n.width*e.offsetX,l=2/n.height*e.offsetY,u=0;u<e.steps;u++)this.set2f("offset",i,0),this.copySprite(n,s),this.set2f("offset",0,l),this.copySprite(s,n);this.blendFrames(h,n,s,e.strength),this.copyToGame(s)}});v.exports=r},8861:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(41514),a=t(51078),r=t(94328),n=t(84057),e=new o({Extends:n,initialize:function(h){n.call(this,{game:h,shaders:[{name:"Gaussian5",fragShader:m},{name:"Gaussian9",fragShader:a},{name:"Gaussian13",fragShader:r}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(s){var h=this.getController(),i=this.gl,l=this.fullFrame1,u=i.getParameter(i.FRAMEBUFFER_BINDING);this.bind(this.shaders[h.quality]),i.activeTexture(i.TEXTURE0),i.viewport(0,0,s.width,s.height),this.set1i("uMainSampler",0),this.set2f("resolution",s.width,s.height),this.set1f("strength",h.strength),this.set3fv("color",h.glcolor);for(var d=0;d<h.steps;d++)this.set2f("offset",h.x,0),this.copySprite(s,l),this.set2f("offset",0,h.y),this.copySprite(l,s);i.bindFramebuffer(i.FRAMEBUFFER,u),i.bindTexture(i.TEXTURE_2D,null),this.copyToGame(s)}});v.exports=e},51051:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(90610),a=t(84057),r=new o({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:m}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(n,e,s,h){n=this.getController(n),this.set1f("radius",n.radius,e),this.set1f("amount",n.amount,e),this.set1f("contrast",n.contrast,e),this.set1f("strength",n.strength,e),this.set2f("blur",n.blurX,n.blurY,e),this.setBoolean("isTiltShift",n.isTiltShift,e),s&&h&&this.set2f("resolution",s,h,e)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});v.exports=r},89428:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(91899),a=t(84057),r=new o({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:m}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(n,e,s,h){n=this.getController(n),this.set1f("scale",n.scale,e),this.set1f("feather",n.feather,e),this.set1f("thickness",n.thickness,e),this.set3fv("color",n.glcolor,e),this.set4fv("backgroundColor",n.glcolor2,e),s&&h&&this.set2f("resolution",s,h,e)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});v.exports=r},88904:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(84057),a=new o({Extends:m,initialize:function(n){m.call(this,{game:n})},onDraw:function(r){var n=this.fullFrame1;this.controller?this.manager.drawFrame(r,n,!0,this.controller):this.drawFrame(r,n),this.copyToGame(n)}});v.exports=a},63563:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(47838),a=t(84057),r=new o({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:m}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(n){var e=this.game.textures.getFrame(n);e&&(this.glTexture=e.glTexture)},onDraw:function(n){var e=this.getController(),s=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",e.x,e.y),this.bindTexture(e.glTexture,1),this.copySprite(n,s),this.copyToGame(s)}});v.exports=r},94045:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(95540),a=t(98656),r=t(84057),n=t(70554),e=new o({Extends:r,initialize:function(h,i){var l=m(i,"quality",.1),u=m(i,"distance",10);r.call(this,{game:h,fragShader:n.setGlowQuality(a,h,l,u)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(s,h,i,l){s=this.getController(s),this.set1f("outerStrength",s.outerStrength,h),this.set1f("innerStrength",s.innerStrength,h),this.set4fv("glowColor",s.glcolor,h),this.setBoolean("knockout",s.knockout,h),i&&l&&this.set2f("resolution",i,l,h)},onDraw:function(s){this.set2f("resolution",s.width,s.height),this.bindAndDraw(s)}});v.exports=e},74088:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(70463),a=t(84057),r=new o({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:m}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(n,e){n=this.getController(n),this.set1f("alpha",n.alpha,e),this.set1i("size",n.size,e),this.set3fv("color1",n.glcolor1,e),this.set3fv("color2",n.glcolor2,e),this.set2f("positionFrom",n.fromX,n.fromY,e),this.set2f("positionTo",n.toX,n.toY,e)}});v.exports=r},99636:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(50831),a=t(84057),r=new o({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:m}),this.amount=1},onPreRender:function(n,e,s,h){n=this.getController(n),this.set1f("amount",n.amount,e),s&&h&&this.set2f("resolution",s,h,e)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});v.exports=r},34700:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(92595),a=t(84057),r=new o({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:m}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(n,e){n=this.getController(n);var s=n.samples;this.set1i("samples",s,e),this.set1f("intensity",n.intensity,e),this.set1f("decay",n.decay,e),this.set1f("power",n.power/s,e),this.set2f("lightPosition",n.x,n.y,e),this.set4fv("color",n.glcolor,e)}});v.exports=r},91157:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(72464),a=t(84057),r=new o({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:m}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(n,e,s,h){n=this.getController(n),this.setTime("time",e),this.set1f("speed",n.speed,e),this.set1f("lineWidth",n.lineWidth,e),this.set1f("gradient",n.gradient,e),this.setBoolean("reveal",n.reveal,e),s&&h&&this.set2f("resolution",s,h,e)},onDraw:function(n){this.set2f("resolution",n.width,n.height),this.bindAndDraw(n)}});v.exports=r},27797:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(39249),a=t(84057),r=new o({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:m}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(n,e){n=this.getController(n),this.set1f("radius",n.radius,e),this.set1f("strength",n.strength,e),this.set2f("position",n.x,n.y,e)}});v.exports=r},67603:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(2878),a=t(84057),r=new o({Extends:a,initialize:function(e){a.call(this,{game:e,fragShader:m}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(n,e){n=this.getController(n);var s=n.progress,h=n.wipeWidth,i=n.direction,l=n.axis;this.set4f("config",s,h,i,l,e),this.setBoolean("reveal",n.reveal,e)}});v.exports=r},58918:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={Barrel:t(54812),Bloom:t(67329),Blur:t(8861),Bokeh:t(51051),Circle:t(89428),ColorMatrix:t(88904),Displacement:t(63563),Glow:t(94045),Gradient:t(74088),Pixelate:t(99636),Shadow:t(34700),Shine:t(91157),Vignette:t(27797),Wipe:t(67603)};v.exports=o},96615:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(36060),m=t(79291),a={FX:t(58918),BitmapMaskPipeline:t(31302),Events:t(77085),FXPipeline:t(92651),LightPipeline:t(96569),MobilePipeline:t(56527),MultiPipeline:t(57516),PointLightPipeline:t(43439),PostFXPipeline:t(84057),PreFXPipeline:t(43558),RopePipeline:t(81041),SinglePipeline:t(12385),UtilityPipeline:t(7589)};a=m(!1,a,o),v.exports=a},35407:v=>{v.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:v=>{v.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:v=>{v.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:v=>{v.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:v=>{v.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:v=>{v.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:v=>{v.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:v=>{v.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:v=>{v.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:v=>{v.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:v=>{v.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:v=>{v.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:v=>{v.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:v=>{v.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:v=>{v.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:v=>{v.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:v=>{v.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:v=>{v.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:v=>{v.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:v=>{v.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:v=>{v.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:v=>{v.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:v=>{v.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:v=>{v.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:v=>{v.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:v=>{v.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:v=>{v.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:v=>{v.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:v=>{v.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:v=>{v.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:v=>{v.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:v=>{v.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:v=>{v.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:v=>{v.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(v,S,t)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={AddBlendFrag:t(35407),BitmapMaskFrag:t(78908),BitmapMaskVert:t(85191),ColorMatrixFrag:t(96293),CopyFrag:t(36682),FXBarrelFrag:t(99155),FXBloomFrag:t(24400),FXBlurHighFrag:t(94328),FXBlurLowFrag:t(41514),FXBlurMedFrag:t(51078),FXBokehFrag:t(90610),FXCircleFrag:t(91899),FXDisplacementFrag:t(47838),FXGlowFrag:t(98656),FXGradientFrag:t(70463),FXPixelateFrag:t(50831),FXShadowFrag:t(92595),FXShineFrag:t(72464),FXVignetteFrag:t(39249),FXWipeFrag:t(2878),LightFrag:t(31063),LinearBlendFrag:t(48247),MeshFrag:t(41214),MeshVert:t(39653),MobileFrag:t(62143),MobileVert:t(47940),MultiFrag:t(98840),MultiVert:t(44667),PointLightFrag:t(4127),PointLightVert:t(89924),PostFXFrag:t(27681),QuadVert:t(49627),SingleFrag:t(45561),SingleVert:t(60722)}},93567:(v,S,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=new o({initialize:function(r,n,e){this.webGLAttribLocation=-1,this.gl=r,this.program=n,this.name=e,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var a=this.gl;a.isContextLost()||(this.webGLAttribLocation=a.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});v.exports=m},26128:(v,S,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=new o({initialize:function(r,n,e,s){this.webGLBuffer=null,this.gl=r,this.initialDataOrSize=n,this.bufferType=e,this.bufferUsage=s,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var a=this.gl;if(!a.isContextLost()){var r=this.bufferType,n=a.createBuffer();this.webGLBuffer=n,a.bindBuffer(r,this.webGLBuffer),a.bufferData(r,this.initialDataOrSize,this.bufferUsage),a.bindBuffer(r,null)}}},destroy:function(){var a=this.gl;a.isContextLost()||a.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});v.exports=m},84387:(v,S,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},a=new o({initialize:function(n,e,s,h,i){this.webGLFramebuffer=null,this.gl=n,this.width=e,this.height=s,this.renderTexture=h,this.addDepthStencilBuffer=!!i,this.createResource()},createResource:function(){var r=this.gl;if(!r.isContextLost()){var n=this.renderTexture,e=0,s=r.createFramebuffer();if(this.webGLFramebuffer=s,r.bindFramebuffer(r.FRAMEBUFFER,s),n.isRenderTexture=!0,n.isAlphaPremultiplied=!1,r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,n.webGLTexture,0),e=r.checkFramebufferStatus(r.FRAMEBUFFER),e!==r.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(m[e]||e));if(this.addDepthStencilBuffer){var h=r.createRenderbuffer();r.bindRenderbuffer(r.RENDERBUFFER,h),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,this.width,this.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,h)}r.bindFramebuffer(r.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var r=this.gl;if(!r.isContextLost()){r.bindFramebuffer(r.FRAMEBUFFER,this.webGLFramebuffer);var n=r.getFramebufferAttachmentParameter(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);n!==null&&(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,null,0),r.deleteTexture(n));var e=r.getFramebufferAttachmentParameter(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);e!==null&&r.deleteRenderbuffer(e),r.bindFramebuffer(r.FRAMEBUFFER,null),r.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});v.exports=a},1482:(v,S,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=new o({initialize:function(r,n,e){this.webGLProgram=null,this.gl=r,this.vertexSource=n,this.fragmentSource=e,this.createResource()},createResource:function(){var a=this.gl;if(!a.isContextLost()){var r=a.createProgram(),n=a.createShader(a.VERTEX_SHADER),e=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(n,this.vertexSource),a.shaderSource(e,this.fragmentSource),a.compileShader(n),a.compileShader(e);var s=`Shader failed:
`;if(!a.getShaderParameter(n,a.COMPILE_STATUS))throw new Error("Vertex "+s+a.getShaderInfoLog(n));if(!a.getShaderParameter(e,a.COMPILE_STATUS))throw new Error("Fragment "+s+a.getShaderInfoLog(e));if(a.attachShader(r,n),a.attachShader(r,e),a.linkProgram(r),!a.getProgramParameter(r,a.LINK_STATUS))throw new Error("Link "+s+a.getProgramInfoLog(r));a.useProgram(r),this.webGLProgram=r}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});v.exports=m},82751:(v,S,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(50030),a=new o({initialize:function(n,e,s,h,i,l,u,d,f,p,g,x,T){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=n,this.mipLevel=e,this.minFilter=s,this.magFilter=h,this.wrapT=i,this.wrapS=l,this.format=u,this.pixels=d,this.width=f,this.height=p,this.pma=g??!0,this.forceSize=!!x,this.flipY=!!T,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var r=this.gl;if(!r.isContextLost()){if(this.pixels instanceof a){this.webGLTexture=this.pixels.webGLTexture;return}var n=r.createTexture();n.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=n,this._processTexture()}},update:function(r,n,e,s,h,i,l,u,d){if(!(n===0||e===0)){this.pixels=r,this.width=n,this.height=e,this.flipY=s,this.wrapS=h,this.wrapT=i,this.minFilter=l,this.magFilter=u,this.format=d;var f=this.gl;f.isContextLost()||this._processTexture()}},_processTexture:function(){var r=this.gl;r.activeTexture(r.TEXTURE0);var n=r.getParameter(r.TEXTURE_BINDING_2D);r.bindTexture(r.TEXTURE_2D,this.webGLTexture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,this.minFilter),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,this.magFilter),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,this.wrapS),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,this.wrapT),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,this.flipY);var e=this.pixels,s=this.mipLevel,h=this.width,i=this.height,l=this.format,u=!1;if(e==null)r.texImage2D(r.TEXTURE_2D,s,l,h,i,0,l,r.UNSIGNED_BYTE,null),u=m(h,i);else if(e.compressed){h=e.width,i=e.height,u=e.generateMipmap;for(var d=0;d<e.mipmaps.length;d++)r.compressedTexImage2D(r.TEXTURE_2D,d,e.internalFormat,e.mipmaps[d].width,e.mipmaps[d].height,0,e.mipmaps[d].data)}else e instanceof Uint8Array?(r.texImage2D(r.TEXTURE_2D,s,l,h,i,0,l,r.UNSIGNED_BYTE,e),u=m(h,i)):(this.forceSize||(h=e.width,i=e.height),r.texImage2D(r.TEXTURE_2D,s,l,l,r.UNSIGNED_BYTE,e),u=m(h,i));u&&r.generateMipmap(r.TEXTURE_2D),n?r.bindTexture(r.TEXTURE_2D,n):r.bindTexture(r.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(r){this.__SPECTOR_Metadata=r,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=r)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof a||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});v.exports=a},57183:(v,S,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=new o({initialize:function(r,n,e){this.webGLUniformLocation=null,this.gl=r,this.program=n,this.name=e,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var a=this.gl;a.isContextLost()||(this.webGLUniformLocation=a.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});v.exports=m},9503:(v,S,t)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={WebGLAttribLocationWrapper:t(93567),WebGLBufferWrapper:t(26128),WebGLProgramWrapper:t(1482),WebGLTextureWrapper:t(82751),WebGLFramebufferWrapper:t(84387),WebGLUniformLocationWrapper:t(57183)};v.exports=o},76531:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(13560),m=t(83419),a=t(50792),r=t(97480),n=t(8443),e=t(57811),s=t(74403),h=t(45818),i=t(29747),l=t(87841),u=t(86555),d=t(56583),f=t(26099),p=t(38058),g=new m({Extends:a,initialize:function(T){a.call(this),this.game=T,this.canvas,this.canvasBounds=new l,this.parent=null,this.parentIsWindow=!1,this.parentSize=new u,this.gameSize=new u,this.baseSize=new u,this.displaySize=new u,this.scaleMode=o.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new f(1,1),this.autoRound=!1,this.autoCenter=o.CENTER.NO_CENTER,this.orientation=o.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:i,windowResize:i,fullScreenChange:i,fullScreenError:i}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(n.BOOT,this.boot,this)},boot:function(){var x=this.game;this.canvas=x.canvas,this.fullscreen=x.device.fullscreen;var T=this.scaleMode;T!==o.SCALE_MODE.RESIZE&&T!==o.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(T),T===o.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),x.events.on(n.PRE_STEP,this.step,this),x.events.once(n.READY,this.refresh,this),x.events.once(n.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(x){this.getParent(x),this.getParentBounds();var T=x.width,E=x.height,C=x.scaleMode,R=x.zoom,w=x.autoRound;if(typeof T=="string")if(T.substr(-1)!=="%")T=parseInt(T,10);else{var F=this.parentSize.width;F===0&&(F=window.innerWidth);var I=parseInt(T,10)/100;T=Math.floor(F*I)}if(typeof E=="string")if(E.substr(-1)!=="%")E=parseInt(E,10);else{var L=this.parentSize.height;L===0&&(L=window.innerHeight);var D=parseInt(E,10)/100;E=Math.floor(L*D)}this.scaleMode=C,this.autoRound=w,this.autoCenter=x.autoCenter,this.resizeInterval=x.resizeInterval,w&&(T=Math.floor(T),E=Math.floor(E)),this.gameSize.setSize(T,E),R===o.ZOOM.MAX_ZOOM&&(R=this.getMaxZoom()),this.zoom=R,R!==1&&(this._resetZoom=!0),this.baseSize.setSize(T,E),w&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),x.minWidth>0&&this.displaySize.setMin(x.minWidth*R,x.minHeight*R),x.maxWidth>0&&this.displaySize.setMax(x.maxWidth*R,x.maxHeight*R),this.displaySize.setSize(T,E),(x.snapWidth>0||x.snapHeight>0)&&this.displaySize.setSnap(x.snapWidth,x.snapHeight),this.orientation=h(T,E)},getParent:function(x){var T=x.parent;if(T!==null){if(this.parent=s(T),this.parentIsWindow=this.parent===document.body,x.expandParent&&x.scaleMode!==o.SCALE_MODE.NONE){var E=this.parent.getBoundingClientRect();(this.parentIsWindow||E.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",E=this.parent.getBoundingClientRect(),!this.parentIsWindow&&E.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}x.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=s(x.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var x=this.parentSize,T=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(T.height=e(!0));var E=T.width,C=T.height;if(x.width!==E||x.height!==C)return x.setSize(E,C),!0;if(this.canvas){var R=this.canvasBounds,w=this.canvas.getBoundingClientRect();if(w.x!==R.x||w.y!==R.y)return!0}return!1},lockOrientation:function(x){var T=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return T?T.call(screen,x):!1},setParentSize:function(x,T){return this.parentSize.setSize(x,T),this.refresh()},setGameSize:function(x,T){var E=this.autoRound;E&&(x=Math.floor(x),T=Math.floor(T));var C=this.width,R=this.height;return this.gameSize.resize(x,T),this.baseSize.resize(x,T),E&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(x/T),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(C,R)},resize:function(x,T){var E=this.zoom,C=this.autoRound;C&&(x=Math.floor(x),T=Math.floor(T));var R=this.width,w=this.height;this.gameSize.resize(x,T),this.baseSize.resize(x,T),C&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(x*E,T*E),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var F=this.canvas.style,I=x*E,L=T*E;return C&&(I=Math.floor(I),L=Math.floor(L)),(I!==x||L!==T)&&(F.width=I+"px",F.height=L+"px"),this.refresh(R,w)},setZoom:function(x){return this.zoom=x,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(x,T){return x===void 0&&(x=0),T===void 0&&(T=x),this.displaySize.setSnap(x,T),this.refresh()},refresh:function(x,T){x===void 0&&(x=this.width),T===void 0&&(T=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var E=this.game.domContainer;if(E){this.baseSize.setCSS(E);var C=this.canvas.style,R=E.style;R.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",R.marginLeft=C.marginLeft,R.marginTop=C.marginTop}return this.emit(r.RESIZE,this.gameSize,this.baseSize,this.displaySize,x,T),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var x=h(this.width,this.height);x!==this.orientation&&(this.orientation=x,this.emit(r.ORIENTATION_CHANGE,x))}},updateScale:function(){var x=this.canvas.style,T=this.gameSize.width,E=this.gameSize.height,C,R,w=this.zoom,F=this.autoRound;if(this.scaleMode===o.SCALE_MODE.NONE)this.displaySize.setSize(T*w,E*w),C=this.displaySize.width,R=this.displaySize.height,F&&(C=Math.floor(C),R=Math.floor(R)),this._resetZoom&&(x.width=C+"px",x.height=R+"px",this._resetZoom=!1);else if(this.scaleMode===o.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),C=this.displaySize.width,R=this.displaySize.height,F&&(C=Math.floor(C),R=Math.floor(R)),this.canvas.width=C,this.canvas.height=R;else if(this.scaleMode===o.SCALE_MODE.EXPAND){var I=this.game.config.width,L=this.game.config.height;this.displaySize.setSize(this.parentSize.width,this.parentSize.height),C=this.displaySize.width,R=this.displaySize.height,F&&(C=Math.floor(C),R=Math.floor(R)),x.width=C+"px",x.height=R+"px";var D=this.parentSize.width/I,B=this.parentSize.height/L;D<B&&D!==0?this.baseSize.setSize(I,this.parentSize.height/D):B!==0&&this.baseSize.setSize(this.displaySize.width/B,L),this.gameSize.setSize(this.baseSize.width,this.baseSize.height),C=this.baseSize.width,R=this.baseSize.height,F&&(C=Math.floor(C),R=Math.floor(R)),this.canvas.width=C,this.canvas.height=R}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),C=this.displaySize.width,R=this.displaySize.height,F&&(C=Math.floor(C),R=Math.floor(R)),x.width=C+"px",x.height=R+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var x=d(this.parentSize.width,this.gameSize.width,0,!0),T=d(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(x,T),1)},updateCenter:function(){var x=this.autoCenter;if(x!==o.CENTER.NO_CENTER){var T=this.canvas,E=T.style,C=T.getBoundingClientRect(),R=C.width,w=C.height,F=Math.floor((this.parentSize.width-R)/2),I=Math.floor((this.parentSize.height-w)/2);x===o.CENTER.CENTER_HORIZONTALLY?I=0:x===o.CENTER.CENTER_VERTICALLY&&(F=0),E.marginLeft=F+"px",E.marginTop=I+"px"}},updateBounds:function(){var x=this.canvasBounds,T=this.canvas.getBoundingClientRect();x.x=T.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),x.y=T.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),x.width=T.width,x.height=T.height},transformX:function(x){return(x-this.canvasBounds.left)*this.displayScale.x},transformY:function(x){return(x-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(x){x===void 0&&(x={navigationUI:"hide"});var T=this.fullscreen;if(!T.available){this.emit(r.FULLSCREEN_UNSUPPORTED);return}if(!T.active){var E=this.getFullscreenTarget();T.keyboard?E[T.request](Element.ALLOW_KEYBOARD_INPUT):E[T.request](x)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(r.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(x){this.removeFullscreenTarget(),this.emit(r.FULLSCREEN_FAILED,x)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var x=document.createElement("div");x.style.margin="0",x.style.padding="0",x.style.width="100%",x.style.height="100%",this.fullscreenTarget=x,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var T=this.canvas.parentNode;T.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var x=this.fullscreenTarget;if(x&&x.parentNode){var T=x.parentNode;T.insertBefore(this.canvas,x),T.removeChild(x)}}},stopFullscreen:function(){var x=this.fullscreen;if(!x.available)return this.emit(r.FULLSCREEN_UNSUPPORTED),!1;x.active&&document[x.cancel](),this.removeFullscreenTarget()},leaveFullScreenSuccessHandler:function(){this.getParentBounds(),this.emit(r.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(x){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(x)},startListeners:function(){var x=this,T=this.domlisteners;if(T.orientationChange=function(){x.updateBounds(),x._checkOrientation=!0,x.dirty=!0,x.refresh()},T.windowResize=function(){x.updateBounds(),x.dirty=!0},screen.orientation&&screen.orientation.addEventListener?screen.orientation.addEventListener("change",T.orientationChange,!1):window.addEventListener("orientationchange",T.orientationChange,!1),window.addEventListener("resize",T.windowResize,!1),this.fullscreen.available){T.fullScreenChange=function(C){return x.onFullScreenChange(C)},T.fullScreenError=function(C){return x.onFullScreenError(C)};var E=["webkit","moz",""];E.forEach(function(C){document.addEventListener(C+"fullscreenchange",T.fullScreenChange,!1),document.addEventListener(C+"fullscreenerror",T.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",T.fullScreenChange,!1),document.addEventListener("MSFullscreenError",T.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():(this.stopFullscreen(),this.leaveFullScreenSuccessHandler())},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(x,T){x instanceof p||(T=x,x=void 0),T===void 0&&(T=new l);var E=this.baseSize,C=this.parentSize,R=this.canvasBounds,w=this.displayScale,F=R.x>=0?0:-(R.x*w.x),I=R.y>=0?0:-(R.y*w.y),L;C.width>=R.width?L=E.width:L=E.width-(R.width-C.width)*w.x;var D;return C.height>=R.height?D=E.height:D=E.height-(R.height-C.height)*w.y,T.setTo(F,I,L,D),x&&(T.width/=x.zoomX,T.height/=x.zoomY,T.centerX=x.centerX+x.scrollX,T.centerY=x.centerY+x.scrollY),T},step:function(x,T){this.parent&&(this._lastCheck+=T,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var x=this.domlisteners;screen.orientation&&screen.orientation.addEventListener?screen.orientation.removeEventListener("change",x.orientationChange,!1):window.removeEventListener("orientationchange",x.orientationChange,!1),window.removeEventListener("resize",x.windowResize,!1);var T=["webkit","moz",""];T.forEach(function(E){document.removeEventListener(E+"fullscreenchange",x.fullScreenChange,!1),document.removeEventListener(E+"fullscreenerror",x.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",x.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",x.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===o.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===o.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});v.exports=g},64743:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}},81050:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={CENTER:t(64743),ORIENTATION:t(39218),SCALE_MODE:t(81050),ZOOM:t(80805)};v.exports=o},56139:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="enterfullscreen"},2336:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="fullscreenfailed"},47412:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="fullscreenunsupported"},51452:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="leavefullscreen"},20666:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="orientationchange"},47945:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resize"},97480:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ENTER_FULLSCREEN:t(56139),FULLSCREEN_FAILED:t(2336),FULLSCREEN_UNSUPPORTED:t(47412),LEAVE_FULLSCREEN:t(51452),ORIENTATION_CHANGE:t(20666),RESIZE:t(47945)}},93364:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(79291),m=t(13560),a={Center:t(64743),Events:t(97480),Orientation:t(39218),ScaleManager:t(76531),ScaleModes:t(81050),Zoom:t(80805)};a=o(!1,a,m.CENTER),a=o(!1,a,m.ORIENTATION),a=o(!1,a,m.SCALE_MODE),a=o(!1,a,m.ZOOM),v.exports=a},27397:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),m=t(35355),a=function(r){var n=r.game.config.defaultPhysicsSystem,e=o(r.settings,"physics",!1);if(!(!n&&!e)){var s=[];if(n&&s.push(m(n+"Physics")),e)for(var h in e)h=m(h.concat("Physics")),s.indexOf(h)===-1&&s.push(h);return s}};v.exports=a},52106:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),m=function(a){var r=a.plugins.getDefaultScenePlugins(),n=o(a.settings,"plugins",!1);return Array.isArray(n)?n:r||[]};v.exports=m},87033:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};v.exports=S},97482:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(2368),a=new o({initialize:function(n){this.sys=new m(this,n),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});v.exports=a},60903:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(89993),a=t(44594),r=t(8443),n=t(35154),e=t(54899),s=t(29747),h=t(97482),i=t(2368),l=new o({initialize:function(d,f){if(this.game=d,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,f){Array.isArray(f)||(f=[f]);for(var p=0;p<f.length;p++)this._pending.push({key:"default",scene:f[p],autoStart:p===0,data:{}})}d.events.once(r.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new h),this.game.events.emit(r.SYSTEM_READY,this.systemScene,this);var u,d,f,p;for(u=0;u<this._pending.length;u++){d=this._pending[u],f=d.key,p=d.scene;var g;p instanceof h?g=this.createSceneFromInstance(f,p):typeof p=="object"?g=this.createSceneFromObject(f,p):typeof p=="function"&&(g=this.createSceneFromFunction(f,p)),f=g.sys.settings.key,this.keys[f]=g,this.scenes.push(g),this._data[f]&&(g.sys.settings.data=this._data[f].data,this._data[f].autoStart&&(d.autoStart=!0)),(d.autoStart||g.sys.settings.active)&&this._start.push(f)}for(this._pending.length=0,this._data={},this.isBooted=!0,u=0;u<this._start.length;u++)d=this._start[u],this.start(d);this._start.length=0}},processQueue:function(){var u=this._pending.length,d=this._queue.length;if(!(u===0&&d===0)){var f,p;if(u){for(f=0;f<u;f++)p=this._pending[f],this.add(p.key,p.scene,p.autoStart,p.data);for(f=0;f<this._start.length;f++)p=this._start[f],this.start(p);this._start.length=0,this._pending.length=0}for(f=0;f<this._queue.length;f++)p=this._queue[f],this[p.op](p.keyA,p.keyB,p.data);this._queue.length=0}},add:function(u,d,f,p){if(f===void 0&&(f=!1),p===void 0&&(p={}),this.isProcessing||!this.isBooted)return this._pending.push({key:u,scene:d,autoStart:f,data:p}),this.isBooted||(this._data[u]={data:p}),null;u=this.getKey(u,d);var g;return d instanceof h?g=this.createSceneFromInstance(u,d):typeof d=="object"?(d.key=u,g=this.createSceneFromObject(u,d)):typeof d=="function"&&(g=this.createSceneFromFunction(u,d)),g.sys.settings.data=p,u=g.sys.settings.key,this.keys[u]=g,this.scenes.push(g),(f||g.sys.settings.active)&&(this._pending.length?this._start.push(u):this.start(u)),g},remove:function(u){if(this.isProcessing)return this.queueOp("remove",u);var d=this.getScene(u);if(!d||d.sys.isTransitioning())return this;var f=this.scenes.indexOf(d),p=d.sys.settings.key;return f>-1&&(delete this.keys[p],this.scenes.splice(f,1),this._start.indexOf(p)>-1&&(f=this._start.indexOf(p),this._start.splice(f,1)),d.sys.destroy()),this},bootScene:function(u){var d=u.sys,f=d.settings;d.sceneUpdate=s,u.init&&(u.init.call(u,f.data),f.status=m.INIT,f.isTransition&&d.events.emit(a.TRANSITION_INIT,f.transitionFrom,f.transitionDuration));var p;d.load&&(p=d.load,p.reset()),p&&u.preload?(u.preload.call(u),f.status=m.LOADING,p.once(e.COMPLETE,this.loadComplete,this),p.start()):this.create(u)},loadComplete:function(u){this.create(u.scene)},payloadComplete:function(u){this.bootScene(u.scene)},update:function(u,d){this.processQueue(),this.isProcessing=!0;for(var f=this.scenes.length-1;f>=0;f--){var p=this.scenes[f].sys;p.settings.status>m.START&&p.settings.status<=m.RUNNING&&p.step(u,d),p.scenePlugin&&p.scenePlugin._target&&p.scenePlugin.step(u,d)}},render:function(u){for(var d=0;d<this.scenes.length;d++){var f=this.scenes[d].sys;f.settings.visible&&f.settings.status>=m.LOADING&&f.settings.status<m.SLEEPING&&f.render(u)}this.isProcessing=!1},create:function(u){var d=u.sys,f=d.settings;u.create&&(f.status=m.CREATING,u.create.call(u,f.data),f.status===m.DESTROYED)||(f.isTransition&&d.events.emit(a.TRANSITION_START,f.transitionFrom,f.transitionDuration),u.update&&(d.sceneUpdate=u.update),f.status=m.RUNNING,d.events.emit(a.CREATE,u))},createSceneFromFunction:function(u,d){var f=new d;if(f instanceof h){var p=f.sys.settings.key;if(p!==""&&(u=p),this.keys.hasOwnProperty(u))throw new Error("Cannot add Scene with duplicate key: "+u);return this.createSceneFromInstance(u,f)}else return f.sys=new i(f),f.sys.settings.key=u,f.sys.init(this.game),f},createSceneFromInstance:function(u,d){var f=d.sys.settings.key;return f===""&&(d.sys.settings.key=u),d.sys.init(this.game),d},createSceneFromObject:function(u,d){var f=new h(d),p=f.sys.settings.key;p!==""?u=p:f.sys.settings.key=u,f.sys.init(this.game);for(var g=["init","preload","create","update","render"],x=0;x<g.length;x++){var T=n(d,g[x],null);T&&(f[g[x]]=T)}if(d.hasOwnProperty("extend")){for(var E in d.extend)if(d.extend.hasOwnProperty(E)){var C=d.extend[E];E==="data"&&f.hasOwnProperty("data")&&typeof C=="object"?f.data.merge(C):E!=="sys"&&(f[E]=C)}}return f},getKey:function(u,d){if(u||(u="default"),typeof d=="function")return u;if(d instanceof h?u=d.sys.settings.key:typeof d=="object"&&d.hasOwnProperty("key")&&(u=d.key),this.keys.hasOwnProperty(u))throw new Error("Cannot add Scene with duplicate key: "+u);return u},getScenes:function(u,d){u===void 0&&(u=!0),d===void 0&&(d=!1);for(var f=[],p=this.scenes,g=0;g<p.length;g++){var x=p[g];x&&(!u||u&&x.sys.isActive())&&f.push(x)}return d?f.reverse():f},getScene:function(u){if(typeof u=="string"){if(this.keys[u])return this.keys[u]}else for(var d=0;d<this.scenes.length;d++)if(u===this.scenes[d])return u;return null},isActive:function(u){var d=this.getScene(u);return d?d.sys.isActive():null},isPaused:function(u){var d=this.getScene(u);return d?d.sys.isPaused():null},isVisible:function(u){var d=this.getScene(u);return d?d.sys.isVisible():null},isSleeping:function(u){var d=this.getScene(u);return d?d.sys.isSleeping():null},pause:function(u,d){var f=this.getScene(u);return f&&f.sys.pause(d),this},resume:function(u,d){var f=this.getScene(u);return f&&f.sys.resume(d),this},sleep:function(u,d){var f=this.getScene(u);return f&&!f.sys.isTransitioning()&&f.sys.sleep(d),this},wake:function(u,d){var f=this.getScene(u);return f&&f.sys.wake(d),this},run:function(u,d){var f=this.getScene(u);if(!f){for(var p=0;p<this._pending.length;p++)if(this._pending[p].key===u){this.queueOp("start",u,d);break}return this}f.sys.isSleeping()?f.sys.wake(d):f.sys.isPaused()?f.sys.resume(d):this.start(u,d)},start:function(u,d){if(!this.isBooted)return this._data[u]={autoStart:!0,data:d},this;var f=this.getScene(u);if(!f)return console.warn("Scene key not found: "+u),this;var p=f.sys,g=p.settings.status;if(g>=m.START&&g<=m.CREATING)return this;if(g>=m.RUNNING&&g<=m.SLEEPING)p.shutdown(),p.sceneUpdate=s,p.start(d);else{p.sceneUpdate=s,p.start(d);var x;if(p.load&&(x=p.load),x&&p.settings.hasOwnProperty("pack")&&(x.reset(),x.addPack({payload:p.settings.pack})))return p.settings.status=m.LOADING,x.once(e.COMPLETE,this.payloadComplete,this),x.start(),this}return this.bootScene(f),this},stop:function(u,d){var f=this.getScene(u);if(f&&!f.sys.isTransitioning()&&f.sys.settings.status!==m.SHUTDOWN){var p=f.sys.load;p&&(p.off(e.COMPLETE,this.loadComplete,this),p.off(e.COMPLETE,this.payloadComplete,this)),f.sys.shutdown(d)}return this},switch:function(u,d,f){var p=this.getScene(u),g=this.getScene(d);return p&&g&&p!==g&&(this.sleep(u),this.isSleeping(d)?this.wake(d,f):this.start(d,f)),this},getAt:function(u){return this.scenes[u]},getIndex:function(u){var d=this.getScene(u);return this.scenes.indexOf(d)},bringToTop:function(u){if(this.isProcessing)return this.queueOp("bringToTop",u);var d=this.getIndex(u),f=this.scenes;if(d!==-1&&d<f.length){var p=this.getScene(u);f.splice(d,1),f.push(p)}return this},sendToBack:function(u){if(this.isProcessing)return this.queueOp("sendToBack",u);var d=this.getIndex(u);if(d!==-1&&d>0){var f=this.getScene(u);this.scenes.splice(d,1),this.scenes.unshift(f)}return this},moveDown:function(u){if(this.isProcessing)return this.queueOp("moveDown",u);var d=this.getIndex(u);if(d>0){var f=d-1,p=this.getScene(u),g=this.getAt(f);this.scenes[d]=g,this.scenes[f]=p}return this},moveUp:function(u){if(this.isProcessing)return this.queueOp("moveUp",u);var d=this.getIndex(u);if(d<this.scenes.length-1){var f=d+1,p=this.getScene(u),g=this.getAt(f);this.scenes[d]=g,this.scenes[f]=p}return this},moveAbove:function(u,d){if(u===d)return this;if(this.isProcessing)return this.queueOp("moveAbove",u,d);var f=this.getIndex(u),p=this.getIndex(d);if(f!==-1&&p!==-1&&p<f){var g=this.getAt(p);this.scenes.splice(p,1),this.scenes.splice(f+(p>f),0,g)}return this},moveBelow:function(u,d){if(u===d)return this;if(this.isProcessing)return this.queueOp("moveBelow",u,d);var f=this.getIndex(u),p=this.getIndex(d);if(f!==-1&&p!==-1&&p>f){var g=this.getAt(p);this.scenes.splice(p,1),f===0?this.scenes.unshift(g):this.scenes.splice(f-(p<f),0,g)}return this},queueOp:function(u,d,f,p){return this._queue.push({op:u,keyA:d,keyB:f,data:p}),this},swapPosition:function(u,d){if(u===d)return this;if(this.isProcessing)return this.queueOp("swapPosition",u,d);var f=this.getIndex(u),p=this.getIndex(d);if(f!==p&&f!==-1&&p!==-1){var g=this.getAt(f);this.scenes[f]=this.scenes[p],this.scenes[p]=g}return this},dump:function(){for(var u=[],d=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],f=0;f<this.scenes.length;f++){var p=this.scenes[f].sys,g=p.settings.visible&&(p.settings.status===m.RUNNING||p.settings.status===m.PAUSED)?"[*] ":"[-] ";g+=p.settings.key+" ("+d[p.settings.status]+")",u.push(g)}console.log(u.join(`
`))},destroy:function(){for(var u=0;u<this.scenes.length;u++){var d=this.scenes[u].sys;d.destroy()}this.systemScene.sys.destroy(),this.update=s,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});v.exports=l},52209:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),m=t(83419),a=t(44594),r=t(95540),n=t(37277),e=new m({initialize:function(h){this.scene=h,this.systems=h.sys,this.settings=h.sys.settings,this.key=h.sys.settings.key,this.manager=h.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,h.sys.events.once(a.BOOT,this.boot,this),h.sys.events.on(a.START,this.pluginStart,this)},boot:function(){this.systems.events.once(a.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(a.SHUTDOWN,this.shutdown,this)},start:function(s,h){return s===void 0&&(s=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",s,h),this},restart:function(s){var h=this.key;return this.manager.queueOp("stop",h),this.manager.queueOp("start",h,s),this},transition:function(s){s===void 0&&(s={});var h=r(s,"target",!1),i=this.manager.getScene(h);if(!h||!this.checkValidTransition(i))return!1;var l=r(s,"duration",1e3);this._elapsed=0,this._target=i,this._duration=l,this._willSleep=r(s,"sleep",!1),this._willRemove=r(s,"remove",!1);var u=r(s,"onUpdate",null);u&&(this._onUpdate=u,this._onUpdateScope=r(s,"onUpdateScope",this.scene));var d=r(s,"allowInput",!1);this.settings.transitionAllowInput=d;var f=i.sys.settings;f.isTransition=!0,f.transitionFrom=this.scene,f.transitionDuration=l,f.transitionAllowInput=d,r(s,"moveAbove",!1)?this.manager.moveAbove(this.key,h):r(s,"moveBelow",!1)&&this.manager.moveBelow(this.key,h),i.sys.isSleeping()?i.sys.wake(r(s,"data")):this.manager.start(h,r(s,"data"));var p=r(s,"onStart",null),g=r(s,"onStartScope",this.scene);return p&&p.call(g,this.scene,i,l),this.systems.events.emit(a.TRANSITION_OUT,i,l),!0},checkValidTransition:function(s){return!(!s||s.sys.isActive()||s.sys.isTransitioning()||s===this.scene||this.systems.isTransitioning())},step:function(s,h){this._elapsed+=h,this.transitionProgress=o(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var s=this._target.sys,h=this._target.sys.settings;s.events.emit(a.TRANSITION_COMPLETE,this.scene),h.isTransition=!1,h.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(s,h,i,l){return this.manager.add(s,h,i,l)},launch:function(s,h){return s&&s!==this.key&&this.manager.queueOp("start",s,h),this},run:function(s,h){return s&&s!==this.key&&this.manager.queueOp("run",s,h),this},pause:function(s,h){return s===void 0&&(s=this.key),this.manager.queueOp("pause",s,h),this},resume:function(s,h){return s===void 0&&(s=this.key),this.manager.queueOp("resume",s,h),this},sleep:function(s,h){return s===void 0&&(s=this.key),this.manager.queueOp("sleep",s,h),this},wake:function(s,h){return s===void 0&&(s=this.key),this.manager.queueOp("wake",s,h),this},switch:function(s,h){return s!==this.key&&this.manager.queueOp("switch",this.key,s,h),this},stop:function(s,h){return s===void 0&&(s=this.key),this.manager.queueOp("stop",s,h),this},setActive:function(s,h,i){h===void 0&&(h=this.key);var l=this.manager.getScene(h);return l&&l.sys.setActive(s,i),this},setVisible:function(s,h){h===void 0&&(h=this.key);var i=this.manager.getScene(h);return i&&i.sys.setVisible(s),this},isSleeping:function(s){return s===void 0&&(s=this.key),this.manager.isSleeping(s)},isActive:function(s){return s===void 0&&(s=this.key),this.manager.isActive(s)},isPaused:function(s){return s===void 0&&(s=this.key),this.manager.isPaused(s)},isVisible:function(s){return s===void 0&&(s=this.key),this.manager.isVisible(s)},swapPosition:function(s,h){return h===void 0&&(h=this.key),s!==h&&this.manager.swapPosition(s,h),this},moveAbove:function(s,h){return h===void 0&&(h=this.key),s!==h&&this.manager.moveAbove(s,h),this},moveBelow:function(s,h){return h===void 0&&(h=this.key),s!==h&&this.manager.moveBelow(s,h),this},remove:function(s){return s===void 0&&(s=this.key),this.manager.remove(s),this},moveUp:function(s){return s===void 0&&(s=this.key),this.manager.moveUp(s),this},moveDown:function(s){return s===void 0&&(s=this.key),this.manager.moveDown(s),this},bringToTop:function(s){return s===void 0&&(s=this.key),this.manager.bringToTop(s),this},sendToBack:function(s){return s===void 0&&(s=this.key),this.manager.sendToBack(s),this},get:function(s){return this.manager.getScene(s)},getStatus:function(s){var h=this.manager.getScene(s);if(h)return h.sys.getStatus()},getIndex:function(s){return s===void 0&&(s=this.key),this.manager.getIndex(s)},shutdown:function(){var s=this.systems.events;s.off(a.SHUTDOWN,this.shutdown,this),s.off(a.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});n.register("ScenePlugin",e,"scenePlugin"),v.exports=e},55681:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(89993),m=t(35154),a=t(46975),r=t(87033),n={create:function(e){return typeof e=="string"?e={key:e}:e===void 0&&(e={}),{status:o.PENDING,key:m(e,"key",""),active:m(e,"active",!1),visible:m(e,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:m(e,"pack",!1),cameras:m(e,"cameras",null),map:m(e,"map",a(r,m(e,"mapAdd",{}))),physics:m(e,"physics",{}),loader:m(e,"loader",{}),plugins:m(e,"plugins",!1),input:m(e,"input",{})}}};v.exports=n},2368:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(89993),a=t(42363),r=t(44594),n=t(27397),e=t(52106),s=t(29747),h=t(55681),i=new o({initialize:function(u,d){this.scene=u,this.game,this.renderer,this.config=d,this.settings=h.create(d),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=s},init:function(l){this.settings.status=m.INIT,this.sceneUpdate=s,this.game=l,this.renderer=l.renderer,this.canvas=l.canvas,this.context=l.context;var u=l.plugins;this.plugins=u,u.addToScene(this,a.Global,[a.CoreScene,e(this),n(this)]),this.events.emit(r.BOOT,this),this.settings.isBooted=!0},step:function(l,u){var d=this.events;d.emit(r.PRE_UPDATE,l,u),d.emit(r.UPDATE,l,u),this.sceneUpdate.call(this.scene,l,u),d.emit(r.POST_UPDATE,l,u)},render:function(l){var u=this.displayList;u.depthSort(),this.events.emit(r.PRE_RENDER,l),this.cameras.render(l,u),this.events.emit(r.RENDER,l)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(l){var u=this.settings,d=this.getStatus();return d!==m.CREATING&&d!==m.RUNNING?console.warn("Cannot pause non-running Scene",u.key):this.settings.active&&(u.status=m.PAUSED,u.active=!1,this.events.emit(r.PAUSE,this,l)),this},resume:function(l){var u=this.events,d=this.settings;return this.settings.active||(d.status=m.RUNNING,d.active=!0,u.emit(r.RESUME,this,l)),this},sleep:function(l){var u=this.settings,d=this.getStatus();return d!==m.CREATING&&d!==m.RUNNING?console.warn("Cannot sleep non-running Scene",u.key):(u.status=m.SLEEPING,u.active=!1,u.visible=!1,this.events.emit(r.SLEEP,this,l)),this},wake:function(l){var u=this.events,d=this.settings;return d.status=m.RUNNING,d.active=!0,d.visible=!0,u.emit(r.WAKE,this,l),d.isTransition&&u.emit(r.TRANSITION_WAKE,d.transitionFrom,d.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var l=this.settings.status;return l>m.PENDING&&l<=m.RUNNING},isSleeping:function(){return this.settings.status===m.SLEEPING},isActive:function(){return this.settings.status===m.RUNNING},isPaused:function(){return this.settings.status===m.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(l){return this.settings.visible=l,this},setActive:function(l,u){return l?this.resume(u):this.pause(u)},start:function(l){var u=this.events,d=this.settings;l&&(d.data=l),d.status=m.START,d.active=!0,d.visible=!0,u.emit(r.START,this),u.emit(r.READY,this,l)},shutdown:function(l){var u=this.events,d=this.settings;u.off(r.TRANSITION_INIT),u.off(r.TRANSITION_START),u.off(r.TRANSITION_COMPLETE),u.off(r.TRANSITION_OUT),d.status=m.SHUTDOWN,d.active=!1,d.visible=!1,u.emit(r.SHUTDOWN,this,l)},destroy:function(){var l=this.events,u=this.settings;u.status=m.DESTROYED,u.active=!1,u.visible=!1,l.emit(r.DESTROY,this),l.removeAllListeners();for(var d=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],f=0;f<d.length;f++)this[d[f]]=null}});v.exports=i},89993:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};v.exports=S},69830:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="addedtoscene"},7919:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="boot"},46763:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="create"},11763:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="destroy"},71555:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pause"},36735:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="postupdate"},3809:v=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="prerender"},90716:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="preupdate"},58262:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="ready"},91633:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="removedfromscene"},10319:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="render"},87132:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resume"},81961:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="shutdown"},90194:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="sleep"},6265:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="start"},33178:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="transitioncomplete"},43063:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="transitioninit"},11259:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="transitionout"},61611:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="transitionstart"},45209:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="transitionwake"},22966:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="update"},21747:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="wake"},44594:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ADDED_TO_SCENE:t(69830),BOOT:t(7919),CREATE:t(46763),DESTROY:t(11763),PAUSE:t(71555),POST_UPDATE:t(36735),PRE_RENDER:t(3809),PRE_UPDATE:t(90716),READY:t(58262),REMOVED_FROM_SCENE:t(91633),RENDER:t(10319),RESUME:t(87132),SHUTDOWN:t(81961),SLEEP:t(90194),START:t(6265),TRANSITION_COMPLETE:t(33178),TRANSITION_INIT:t(43063),TRANSITION_OUT:t(11259),TRANSITION_START:t(61611),TRANSITION_WAKE:t(45209),UPDATE:t(22966),WAKE:t(21747)}},62194:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(89993),m=t(79291),a={Events:t(44594),GetPhysicsPlugins:t(27397),GetScenePlugins:t(52106),SceneManager:t(60903),ScenePlugin:t(52209),Settings:t(55681),Systems:t(2368)};a=m(!1,a,o),v.exports=a},30341:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(50792),a=t(14463),r=t(79291),n=t(29747),e=new o({Extends:m,initialize:function(h,i,l){m.call(this),this.manager=h,this.key=i,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=r(this.config,l),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(s){return!s||!s.name||typeof s.name!="string"?!1:this.markers[s.name]?(console.error("addMarker "+s.name+" already exists in Sound"),!1):(s=r(!0,{name:"",start:0,duration:this.totalDuration-(s.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},s),this.markers[s.name]=s,!0)},updateMarker:function(s){return!s||!s.name||typeof s.name!="string"?!1:this.markers[s.name]?(this.markers[s.name]=r(!0,this.markers[s.name],s),!0):(console.warn("Audio Marker: "+s.name+" missing in Sound: "+this.key),!1)},removeMarker:function(s){var h=this.markers[s];return h?(this.markers[s]=null,h):null},play:function(s,h){if(s===void 0&&(s=""),typeof s=="object"&&(h=s,s=""),typeof s!="string")return!1;if(!s)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[s])return console.warn("Marker: "+s+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[s],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=r(this.currentConfig,h),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:n,calculateRate:function(){var s=1.0005777895065548,h=this.currentConfig.detune+this.manager.detune,i=Math.pow(s,h);this.totalRate=this.currentConfig.rate*this.manager.rate*i},destroy:function(){this.pendingRemove||(this.stop(),this.emit(a.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});v.exports=e},85034:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(41786),a=t(50792),r=t(14463),n=t(8443),e=t(46710),s=t(58731),h=t(29747),i=t(26099),l=new o({Extends:a,initialize:function(d){a.call(this),this.game=d,this.jsonCache=d.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new i;var f=d.events;f.on(n.BLUR,this.onGameBlur,this),f.on(n.FOCUS,this.onGameFocus,this),f.on(n.PRE_STEP,this.update,this),f.once(n.DESTROY,this.destroy,this)},add:h,addAudioSprite:function(u,d){d===void 0&&(d={});var f=this.add(u,d);f.spritemap=this.jsonCache.get(u).spritemap;for(var p in f.spritemap)if(f.spritemap.hasOwnProperty(p)){var g=m(d),x=f.spritemap[p];g.loop=x.hasOwnProperty("loop")?x.loop:!1,f.addMarker({name:p,start:x.start,duration:x.end-x.start,config:g})}return f},get:function(u){return s(this.sounds,"key",u)},getAll:function(u){return u?e(this.sounds,"key",u):e(this.sounds)},getAllPlaying:function(){return e(this.sounds,"isPlaying",!0)},play:function(u,d){var f=this.add(u);return f.once(r.COMPLETE,f.destroy,f),d?d.name?(f.addMarker(d),f.play(d.name)):f.play(d):f.play()},playAudioSprite:function(u,d,f){var p=this.addAudioSprite(u);return p.once(r.COMPLETE,p.destroy,p),p.play(d,f)},remove:function(u){var d=this.sounds.indexOf(u);return d!==-1?(u.destroy(),this.sounds.splice(d,1),!0):!1},removeAll:function(){this.sounds.forEach(function(u){u.destroy()}),this.sounds.length=0},removeByKey:function(u){for(var d=0,f=this.sounds.length-1;f>=0;f--){var p=this.sounds[f];p.key===u&&(p.destroy(),this.sounds.splice(f,1),d++)}return d},pauseAll:function(){this.forEachActiveSound(function(u){u.pause()}),this.emit(r.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(u){u.resume()}),this.emit(r.RESUME_ALL,this)},setListenerPosition:h,stopAll:function(){this.forEachActiveSound(function(u){u.stop()}),this.emit(r.STOP_ALL,this)},stopByKey:function(u){var d=0;return this.getAll(u).forEach(function(f){f.stop()&&d++}),d},isPlaying:function(u){var d=this.sounds,f=d.length-1,p;if(u===void 0){for(;f>=0;f--)if(p=this.sounds[f],p.isPlaying)return!0}else for(;f>=0;f--)if(p=this.sounds[f],p.key===u&&p.isPlaying)return!0;return!1},unlock:h,onBlur:h,onFocus:h,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(u,d){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(r.UNLOCKED,this));for(var f=this.sounds.length-1;f>=0;f--)this.sounds[f].pendingRemove&&this.sounds.splice(f,1);this.sounds.forEach(function(p){p.update(u,d)})},destroy:function(){this.game.events.off(n.BLUR,this.onGameBlur,this),this.game.events.off(n.FOCUS,this.onGameFocus,this),this.game.events.off(n.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(u,d){var f=this;this.sounds.forEach(function(p,g){p&&!p.pendingRemove&&u.call(d||f,p,g,f.sounds)})},setRate:function(u){return this.rate=u,this},rate:{get:function(){return this._rate},set:function(u){this._rate=u,this.forEachActiveSound(function(d){d.calculateRate()}),this.emit(r.GLOBAL_RATE,this,u)}},setDetune:function(u){return this.detune=u,this},detune:{get:function(){return this._detune},set:function(u){this._detune=u,this.forEachActiveSound(function(d){d.calculateRate()}),this.emit(r.GLOBAL_DETUNE,this,u)}}});v.exports=l},14747:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(33684),m=t(25960),a=t(57490),r={create:function(n){var e=n.config.audio,s=n.device.audio;return e.noAudio||!s.webAudio&&!s.audioData?new m(n):s.webAudio&&!e.disableWebAudio?new a(n):new o(n)}};v.exports=r},19723:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="complete"},98882:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="decodedall"},57506:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="decoded"},73146:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="destroy"},11305:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="detune"},40577:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="detune"},30333:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="mute"},20394:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="rate"},21802:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="volume"},1299:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="looped"},99190:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="loop"},97125:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="mute"},89259:v=>{/**
 * @author       pi-kei
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pan"},79986:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pauseall"},17586:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pause"},19618:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="play"},42306:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="rate"},10387:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resumeall"},48959:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resume"},9960:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="seek"},19180:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="stopall"},98328:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="stop"},50401:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="unlocked"},52498:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="volume"},14463:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={COMPLETE:t(19723),DECODED:t(57506),DECODED_ALL:t(98882),DESTROY:t(73146),DETUNE:t(11305),GLOBAL_DETUNE:t(40577),GLOBAL_MUTE:t(30333),GLOBAL_RATE:t(20394),GLOBAL_VOLUME:t(21802),LOOP:t(99190),LOOPED:t(1299),MUTE:t(97125),PAN:t(89259),PAUSE_ALL:t(79986),PAUSE:t(17586),PLAY:t(19618),RATE:t(42306),RESUME_ALL:t(10387),RESUME:t(48959),SEEK:t(9960),STOP_ALL:t(19180),STOP:t(98328),UNLOCKED:t(50401),VOLUME:t(52498)}},64895:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(30341),m=t(83419),a=t(14463),r=t(45319),n=new m({Extends:o,initialize:function(s,h,i){if(i===void 0&&(i={}),this.tags=s.game.cache.audio.get(h),!this.tags)throw new Error('No cached audio asset with key "'+h);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,o.call(this,s,h,i)},play:function(e,s){return this.manager.isLocked(this,"play",[e,s])||!o.prototype.play.call(this,e,s)||!this.pickAndPlayAudioTag()?!1:(this.emit(a.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!o.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(a.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!o.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(a.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!o.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(a.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var e=this.currentConfig.seek,s=this.currentConfig.delay,h=(this.currentMarker?this.currentMarker.start:0)+e;return this.previousTime=h,this.audio.currentTime=h,this.applyConfig(),s===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+s*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var e=0;e<this.tags.length;e++){var s=this.tags[e];if(s.dataset.used==="false")return s.dataset.used="true",this.audio=s,!0}if(!this.manager.override)return!1;var h=[];this.manager.forEachActiveSound(function(l){l.key===this.key&&l.audio&&h.push(l)},this),h.sort(function(l,u){return l.loop===u.loop?u.seek/u.duration-l.seek/l.duration:l.loop?1:-1});var i=h[0];return this.audio=i.audio,i.reset(),i.audio=null,i.startTime=0,i.previousTime=0,!0},playCatchPromise:function(){var e=this.audio.play();e&&e.catch(function(s){console.warn(s)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){o.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(e){if(this.isPlaying){if(this.startTime>0){this.startTime<e-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,e-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var s=this.currentMarker?this.currentMarker.start:0,h=s+this.duration,i=this.audio.currentTime;if(this.currentConfig.loop)i>=h-this.manager.loopEndOffset?(this.audio.currentTime=s+Math.max(0,i-h),i=this.audio.currentTime):i<s&&(this.audio.currentTime+=s,i=this.audio.currentTime),i<this.previousTime&&this.emit(a.LOOPED,this);else if(i>=h){this.reset(),this.stopAndReleaseAudioTag(),this.emit(a.COMPLETE,this);return}this.previousTime=i}},destroy:function(){o.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=r(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){o.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(e){this.currentConfig.mute=e,!this.manager.isLocked(this,"mute",e)&&(this.updateMute(),this.emit(a.MUTE,this,e))}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.currentConfig.volume},set:function(e){this.currentConfig.volume=e,!this.manager.isLocked(this,"volume",e)&&(this.updateVolume(),this.emit(a.VOLUME,this,e))}},setVolume:function(e){return this.volume=e,this},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,!this.manager.isLocked(this,a.RATE,e)&&(this.calculateRate(),this.emit(a.RATE,this,e))}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,!this.manager.isLocked(this,a.DETUNE,e)&&(this.calculateRate(),this.emit(a.DETUNE,this,e))}},setDetune:function(e){return this.detune=e,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.isLocked(this,"seek",e)||this.startTime>0||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.isPlaying?(this.previousTime=e,this.audio.currentTime=e):this.isPaused&&(this.currentConfig.seek=e),this.emit(a.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,!this.manager.isLocked(this,"loop",e)&&(this.audio&&(this.audio.loop=e),this.emit(a.LOOP,this,e))}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.currentConfig.pan},set:function(e){this.currentConfig.pan=e,this.emit(a.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});v.exports=n},33684:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(85034),m=t(83419),a=t(14463),r=t(64895),n=new m({Extends:o,initialize:function(s){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,o.call(this,s)},add:function(e,s){var h=new r(this,e,s);return this.sounds.push(h),h},unlock:function(){this.locked=!1;var e=this;if(this.game.cache.audio.entries.each(function(l,u){for(var d=0;d<u.length;d++)if(u[d].dataset.locked==="true")return e.locked=!0,!1;return!0}),!!this.locked){var s=!1,h=function(){s=!0},i=function(){if(s){s=!1;return}document.body.removeEventListener("touchmove",h),document.body.removeEventListener("touchend",i);var l=[];if(e.game.cache.audio.entries.each(function(d,f){for(var p=0;p<f.length;p++){var g=f[p];g.dataset.locked==="true"&&l.push(g)}return!0}),l.length!==0){var u=l[l.length-1];u.oncanplaythrough=function(){u.oncanplaythrough=null,l.forEach(function(d){d.dataset.locked="false"}),e.unlocked=!0},l.forEach(function(d){d.load()})}};this.once(a.UNLOCKED,function(){for(this.forEachActiveSound(function(u){u.currentMarker===null&&u.duration===0&&(u.duration=u.tags[0].duration),u.totalDuration=u.tags[0].duration});this.lockedActionsQueue.length;){var l=this.lockedActionsQueue.shift();l.sound[l.prop].apply?l.sound[l.prop].apply(l.sound,l.value||[]):l.sound[l.prop]=l.value}},this),document.body.addEventListener("touchmove",h,!1),document.body.addEventListener("touchend",i,!1)}},onBlur:function(){this.forEachActiveSound(function(e){e.isPlaying&&(this.onBlurPausedSounds.push(e),e.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(e){e.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){o.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(e,s,h){return e.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:e,prop:s,value:h}),!0):!1},setMute:function(e){return this.mute=e,this},mute:{get:function(){return this._mute},set:function(e){this._mute=e,this.forEachActiveSound(function(s){s.updateMute()}),this.emit(a.GLOBAL_MUTE,this,e)}},setVolume:function(e){return this.volume=e,this},volume:{get:function(){return this._volume},set:function(e){this._volume=e,this.forEachActiveSound(function(s){s.updateVolume()}),this.emit(a.GLOBAL_VOLUME,this,e)}}});v.exports=n},23717:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={SoundManagerCreator:t(14747),Events:t(14463),BaseSound:t(30341),BaseSoundManager:t(85034),WebAudioSound:t(71741),WebAudioSoundManager:t(57490),HTML5AudioSound:t(64895),HTML5AudioSoundManager:t(33684),NoAudioSound:t(4603),NoAudioSoundManager:t(25960)}},4603:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(30341),m=t(83419),a=t(50792),r=t(79291),n=t(29747),e=function(){return!1},s=function(){return null},h=function(){return this},i=new m({Extends:a,initialize:function(u,d,f){f===void 0&&(f={}),a.call(this),this.manager=u,this.key=d,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=r({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},f),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:e,updateMarker:e,removeMarker:s,play:e,pause:e,resume:e,stop:e,setMute:h,setVolume:h,setRate:h,setDetune:h,setSeek:h,setLoop:h,setPan:h,applyConfig:s,resetConfig:s,update:n,calculateRate:s,destroy:function(){o.prototype.destroy.call(this)}});v.exports=i},25960:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(85034),m=t(83419),a=t(50792),r=t(4603),n=t(29747),e=new m({Extends:a,initialize:function(h){a.call(this),this.game=h,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(s,h){var i=new r(this,s,h);return this.sounds.push(i),i},addAudioSprite:function(s,h){var i=this.add(s,h);return i.spritemap={},i},get:function(s){return o.prototype.get.call(this,s)},getAll:function(s){return o.prototype.getAll.call(this,s)},play:function(s,h){return!1},playAudioSprite:function(s,h,i){return!1},remove:function(s){return o.prototype.remove.call(this,s)},removeAll:function(){return o.prototype.removeAll.call(this)},removeByKey:function(s){return o.prototype.removeByKey.call(this,s)},stopByKey:function(s){return o.prototype.stopByKey.call(this,s)},onBlur:n,onFocus:n,onGameBlur:n,onGameFocus:n,pauseAll:n,resumeAll:n,stopAll:n,update:n,setRate:n,setDetune:n,setMute:n,setVolume:n,unlock:n,forEachActiveSound:function(s,h){o.prototype.forEachActiveSound.call(this,s,h)},destroy:function(){o.prototype.destroy.call(this)}});v.exports=e},71741:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(30341),m=t(83419),a=t(14463),r=t(95540),n=new m({Extends:o,initialize:function(s,h,i){if(i===void 0&&(i={}),this.audioBuffer=s.game.cache.audio.get(h),!this.audioBuffer)throw new Error('Audio key "'+h+'" not found in cache');this.source=null,this.loopSource=null,this.muteNode=s.context.createGain(),this.volumeNode=s.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),s.context.createPanner&&(this.spatialNode=s.context.createPanner(),this.volumeNode.connect(this.spatialNode)),s.context.createStereoPanner?(this.pannerNode=s.context.createStereoPanner(),s.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(s.destination)):s.context.createPanner?this.spatialNode.connect(s.destination):this.volumeNode.connect(s.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,o.call(this,s,h,i)},play:function(e,s){return o.prototype.play.call(this,e,s)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(a.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!o.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(a.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!o.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(a.RESUME,this),!0)},stop:function(){return o.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(a.STOP,this),!0):!1},createAndStartBufferSource:function(){var e=this.currentConfig.seek,s=this.currentConfig.delay,h=this.manager.context.currentTime+s,i=(this.currentMarker?this.currentMarker.start:0)+e,l=this.duration-e;this.playTime=h-e,this.startTime=h,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,h),Math.max(0,i),Math.max(0,l)),this.resetConfig()},createAndStartLoopBufferSource:function(){var e=this.getLoopTime(),s=this.currentMarker?this.currentMarker.start:0,h=this.duration;this.loopTime=e,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,e),Math.max(0,s),Math.max(0,h))},createBufferSource:function(){var e=this,s=this.manager.context.createBufferSource();return s.buffer=this.audioBuffer,s.connect(this.muteNode),s.onended=function(h){var i=h.target;(i===e.source||i===e.loopSource)&&(e.currentConfig.loop?e.hasLooped=!0:e.hasEnded=!0)},s},stopAndRemoveBufferSource:function(){if(this.source){var e=this.source;this.source=null,e.stop(),e.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var e=this.currentConfig.source;if(e&&this.manager.context.createPanner){var s=this.spatialNode;s.panningModel=r(e,"panningModel","equalpower"),s.distanceModel=r(e,"distanceModel","inverse"),s.orientationX.value=r(e,"orientationX",0),s.orientationY.value=r(e,"orientationY",0),s.orientationZ.value=r(e,"orientationZ",-1),s.refDistance=r(e,"refDistance",1),s.maxDistance=r(e,"maxDistance",1e4),s.rolloffFactor=r(e,"rolloffFactor",1),s.coneInnerAngle=r(e,"coneInnerAngle",360),s.coneOuterAngle=r(e,"coneOuterAngle",0),s.coneOuterGain=r(e,"coneOuterGain",0),this.spatialSource=r(e,"follow",null),this.spatialSource||(s.positionX.value=r(e,"x",0),s.positionY.value=r(e,"y",0),s.positionZ.value=r(e,"z",0))}o.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(e){this.spatialNode&&(this.spatialNode.positionX.value=e)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(e){this.spatialNode&&(this.spatialNode.positionY.value=e)}},update:function(){if(this.isPlaying&&this.spatialSource){var e=r(this.spatialSource,"x",null),s=r(this.spatialSource,"y",null);e&&e!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=e),s&&s!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=s)}this.hasEnded?(o.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(a.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(a.LOOPED,this))},destroy:function(){this.pendingRemove||(o.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){o.prototype.calculateRate.call(this);var e=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,e),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,e)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var e=0,s=0;s<this.rateUpdates.length;s++){var h=0;s<this.rateUpdates.length-1?h=this.rateUpdates[s+1].time:h=this.manager.context.currentTime-this.playTime,e+=(h-this.rateUpdates[s].time)*this.rateUpdates[s].rate}return e},getLoopTime:function(){for(var e=0,s=0;s<this.rateUpdates.length-1;s++)e+=(this.rateUpdates[s+1].time-this.rateUpdates[s].time)*this.rateUpdates[s].rate;var h=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+h.time+(this.duration-e)/h.rate},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,this.calculateRate(),this.emit(a.RATE,this,e)}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,this.calculateRate(),this.emit(a.DETUNE,this,e)}},setDetune:function(e){return this.detune=e,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(e){this.currentConfig.mute=e,this.muteNode.gain.setValueAtTime(e?0:1,0),this.emit(a.MUTE,this,e)}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(e){this.currentConfig.volume=e,this.volumeNode.gain.setValueAtTime(e,0),this.emit(a.VOLUME,this,e)}},setVolume:function(e){return this.volume=e,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.currentConfig.seek=e,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(a.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),e&&this.createAndStartLoopBufferSource()),this.emit(a.LOOP,this,e)}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(e){this.currentConfig.pan=e,this.pannerNode&&this.pannerNode.pan.setValueAtTime(e,this.manager.context.currentTime),this.emit(a.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});v.exports=n},57490:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(53134),m=t(85034),a=t(83419),r=t(14463),n=t(8443),e=t(71741),s=t(95540),h=new a({Extends:m,initialize:function(l){this.context=this.createAudioContext(l),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended",m.call(this,l),this.locked&&(l.isBooted?this.unlock():l.events.once(n.BOOT,this.unlock,this)),l.events.on(n.VISIBLE,this.onGameVisible,this)},onGameVisible:function(){var i=this.context;window.setTimeout(function(){i&&(i.suspend(),i.resume())},100)},createAudioContext:function(i){var l=i.config.audio;if(l.context)return l.context.resume(),l.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(i){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=i,this.masterMuteNode=i.createGain(),this.masterVolumeNode=i.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(i.destination),this.destination=this.masterMuteNode,this},add:function(i,l){var u=new e(this,i,l);return this.sounds.push(u),u},decodeAudio:function(i,l){var u;Array.isArray(i)?u=i:u=[{key:i,data:l}];for(var d=this.game.cache.audio,f=u.length,p=0;p<u.length;p++){var g=u[p],x=g.key,T=g.data;typeof T=="string"&&(T=o(T));var E=(function(R,w){d.add(R,w),this.emit(r.DECODED,R),f--,f===0&&this.emit(r.DECODED_ALL)}).bind(this,x),C=(function(R,w){console.error("Error decoding audio: "+R+" - ",w?w.message:""),f--,f===0&&this.emit(r.DECODED_ALL)}).bind(this,x);this.context.decodeAudioData(T,E,C)}},setListenerPosition:function(i,l){return i===void 0&&(i=this.game.scale.width/2),l===void 0&&(l=this.game.scale.height/2),this.listenerPosition.set(i,l),this},unlock:function(){var i=this,l=document.body,u=function d(){if(i.context&&l){var f=l.removeEventListener.bind(l);i.context.resume().then(function(){f("touchstart",d),f("touchend",d),f("mousedown",d),f("mouseup",d),f("keydown",d),i.unlocked=!0},function(){f("touchstart",d),f("touchend",d),f("mousedown",d),f("mouseup",d),f("keydown",d)})}};l&&(l.addEventListener("touchstart",u,!1),l.addEventListener("touchend",u,!1),l.addEventListener("mousedown",u,!1),l.addEventListener("mouseup",u,!1),l.addEventListener("keydown",u,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var i=this.context;i&&!this.locked&&(i.state==="suspended"||i.state==="interrupted")&&i.resume()},update:function(i,l){var u=this.context.listener;if(u&&u.positionX!==void 0){var d=s(this.listenerPosition,"x",null),f=s(this.listenerPosition,"y",null);d&&d!==this._spatialx&&(this._spatialx=u.positionX.value=d),f&&f!==this._spatialy&&(this._spatialy=u.positionY.value=f)}m.prototype.update.call(this,i,l),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var i=this;this.context.close().then(function(){i.context=null})}this.game.events.off(n.VISIBLE,this.onGameVisible,this),m.prototype.destroy.call(this)},setMute:function(i){return this.mute=i,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(i){this.masterMuteNode.gain.setValueAtTime(i?0:1,0),this.emit(r.GLOBAL_MUTE,this,i)}},setVolume:function(i){return this.volume=i,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(i){this.masterVolumeNode.gain.setValueAtTime(i,0),this.emit(r.GLOBAL_VOLUME,this,i)}}});v.exports=h},73162:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37105),m=t(83419),a=t(29747),r=t(19186),n=new m({initialize:function(s){this.parent=s,this.list=[],this.position=0,this.addCallback=a,this.removeCallback=a,this._sortKey=""},add:function(e,s){return s?o.Add(this.list,e):o.Add(this.list,e,0,this.addCallback,this)},addAt:function(e,s,h){return h?o.AddAt(this.list,e,s):o.AddAt(this.list,e,s,0,this.addCallback,this)},getAt:function(e){return this.list[e]},getIndex:function(e){return this.list.indexOf(e)},sort:function(e,s){return e?(s===void 0&&(s=function(h,i){return h[e]-i[e]}),r(this.list,s),this):this},getByName:function(e){return o.GetFirst(this.list,"name",e)},getRandom:function(e,s){return o.GetRandom(this.list,e,s)},getFirst:function(e,s,h,i){return o.GetFirst(this.list,e,s,h,i)},getAll:function(e,s,h,i){return o.GetAll(this.list,e,s,h,i)},count:function(e,s){return o.CountAllMatching(this.list,e,s)},swap:function(e,s){o.Swap(this.list,e,s)},moveTo:function(e,s){return o.MoveTo(this.list,e,s)},moveAbove:function(e,s){return o.MoveAbove(this.list,e,s)},moveBelow:function(e,s){return o.MoveBelow(this.list,e,s)},remove:function(e,s){return s?o.Remove(this.list,e):o.Remove(this.list,e,this.removeCallback,this)},removeAt:function(e,s){return s?o.RemoveAt(this.list,e):o.RemoveAt(this.list,e,this.removeCallback,this)},removeBetween:function(e,s,h){return h?o.RemoveBetween(this.list,e,s):o.RemoveBetween(this.list,e,s,this.removeCallback,this)},removeAll:function(e){for(var s=this.list.length;s--;)this.remove(this.list[s],e);return this},bringToTop:function(e){return o.BringToTop(this.list,e)},sendToBack:function(e){return o.SendToBack(this.list,e)},moveUp:function(e){return o.MoveUp(this.list,e),e},moveDown:function(e){return o.MoveDown(this.list,e),e},reverse:function(){return this.list.reverse(),this},shuffle:function(){return o.Shuffle(this.list),this},replace:function(e,s){return o.Replace(this.list,e,s)},exists:function(e){return this.list.indexOf(e)>-1},setAll:function(e,s,h,i){return o.SetAll(this.list,e,s,h,i),this},each:function(e,s){for(var h=[null],i=2;i<arguments.length;i++)h.push(arguments[i]);for(i=0;i<this.list.length;i++)h[0]=this.list[i],e.apply(s,h)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});v.exports=n},90330:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=new o({initialize:function(r){this.entries={},this.size=0,this.setAll(r)},setAll:function(a){if(Array.isArray(a))for(var r=0;r<a.length;r++)this.set(a[r][0],a[r][1]);return this},set:function(a,r){return this.has(a)||this.size++,this.entries[a]=r,this},get:function(a){if(this.has(a))return this.entries[a]},getArray:function(){var a=[],r=this.entries;for(var n in r)a.push(r[n]);return a},has:function(a){return this.entries.hasOwnProperty(a)},delete:function(a){return this.has(a)&&(delete this.entries[a],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(a){delete this.entries[a]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var a=[],r=this.entries;for(var n in r)a.push(r[n]);return a},dump:function(){var a=this.entries;console.group("Map");for(var r in a)console.log(r,a[r]);console.groupEnd()},each:function(a){var r=this.entries;for(var n in r)if(a(n,r[n])===!1)break;return this},contains:function(a){var r=this.entries;for(var n in r)if(r[n]===a)return!0;return!1},merge:function(a,r){r===void 0&&(r=!1);var n=this.entries,e=a.entries;for(var s in e)n.hasOwnProperty(s)&&r?n[s]=e[s]:this.set(s,e[s]);return this}});v.exports=m},25774:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(50792),a=t(82348),r=new o({Extends:m,initialize:function(){m.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(n){return this._active.indexOf(n)>-1},isPending:function(n){return this._toProcess>0&&this._pending.indexOf(n)>-1},isDestroying:function(n){return this._destroy.indexOf(n)>-1},add:function(n){return this.checkQueue&&this.isActive(n)&&!this.isDestroying(n)||this.isPending(n)||(this._pending.push(n),this._toProcess++),n},remove:function(n){if(this.isPending(n)){var e=this._pending,s=e.indexOf(n);s!==-1&&e.splice(s,1)}else this.isActive(n)&&(this._destroy.push(n),this._toProcess++);return n},removeAll:function(){for(var n=this._active,e=this._destroy,s=n.length;s--;)e.push(n[s]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var n=this._destroy,e=this._active,s,h;for(s=0;s<n.length;s++){h=n[s];var i=e.indexOf(h);i!==-1&&(e.splice(i,1),this.emit(a.PROCESS_QUEUE_REMOVE,h))}for(n.length=0,n=this._pending,s=0;s<n.length;s++)h=n[s],(!this.checkQueue||this.checkQueue&&e.indexOf(h)===-1)&&(e.push(h),this.emit(a.PROCESS_QUEUE_ADD,h));return n.length=0,this._toProcess=0,e},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});v.exports=r},59542:(v,S,t)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(43886);function m(T){if(!(this instanceof m))return new m(T);this._maxEntries=Math.max(4,T||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}m.prototype={all:function(){return this._all(this.data,[])},search:function(T){var E=this.data,C=[],R=this.toBBox;if(!p(T,E))return C;for(var w=[],F,I,L,D;E;){for(F=0,I=E.children.length;F<I;F++)L=E.children[F],D=E.leaf?R(L):L,p(T,D)&&(E.leaf?C.push(L):f(T,D)?this._all(L,C):w.push(L));E=w.pop()}return C},collides:function(T){var E=this.data,C=this.toBBox;if(!p(T,E))return!1;for(var R=[],w,F,I,L;E;){for(w=0,F=E.children.length;w<F;w++)if(I=E.children[w],L=E.leaf?C(I):I,p(T,L)){if(E.leaf||f(T,L))return!0;R.push(I)}E=R.pop()}return!1},load:function(T){if(!(T&&T.length))return this;if(T.length<this._minEntries){for(var E=0,C=T.length;E<C;E++)this.insert(T[E]);return this}var R=this._build(T.slice(),0,T.length-1,0);if(!this.data.children.length)this.data=R;else if(this.data.height===R.height)this._splitRoot(this.data,R);else{if(this.data.height<R.height){var w=this.data;this.data=R,R=w}this._insert(R,this.data.height-R.height-1,!0)}return this},insert:function(T){return T&&this._insert(T,this.data.height-1),this},clear:function(){return this.data=g([]),this},remove:function(T,E){if(!T)return this;for(var C=this.data,R=this.toBBox(T),w=[],F=[],I,L,D,B;C||w.length;){if(C||(C=w.pop(),L=w[w.length-1],I=F.pop(),B=!0),C.leaf&&(D=a(T,C.children,E),D!==-1))return C.children.splice(D,1),w.push(C),this._condense(w),this;!B&&!C.leaf&&f(C,R)?(w.push(C),F.push(I),I=0,L=C,C=C.children[0]):L?(I++,C=L.children[I],B=!1):C=null}return this},toBBox:function(T){return T},compareMinX:s,compareMinY:h,toJSON:function(){return this.data},fromJSON:function(T){return this.data=T,this},_all:function(T,E){for(var C=[];T;)T.leaf?E.push.apply(E,T.children):C.push.apply(C,T.children),T=C.pop();return E},_build:function(T,E,C,R){var w=C-E+1,F=this._maxEntries,I;if(w<=F)return I=g(T.slice(E,C+1)),r(I,this.toBBox),I;R||(R=Math.ceil(Math.log(w)/Math.log(F)),F=Math.ceil(w/Math.pow(F,R-1))),I=g([]),I.leaf=!1,I.height=R;var L=Math.ceil(w/F),D=L*Math.ceil(Math.sqrt(F)),B,U,W,K;for(x(T,E,C,D,this.compareMinX),B=E;B<=C;B+=D)for(W=Math.min(B+D-1,C),x(T,B,W,L,this.compareMinY),U=B;U<=W;U+=L)K=Math.min(U+L-1,W),I.children.push(this._build(T,U,K,R-1));return r(I,this.toBBox),I},_chooseSubtree:function(T,E,C,R){for(var w,F,I,L,D,B,U,W;R.push(E),!(E.leaf||R.length-1===C);){for(U=W=1/0,w=0,F=E.children.length;w<F;w++)I=E.children[w],D=i(I),B=u(T,I)-D,B<W?(W=B,U=D<U?D:U,L=I):B===W&&D<U&&(U=D,L=I);E=L||E.children[0]}return E},_insert:function(T,E,C){var R=this.toBBox,w=C?T:R(T),F=[],I=this._chooseSubtree(w,this.data,E,F);for(I.children.push(T),e(I,w);E>=0&&F[E].children.length>this._maxEntries;)this._split(F,E),E--;this._adjustParentBBoxes(w,F,E)},_split:function(T,E){var C=T[E],R=C.children.length,w=this._minEntries;this._chooseSplitAxis(C,w,R);var F=this._chooseSplitIndex(C,w,R),I=g(C.children.splice(F,C.children.length-F));I.height=C.height,I.leaf=C.leaf,r(C,this.toBBox),r(I,this.toBBox),E?T[E-1].children.push(I):this._splitRoot(C,I)},_splitRoot:function(T,E){this.data=g([T,E]),this.data.height=T.height+1,this.data.leaf=!1,r(this.data,this.toBBox)},_chooseSplitIndex:function(T,E,C){var R,w,F,I,L,D,B,U;for(D=B=1/0,R=E;R<=C-E;R++)w=n(T,0,R,this.toBBox),F=n(T,R,C,this.toBBox),I=d(w,F),L=i(w)+i(F),I<D?(D=I,U=R,B=L<B?L:B):I===D&&L<B&&(B=L,U=R);return U},_chooseSplitAxis:function(T,E,C){var R=T.leaf?this.compareMinX:s,w=T.leaf?this.compareMinY:h,F=this._allDistMargin(T,E,C,R),I=this._allDistMargin(T,E,C,w);F<I&&T.children.sort(R)},_allDistMargin:function(T,E,C,R){T.children.sort(R);var w=this.toBBox,F=n(T,0,E,w),I=n(T,C-E,C,w),L=l(F)+l(I),D,B;for(D=E;D<C-E;D++)B=T.children[D],e(F,T.leaf?w(B):B),L+=l(F);for(D=C-E-1;D>=E;D--)B=T.children[D],e(I,T.leaf?w(B):B),L+=l(I);return L},_adjustParentBBoxes:function(T,E,C){for(var R=C;R>=0;R--)e(E[R],T)},_condense:function(T){for(var E=T.length-1,C;E>=0;E--)T[E].children.length===0?E>0?(C=T[E-1].children,C.splice(C.indexOf(T[E]),1)):this.clear():r(T[E],this.toBBox)},compareMinX:function(T,E){return T.left-E.left},compareMinY:function(T,E){return T.top-E.top},toBBox:function(T){return{minX:T.left,minY:T.top,maxX:T.right,maxY:T.bottom}}};function a(T,E,C){if(!C)return E.indexOf(T);for(var R=0;R<E.length;R++)if(C(T,E[R]))return R;return-1}function r(T,E){n(T,0,T.children.length,E,T)}function n(T,E,C,R,w){w||(w=g(null)),w.minX=1/0,w.minY=1/0,w.maxX=-1/0,w.maxY=-1/0;for(var F=E,I;F<C;F++)I=T.children[F],e(w,T.leaf?R(I):I);return w}function e(T,E){return T.minX=Math.min(T.minX,E.minX),T.minY=Math.min(T.minY,E.minY),T.maxX=Math.max(T.maxX,E.maxX),T.maxY=Math.max(T.maxY,E.maxY),T}function s(T,E){return T.minX-E.minX}function h(T,E){return T.minY-E.minY}function i(T){return(T.maxX-T.minX)*(T.maxY-T.minY)}function l(T){return T.maxX-T.minX+(T.maxY-T.minY)}function u(T,E){return(Math.max(E.maxX,T.maxX)-Math.min(E.minX,T.minX))*(Math.max(E.maxY,T.maxY)-Math.min(E.minY,T.minY))}function d(T,E){var C=Math.max(T.minX,E.minX),R=Math.max(T.minY,E.minY),w=Math.min(T.maxX,E.maxX),F=Math.min(T.maxY,E.maxY);return Math.max(0,w-C)*Math.max(0,F-R)}function f(T,E){return T.minX<=E.minX&&T.minY<=E.minY&&E.maxX<=T.maxX&&E.maxY<=T.maxY}function p(T,E){return E.minX<=T.maxX&&E.minY<=T.maxY&&E.maxX>=T.minX&&E.maxY>=T.minY}function g(T){return{children:T,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function x(T,E,C,R,w){for(var F=[E,C],I;F.length;)C=F.pop(),E=F.pop(),!(C-E<=R)&&(I=E+Math.ceil((C-E)/R/2)*R,o(T,I,E,C,w),F.push(E,I,I,C))}v.exports=m},35072:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=new o({initialize:function(r){if(this.entries=[],Array.isArray(r))for(var n=0;n<r.length;n++)this.set(r[n])},set:function(a){return this.entries.indexOf(a)===-1&&this.entries.push(a),this},get:function(a,r){for(var n=0;n<this.entries.length;n++){var e=this.entries[n];if(e[a]===r)return e}},getArray:function(){return this.entries.slice(0)},delete:function(a){var r=this.entries.indexOf(a);return r>-1&&this.entries.splice(r,1),this},dump:function(){console.group("Set");for(var a=0;a<this.entries.length;a++){var r=this.entries[a];console.log(r)}console.groupEnd()},each:function(a,r){var n,e=this.entries.slice(),s=e.length;if(r)for(n=0;n<s&&a.call(r,e[n],n)!==!1;n++);else for(n=0;n<s&&a(e[n],n)!==!1;n++);return this},iterate:function(a,r){var n,e=this.entries.length;if(r)for(n=0;n<e&&a.call(r,this.entries[n],n)!==!1;n++);else for(n=0;n<e&&a(this.entries[n],n)!==!1;n++);return this},iterateLocal:function(a){var r,n=[];for(r=1;r<arguments.length;r++)n.push(arguments[r]);var e=this.entries.length;for(r=0;r<e;r++){var s=this.entries[r];s[a].apply(s,n)}return this},clear:function(){return this.entries.length=0,this},contains:function(a){return this.entries.indexOf(a)>-1},union:function(a){var r=new m;return a.entries.forEach(function(n){r.set(n)}),this.entries.forEach(function(n){r.set(n)}),r},intersect:function(a){var r=new m;return this.entries.forEach(function(n){a.contains(n)&&r.set(n)}),r},difference:function(a){var r=new m;return this.entries.forEach(function(n){a.contains(n)||r.set(n)}),r},size:{get:function(){return this.entries.length},set:function(a){return a<this.entries.length?this.entries.length=a:this.entries.length}}});v.exports=m},86555:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45319),m=t(83419),a=t(56583),r=t(26099),n=new m({initialize:function(s,h,i,l){s===void 0&&(s=0),h===void 0&&(h=s),i===void 0&&(i=0),l===void 0&&(l=null),this._width=s,this._height=h,this._parent=l,this.aspectMode=i,this.aspectRatio=h===0?1:s/h,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new r},setAspectMode:function(e){return e===void 0&&(e=0),this.aspectMode=e,this.setSize(this._width,this._height)},setSnap:function(e,s){return e===void 0&&(e=0),s===void 0&&(s=e),this.snapTo.set(e,s),this.setSize(this._width,this._height)},setParent:function(e){return this._parent=e,this.setSize(this._width,this._height)},setMin:function(e,s){return e===void 0&&(e=0),s===void 0&&(s=e),this.minWidth=o(e,0,this.maxWidth),this.minHeight=o(s,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(e,s){return e===void 0&&(e=Number.MAX_VALUE),s===void 0&&(s=e),this.maxWidth=o(e,this.minWidth,Number.MAX_VALUE),this.maxHeight=o(s,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(e,s){switch(e===void 0&&(e=0),s===void 0&&(s=e),this.aspectMode){case n.NONE:this._width=this.getNewWidth(a(e,this.snapTo.x)),this._height=this.getNewHeight(a(s,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case n.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(a(e,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case n.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(a(s,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case n.FIT:this.constrain(e,s,!0);break;case n.ENVELOP:this.constrain(e,s,!1);break}return this},setAspectRatio:function(e){return this.aspectRatio=e,this.setSize(this._width,this._height)},resize:function(e,s){return this._width=this.getNewWidth(a(e,this.snapTo.x)),this._height=this.getNewHeight(a(s,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(e,s){return s===void 0&&(s=!0),e=o(e,this.minWidth,this.maxWidth),s&&this._parent&&e>this._parent.width&&(e=Math.max(this.minWidth,this._parent.width)),e},getNewHeight:function(e,s){return s===void 0&&(s=!0),e=o(e,this.minHeight,this.maxHeight),s&&this._parent&&e>this._parent.height&&(e=Math.max(this.minHeight,this._parent.height)),e},constrain:function(e,s,h){e===void 0&&(e=0),s===void 0&&(s=e),h===void 0&&(h=!0),e=this.getNewWidth(e),s=this.getNewHeight(s);var i=this.snapTo,l=s===0?1:e/s;return h&&this.aspectRatio>l||!h&&this.aspectRatio<l?(e=a(e,i.x),s=e/this.aspectRatio,i.y>0&&(s=a(s,i.y),e=s*this.aspectRatio)):(h&&this.aspectRatio<l||!h&&this.aspectRatio>l)&&(s=a(s,i.y),e=s*this.aspectRatio,i.x>0&&(e=a(e,i.x),s=e*(1/this.aspectRatio))),this._width=e,this._height=s,this},fitTo:function(e,s){return this.constrain(e,s,!0)},envelop:function(e,s){return this.constrain(e,s,!1)},setWidth:function(e){return this.setSize(e,this._height)},setHeight:function(e){return this.setSize(this._width,e)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(e){e&&e.style&&(e.style.width=this._width+"px",e.style.height=this._height+"px")},copy:function(e){return e.setAspectMode(this.aspectMode),e.aspectRatio=this.aspectRatio,e.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(e){this.setSize(e,this._height)}},height:{get:function(){return this._height},set:function(e){this.setSize(this._width,e)}}});n.NONE=0,n.WIDTH_CONTROLS_HEIGHT=1,n.HEIGHT_CONTROLS_WIDTH=2,n.FIT=3,n.ENVELOP=4,v.exports=n},15238:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="add"},56187:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="remove"},82348:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={PROCESS_QUEUE_ADD:t(15238),PROCESS_QUEUE_REMOVE:t(56187)}},41392:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Events:t(82348),List:t(73162),Map:t(90330),ProcessQueue:t(25774),RTree:t(59542),Set:t(35072),Size:t(86555)}},57382:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(45319),a=t(40987),r=t(8054),n=t(50030),e=t(79237),s=new o({Extends:e,initialize:function(i,l,u,d,f){e.call(this,i,l,u,d,f),this.add("__BASE",0,0,0,d,f),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=d,this.height=f,this.imageData=this.context.getImageData(0,0,d,f),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===r.WEBGL&&this.refresh(),this},draw:function(h,i,l,u){return u===void 0&&(u=!0),this.context.drawImage(l,h,i),u&&this.update(),this},drawFrame:function(h,i,l,u,d){l===void 0&&(l=0),u===void 0&&(u=0),d===void 0&&(d=!0);var f=this.manager.getFrame(h,i);if(f){var p=f.canvasData,g=f.cutWidth,x=f.cutHeight,T=f.source.resolution;this.context.drawImage(f.source.image,p.x,p.y,g,x,l,u,g/T,x/T),d&&this.update()}return this},setPixel:function(h,i,l,u,d,f){f===void 0&&(f=255),h=Math.abs(Math.floor(h)),i=Math.abs(Math.floor(i));var p=this.getIndex(h,i);if(p>-1){var g=this.context.getImageData(h,i,1,1);g.data[0]=l,g.data[1]=u,g.data[2]=d,g.data[3]=f,this.context.putImageData(g,h,i)}return this},putData:function(h,i,l,u,d,f,p){return u===void 0&&(u=0),d===void 0&&(d=0),f===void 0&&(f=h.width),p===void 0&&(p=h.height),this.context.putImageData(h,i,l,u,d,f,p),this},getData:function(h,i,l,u){h=m(Math.floor(h),0,this.width-1),i=m(Math.floor(i),0,this.height-1),l=m(l,1,this.width-h),u=m(u,1,this.height-i);var d=this.context.getImageData(h,i,l,u);return d},getPixel:function(h,i,l){l||(l=new a);var u=this.getIndex(h,i);if(u>-1){var d=this.data,f=d[u+0],p=d[u+1],g=d[u+2],x=d[u+3];l.setTo(f,p,g,x)}return l},getPixels:function(h,i,l,u){h===void 0&&(h=0),i===void 0&&(i=0),l===void 0&&(l=this.width),u===void 0&&(u=l),h=Math.abs(Math.round(h)),i=Math.abs(Math.round(i));for(var d=m(h,0,this.width),f=m(h+l,0,this.width),p=m(i,0,this.height),g=m(i+u,0,this.height),x=new a,T=[],E=p;E<g;E++){for(var C=[],R=d;R<f;R++)x=this.getPixel(R,E,x),C.push({x:R,y:E,color:x.color,alpha:x.alphaGL});T.push(C)}return T},getIndex:function(h,i){return h=Math.abs(Math.round(h)),i=Math.abs(Math.round(i)),h<this.width&&i<this.height?(h+i*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(h,i,l,u,d){return h===void 0&&(h=0),i===void 0&&(i=0),l===void 0&&(l=this.width),u===void 0&&(u=this.height),d===void 0&&(d=!0),this.context.clearRect(h,i,l,u),d&&this.update(),this},setSize:function(h,i){return i===void 0&&(i=h),(h!==this.width||i!==this.height)&&(this.canvas.width=h,this.canvas.height=i,this._source.width=h,this._source.height=i,this._source.isPowerOf2=n(h,i),this.frames.__BASE.setSize(h,i,0,0),this.width=h,this.height=i,this.refresh()),this},destroy:function(){e.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});v.exports=s},81320:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(10312),m=t(38058),a=t(27919),r=t(83419),n=t(8054),e=t(4327),s=t(95540),h=t(36060),i=t(32302),l=t(79237),u=t(70554),d=new r({Extends:l,initialize:function(p,g,x,T,E){x===void 0&&(x=256),T===void 0&&(T=256),E===void 0&&(E=!0),this.type="DynamicTexture";var C=p.game.renderer,R=C&&C.type===n.CANVAS,w=R?a.create2D(this,x,T):[this];l.call(this,p,g,w,x,T),this.add("__BASE",0,0,0,x,T),this.renderer=C,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=R?w:null,this.context=R?w.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new m(0,0,x,T).setScene(p.game.scene.systemScene,!1),this.renderTarget=R?null:new i(C,x,T,1,0,!1,!1,!0,!1),this.pipeline=R?null:C.pipelines.get(h.SINGLE_PIPELINE),this.setSize(x,T,E)},setSize:function(f,p,g){p===void 0&&(p=f),g===void 0&&(g=!0),g&&(f=Math.floor(f),p=Math.floor(p),f%2!==0&&f++,p%2!==0&&p++);var x=this.get(),T=x.source;if(f!==this.width||p!==this.height){this.canvas&&(this.canvas.width=f,this.canvas.height=p);var E=this.renderTarget;E&&(E.willResize(f,p)&&E.resize(f,p),E.texture!==T.glTexture&&this.renderer.deleteTexture(T.glTexture),this.setFromRenderTarget()),this.camera.setSize(f,p),T.width=f,T.height=p,x.setSize(f,p),this.width=f,this.height=p}else{var C=this.getSourceImage();x.cutX+f>C.width&&(f=C.width-x.cutX),x.cutY+p>C.height&&(p=C.height-x.cutY),x.setSize(f,p,x.cutX,x.cutY)}return this},setFromRenderTarget:function(){var f=this.get(),p=f.source,g=this.renderTarget;return p.isRenderTexture=!0,p.isGLTexture=!0,p.glTexture=g.texture,this},setIsSpriteTexture:function(f){return this.isSpriteTexture=f,this},fill:function(f,p,g,x,T,E){var C=this.camera,R=this.renderer;p===void 0&&(p=1),g===void 0&&(g=0),x===void 0&&(x=0),T===void 0&&(T=this.width),E===void 0&&(E=this.height);var w=f>>16&255,F=f>>8&255,I=f&255,L=this.renderTarget;if(C.preRender(),L){L.bind(!0);var D=this.pipeline.manager.set(this.pipeline),B=R.width/L.width,U=R.height/L.height,W=L.height-(x+E);D.drawFillRect(g*B,W*U,T*B,E*U,u.getTintFromFloats(I/255,F/255,w/255,1),p),L.unbind(!0)}else{var K=this.context;R.setContext(K),K.globalCompositeOperation="source-over",K.fillStyle="rgba("+w+","+F+","+I+","+p+")",K.fillRect(g,x,T,E),R.setContext()}return this.dirty=!0,this},clear:function(f,p,g,x){if(this.dirty){var T=this.context,E=this.renderTarget;E?E.clear(f,p,g,x):T&&(f!==void 0&&p!==void 0&&g!==void 0&&x!==void 0?T.clearRect(f,p,g,x):(T.save(),T.setTransform(1,0,0,1,0,0),T.clearRect(0,0,this.width,this.height),T.restore())),this.dirty=!1}return this},stamp:function(f,p,g,x,T){g===void 0&&(g=0),x===void 0&&(x=0);var E=s(T,"alpha",1),C=s(T,"tint",16777215),R=s(T,"angle",0),w=s(T,"rotation",0),F=s(T,"scale",1),I=s(T,"scaleX",F),L=s(T,"scaleY",F),D=s(T,"originX",.5),B=s(T,"originY",.5),U=s(T,"blendMode",0),W=s(T,"erase",!1),K=s(T,"skipBatch",!1),Y=this.manager.resetStamp(E,C);return Y.setAngle(0),R!==0?Y.setAngle(R):w!==0&&Y.setRotation(w),Y.setScale(I,L),Y.setTexture(f,p),Y.setOrigin(D,B),Y.setBlendMode(U),W&&(this._eraseMode=!0),K?this.batchGameObject(Y,g,x):this.draw(Y,g,x),W&&(this._eraseMode=!1),this},erase:function(f,p,g){return this._eraseMode=!0,this.draw(f,p,g),this._eraseMode=!1,this},draw:function(f,p,g,x,T){return this.beginDraw(),this.batchDraw(f,p,g,x,T),this.endDraw(),this},drawFrame:function(f,p,g,x,T,E){return this.beginDraw(),this.batchDrawFrame(f,p,g,x,T,E),this.endDraw(),this},repeat:function(f,p,g,x,T,E,C,R,w){if(g===void 0&&(g=0),x===void 0&&(x=0),T===void 0&&(T=this.width),E===void 0&&(E=this.height),C===void 0&&(C=1),R===void 0&&(R=16777215),w===void 0&&(w=!1),f instanceof e?p=f:p=this.manager.getFrame(f,p),!p)return this;var F=this.manager.resetStamp(C,R);F.setFrame(p),F.setOrigin(0);var I=p.width,L=p.height;T=Math.floor(T),E=Math.floor(E);var D=Math.ceil(T/I),B=Math.ceil(E/L),U=D*I-T,W=B*L-E;U>0&&(U=I-U),W>0&&(W=L-W),g<0&&(D+=Math.ceil(Math.abs(g)/I)),x<0&&(B+=Math.ceil(Math.abs(x)/L));var K=g,Y=x,G=!1,X=this.manager.stampCrop.setTo(0,0,I,L);w||this.beginDraw();for(var V=0;V<B;V++){if(Y+L<0){Y+=L;continue}for(var b=0;b<D;b++){if(G=!1,K+I<0){K+=I;continue}else K<0&&(G=!0,X.width=I+K,X.x=I-X.width);Y<0&&(G=!0,X.height=L+Y,X.y=L-X.height),U>0&&b===D-1&&(G=!0,X.width=U),W>0&&V===B-1&&(G=!0,X.height=W),G&&F.setCrop(X),this.batchGameObject(F,K,Y),F.isCropped=!1,X.setTo(0,0,I,L),K+=I}K=g,Y+=L}return w||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var f=this.camera,p=this.renderer,g=this.renderTarget;f.preRender(),g?p.beginCapture(g.width,g.height):p.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(f,p,g,x,T){return Array.isArray(f)||(f=[f]),this.batchList(f,p,g,x,T),this},batchDrawFrame:function(f,p,g,x,T,E){g===void 0&&(g=0),x===void 0&&(x=0),T===void 0&&(T=1),E===void 0&&(E=16777215);var C=this.manager.getFrame(f,p);return C&&(this.renderTarget?this.pipeline.batchTextureFrame(C,g,x,E,T,this.camera.matrix,null):this.batchTextureFrame(C,g,x,T,E)),this},endDraw:function(f){if(f===void 0&&(f=this._eraseMode),this.isDrawing){var p=this.renderer,g=this.renderTarget;if(g){var x=p.endCapture(),T=p.pipelines.setUtility();T.blitFrame(x,g,1,!1,!1,f,this.isSpriteTexture),p.resetScissor(),p.resetViewport()}else p.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(f,p,g,x,T){var E=f.length;if(E!==0)for(var C=0;C<E;C++){var R=f[C];!R||R===this||(R.renderWebGL||R.renderCanvas?this.batchGameObject(R,p,g):R.isParent||R.list?this.batchGroup(R.getChildren(),p,g):typeof R=="string"?this.batchTextureFrameKey(R,null,p,g,x,T):R instanceof e?this.batchTextureFrame(R,p,g,x,T):Array.isArray(R)&&this.batchList(R,p,g,x,T))}},batchGroup:function(f,p,g){p===void 0&&(p=0),g===void 0&&(g=0);for(var x=0;x<f.length;x++){var T=f[x];T.willRender(this.camera)&&this.batchGameObject(T,T.x+p,T.y+g)}},batchGameObject:function(f,p,g){p===void 0&&(p=f.x),g===void 0&&(g=f.y);var x=f.x,T=f.y,E=this.camera,C=this.renderer,R=this._eraseMode,w=f.mask;if(f.setPosition(p,g),this.canvas){if(R){var F=f.blendMode;f.blendMode=o.ERASE}w&&w.preRenderCanvas(C,f,E),f.renderCanvas(C,f,E,null),w&&w.postRenderCanvas(C,f,E),R&&(f.blendMode=F)}else C&&(w&&w.preRenderWebGL(C,f,E),R||C.setBlendMode(f.blendMode),f.renderWebGL(C,f,E),w&&w.postRenderWebGL(C,E,this.renderTarget));f.setPosition(x,T)},batchTextureFrameKey:function(f,p,g,x,T,E){var C=this.manager.getFrame(f,p);C&&this.batchTextureFrame(C,g,x,T,E)},batchTextureFrame:function(f,p,g,x,T){p===void 0&&(p=0),g===void 0&&(g=0),x===void 0&&(x=1),T===void 0&&(T=16777215);var E=this.camera.matrix,C=this.renderTarget;if(C)this.pipeline.batchTextureFrame(f,p,g,T,x,E,null);else{var R=this.context,w=f.canvasData,F=f.source.image;R.save(),R.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",R.globalAlpha=x,E.setToContext(R),w.width>0&&w.height>0&&R.drawImage(F,w.x,w.y,w.width,w.height,p,g,w.width,w.height),R.restore()}},snapshotArea:function(f,p,g,x,T,E,C){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,T,!1,f,p,g,x,E,C):this.renderer.snapshotCanvas(this.canvas,T,!1,f,p,g,x,E,C),this},snapshot:function(f,p,g){return this.snapshotArea(0,0,this.width,this.height,f,p,g)},snapshotPixel:function(f,p,g){return this.snapshotArea(f,p,1,1,g,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(f,p,g,x){var T=this.manager.resetStamp();T.setTexture(this),T.setOrigin(0),T.renderWebGL(f,T,g,x)},renderCanvas:function(){},destroy:function(){var f=this.manager.stamp;f&&f.texture===this&&this.manager.resetStamp(),l.prototype.destroy.call(this),a.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});v.exports=d},4327:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(45319),a=t(79291),r=new o({initialize:function(e,s,h,i,l,u,d){this.texture=e,this.name=s,this.source=e.source[h],this.sourceIndex=h,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(u,d,i,l)},setCutPosition:function(n,e){return n===void 0&&(n=0),e===void 0&&(e=0),this.cutX=n,this.cutY=e,this.updateUVs()},setCutSize:function(n,e){return this.cutWidth=n,this.cutHeight=e,this.updateUVs()},setSize:function(n,e,s,h){s===void 0&&(s=0),h===void 0&&(h=0),this.setCutPosition(s,h),this.setCutSize(n,e),this.width=n,this.height=e,this.halfWidth=Math.floor(n*.5),this.halfHeight=Math.floor(e*.5),this.centerX=Math.floor(n/2),this.centerY=Math.floor(e/2);var i=this.data,l=i.cut;l.x=s,l.y=h,l.w=n,l.h=e,l.r=s+n,l.b=h+e,i.sourceSize.w=n,i.sourceSize.h=e,i.spriteSourceSize.w=n,i.spriteSourceSize.h=e,i.radius=.5*Math.sqrt(n*n+e*e);var u=i.drawImage;return u.x=s,u.y=h,u.width=n,u.height=e,this.updateUVs()},setTrim:function(n,e,s,h,i,l){var u=this.data,d=u.spriteSourceSize;return u.trim=!0,u.sourceSize.w=n,u.sourceSize.h=e,d.x=s,d.y=h,d.w=i,d.h=l,d.r=s+i,d.b=h+l,this.x=s,this.y=h,this.width=i,this.height=l,this.halfWidth=i*.5,this.halfHeight=l*.5,this.centerX=Math.floor(i/2),this.centerY=Math.floor(l/2),this.updateUVs()},setScale9:function(n,e,s,h){var i=this.data;return i.scale9=!0,i.is3Slice=e===0&&h===this.height,i.scale9Borders.x=n,i.scale9Borders.y=e,i.scale9Borders.w=s,i.scale9Borders.h=h,this},setCropUVs:function(n,e,s,h,i,l,u){var d=this.cutX,f=this.cutY,p=this.cutWidth,g=this.cutHeight,x=this.realWidth,T=this.realHeight;e=m(e,0,x),s=m(s,0,T),h=m(h,0,x-e),i=m(i,0,T-s);var E=d+e,C=f+s,R=h,w=i,F=this.data;if(F.trim){var I=F.spriteSourceSize;h=m(h,0,I.x+p-e),i=m(i,0,I.y+g-s);var L=e+h,D=s+i,B=!(I.r<e||I.b<s||I.x>L||I.y>D);if(B){var U=Math.max(I.x,e),W=Math.max(I.y,s),K=Math.min(I.r,L)-U,Y=Math.min(I.b,D)-W;R=K,w=Y,l?E=d+(p-(U-I.x)-K):E=d+(U-I.x),u?C=f+(g-(W-I.y)-Y):C=f+(W-I.y),e=U,s=W,h=K,i=Y}else E=0,C=0,R=0,w=0}else l&&(E=d+(p-e-h)),u&&(C=f+(g-s-i));var G=this.source.width,X=this.source.height;return n.u0=Math.max(0,E/G),n.v0=Math.max(0,C/X),n.u1=Math.min(1,(E+R)/G),n.v1=Math.min(1,(C+w)/X),n.x=e,n.y=s,n.cx=E,n.cy=C,n.cw=R,n.ch=w,n.width=h,n.height=i,n.flipX=l,n.flipY=u,n},updateCropUVs:function(n,e,s){return this.setCropUVs(n,n.x,n.y,n.width,n.height,e,s)},setUVs:function(n,e,s,h,i,l){var u=this.data.drawImage;return u.width=n,u.height=e,this.u0=s,this.v0=h,this.u1=i,this.v1=l,this},updateUVs:function(){var n=this.cutX,e=this.cutY,s=this.cutWidth,h=this.cutHeight,i=this.data.drawImage;i.width=s,i.height=h;var l=this.source.width,u=this.source.height;return this.u0=n/l,this.v0=e/u,this.u1=(n+s)/l,this.v1=(e+h)/u,this},updateUVsInverted:function(){var n=this.source.width,e=this.source.height;return this.u0=(this.cutX+this.cutHeight)/n,this.v0=this.cutY/e,this.u1=this.cutX/n,this.v1=(this.cutY+this.cutWidth)/e,this},clone:function(){var n=new r(this.texture,this.name,this.sourceIndex);return n.cutX=this.cutX,n.cutY=this.cutY,n.cutWidth=this.cutWidth,n.cutHeight=this.cutHeight,n.x=this.x,n.y=this.y,n.width=this.width,n.height=this.height,n.halfWidth=this.halfWidth,n.halfHeight=this.halfHeight,n.centerX=this.centerX,n.centerY=this.centerY,n.rotated=this.rotated,n.data=a(!0,n.data,this.data),n.updateUVs(),n},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});v.exports=r},79237:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(4327),a=t(11876),r='Texture "%s" has no frame "%s"',n=new o({initialize:function(s,h,i,l,u){Array.isArray(i)||(i=[i]),this.manager=s,this.key=h,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var d=0;d<i.length;d++)this.source.push(new a(this,i[d],l,u))},add:function(e,s,h,i,l,u){if(this.has(e))return null;var d=new m(this,e,s,h,i,l,u);return this.frames[e]=d,this.firstFrame==="__BASE"&&(this.firstFrame=e),this.frameTotal++,d},remove:function(e){if(this.has(e)){var s=this.get(e);return s.destroy(),delete this.frames[e],!0}return!1},has:function(e){return this.frames.hasOwnProperty(e)},get:function(e){e||(e=this.firstFrame);var s=this.frames[e];return s||(console.warn(r,this.key,e),s=this.frames[this.firstFrame]),s},getTextureSourceIndex:function(e){for(var s=0;s<this.source.length;s++)if(this.source[s]===e)return s;return-1},getFramesFromTextureSource:function(e,s){s===void 0&&(s=!1);var h=[];for(var i in this.frames)if(!(i==="__BASE"&&!s)){var l=this.frames[i];l.sourceIndex===e&&h.push(l)}return h},getFrameBounds:function(e){e===void 0&&(e=0);for(var s=this.getFramesFromTextureSource(e,!0),h=s[0],i=h.cutX,l=h.cutY,u=h.cutX+h.cutWidth,d=h.cutY+h.cutHeight,f=1;f<s.length;f++){var p=s[f];p.cutX<i&&(i=p.cutX),p.cutY<l&&(l=p.cutY),p.cutX+p.cutWidth>u&&(u=p.cutX+p.cutWidth),p.cutY+p.cutHeight>d&&(d=p.cutY+p.cutHeight)}return{x:i,y:l,width:u-i,height:d-l}},getFrameNames:function(e){e===void 0&&(e=!1);var s=Object.keys(this.frames);if(!e){var h=s.indexOf("__BASE");h!==-1&&s.splice(h,1)}return s},getSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var s=this.frames[e];return s?s.source.image:(console.warn(r,this.key,e),this.frames.__BASE.source.image)},getDataSourceImage:function(e){(e==null||this.frameTotal===1)&&(e="__BASE");var s=this.frames[e],h;return s?h=s.sourceIndex:(console.warn(r,this.key,e),h=this.frames.__BASE.sourceIndex),this.dataSource[h].image},setDataSource:function(e){Array.isArray(e)||(e=[e]);for(var s=0;s<e.length;s++){var h=this.source[s];this.dataSource.push(new a(this,e[s],h.width,h.height))}},setFilter:function(e){var s;for(s=0;s<this.source.length;s++)this.source[s].setFilter(e);for(s=0;s<this.dataSource.length;s++)this.dataSource[s].setFilter(e)},destroy:function(){var e,s=this.source,h=this.dataSource;for(e=0;e<s.length;e++)s[e]&&s[e].destroy();for(e=0;e<h.length;e++)h[e]&&h[e].destroy();for(var i in this.frames){var l=this.frames[i];l&&l.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});v.exports=n},17130:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(27919),m=t(57382),a=t(83419),r=t(40987),n=t(8054),e=t(81320),s=t(50792),h=t(69442),i=t(4327),l=t(8443),u=t(99584),d=t(35154),f=t(88571),p=t(41212),g=t(61309),x=t(87841),T=t(79237),E=new a({Extends:s,initialize:function(R){s.call(this),this.game=R,this.name="TextureManager",this.list={},this._tempCanvas=o.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new x,this.silentWarnings=!1,R.events.once(l.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(h.LOAD,this.updatePending,this),this.on(h.ERROR,this.updatePending,this);var C=this.game.config;C.defaultImage!==null&&this.addBase64("__DEFAULT",C.defaultImage),C.missingImage!==null&&this.addBase64("__MISSING",C.missingImage),C.whiteImage!==null&&this.addBase64("__WHITE",C.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(l.DESTROY,this.destroy,this),this.game.events.once(l.SYSTEM_READY,function(R){this.stamp=new f(R).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(h.LOAD),this.off(h.ERROR),this.emit(h.READY))},checkKey:function(C){return!C||typeof C!="string"||this.exists(C)?(this.silentWarnings||console.error("Texture key already in use: "+C),!1):!0},remove:function(C){if(typeof C=="string")if(this.exists(C))C=this.get(C);else return this.silentWarnings||console.warn("No texture found matching key: "+C),this;var R=C.key;return this.list.hasOwnProperty(R)&&(C.destroy(),this.emit(h.REMOVE,R),this.emit(h.REMOVE_KEY+R)),this},removeKey:function(C){return this.list.hasOwnProperty(C)&&delete this.list[C],this},addBase64:function(C,R){if(this.checkKey(C)){var w=this,F=new Image;F.onerror=function(){w.emit(h.ERROR,C)},F.onload=function(){var I=w.create(C,F);I&&(g.Image(I,0),w.emit(h.ADD,C,I),w.emit(h.ADD_KEY+C,I),w.emit(h.LOAD,C,I))},F.src=R}return this},getBase64:function(C,R,w,F){w===void 0&&(w="image/png"),F===void 0&&(F=.92);var I="",L=this.getFrame(C,R);if(L&&(L.source.isRenderTexture||L.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(L){var D=L.canvasData,B=o.create2D(this,D.width,D.height),U=B.getContext("2d",{willReadFrequently:!0});D.width>0&&D.height>0&&U.drawImage(L.source.image,D.x,D.y,D.width,D.height,0,0,D.width,D.height),I=B.toDataURL(w,F),o.remove(B)}return I},addImage:function(C,R,w){var F=null;return this.checkKey(C)&&(F=this.create(C,R),g.Image(F,0),w&&F.setDataSource(w),this.emit(h.ADD,C,F),this.emit(h.ADD_KEY+C,F)),F},addGLTexture:function(C,R){var w=null;if(this.checkKey(C)){var F=R.width,I=R.height;w=this.create(C,R,F,I),w.add("__BASE",0,0,0,F,I),this.emit(h.ADD,C,w),this.emit(h.ADD_KEY+C,w)}return w},addCompressedTexture:function(C,R,w){var F=null;if(this.checkKey(C)){if(F=this.create(C,R),F.add("__BASE",0,0,0,R.width,R.height),w){var I=function(D,B,U){Array.isArray(U.textures)||Array.isArray(U.frames)?g.JSONArray(D,B,U):g.JSONHash(D,B,U)};if(Array.isArray(w))for(var L=0;L<w.length;L++)I(F,L,w[L]);else I(F,0,w)}this.emit(h.ADD,C,F),this.emit(h.ADD_KEY+C,F)}return F},addRenderTexture:function(C,R){var w=null;return this.checkKey(C)&&(w=this.create(C,R),w.add("__BASE",0,0,0,R.width,R.height),this.emit(h.ADD,C,w),this.emit(h.ADD_KEY+C,w)),w},generate:function(C,R){if(this.checkKey(C)){var w=o.create(this,1,1);return R.canvas=w,u(R),this.addCanvas(C,w)}else return null},createCanvas:function(C,R,w){if(R===void 0&&(R=256),w===void 0&&(w=256),this.checkKey(C)){var F=o.create(this,R,w,n.CANVAS,!0);return this.addCanvas(C,F)}return null},addCanvas:function(C,R,w){w===void 0&&(w=!1);var F=null;return w?F=new m(this,C,R,R.width,R.height):this.checkKey(C)&&(F=new m(this,C,R,R.width,R.height),this.list[C]=F,this.emit(h.ADD,C,F),this.emit(h.ADD_KEY+C,F)),F},addDynamicTexture:function(C,R,w){var F=null;return typeof C=="string"&&!this.exists(C)?F=new e(this,C,R,w):(F=C,C=F.key),this.checkKey(C)?(this.list[C]=F,this.emit(h.ADD,C,F),this.emit(h.ADD_KEY+C,F)):F=null,F},addAtlas:function(C,R,w,F){return Array.isArray(w.textures)||Array.isArray(w.frames)?this.addAtlasJSONArray(C,R,w,F):this.addAtlasJSONHash(C,R,w,F)},addAtlasJSONArray:function(C,R,w,F){var I=null;if(R instanceof T?(C=R.key,I=R):this.checkKey(C)&&(I=this.create(C,R)),I){if(Array.isArray(w))for(var L=w.length===1,D=0;D<I.source.length;D++){var B=L?w[0]:w[D];g.JSONArray(I,D,B)}else g.JSONArray(I,0,w);F&&I.setDataSource(F),this.emit(h.ADD,C,I),this.emit(h.ADD_KEY+C,I)}return I},addAtlasJSONHash:function(C,R,w,F){var I=null;if(R instanceof T?(C=R.key,I=R):this.checkKey(C)&&(I=this.create(C,R)),I){if(Array.isArray(w))for(var L=0;L<w.length;L++)g.JSONHash(I,L,w[L]);else g.JSONHash(I,0,w);F&&I.setDataSource(F),this.emit(h.ADD,C,I),this.emit(h.ADD_KEY+C,I)}return I},addAtlasXML:function(C,R,w,F){var I=null;return R instanceof T?(C=R.key,I=R):this.checkKey(C)&&(I=this.create(C,R)),I&&(g.AtlasXML(I,0,w),F&&I.setDataSource(F),this.emit(h.ADD,C,I),this.emit(h.ADD_KEY+C,I)),I},addUnityAtlas:function(C,R,w,F){var I=null;return R instanceof T?(C=R.key,I=R):this.checkKey(C)&&(I=this.create(C,R)),I&&(g.UnityYAML(I,0,w),F&&I.setDataSource(F),this.emit(h.ADD,C,I),this.emit(h.ADD_KEY+C,I)),I},addSpriteSheet:function(C,R,w,F){var I=null;if(R instanceof T?(C=R.key,I=R):this.checkKey(C)&&(I=this.create(C,R)),I){var L=I.source[0].width,D=I.source[0].height;g.SpriteSheet(I,0,0,0,L,D,w),F&&I.setDataSource(F),this.emit(h.ADD,C,I),this.emit(h.ADD_KEY+C,I)}return I},addSpriteSheetFromAtlas:function(C,R){if(!this.checkKey(C))return null;var w=d(R,"atlas",null),F=d(R,"frame",null);if(!(!w||!F)){var I=this.get(w),L=I.get(F);if(L){var D=L.source.image;D||(D=L.source.glTexture);var B=this.create(C,D);return L.trimmed?g.SpriteSheetFromAtlas(B,L,R):g.SpriteSheet(B,0,L.cutX,L.cutY,L.cutWidth,L.cutHeight,R),this.emit(h.ADD,C,B),this.emit(h.ADD_KEY+C,B),B}}},addUint8Array:function(C,R,w,F){if(!this.checkKey(C)||R.length/4!==w*F)return null;var I=this.create(C,R,w,F);return I.add("__BASE",0,0,0,w,F),this.emit(h.ADD,C,I),this.emit(h.ADD_KEY+C,I),I},create:function(C,R,w,F){var I=null;return this.checkKey(C)&&(I=new T(this,C,R,w,F),this.list[C]=I),I},exists:function(C){return this.list.hasOwnProperty(C)},get:function(C){return C===void 0&&(C="__DEFAULT"),this.list[C]?this.list[C]:C instanceof T?C:C instanceof i?C.texture:this.list.__MISSING},cloneFrame:function(C,R){if(this.list[C])return this.list[C].get(R).clone()},getFrame:function(C,R){if(this.list[C])return this.list[C].get(R)},parseFrame:function(C){if(C){if(typeof C=="string")return this.getFrame(C);if(Array.isArray(C)&&C.length===2)return this.getFrame(C[0],C[1]);if(p(C))return this.getFrame(C.key,C.frame);if(C instanceof T)return C.get();if(C instanceof i)return C}else return},getTextureKeys:function(){var C=[];for(var R in this.list)R!=="__DEFAULT"&&R!=="__MISSING"&&R!=="__WHITE"&&R!=="__NORMAL"&&C.push(R);return C},getPixel:function(C,R,w,F){var I=this.getFrame(w,F);if(I){C-=I.x,R-=I.y;var L=I.data.cut;if(C+=L.x,R+=L.y,C>=L.x&&C<L.r&&R>=L.y&&R<L.b){var D=this._tempContext;D.clearRect(0,0,1,1),D.drawImage(I.source.image,C,R,1,1,0,0,1,1);var B=D.getImageData(0,0,1,1);return new r(B.data[0],B.data[1],B.data[2],B.data[3])}}return null},getPixelAlpha:function(C,R,w,F){var I=this.getFrame(w,F);if(I){C-=I.x,R-=I.y;var L=I.data.cut;if(C+=L.x,R+=L.y,C>=L.x&&C<L.r&&R>=L.y&&R<L.b){var D=this._tempContext;D.clearRect(0,0,1,1),D.drawImage(I.source.image,C,R,1,1,0,0,1,1);var B=D.getImageData(0,0,1,1);return B.data[3]}}return null},setTexture:function(C,R,w){return this.list[R]&&(C.texture=this.list[R],C.frame=C.texture.get(w)),C},renameTexture:function(C,R){var w=this.get(C);return w&&C!==R?(w.key=R,this.list[R]=w,delete this.list[C],!0):!1},each:function(C,R){for(var w=[null],F=1;F<arguments.length;F++)w.push(arguments[F]);for(var I in this.list)w[0]=this.list[I],C.apply(R,w)},resetStamp:function(C,R){C===void 0&&(C=1),R===void 0&&(R=16777215);var w=this.stamp;return w.setCrop(),w.setPosition(0),w.setAngle(0),w.setScale(1),w.setAlpha(C),w.setTint(R),w.setTexture("__WHITE"),w},destroy:function(){for(var C in this.list)this.list[C].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,o.remove(this._tempCanvas)}});v.exports=E},11876:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(27919),m=t(83419),a=t(50030),r=t(29795),n=t(82751),e=new m({initialize:function(h,i,l,u,d){d===void 0&&(d=!1);var f=h.manager.game;this.renderer=f.renderer,this.texture=h,this.source=i,this.image=i.compressed?null:i,this.compressionAlgorithm=i.compressed?i.format:null,this.resolution=1,this.width=l||i.naturalWidth||i.videoWidth||i.width||0,this.height=u||i.naturalHeight||i.videoHeight||i.height||0,this.scaleMode=r.DEFAULT,this.isCanvas=i instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&i instanceof HTMLVideoElement,this.isRenderTexture=i.type==="RenderTexture"||i.type==="DynamicTexture",this.isGLTexture=i instanceof n,this.isPowerOf2=a(this.width,this.height),this.glTexture=null,this.flipY=d,this.init(f)},init:function(s){var h=this.renderer;if(h){var i=this.source;if(h.gl){var l=this.image,u=this.flipY,d=this.width,f=this.height,p=this.scaleMode;this.isCanvas?this.glTexture=h.createCanvasTexture(l,!1,u):this.isVideo?this.glTexture=h.createVideoTexture(l,!1,u):this.isRenderTexture?this.glTexture=h.createTextureFromSource(null,d,f,p):this.isGLTexture?this.glTexture=i:this.compressionAlgorithm?this.glTexture=h.createTextureFromSource(i,void 0,void 0,p):i instanceof Uint8Array?this.glTexture=h.createUint8ArrayTexture(i,d,f,p):this.glTexture=h.createTextureFromSource(l,d,f,p)}else this.isRenderTexture&&(this.image=i.canvas)}s.config.antialias||this.setFilter(1)},setFilter:function(s){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,s),this.scaleMode=s},setFlipY:function(s){return s===void 0&&(s=!0),s===this.flipY?this:(this.flipY=s,this.update(),this)},update:function(){var s=this.renderer,h=this.image,i=this.flipY,l=s.gl;l&&this.isCanvas?s.updateCanvasTexture(h,this.glTexture,i):l&&this.isVideo&&s.updateVideoTexture(h,this.glTexture,i)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&o.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});v.exports=e},19673:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={LINEAR:0,NEAREST:1};v.exports=S},44538:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="addtexture"},63486:v=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="addtexture-"},94851:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="onerror"},29099:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="onload"},8678:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="ready"},86415:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="removetexture"},30879:v=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="removetexture-"},69442:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ADD:t(44538),ADD_KEY:t(63486),ERROR:t(94851),LOAD:t(29099),READY:t(8678),REMOVE:t(86415),REMOVE_KEY:t(30879)}},27458:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(79291),m=t(19673),a={CanvasTexture:t(57382),DynamicTexture:t(81320),Events:t(69442),FilterMode:m,Frame:t(4327),Parsers:t(61309),Texture:t(79237),TextureManager:t(17130),TextureSource:t(11876)};a=o(!1,a,m),v.exports=a},89905:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){if(!m.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var a=t.source[o];t.add("__BASE",o,0,0,a.width,a.height);for(var r=m.getElementsByTagName("SubTexture"),n,e=0;e<r.length;e++){var s=r[e].attributes,h=s.name.value,i=parseInt(s.x.value,10),l=parseInt(s.y.value,10),u=parseInt(s.width.value,10),d=parseInt(s.height.value,10);if(n=t.add(h,o,i,l,u,d),s.frameX){var f=Math.abs(parseInt(s.frameX.value,10)),p=Math.abs(parseInt(s.frameY.value,10)),g=parseInt(s.frameWidth.value,10),x=parseInt(s.frameHeight.value,10);n.setTrim(u,d,f,p,g,x)}}return t};v.exports=S},72893:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){var m=t.source[o];return t.add("__BASE",o,0,0,m.width,m.height),t};v.exports=S},4832:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){var m=t.source[o];return t.add("__BASE",o,0,0,m.width,m.height),t};v.exports=S},78566:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(41786),m=function(a,r,n){if(!n.frames&&!n.textures){console.warn("Invalid Texture Atlas JSON Array");return}var e=a.source[r];a.add("__BASE",r,0,0,e.width,e.height);for(var s=Array.isArray(n.textures)?n.textures[r].frames:n.frames,h,i=0;i<s.length;i++){var l=s[i];if(h=a.add(l.filename,r,l.frame.x,l.frame.y,l.frame.w,l.frame.h),!h){console.warn("Invalid atlas json, frame already exists: "+l.filename);continue}l.trimmed&&h.setTrim(l.sourceSize.w,l.sourceSize.h,l.spriteSourceSize.x,l.spriteSourceSize.y,l.spriteSourceSize.w,l.spriteSourceSize.h),l.rotated&&(h.rotated=!0,h.updateUVsInverted());var u=l.anchor||l.pivot;u&&(h.customPivot=!0,h.pivotX=u.x,h.pivotY=u.y),l.scale9Borders&&h.setScale9(l.scale9Borders.x,l.scale9Borders.y,l.scale9Borders.w,l.scale9Borders.h),h.customData=o(l)}for(var d in n)d!=="frames"&&(Array.isArray(n[d])?a.customData[d]=n[d].slice(0):a.customData[d]=n[d]);return a};v.exports=m},39711:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(41786),m=function(a,r,n){if(!n.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var e=a.source[r];a.add("__BASE",r,0,0,e.width,e.height);var s=n.frames,h;for(var i in s)if(s.hasOwnProperty(i)){var l=s[i];if(h=a.add(i,r,l.frame.x,l.frame.y,l.frame.w,l.frame.h),!h){console.warn("Invalid atlas json, frame already exists: "+i);continue}l.trimmed&&h.setTrim(l.sourceSize.w,l.sourceSize.h,l.spriteSourceSize.x,l.spriteSourceSize.y,l.spriteSourceSize.w,l.spriteSourceSize.h),l.rotated&&(h.rotated=!0,h.updateUVsInverted());var u=l.anchor||l.pivot;u&&(h.customPivot=!0,h.pivotX=u.x,h.pivotY=u.y),l.scale9Borders&&h.setScale9(l.scale9Borders.x,l.scale9Borders.y,l.scale9Borders.w,l.scale9Borders.h),h.customData=o(l)}for(var d in n)d!=="frames"&&(Array.isArray(n[d])?a.customData[d]=n[d].slice(0):a.customData[d]=n[d]);return a};v.exports=m},31403:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var o=[171,75,84,88,32,49,49,187,13,10,26,10],m,a=new Uint8Array(t,0,12);for(m=0;m<a.length;m++)if(a[m]!==o[m]){console.warn("KTXParser - Invalid file format");return}var r=Uint32Array.BYTES_PER_ELEMENT,n=new DataView(t,12,13*r),e=n.getUint32(0,!0)===67305985,s=n.getUint32(1*r,e);if(s!==0){console.warn("KTXParser - Only compressed formats supported");return}var h=n.getUint32(4*r,e),i=n.getUint32(6*r,e),l=n.getUint32(7*r,e),u=Math.max(1,n.getUint32(11*r,e)),d=n.getUint32(12*r,e),f=new Array(u),p=12+13*4+d,g=i,x=l;for(m=0;m<u;m++){var T=new Int32Array(t,p,1)[0];p+=4,f[m]={data:new Uint8Array(t,p,T),width:g,height:x},g=Math.max(1,g>>1),x=Math.max(1,x>>1),p+=T}return{mipmaps:f,width:i,height:l,internalFormat:h,compressed:!0,generateMipmap:!1}};v.exports=S},82038:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(R,w,F,I,L,D,B){return B===void 0&&(B=16),Math.floor((R+F)/L)*Math.floor((w+I)/D)*B}function t(R,w){return R=Math.max(R,16),w=Math.max(w,8),R*w/4}function o(R,w){return R=Math.max(R,8),w=Math.max(w,8),R*w/2}function m(R,w){return Math.ceil(R/4)*Math.ceil(w/4)*16}function a(R,w){return S(R,w,3,3,4,4,8)}function r(R,w){return S(R,w,3,3,4,4)}function n(R,w){return S(R,w,4,3,5,4)}function e(R,w){return S(R,w,4,4,5,5)}function s(R,w){return S(R,w,5,4,6,5)}function h(R,w){return S(R,w,5,5,6,6)}function i(R,w){return S(R,w,7,4,8,5)}function l(R,w){return S(R,w,7,5,8,6)}function u(R,w){return S(R,w,7,7,8,8)}function d(R,w){return S(R,w,9,4,10,5)}function f(R,w){return S(R,w,9,5,10,6)}function p(R,w){return S(R,w,9,7,10,8)}function g(R,w){return S(R,w,9,9,10,10)}function x(R,w){return S(R,w,11,9,12,10)}function T(R,w){return S(R,w,11,11,12,12)}var E={0:{sizeFunc:t,glFormat:[35841]},1:{sizeFunc:t,glFormat:[35843]},2:{sizeFunc:o,glFormat:[35840]},3:{sizeFunc:o,glFormat:[35842]},6:{sizeFunc:a,glFormat:[36196]},7:{sizeFunc:a,glFormat:[33776,35916]},8:{sizeFunc:r,glFormat:[33777,35917]},9:{sizeFunc:r,glFormat:[33778,35918]},11:{sizeFunc:r,glFormat:[33779,35919]},14:{sizeFunc:m,glFormat:[36494,36495]},15:{sizeFunc:m,glFormat:[36492,36493]},22:{sizeFunc:a,glFormat:[37492,37493]},23:{sizeFunc:r,glFormat:[37496,37497]},24:{sizeFunc:a,glFormat:[37494,37495]},25:{sizeFunc:a,glFormat:[37488]},26:{sizeFunc:r,glFormat:[37490]},27:{sizeFunc:r,glFormat:[37808,37840]},28:{sizeFunc:n,glFormat:[37809,37841]},29:{sizeFunc:e,glFormat:[37810,37842]},30:{sizeFunc:s,glFormat:[37811,37843]},31:{sizeFunc:h,glFormat:[37812,37844]},32:{sizeFunc:i,glFormat:[37813,37845]},33:{sizeFunc:l,glFormat:[37814,37846]},34:{sizeFunc:u,glFormat:[37815,37847]},35:{sizeFunc:d,glFormat:[37816,37848]},36:{sizeFunc:f,glFormat:[37817,37849]},37:{sizeFunc:p,glFormat:[37818,37850]},38:{sizeFunc:g,glFormat:[37819,37851]},39:{sizeFunc:x,glFormat:[37820,37852]},40:{sizeFunc:T,glFormat:[37821,37853]}},C=function(R){for(var w=new Uint32Array(R,0,13),F=w[0],I=F===55727696,L=I?w[2]:w[3],D=w[4],B=E[L].glFormat[D],U=E[L].sizeFunc,W=w[11],K=w[7],Y=w[6],G=52+w[12],X=new Uint8Array(R,G),V=new Array(W),b=0,z=K,k=Y,$=0;$<W;$++){var J=U(z,k);V[$]={data:new Uint8Array(X.buffer,X.byteOffset+b,J),width:z,height:k},z=Math.max(1,z>>1),k=Math.max(1,k>>1),b+=J}return{mipmaps:V,width:K,height:Y,internalFormat:B,compressed:!0,generateMipmap:!1}};v.exports=C},75549:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),m=function(a,r,n,e,s,h,i){var l=o(i,"frameWidth",null),u=o(i,"frameHeight",l);if(l===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var d=a.source[r];a.add("__BASE",r,0,0,d.width,d.height);var f=o(i,"startFrame",0),p=o(i,"endFrame",-1),g=o(i,"margin",0),x=o(i,"spacing",0),T=Math.floor((s-g+x)/(l+x)),E=Math.floor((h-g+x)/(u+x)),C=T*E;C===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",a.key),(f>C||f<-C)&&(f=0),f<0&&(f=C+f),(p===-1||p>C||p<f)&&(p=C);for(var R=g,w=g,F=0,I=0,L=0,D=0;D<C;D++){F=0,I=0;var B=R+l,U=w+u;B>s&&(F=B-s),U>h&&(I=U-h),D>=f&&D<=p&&(a.add(L,r,n+R,e+w,l-F,u-I),L++),R+=l+x,R+l>s&&(R=g,w+=u+x)}return a};v.exports=m},47534:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),m=function(a,r,n){var e=o(n,"frameWidth",null),s=o(n,"frameHeight",e);if(!e)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var h=a.source[0];a.add("__BASE",0,0,0,h.width,h.height),o(n,"startFrame",0),o(n,"endFrame",-1);for(var i=o(n,"margin",0),l=o(n,"spacing",0),u=r.cutX,d=r.cutY,f=r.cutWidth,p=r.cutHeight,g=r.realWidth,x=r.realHeight,T=Math.floor((g-i+l)/(e+l)),E=Math.floor((x-i+l)/(s+l)),C=r.x,R=e-C,w=e-(g-f-C),F=r.y,I=s-F,L=s-(x-p-F),D,B=i,U=i,W=0,K=0,Y=0;Y<E;Y++){for(var G=Y===0,X=Y===E-1,V=0;V<T;V++){var b=V===0,z=V===T-1;if(D=a.add(W,K,u+B,d+U,e,s),b||G||z||X){var k=b?C:0,$=G?F:0,J=0,j=0;b&&(J+=e-R),z&&(J+=e-w),G&&(j+=s-I),X&&(j+=s-L);var q=e-J,_=s-j;D.cutWidth=q,D.cutHeight=_,D.setTrim(e,s,k,$,q,_)}B+=l,b?B+=R:z?B+=w:B+=e,W++}B=i,U+=l,G?U+=I:X?U+=L:U+=s}return a};v.exports=m},86147:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=0,t=function(m,a,r,n){var e=S-n.y-n.height;m.add(r,a,n.x,e,n.width,n.height)},o=function(m,a,r){var n=m.source[a];m.add("__BASE",a,0,0,n.width,n.height),S=n.height;for(var e=r.split(`
`),s=/^[ ]*(- )*(\w+)+[: ]+(.*)/,h="",i="",l={x:0,y:0,width:0,height:0},u=0;u<e.length;u++){var d=e[u].match(s);if(d){var f=d[1]==="- ",p=d[2],g=d[3];if(f&&(i!==h&&(t(m,a,i,l),h=i),l={x:0,y:0,width:0,height:0}),p==="name"){i=g;continue}switch(p){case"x":case"y":case"width":case"height":l[p]=parseInt(g,10);break}}}return i!==h&&t(m,a,i,l),m};v.exports=o},55222:(v,S,t)=>{/**
 * @author       Ben Richards <benjamindrichards@gmail.com>
 * @copyright    2024 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(50030),m=function(h){for(var i=h.mipmaps,l=1;l<i.length;l++){var u=i[l].width,d=i[l].height;if(!o(u,d))return console.warn("Mip level "+l+" is not a power-of-two size: "+u+"x"+d),!1}var f=s[h.internalFormat];return f?f(h):(console.warn("No format checker found for internal format "+h.internalFormat+". Assuming valid."),!0)};function a(h){for(var i=h.mipmaps,l=0;l<i.length;l++){var u=i[l].width,d=i[l].height;if((u<<l)%4!==0||(d<<l)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+l+" is "+u+"x"+d),!1}return!0}function r(){return!0}function n(h){var i=h.mipmaps,l=i[0];return o(l.width,l.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+l.width+"x"+l.height),!1)}function e(h){var i=h.mipmaps,l=i[0];return l.width%4!==0||l.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+l.width+"x"+l.height+" pixels"),!1):!0}var s={37488:r,37489:r,37490:r,37491:r,37492:r,37493:r,37494:r,37495:r,37496:r,37497:r,36196:r,37808:r,37809:r,37810:r,37811:r,37812:r,37813:r,37814:r,37815:r,37816:r,37817:r,37818:r,37819:r,37820:r,37821:r,37840:r,37841:r,37842:r,37843:r,37844:r,37845:r,37846:r,37847:r,37848:r,37849:r,37850:r,37851:r,37852:r,37853:r,36492:a,36493:a,36494:a,36495:a,36283:a,36284:a,36285:a,36286:a,35840:n,35841:n,35842:n,35843:n,33776:a,33777:a,33778:a,33779:a,35916:e,35917:e,35918:e,35919:e};v.exports=m},61309:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={AtlasXML:t(89905),Canvas:t(72893),Image:t(4832),JSONArray:t(78566),JSONHash:t(39711),KTXParser:t(31403),PVRParser:t(82038),SpriteSheet:t(75549),SpriteSheetFromAtlas:t(47534),UnityYAML:t(86147)}},80341:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=new o({initialize:function(r,n,e,s,h,i,l){(e===void 0||e<=0)&&(e=32),(s===void 0||s<=0)&&(s=32),h===void 0&&(h=0),i===void 0&&(i=0),this.name=r,this.firstgid=n|0,this.imageWidth=e|0,this.imageHeight=s|0,this.imageMargin=h|0,this.imageSpacing=i|0,this.properties=l||{},this.images=[],this.total=0},containsImageIndex:function(a){return a>=this.firstgid&&a<this.firstgid+this.total},addImage:function(a,r,n,e){return this.images.push({gid:a,image:r,width:n,height:e}),this.total++,this}});v.exports=m},27462:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=new o({initialize:function(r){if(this.gids=[],r!==void 0)for(var n=0;n<r.length;++n)for(var e=r[n],s=0;s<e.total;++s)this.gids[e.firstgid+s]=e;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(a){this.gids=a?this._gids:void 0}},getTypeIncludingTile:function(a){if(a.type!==void 0&&a.type!=="")return a.type;if(!(!this.gids||a.gid===void 0)){var r=this.gids[a.gid];if(r){var n=r.getTileData(a.gid);if(n)return n.type}}},setTextureAndFrame:function(a,r,n,e){if(r===null&&this.gids&&e.gid!==void 0){var s=this.gids[e.gid];s&&(r===null&&s.image!==void 0&&(r=s.image.key),n===null&&(n=e.gid-s.firstgid),a.scene.textures.getFrame(r,n)||(r=null,n=null))}a.setTexture(r,n)},setPropertiesFromTiledObject:function(a,r){if(this.gids!==void 0&&r.gid!==void 0){var n=this.gids[r.gid];n!==void 0&&this.setFromJSON(a,n.getTileProperties(r.gid))}this.setFromJSON(a,r.properties)},setFromJSON:function(a,r){if(r){if(Array.isArray(r)){for(var n=0;n<r.length;n++){var e=r[n];a[e.name]!==void 0?a[e.name]=e.value:a.setData(e.name,e.value)}return}for(var s in r)a[s]!==void 0?a[s]=r[s]:a.setData(s,r[s])}}});v.exports=m},31989:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(80341),m=t(87010),a=t(46177),r=t(49075),n=function(e,s,h,i,l,u,d,f){h===void 0&&(h=32),i===void 0&&(i=32),l===void 0&&(l=10),u===void 0&&(u=10),f===void 0&&(f=!1);var p=null;if(Array.isArray(d)){var g=s!==void 0?s:"map";p=a(g,o.ARRAY_2D,d,h,i,f)}else if(s!==void 0){var x=e.cache.tilemap.get(s);x?p=a(s,x.format,x.data,h,i,f):console.warn("No map data found for key "+s)}return p===null&&(p=new m({tileWidth:h,tileHeight:i,width:l,height:u})),new r(e,p)};v.exports=n},23029:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(31401),a=t(91907),r=t(62644),n=t(93232),e=new o({Mixins:[m.AlphaSingle,m.Flip,m.Visible],initialize:function(h,i,l,u,d,f,p,g){this.layer=h,this.index=i,this.x=l,this.y=u,this.width=d,this.height=f,this.right,this.bottom,this.baseWidth=p!==void 0?p:d,this.baseHeight=g!==void 0?g:f,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(s,h){return!(s<this.pixelX||h<this.pixelY||s>this.right||h>this.bottom)},copy:function(s){return this.index=s.index,this.alpha=s.alpha,this.properties=r(s.properties),this.visible=s.visible,this.setFlip(s.flipX,s.flipY),this.tint=s.tint,this.rotation=s.rotation,this.collideUp=s.collideUp,this.collideDown=s.collideDown,this.collideLeft=s.collideLeft,this.collideRight=s.collideRight,this.collisionCallback=s.collisionCallback,this.collisionCallbackContext=s.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(s){var h=this.tilemapLayer;if(h){var i=h.tileToWorldXY(this.x,this.y,void 0,s);return i.x}return this.x*this.baseWidth},getRight:function(s){var h=this.tilemapLayer;return h?this.getLeft(s)+this.width*h.scaleX:this.getLeft(s)+this.width},getTop:function(s){var h=this.tilemapLayer;if(h){var i=h.tileToWorldXY(this.x,this.y,void 0,s);return i.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(s){var h=this.tilemapLayer;return h?this.getTop(s)+this.height*h.scaleY:this.getTop(s)+this.height},getBounds:function(s,h){return h===void 0&&(h=new n),h.x=this.getLeft(s),h.y=this.getTop(s),h.width=this.getRight(s)-h.x,h.height=this.getBottom(s)-h.y,h},getCenterX:function(s){return(this.getLeft(s)+this.getRight(s))/2},getCenterY:function(s){return(this.getTop(s)+this.getBottom(s))/2},intersects:function(s,h,i,l){return!(i<=this.pixelX||l<=this.pixelY||s>=this.right||h>=this.bottom)},isInteresting:function(s,h){return s&&h?this.canCollide||this.hasInterestingFace:s?this.collides:h?this.hasInterestingFace:!1},resetCollision:function(s){if(s===void 0&&(s=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,s){var h=this.tilemapLayer;h&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(s,h,i,l,u){if(h===void 0&&(h=s),i===void 0&&(i=s),l===void 0&&(l=s),u===void 0&&(u=!0),this.collideLeft=s,this.collideRight=h,this.collideUp=i,this.collideDown=l,this.faceLeft=s,this.faceRight=h,this.faceTop=i,this.faceBottom=l,u){var d=this.tilemapLayer;d&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(s,h){return s===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=s,this.collisionCallbackContext=h),this},setSize:function(s,h,i,l){return s!==void 0&&(this.width=s),h!==void 0&&(this.height=h),i!==void 0&&(this.baseWidth=i),l!==void 0&&(this.baseHeight=l),this.updatePixelXY(),this},updatePixelXY:function(){var s=this.layer.orientation;if(s===a.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(s===a.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(s===a.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(s===a.HEXAGONAL){var h=this.layer.staggerAxis,i=this.layer.staggerIndex,l=this.layer.hexSideLength,u,d;h==="y"?(d=(this.baseHeight-l)/2+l,i==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*d):h==="x"&&(u=(this.baseWidth-l)/2+l,this.pixelX=this.x*u,i==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var s=this.layer.tilemapLayer;if(s){var h=s.gidMap[this.index];if(h)return h}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var s=this.tilemapLayer;return s?s.tilemap:null}}});v.exports=e},49075:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(84101),m=t(83419),a=t(39506),r=t(80341),n=t(95540),e=t(14977),s=t(27462),h=t(91907),i=t(36305),l=t(19133),u=t(68287),d=t(23029),f=t(81086),p=t(20442),g=t(33629),x=new m({initialize:function(E,C){this.scene=E,this.tileWidth=C.tileWidth,this.tileHeight=C.tileHeight,this.width=C.width,this.height=C.height,this.orientation=C.orientation,this.renderOrder=C.renderOrder,this.format=C.format,this.version=C.version,this.properties=C.properties,this.widthInPixels=C.widthInPixels,this.heightInPixels=C.heightInPixels,this.imageCollections=C.imageCollections,this.images=C.images,this.layers=C.layers,this.tiles=C.tiles,this.tilesets=C.tilesets,this.objects=C.objects,this.currentLayerIndex=0,this.hexSideLength=C.hexSideLength;var R=this.orientation;this._convert={WorldToTileXY:f.GetWorldToTileXYFunction(R),WorldToTileX:f.GetWorldToTileXFunction(R),WorldToTileY:f.GetWorldToTileYFunction(R),TileToWorldXY:f.GetTileToWorldXYFunction(R),TileToWorldX:f.GetTileToWorldXFunction(R),TileToWorldY:f.GetTileToWorldYFunction(R),GetTileCorners:f.GetTileCornersFunction(R)}},setRenderOrder:function(T){var E=["right-down","left-down","right-up","left-up"];return typeof T=="number"&&(T=E[T]),E.indexOf(T)>-1&&(this.renderOrder=T),this},addTilesetImage:function(T,E,C,R,w,F,I,L){if(T===void 0)return null;E==null&&(E=T);var D=this.scene.sys.textures;if(!D.exists(E))return console.warn('Texture key "%s" not found',E),null;var B=D.get(E),U=this.getTilesetIndex(T);if(U===null&&this.format===r.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',T,this.tilesets),null;var W=this.tilesets[U];return W?((C||R)&&W.setTileSize(C,R),(w||F)&&W.setSpacing(w,F),W.setImage(B),W):(C===void 0&&(C=this.tileWidth),R===void 0&&(R=this.tileHeight),w===void 0&&(w=0),F===void 0&&(F=0),I===void 0&&(I=0),L===void 0&&(L={x:0,y:0}),W=new g(T,I,C,R,w,F,void 0,void 0,L),W.setImage(B),this.tilesets.push(W),this.tiles=o(this),W)},copy:function(T,E,C,R,w,F,I,L){return L=this.getLayer(L),L!==null?(f.Copy(T,E,C,R,w,F,I,L),this):null},createBlankLayer:function(T,E,C,R,w,F,I,L){C===void 0&&(C=0),R===void 0&&(R=0),w===void 0&&(w=this.width),F===void 0&&(F=this.height),I===void 0&&(I=this.tileWidth),L===void 0&&(L=this.tileHeight);var D=this.getLayerIndex(T);if(D!==null)return console.warn("Invalid Tilemap Layer ID: "+T),null;for(var B=new e({name:T,tileWidth:I,tileHeight:L,width:w,height:F,orientation:this.orientation,hexSideLength:this.hexSideLength}),U,W=0;W<F;W++){U=[];for(var K=0;K<w;K++)U.push(new d(B,-1,K,W,I,L,this.tileWidth,this.tileHeight));B.data.push(U)}this.layers.push(B),this.currentLayerIndex=this.layers.length-1;var Y=new p(this.scene,this,this.currentLayerIndex,E,C,R);return Y.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(Y),Y},createLayer:function(T,E,C,R){var w=this.getLayerIndex(T);if(w===null)return console.warn("Invalid Tilemap Layer ID: "+T),typeof T=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var F=this.layers[w];if(F.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+T),null;this.currentLayerIndex=w,C===void 0&&(C=F.x),R===void 0&&(R=F.y);var I=new p(this.scene,this,w,E,C,R);return I.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(I),I},createFromObjects:function(T,E,C){C===void 0&&(C=!0);var R=[],w=this.getObjectLayer(T);if(!w)return console.warn("createFromObjects: Invalid objectLayerName given: "+T),R;var F=new s(C?this.tilesets:void 0);Array.isArray(E)||(E=[E]);for(var I=w.objects,L=0;L<E.length;L++){var D=E[L],B=n(D,"id",null),U=n(D,"gid",null),W=n(D,"name",null),K=n(D,"type",null);F.enabled=!n(D,"ignoreTileset",null);for(var Y,G=[],X=0;X<I.length;X++)Y=I[X],(B===null&&U===null&&W===null&&K===null||B!==null&&Y.id===B||U!==null&&Y.gid===U||W!==null&&Y.name===W||K!==null&&F.getTypeIncludingTile(Y)===K)&&G.push(Y);for(var V=n(D,"classType",u),b=n(D,"scene",this.scene),z=n(D,"container",null),k=n(D,"key",null),$=n(D,"frame",null),J=0;J<G.length;J++){Y=G[J];var j=new V(b);if(j.setName(Y.name),j.setPosition(Y.x,Y.y),F.setTextureAndFrame(j,k,$,Y),Y.width&&(j.displayWidth=Y.width),Y.height&&(j.displayHeight=Y.height),this.orientation===h.ISOMETRIC){var q=this.tileWidth/this.tileHeight,_={x:j.x-j.y,y:(j.x+j.y)/q};j.x=_.x,j.y=_.y}var tt={x:j.originX*Y.width,y:(j.originY-(Y.gid?1:0))*Y.height};if(Y.rotation){var et=a(Y.rotation);i(tt,et),j.rotation=et}j.x+=tt.x,j.y+=tt.y,(Y.flippedHorizontal!==void 0||Y.flippedVertical!==void 0)&&j.setFlip(Y.flippedHorizontal,Y.flippedVertical),Y.visible||(j.visible=!1),F.setPropertiesFromTiledObject(j,Y),z?z.add(j):b.add.existing(j),R.push(j)}}return R},createFromTiles:function(T,E,C,R,w,F){return F=this.getLayer(F),F===null?null:f.CreateFromTiles(T,E,C,R,w,F)},fill:function(T,E,C,R,w,F,I){return F===void 0&&(F=!0),I=this.getLayer(I),I===null?null:(f.Fill(T,E,C,R,w,F,I),this)},filterObjects:function(T,E,C){if(typeof T=="string"){var R=T;if(T=this.getObjectLayer(T),!T)return console.warn("No object layer found with the name: "+R),null}return T.objects.filter(E,C)},filterTiles:function(T,E,C,R,w,F,I,L){return L=this.getLayer(L),L===null?null:f.FilterTiles(T,E,C,R,w,F,I,L)},findByIndex:function(T,E,C,R){return R=this.getLayer(R),R===null?null:f.FindByIndex(T,E,C,R)},findObject:function(T,E,C){if(typeof T=="string"){var R=T;if(T=this.getObjectLayer(T),!T)return console.warn("No object layer found with the name: "+R),null}return T.objects.find(E,C)||null},findTile:function(T,E,C,R,w,F,I,L){return L=this.getLayer(L),L===null?null:f.FindTile(T,E,C,R,w,F,I,L)},forEachTile:function(T,E,C,R,w,F,I,L){return L=this.getLayer(L),L===null?null:(f.ForEachTile(T,E,C,R,w,F,I,L),this)},getImageIndex:function(T){return this.getIndex(this.images,T)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(T){return T.name})},getIndex:function(T,E){for(var C=0;C<T.length;C++)if(T[C].name===E)return C;return null},getLayer:function(T){var E=this.getLayerIndex(T);return E!==null?this.layers[E]:null},getObjectLayer:function(T){var E=this.getIndex(this.objects,T);return E!==null?this.objects[E]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(T){return T.name})},getLayerIndex:function(T){return T===void 0?this.currentLayerIndex:typeof T=="string"?this.getLayerIndexByName(T):typeof T=="number"&&T<this.layers.length?T:T instanceof p&&T.tilemap===this?T.layerIndex:null},getLayerIndexByName:function(T){return this.getIndex(this.layers,T)},getTileAt:function(T,E,C,R){return R=this.getLayer(R),R===null?null:f.GetTileAt(T,E,C,R)},getTileAtWorldXY:function(T,E,C,R,w){return w=this.getLayer(w),w===null?null:f.GetTileAtWorldXY(T,E,C,R,w)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(T){return T.name})},getTilesWithin:function(T,E,C,R,w,F){return F=this.getLayer(F),F===null?null:f.GetTilesWithin(T,E,C,R,w,F)},getTilesWithinShape:function(T,E,C,R){return R=this.getLayer(R),R===null?null:f.GetTilesWithinShape(T,E,C,R)},getTilesWithinWorldXY:function(T,E,C,R,w,F,I){return I=this.getLayer(I),I===null?null:f.GetTilesWithinWorldXY(T,E,C,R,w,F,I)},getTileset:function(T){var E=this.getIndex(this.tilesets,T);return E!==null?this.tilesets[E]:null},getTilesetIndex:function(T){return this.getIndex(this.tilesets,T)},hasTileAt:function(T,E,C){return C=this.getLayer(C),C===null?null:f.HasTileAt(T,E,C)},hasTileAtWorldXY:function(T,E,C,R){return R=this.getLayer(R),R===null?null:f.HasTileAtWorldXY(T,E,C,R)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(T){this.setLayer(T)}},putTileAt:function(T,E,C,R,w){return R===void 0&&(R=!0),w=this.getLayer(w),w===null?null:f.PutTileAt(T,E,C,R,w)},putTileAtWorldXY:function(T,E,C,R,w,F){return R===void 0&&(R=!0),F=this.getLayer(F),F===null?null:f.PutTileAtWorldXY(T,E,C,R,w,F)},putTilesAt:function(T,E,C,R,w){return R===void 0&&(R=!0),w=this.getLayer(w),w===null?null:(f.PutTilesAt(T,E,C,R,w),this)},randomize:function(T,E,C,R,w,F){return F=this.getLayer(F),F===null?null:(f.Randomize(T,E,C,R,w,F),this)},calculateFacesAt:function(T,E,C){return C=this.getLayer(C),C===null?null:(f.CalculateFacesAt(T,E,C),this)},calculateFacesWithin:function(T,E,C,R,w){return w=this.getLayer(w),w===null?null:(f.CalculateFacesWithin(T,E,C,R,w),this)},removeLayer:function(T){var E=this.getLayerIndex(T);if(E!==null){l(this.layers,E);for(var C=E;C<this.layers.length;C++)this.layers[C].tilemapLayer&&this.layers[C].tilemapLayer.layerIndex--;return this.currentLayerIndex===E&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(T){var E=this.getLayerIndex(T);return E!==null?(T=this.layers[E],T.tilemapLayer.destroy(),l(this.layers,E),this.currentLayerIndex===E&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var T=this.layers,E=0;E<T.length;E++)T[E].tilemapLayer&&T[E].tilemapLayer.destroy(!1);return T.length=0,this.currentLayerIndex=0,this},removeTile:function(T,E,C){E===void 0&&(E=-1),C===void 0&&(C=!0);var R=[];Array.isArray(T)||(T=[T]);for(var w=0;w<T.length;w++){var F=T[w];R.push(this.removeTileAt(F.x,F.y,!0,C,F.tilemapLayer)),E>-1&&this.putTileAt(E,F.x,F.y,C,F.tilemapLayer)}return R},removeTileAt:function(T,E,C,R,w){return C===void 0&&(C=!0),R===void 0&&(R=!0),w=this.getLayer(w),w===null?null:f.RemoveTileAt(T,E,C,R,w)},removeTileAtWorldXY:function(T,E,C,R,w,F){return C===void 0&&(C=!0),R===void 0&&(R=!0),F=this.getLayer(F),F===null?null:f.RemoveTileAtWorldXY(T,E,C,R,w,F)},renderDebug:function(T,E,C){return C=this.getLayer(C),C===null?null:(this.orientation===h.ORTHOGONAL&&f.RenderDebug(T,E,C),this)},renderDebugFull:function(T,E){for(var C=this.layers,R=0;R<C.length;R++)f.RenderDebug(T,E,C[R]);return this},replaceByIndex:function(T,E,C,R,w,F,I){return I=this.getLayer(I),I===null?null:(f.ReplaceByIndex(T,E,C,R,w,F,I),this)},setCollision:function(T,E,C,R,w){return E===void 0&&(E=!0),C===void 0&&(C=!0),w===void 0&&(w=!0),R=this.getLayer(R),R===null?null:(f.SetCollision(T,E,C,R,w),this)},setCollisionBetween:function(T,E,C,R,w){return C===void 0&&(C=!0),R===void 0&&(R=!0),w=this.getLayer(w),w===null?null:(f.SetCollisionBetween(T,E,C,R,w),this)},setCollisionByProperty:function(T,E,C,R){return E===void 0&&(E=!0),C===void 0&&(C=!0),R=this.getLayer(R),R===null?null:(f.SetCollisionByProperty(T,E,C,R),this)},setCollisionByExclusion:function(T,E,C,R){return E===void 0&&(E=!0),C===void 0&&(C=!0),R=this.getLayer(R),R===null?null:(f.SetCollisionByExclusion(T,E,C,R),this)},setCollisionFromCollisionGroup:function(T,E,C){return T===void 0&&(T=!0),E===void 0&&(E=!0),C=this.getLayer(C),C===null?null:(f.SetCollisionFromCollisionGroup(T,E,C),this)},setTileIndexCallback:function(T,E,C,R){return R=this.getLayer(R),R===null?null:(f.SetTileIndexCallback(T,E,C,R),this)},setTileLocationCallback:function(T,E,C,R,w,F,I){return I=this.getLayer(I),I===null?null:(f.SetTileLocationCallback(T,E,C,R,w,F,I),this)},setLayer:function(T){var E=this.getLayerIndex(T);return E!==null&&(this.currentLayerIndex=E),this},setBaseTileSize:function(T,E){this.tileWidth=T,this.tileHeight=E,this.widthInPixels=this.width*T,this.heightInPixels=this.height*E;for(var C=0;C<this.layers.length;C++){this.layers[C].baseTileWidth=T,this.layers[C].baseTileHeight=E;for(var R=this.layers[C].data,w=this.layers[C].width,F=this.layers[C].height,I=0;I<F;I++)for(var L=0;L<w;L++){var D=R[I][L];D!==null&&D.setSize(void 0,void 0,T,E)}}return this},setLayerTileSize:function(T,E,C){if(C=this.getLayer(C),C===null)return this;C.tileWidth=T,C.tileHeight=E;for(var R=C.data,w=C.width,F=C.height,I=0;I<F;I++)for(var L=0;L<w;L++){var D=R[I][L];D!==null&&D.setSize(T,E)}return this},shuffle:function(T,E,C,R,w){return w=this.getLayer(w),w===null?null:(f.Shuffle(T,E,C,R,w),this)},swapByIndex:function(T,E,C,R,w,F,I){return I=this.getLayer(I),I===null?null:(f.SwapByIndex(T,E,C,R,w,F,I),this)},tileToWorldX:function(T,E,C){return C=this.getLayer(C),C===null?null:this._convert.TileToWorldX(T,E,C)},tileToWorldY:function(T,E,C){return C=this.getLayer(C),C===null?null:this._convert.TileToWorldY(T,E,C)},tileToWorldXY:function(T,E,C,R,w){return w=this.getLayer(w),w===null?null:this._convert.TileToWorldXY(T,E,C,R,w)},getTileCorners:function(T,E,C,R){return R=this.getLayer(R),R===null?null:this._convert.GetTileCorners(T,E,C,R)},weightedRandomize:function(T,E,C,R,w,F){return F=this.getLayer(F),F===null?null:(f.WeightedRandomize(E,C,R,w,T,F),this)},worldToTileX:function(T,E,C,R){return R=this.getLayer(R),R===null?null:this._convert.WorldToTileX(T,E,C,R)},worldToTileY:function(T,E,C,R){return R=this.getLayer(R),R===null?null:this._convert.WorldToTileY(T,E,C,R)},worldToTileXY:function(T,E,C,R,w,F){return F=this.getLayer(F),F===null?null:this._convert.WorldToTileXY(T,E,C,R,w,F)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});v.exports=x},45939:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(44603),m=t(31989);o.register("tilemap",function(a){var r=a!==void 0?a:{};return m(this.scene,r.key,r.tileWidth,r.tileHeight,r.width,r.height,r.data,r.insertNull)})},46029:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(39429),m=t(31989);o.register("tilemap",function(a,r,n,e,s,h,i){return a===null&&(a=void 0),r===null&&(r=void 0),n===null&&(n=void 0),e===null&&(e=void 0),s===null&&(s=void 0),m(this.scene,a,r,n,e,s,h,i)})},20442:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(78389),a=t(31401),r=t(95643),n=t(81086),e=t(19218),s=t(26099),h=new o({Extends:r,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.PostPipeline,a.Transform,a.Visible,a.ScrollFactor,m,e],initialize:function(l,u,d,f,p,g){r.call(this,l,"TilemapLayer"),this.isTilemap=!0,this.tilemap=u,this.layerIndex=d,this.layer=u.layers[d],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=n.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new s,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(f),this.setAlpha(this.layer.alpha),this.setPosition(p,g),this.setOrigin(0,0),this.setSize(u.tileWidth*this.layer.width,u.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(i){var l=[],u=[],d=this.tilemap;Array.isArray(i)||(i=[i]);for(var f=0;f<i.length;f++){var p=i[f];if(typeof p=="string"&&(p=d.getTileset(p)),p){u.push(p);for(var g=p.firstgid,x=0;x<p.total;x++)l[g+x]=p}}this.gidMap=l,this.tileset=u},setRenderOrder:function(i){var l=["right-down","left-down","right-up","left-up"];return typeof i=="string"&&(i=l.indexOf(i)),i>=0&&i<4&&(this._renderOrder=i),this},calculateFacesAt:function(i,l){return n.CalculateFacesAt(i,l,this.layer),this},calculateFacesWithin:function(i,l,u,d){return n.CalculateFacesWithin(i,l,u,d,this.layer),this},createFromTiles:function(i,l,u,d,f){return n.CreateFromTiles(i,l,u,d,f,this.layer)},cull:function(i){return this.cullCallback(this.layer,i,this.culledTiles,this._renderOrder)},copy:function(i,l,u,d,f,p,g){return n.Copy(i,l,u,d,f,p,g,this.layer),this},fill:function(i,l,u,d,f,p){return n.Fill(i,l,u,d,f,p,this.layer),this},filterTiles:function(i,l,u,d,f,p,g){return n.FilterTiles(i,l,u,d,f,p,g,this.layer)},findByIndex:function(i,l,u){return n.FindByIndex(i,l,u,this.layer)},findTile:function(i,l,u,d,f,p,g){return n.FindTile(i,l,u,d,f,p,g,this.layer)},forEachTile:function(i,l,u,d,f,p,g){return n.ForEachTile(i,l,u,d,f,p,g,this.layer),this},setTint:function(i,l,u,d,f,p){i===void 0&&(i=16777215);var g=function(x){x.tint=i,x.tintFill=!1};return this.forEachTile(g,this,l,u,d,f,p)},setTintFill:function(i,l,u,d,f,p){i===void 0&&(i=16777215);var g=function(x){x.tint=i,x.tintFill=!0};return this.forEachTile(g,this,l,u,d,f,p)},getTileAt:function(i,l,u){return n.GetTileAt(i,l,u,this.layer)},getTileAtWorldXY:function(i,l,u,d){return n.GetTileAtWorldXY(i,l,u,d,this.layer)},getIsoTileAtWorldXY:function(i,l,u,d,f){u===void 0&&(u=!0);var p=this.tempVec;return n.IsometricWorldToTileXY(i,l,!0,p,f,this.layer,u),this.getTileAt(p.x,p.y,d)},getTilesWithin:function(i,l,u,d,f){return n.GetTilesWithin(i,l,u,d,f,this.layer)},getTilesWithinShape:function(i,l,u){return n.GetTilesWithinShape(i,l,u,this.layer)},getTilesWithinWorldXY:function(i,l,u,d,f,p){return n.GetTilesWithinWorldXY(i,l,u,d,f,p,this.layer)},hasTileAt:function(i,l){return n.HasTileAt(i,l,this.layer)},hasTileAtWorldXY:function(i,l,u){return n.HasTileAtWorldXY(i,l,u,this.layer)},putTileAt:function(i,l,u,d){return n.PutTileAt(i,l,u,d,this.layer)},putTileAtWorldXY:function(i,l,u,d,f){return n.PutTileAtWorldXY(i,l,u,d,f,this.layer)},putTilesAt:function(i,l,u,d){return n.PutTilesAt(i,l,u,d,this.layer),this},randomize:function(i,l,u,d,f){return n.Randomize(i,l,u,d,f,this.layer),this},removeTileAt:function(i,l,u,d){return n.RemoveTileAt(i,l,u,d,this.layer)},removeTileAtWorldXY:function(i,l,u,d,f){return n.RemoveTileAtWorldXY(i,l,u,d,f,this.layer)},renderDebug:function(i,l){return n.RenderDebug(i,l,this.layer),this},replaceByIndex:function(i,l,u,d,f,p){return n.ReplaceByIndex(i,l,u,d,f,p,this.layer),this},setSkipCull:function(i){return i===void 0&&(i=!0),this.skipCull=i,this},setCullPadding:function(i,l){return i===void 0&&(i=1),l===void 0&&(l=1),this.cullPaddingX=i,this.cullPaddingY=l,this},setCollision:function(i,l,u,d){return n.SetCollision(i,l,u,this.layer,d),this},setCollisionBetween:function(i,l,u,d){return n.SetCollisionBetween(i,l,u,d,this.layer),this},setCollisionByProperty:function(i,l,u){return n.SetCollisionByProperty(i,l,u,this.layer),this},setCollisionByExclusion:function(i,l,u){return n.SetCollisionByExclusion(i,l,u,this.layer),this},setCollisionFromCollisionGroup:function(i,l){return n.SetCollisionFromCollisionGroup(i,l,this.layer),this},setTileIndexCallback:function(i,l,u){return n.SetTileIndexCallback(i,l,u,this.layer),this},setTileLocationCallback:function(i,l,u,d,f,p){return n.SetTileLocationCallback(i,l,u,d,f,p,this.layer),this},shuffle:function(i,l,u,d){return n.Shuffle(i,l,u,d,this.layer),this},swapByIndex:function(i,l,u,d,f,p){return n.SwapByIndex(i,l,u,d,f,p,this.layer),this},tileToWorldX:function(i,l){return this.tilemap.tileToWorldX(i,l,this)},tileToWorldY:function(i,l){return this.tilemap.tileToWorldY(i,l,this)},tileToWorldXY:function(i,l,u,d){return this.tilemap.tileToWorldXY(i,l,u,d,this)},getTileCorners:function(i,l,u){return this.tilemap.getTileCorners(i,l,u,this)},weightedRandomize:function(i,l,u,d,f){return n.WeightedRandomize(l,u,d,f,i,this.layer),this},worldToTileX:function(i,l,u){return this.tilemap.worldToTileX(i,l,u,this)},worldToTileY:function(i,l,u){return this.tilemap.worldToTileY(i,l,u,this)},worldToTileXY:function(i,l,u,d,f){return this.tilemap.worldToTileXY(i,l,u,d,f,this)},destroy:function(i){i===void 0&&(i=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),i&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],r.prototype.destroy.call(this))}});v.exports=h},16153:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(61340),m=new o,a=new o,r=new o,n=function(e,s,h,i){var l=s.cull(h),u=l.length,d=h.alpha*s.alpha;if(!(u===0||d<=0)){var f=m,p=a,g=r;p.applyITRS(s.x,s.y,s.rotation,s.scaleX,s.scaleY),f.copyFrom(h.matrix);var x=e.currentContext,T=s.gidMap;x.save(),i?(f.multiplyWithOffset(i,-h.scrollX*s.scrollFactorX,-h.scrollY*s.scrollFactorY),p.e=s.x,p.f=s.y,f.multiply(p,g),g.copyToContext(x)):(p.e-=h.scrollX*s.scrollFactorX,p.f-=h.scrollY*s.scrollFactorY,p.copyToContext(x)),(!e.antialias||s.scaleX>1||s.scaleY>1)&&(x.imageSmoothingEnabled=!1);for(var E=0;E<u;E++){var C=l[E],R=T[C.index];if(R){var w=R.image.getSourceImage(),F=R.getTileTextureCoordinates(C.index),I=R.tileWidth,L=R.tileHeight;if(!(F===null||I===0||L===0)){var D=I*.5,B=L*.5;F.x+=R.tileOffset.x,F.y+=R.tileOffset.y,x.save(),x.translate(C.pixelX+D,C.pixelY+B),C.rotation!==0&&x.rotate(C.rotation),(C.flipX||C.flipY)&&x.scale(C.flipX?-1:1,C.flipY?-1:1),x.globalAlpha=d*C.alpha,x.drawImage(w,F.x,F.y,I,L,-D,-B,I,L),x.restore()}}}x.restore()}};v.exports=n},19218:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(29747),m=o,a=o;m=t(99558),a=t(16153),v.exports={renderWebGL:m,renderCanvas:a}},99558:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70554),m=function(a,r,n){var e=r.cull(n),s=e.length,h=n.alpha*r.alpha;if(!(s===0||h<=0)){var i=r.gidMap,l=a.pipelines.set(r.pipeline,r),u=o.getTintAppendFloatAlpha,d=r.scrollFactorX,f=r.scrollFactorY,p=r.x,g=r.y,x=r.scaleX,T=r.scaleY;a.pipelines.preBatch(r);for(var E=0;E<s;E++){var C=e[E],R=i[C.index];if(R){var w=R.getTileTextureCoordinates(C.index),F=R.tileWidth,I=R.tileHeight;if(!(!w||F===0||I===0)){var L=F*.5,D=I*.5,B=R.glTexture,U=l.setTexture2D(B,r),W=F,K=I,Y=w.x,G=w.y,X=R.tileOffset.x,V=R.tileOffset.y,b=u(C.tint,h*C.alpha);l.batchTexture(r,B,B.width,B.height,p+C.pixelX*x+(L*x-X),g+C.pixelY*T+(D*T-V),F,I,x,T,C.rotation,C.flipX,C.flipY,d,f,L,D,Y,G,W,K,b,b,b,b,C.tintFill,0,0,n,null,!0,U,!0)}}}a.pipelines.postBatch(r)}};v.exports=m},33629:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(26099),a=new o({initialize:function(n,e,s,h,i,l,u,d,f){(s===void 0||s<=0)&&(s=32),(h===void 0||h<=0)&&(h=32),i===void 0&&(i=0),l===void 0&&(l=0),u===void 0&&(u={}),d===void 0&&(d={}),this.name=n,this.firstgid=e,this.tileWidth=s,this.tileHeight=h,this.tileMargin=i,this.tileSpacing=l,this.tileProperties=u,this.tileData=d,this.tileOffset=new m,f!==void 0&&this.tileOffset.set(f.x,f.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(r){return this.containsTileIndex(r)?this.tileProperties[r-this.firstgid]:null},getTileData:function(r){return this.containsTileIndex(r)?this.tileData[r-this.firstgid]:null},getTileCollisionGroup:function(r){var n=this.getTileData(r);return n&&n.objectgroup?n.objectgroup:null},containsTileIndex:function(r){return r>=this.firstgid&&r<this.firstgid+this.total},getTileTextureCoordinates:function(r){return this.containsTileIndex(r)?this.texCoordinates[r-this.firstgid]:null},setImage:function(r){this.image=r;var n=r.get(),e=r.getFrameBounds();return this.glTexture=n.source.glTexture,n.width>e.width||n.height>e.height?this.updateTileData(n.width,n.height):this.updateTileData(e.width,e.height,e.x,e.y),this},setTileSize:function(r,n){return r!==void 0&&(this.tileWidth=r),n!==void 0&&(this.tileHeight=n),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(r,n){return r!==void 0&&(this.tileMargin=r),n!==void 0&&(this.tileSpacing=n),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(r,n,e,s){e===void 0&&(e=0),s===void 0&&(s=0);var h=(n-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),i=(r-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(h%1!==0||i%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),h=Math.floor(h),i=Math.floor(i),this.rows=h,this.columns=i,this.total=h*i,this.texCoordinates.length=0;for(var l=this.tileMargin+e,u=this.tileMargin+s,d=0;d<this.rows;d++){for(var f=0;f<this.columns;f++)this.texCoordinates.push({x:l,y:u}),l+=this.tileWidth+this.tileSpacing;l=this.tileMargin+e,u+=this.tileHeight+this.tileSpacing}return this}});v.exports=a},72023:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7423),m=function(a,r,n){var e=o(a,r,!0,n),s=o(a,r-1,!0,n),h=o(a,r+1,!0,n),i=o(a-1,r,!0,n),l=o(a+1,r,!0,n),u=e&&e.collides;return u&&(e.faceTop=!0,e.faceBottom=!0,e.faceLeft=!0,e.faceRight=!0),s&&s.collides&&(u&&(e.faceTop=!1),s.faceBottom=!u),h&&h.collides&&(u&&(e.faceBottom=!1),h.faceTop=!u),i&&i.collides&&(u&&(e.faceLeft=!1),i.faceRight=!u),l&&l.collides&&(u&&(e.faceRight=!1),l.faceLeft=!u),e&&!e.collides&&e.resetFaces(),e};v.exports=m},42573:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7423),m=t(7386),a=function(r,n,e,s,h){for(var i=null,l=null,u=null,d=null,f=m(r,n,e,s,null,h),p=0;p<f.length;p++){var g=f[p];g&&(g.collides?(i=o(g.x,g.y-1,!0,h),l=o(g.x,g.y+1,!0,h),u=o(g.x-1,g.y,!0,h),d=o(g.x+1,g.y,!0,h),g.faceTop=!(i&&i.collides),g.faceBottom=!(l&&l.collides),g.faceLeft=!(u&&u.collides),g.faceRight=!(d&&d.collides)):g.resetFaces())}};v.exports=a},33528:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),m=new o,a=function(r,n,e,s){var h=e.tilemapLayer,i=h.cullPaddingX,l=h.cullPaddingY,u=h.tilemap.tileToWorldXY(r,n,m,s,h);return u.x>s.worldView.x+h.scaleX*e.tileWidth*(-i-.5)&&u.x<s.worldView.right+h.scaleX*e.tileWidth*(i-.5)&&u.y>s.worldView.y+h.scaleY*e.tileHeight*(-l-1)&&u.y<s.worldView.bottom+h.scaleY*e.tileHeight*(l-.5)};v.exports=a},1785:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(42573),m=t(7386),a=t(62991),r=t(23029),n=function(e,s,h,i,l,u,d,f){d===void 0&&(d=!0);var p=m(e,s,h,i,null,f),g=[];p.forEach(function(F){var I=new r(F.layer,F.index,F.x,F.y,F.width,F.height,F.baseWidth,F.baseHeight);I.copy(F),g.push(I)});for(var x=l-e,T=u-s,E=0;E<g.length;E++){var C=g[E],R=C.x+x,w=C.y+T;a(R,w,f)&&f.data[w][R]&&(C.x=R,C.y=w,C.updatePixelXY(),f.data[w][R]=C)}d&&o(l-1,u-1,h+2,i+2,f),p.length=0,g.length=0};v.exports=n},78419:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62644),m=t(7386),a=t(27987),r=function(n,e,s,h,i,l){s||(s={}),Array.isArray(n)||(n=[n]);var u=l.tilemapLayer;h||(h=u.scene),i||(i=h.cameras.main);var d=l.width,f=l.height,p=m(0,0,d,f,null,l),g=[],x,T=function(w,F,I){for(var L=0;L<I.length;L++){var D=I[L];w.hasOwnProperty(D)||(w[D]=F[D])}};for(x=0;x<p.length;x++){var E=p[x],C=o(s);if(n.indexOf(E.index)!==-1){var R=u.tileToWorldXY(E.x,E.y,void 0,i,l);C.x=R.x,C.y=R.y,T(C,E,["rotation","flipX","flipY","alpha","visible","tint"]),C.hasOwnProperty("origin")||(C.x+=E.width*.5,C.y+=E.height*.5),C.hasOwnProperty("useSpriteSheet")&&(C.key=E.tileset.image,C.frame=E.index-1),g.push(h.make.sprite(C))}}if(Array.isArray(e))for(x=0;x<n.length;x++)a(n[x],e[x],0,0,d,f,l);else if(e!==null)for(x=0;x<n.length;x++)a(n[x],e,0,0,d,f,l);return g};v.exports=r},19545:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(87841),m=t(63448),a=t(56583),r=new o,n=function(e,s){var h=e.tilemapLayer.tilemap,i=e.tilemapLayer,l=Math.floor(h.tileWidth*i.scaleX),u=Math.floor(h.tileHeight*i.scaleY),d=a(s.worldView.x-i.x,l,0,!0)-i.cullPaddingX,f=m(s.worldView.right-i.x,l,0,!0)+i.cullPaddingX,p=a(s.worldView.y-i.y,u,0,!0)-i.cullPaddingY,g=m(s.worldView.bottom-i.y,u,0,!0)+i.cullPaddingY;return r.setTo(d,p,f-d,g-p)};v.exports=n},30003:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(19545),m=t(32483),a=function(r,n,e,s){e===void 0&&(e=[]),s===void 0&&(s=0),e.length=0;var h=r.tilemapLayer,i=o(r,n);return(h.skipCull||h.scrollFactorX!==1||h.scrollFactorY!==1)&&(i.left=0,i.right=r.width,i.top=0,i.bottom=r.height),m(r,i,s,e),e};v.exports=a},35137:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),m=t(42573),a=t(20576),r=function(n,e,s,h,i,l,u){for(var d=u.collideIndexes.indexOf(n)!==-1,f=o(e,s,h,i,null,u),p=0;p<f.length;p++)f[p].index=n,a(f[p],d);l&&m(e-1,s-1,h+2,i+2,u)};v.exports=r},40253:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),m=function(a,r,n,e,s,h,i,l){var u=o(n,e,s,h,i,l);return u.filter(a,r)};v.exports=m},52692:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a){o===void 0&&(o=0),m===void 0&&(m=!1);var r=0,n,e,s;if(m){for(e=a.height-1;e>=0;e--)for(n=a.width-1;n>=0;n--)if(s=a.data[e][n],s&&s.index===t){if(r===o)return s;r+=1}}else for(e=0;e<a.height;e++)for(n=0;n<a.width;n++)if(s=a.data[e][n],s&&s.index===t){if(r===o)return s;r+=1}return null};v.exports=S},66151:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),m=function(a,r,n,e,s,h,i,l){var u=o(n,e,s,h,i,l);return u.find(a,r)||null};v.exports=m},97560:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),m=function(a,r,n,e,s,h,i,l){var u=o(n,e,s,h,i,l);u.forEach(a,r)};v.exports=m},43305:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),m=t(30003),a=t(9474),r=t(14018),n=t(29747),e=t(54503),s=function(h){return h===o.ORTHOGONAL?m:h===o.HEXAGONAL?a:h===o.STAGGERED?e:h===o.ISOMETRIC?r:n};v.exports=s},7423:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62991),m=function(a,r,n,e){if(o(a,r,e)){var s=e.data[r][a]||null;return s?s.index===-1?n?s:null:s:null}else return null};v.exports=m},60540:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7423),m=t(26099),a=new m,r=function(n,e,s,h,i){return i.tilemapLayer.worldToTileXY(n,e,!0,a,h),o(a.x,a.y,s,i)};v.exports=r},55826:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),m=function(a,r,n,e){var s=e.baseTileWidth,h=e.baseTileHeight,i=e.tilemapLayer,l=0,u=0;i&&(n||(n=i.scene.cameras.main),l=i.x+n.scrollX*(1-i.scrollFactorX),u=i.y+n.scrollY*(1-i.scrollFactorY),s*=i.scaleX,h*=i.scaleY);var d=l+a*s,f=u+r*h;return[new o(d,f),new o(d+s,f),new o(d+s,f+h),new o(d,f+h)]};v.exports=m},11758:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),m=t(27229),a=t(29747),r=t(55826),n=function(e){return e===o.ORTHOGONAL?r:e===o.ISOMETRIC?a:e===o.HEXAGONAL?m:(e===o.STAGGERED,a)};v.exports=n},39167:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),m=t(29747),a=t(97281),r=function(n){return n===o.ORTHOGONAL?a:m};v.exports=r},62e3:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),m=t(19951),a=t(14127),r=t(29747),n=t(97202),e=t(70326),s=function(h){return h===o.ORTHOGONAL?e:h===o.ISOMETRIC?a:h===o.HEXAGONAL?m:h===o.STAGGERED?n:r};v.exports=s},5984:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),m=t(29747),a=t(28054),r=t(29650),n=function(e){return e===o.ORTHOGONAL?r:e===o.STAGGERED?a:m};v.exports=n},7386:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),m=function(a,r,n,e,s,h){a===void 0&&(a=0),r===void 0&&(r=0),n===void 0&&(n=h.width),e===void 0&&(e=h.height),s||(s={});var i=o(s,"isNotEmpty",!1),l=o(s,"isColliding",!1),u=o(s,"hasInterestingFace",!1);a<0&&(n+=a,a=0),r<0&&(e+=r,r=0),a+n>h.width&&(n=Math.max(h.width-a,0)),r+e>h.height&&(e=Math.max(h.height-r,0));for(var d=[],f=r;f<r+e;f++)for(var p=a;p<a+n;p++){var g=h.data[f][p];if(g!==null){if(i&&g.index===-1||l&&!g.collides||u&&!g.hasInterestingFace)continue;d.push(g)}}return d};v.exports=m},91141:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(55738),m=t(7386),a=t(91865),r=t(29747),n=t(26099),e=t(91907),s=function(d,f){return a.RectangleToTriangle(f,d)},h=new n,i=new n,l=new n,u=function(d,f,p,g){if(g.orientation!==e.ORTHOGONAL)return console.warn("GetTilesWithinShape only works with orthogonal tilemaps"),[];if(d===void 0)return[];var x=r;d instanceof o.Circle?x=a.CircleToRectangle:d instanceof o.Rectangle?x=a.RectangleToRectangle:d instanceof o.Triangle?x=s:d instanceof o.Line&&(x=a.LineToRectangle),g.tilemapLayer.worldToTileXY(d.left,d.top,!0,i,p);var T=i.x,E=i.y;g.tilemapLayer.worldToTileXY(d.right,d.bottom,!1,l,p);var C=Math.ceil(l.x),R=Math.ceil(l.y),w=Math.max(C-T,1),F=Math.max(R-E,1),I=m(T,E,w,F,f,g),L=g.tileWidth,D=g.tileHeight;g.tilemapLayer&&(L*=g.tilemapLayer.scaleX,D*=g.tilemapLayer.scaleY);for(var B=[],U=new o.Rectangle(0,0,L,D),W=0;W<I.length;W++){var K=I[W];g.tilemapLayer.tileToWorldXY(K.x,K.y,h,p),U.x=h.x,U.y=h.y,x(d,U)&&B.push(K)}return B};v.exports=u},96523:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),m=t(26099),a=new m,r=new m,n=function(e,s,h,i,l,u,d){var f=d.tilemapLayer.tilemap._convert.WorldToTileXY;f(e,s,!0,a,u,d);var p=a.x,g=a.y;f(e+h,s+i,!1,r,u,d);var x=Math.ceil(r.x),T=Math.ceil(r.y);return o(p,g,x-p,T-g,l,d)};v.exports=n},96113:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),m=t(20242),a=t(10095),r=function(n){return n===o.ORTHOGONAL?a:m};v.exports=r},16926:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),m=t(86625),a=t(96897),r=t(29747),n=t(15108),e=t(85896),s=function(h){return h===o.ORTHOGONAL?e:h===o.ISOMETRIC?a:h===o.HEXAGONAL?m:h===o.STAGGERED?n:r};v.exports=s},55762:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),m=t(20242),a=t(51900),r=t(63288),n=function(e){return e===o.ORTHOGONAL?r:e===o.STAGGERED?a:m};v.exports=n},45091:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62991),m=function(a,r,n){if(o(a,r,n)){var e=n.data[r][a];return e!==null&&e.index>-1}else return!1};v.exports=m},24152:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(45091),m=t(26099),a=new m,r=function(n,e,s,h){h.tilemapLayer.worldToTileXY(n,e,!0,a,s);var i=a.x,l=a.y;return o(i,l,h)};v.exports=r},90454:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(63448),m=t(56583),a=function(r,n){var e=r.tilemapLayer.tilemap,s=r.tilemapLayer,h=Math.floor(e.tileWidth*s.scaleX),i=Math.floor(e.tileHeight*s.scaleY),l=r.hexSideLength,u,d,f,p;if(r.staggerAxis==="y"){var g=(i-l)/2+l;u=m(n.worldView.x-s.x,h,0,!0)-s.cullPaddingX,d=o(n.worldView.right-s.x,h,0,!0)+s.cullPaddingX,f=m(n.worldView.y-s.y,g,0,!0)-s.cullPaddingY,p=o(n.worldView.bottom-s.y,g,0,!0)+s.cullPaddingY}else{var x=(h-l)/2+l;u=m(n.worldView.x-s.x,x,0,!0)-s.cullPaddingX,d=o(n.worldView.right-s.x,x,0,!0)+s.cullPaddingX,f=m(n.worldView.y-s.y,i,0,!0)-s.cullPaddingY,p=o(n.worldView.bottom-s.y,i,0,!0)+s.cullPaddingY}return{left:u,right:d,top:f,bottom:p}};v.exports=a},9474:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(90454),m=t(32483),a=function(r,n,e,s){e===void 0&&(e=[]),s===void 0&&(s=0),e.length=0;var h=r.tilemapLayer,i=o(r,n);return h.skipCull&&h.scrollFactorX===1&&h.scrollFactorY===1&&(i.left=0,i.right=r.width,i.top=0,i.bottom=r.height),m(r,i,s,e),e};v.exports=a},27229:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(19951),m=t(26099),a=new m,r=function(n,e,s,h){var i=h.baseTileWidth,l=h.baseTileHeight,u=h.tilemapLayer;u&&(i*=u.scaleX,l*=u.scaleY);var d=o(n,e,a,s,h),f=[],p=.5773502691896257,g,x;h.staggerAxis==="y"?(g=p*i,x=l/2):(g=i/2,x=p*l);for(var T=0;T<6;T++){var E=2*Math.PI*(.5-T)/6;f.push(new m(d.x+g*Math.cos(E),d.y+x*Math.sin(E)))}return f};v.exports=r},19951:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),m=function(a,r,n,e,s){n||(n=new o);var h=s.baseTileWidth,i=s.baseTileHeight,l=s.tilemapLayer,u=0,d=0;l&&(e||(e=l.scene.cameras.main),u=l.x+e.scrollX*(1-l.scrollFactorX),d=l.y+e.scrollY*(1-l.scrollFactorY),h*=l.scaleX,i*=l.scaleY);var f=h/2,p=i/2,g,x,T=s.staggerAxis,E=s.staggerIndex;return T==="y"?(g=u+h*a+h,x=d+1.5*r*p+p,r%2===0&&(E==="odd"?g-=f:g+=f)):T==="x"&&E==="odd"&&(g=u+1.5*a*f+f,x=d+i*a+i,a%2===0&&(E==="odd"?x-=p:x+=p)),n.set(g,x)};v.exports=m},86625:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),m=function(a,r,n,e,s,h){e||(e=new o);var i=h.baseTileWidth,l=h.baseTileHeight,u=h.tilemapLayer;u&&(s||(s=u.scene.cameras.main),a=a-(u.x+s.scrollX*(1-u.scrollFactorX)),r=r-(u.y+s.scrollY*(1-u.scrollFactorY)),i*=u.scaleX,l*=u.scaleY);var d=.5773502691896257,f=-.3333333333333333,p=0,g=.6666666666666666,x=i/2,T=l/2,E,C,R,w,F;h.staggerAxis==="y"?(E=(a-x)/(d*i),C=(r-T)/T,R=d*E+f*C,w=p*E+g*C):(E=(a-x)/x,C=(r-T)/(d*l),R=f*E+d*C,w=g*E+p*C),F=-R-w;var I=Math.round(R),L=Math.round(w),D=Math.round(F),B=Math.abs(I-R),U=Math.abs(L-w),W=Math.abs(D-F);B>U&&B>W?I=-L-D:U>W&&(L=-I-D);var K,Y=L;return h.staggerIndex==="odd"?K=Y%2===0?L/2+I:L/2+I-.5:K=Y%2===0?L/2+I:L/2+I+.5,e.set(K,Y)};v.exports=m},62991:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){return t>=0&&t<m.width&&o>=0&&o<m.height};v.exports=S},14018:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(33528),m=function(a,r,n,e){n===void 0&&(n=[]),e===void 0&&(e=0),n.length=0;var s=a.tilemapLayer,h=a.data,i=a.width,l=a.height,u=s.skipCull,d=0,f=i,p=0,g=l,x,T,E;if(e===0)for(T=p;T<g;T++)for(x=d;x<f;x++)E=h[T][x],!(!E||E.index===-1||!E.visible||E.alpha===0)&&(!u&&!o(x,T,a,r)||n.push(E));else if(e===1)for(T=p;T<g;T++)for(x=f;x>=d;x--)E=h[T][x],!(!E||E.index===-1||!E.visible||E.alpha===0)&&(!u&&!o(x,T,a,r)||n.push(E));else if(e===2)for(T=g;T>=p;T--)for(x=d;x<f;x++)E=h[T][x],!(!E||E.index===-1||!E.visible||E.alpha===0)&&(!u&&!o(x,T,a,r)||n.push(E));else if(e===3)for(T=g;T>=p;T--)for(x=f;x>=d;x--)E=h[T][x],!(!E||E.index===-1||!E.visible||E.alpha===0)&&(!u&&!o(x,T,a,r)||n.push(E));return s.tilesDrawn=n.length,s.tilesTotal=i*l,n};v.exports=m},14127:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),m=function(a,r,n,e,s){n||(n=new o);var h=s.baseTileWidth,i=s.baseTileHeight,l=s.tilemapLayer,u=0,d=0;l&&(e||(e=l.scene.cameras.main),u=l.x+e.scrollX*(1-l.scrollFactorX),h*=l.scaleX,d=l.y+e.scrollY*(1-l.scrollFactorY),i*=l.scaleY);var f=u+(a-r)*(h/2),p=d+(a+r)*(i/2);return n.set(f,p)};v.exports=m},96897:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),m=function(a,r,n,e,s,h,i){e||(e=new o);var l=h.baseTileWidth,u=h.baseTileHeight,d=h.tilemapLayer;d&&(s||(s=d.scene.cameras.main),r=r-(d.y+s.scrollY*(1-d.scrollFactorY)),u*=d.scaleY,a=a-(d.x+s.scrollX*(1-d.scrollFactorX)),l*=d.scaleX);var f=l/2,p=u/2;a=a-f,i||(r=r-u);var g=.5*(a/f+r/p),x=.5*(-a/f+r/p);return n&&(g=Math.floor(g),x=Math.floor(x)),e.set(g,x)};v.exports=m},71558:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(23029),m=t(62991),a=t(72023),r=t(20576),n=function(e,s,h,i,l){if(i===void 0&&(i=!0),!m(s,h,l))return null;var u,d=l.data[h][s],f=d&&d.collides;e instanceof o?(l.data[h][s]===null&&(l.data[h][s]=new o(l,e.index,s,h,l.tileWidth,l.tileHeight)),l.data[h][s].copy(e)):(u=e,l.data[h][s]===null?l.data[h][s]=new o(l,u,s,h,l.tileWidth,l.tileHeight):l.data[h][s].index=u);var p=l.data[h][s],g=l.collideIndexes.indexOf(p.index)!==-1;if(u=e instanceof o?e.index:e,u===-1)p.width=l.tileWidth,p.height=l.tileHeight;else{var x=l.tilemapLayer.tilemap,T=x.tiles,E=T[u][2],C=x.tilesets[E];p.width=C.tileWidth,p.height=C.tileHeight}return r(p,g),i&&f!==p.collides&&a(s,h,l),p};v.exports=n},26303:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(71558),m=t(26099),a=new m,r=function(n,e,s,h,i,l){return l.tilemapLayer.worldToTileXY(e,s,!0,a,i,l),o(n,a.x,a.y,h,l)};v.exports=r},14051:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(42573),m=t(71558),a=function(r,n,e,s,h){if(s===void 0&&(s=!0),!Array.isArray(r))return null;Array.isArray(r[0])||(r=[r]);for(var i=r.length,l=r[0].length,u=0;u<i;u++)for(var d=0;d<l;d++){var f=r[u][d];m(f,n+d,e+u,!1,h)}s&&o(n-1,e-1,l+2,i+2,h)};v.exports=a},77389:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),m=t(26546),a=function(r,n,e,s,h,i){var l,u=o(r,n,e,s,{},i);if(!h)for(h=[],l=0;l<u.length;l++)h.indexOf(u[l].index)===-1&&h.push(u[l].index);for(l=0;l<u.length;l++)u[l].index=m(h)};v.exports=a},63557:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(23029),m=t(62991),a=t(72023),r=function(n,e,s,h,i){if(s===void 0&&(s=!0),h===void 0&&(h=!0),!m(n,e,i))return null;var l=i.data[e][n];if(l)i.data[e][n]=s?null:new o(i,-1,n,e,i.tileWidth,i.tileHeight);else return null;return h&&l&&l.collides&&a(n,e,i),l};v.exports=r},94178:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(63557),m=t(26099),a=new m,r=function(n,e,s,h,i,l){return l.tilemapLayer.worldToTileXY(n,e,!0,a,i,l),o(a.x,a.y,s,h,l)};v.exports=r},15533:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),m=t(3956),a=new m(105,210,231,150),r=new m(243,134,48,200),n=new m(40,39,37,150),e=function(s,h,i){h===void 0&&(h={});var l=h.tileColor!==void 0?h.tileColor:a,u=h.collidingTileColor!==void 0?h.collidingTileColor:r,d=h.faceColor!==void 0?h.faceColor:n,f=o(0,0,i.width,i.height,null,i);s.translateCanvas(i.tilemapLayer.x,i.tilemapLayer.y),s.scaleCanvas(i.tilemapLayer.scaleX,i.tilemapLayer.scaleY);for(var p=0;p<f.length;p++){var g=f[p],x=g.tileset?g.tileset.tileOffset:{x:0,y:0},T=g.width,E=g.height,C=g.pixelX-x.x,R=g.pixelY-x.y,w=g.collides?u:l;w!==null&&(s.fillStyle(w.color,w.alpha/255),s.fillRect(C,R,T,E)),C+=1,R+=1,T-=2,E-=2,d!==null&&(s.lineStyle(1,d.color,d.alpha/255),g.faceTop&&s.lineBetween(C,R,C+T,R),g.faceRight&&s.lineBetween(C+T,R,C+T,R+E),g.faceBottom&&s.lineBetween(C,R+E,C+T,R+E),g.faceLeft&&s.lineBetween(C,R,C,R+E))}};v.exports=e},27987:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),m=function(a,r,n,e,s,h,i){for(var l=o(n,e,s,h,null,i),u=0;u<l.length;u++)l[u]&&l[u].index===a&&(l[u].index=r)};v.exports=m},32483:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a){var r=t.data,n=t.width,e=t.height,s=t.tilemapLayer,h=Math.max(0,o.left),i=Math.min(n,o.right),l=Math.max(0,o.top),u=Math.min(e,o.bottom),d,f,p;if(m===0)for(f=l;f<u;f++)for(d=h;r[f]&&d<i;d++)p=r[f][d],!(!p||p.index===-1||!p.visible||p.alpha===0)&&a.push(p);else if(m===1)for(f=l;f<u;f++)for(d=i;r[f]&&d>=h;d--)p=r[f][d],!(!p||p.index===-1||!p.visible||p.alpha===0)&&a.push(p);else if(m===2)for(f=u;f>=l;f--)for(d=h;r[f]&&d<i;d++)p=r[f][d],!(!p||p.index===-1||!p.visible||p.alpha===0)&&a.push(p);else if(m===3)for(f=u;f>=l;f--)for(d=i;r[f]&&d>=h;d--)p=r[f][d],!(!p||p.index===-1||!p.visible||p.alpha===0)&&a.push(p);return s.tilesDrawn=a.length,s.tilesTotal=n*e,a};v.exports=S},57068:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20576),m=t(42573),a=t(9589),r=function(n,e,s,h,i){e===void 0&&(e=!0),s===void 0&&(s=!0),i===void 0&&(i=!0),Array.isArray(n)||(n=[n]);for(var l=0;l<n.length;l++)a(n[l],e,h);if(i)for(var u=0;u<h.height;u++)for(var d=0;d<h.width;d++){var f=h.data[u][d];f&&n.indexOf(f.index)!==-1&&o(f,e)}s&&m(0,0,h.width,h.height,h)};v.exports=r},37266:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20576),m=t(42573),a=t(9589),r=function(n,e,s,h,i,l){if(s===void 0&&(s=!0),h===void 0&&(h=!0),l===void 0&&(l=!0),!(n>e)){for(var u=n;u<=e;u++)a(u,s,i);if(l)for(var d=0;d<i.height;d++)for(var f=0;f<i.width;f++){var p=i.data[d][f];p&&p.index>=n&&p.index<=e&&o(p,s)}h&&m(0,0,i.width,i.height,i)}};v.exports=r},75661:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20576),m=t(42573),a=t(9589),r=function(n,e,s,h){e===void 0&&(e=!0),s===void 0&&(s=!0),Array.isArray(n)||(n=[n]);for(var i=0;i<h.height;i++)for(var l=0;l<h.width;l++){var u=h.data[i][l];u&&n.indexOf(u.index)===-1&&(o(u,e),a(u.index,e,h))}s&&m(0,0,h.width,h.height,h)};v.exports=r},64740:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20576),m=t(42573),a=t(97022),r=function(n,e,s,h){e===void 0&&(e=!0),s===void 0&&(s=!0);for(var i=0;i<h.height;i++)for(var l=0;l<h.width;l++){var u=h.data[i][l];if(u){for(var d in n)if(a(u.properties,d)){var f=n[d];Array.isArray(f)||(f=[f]);for(var p=0;p<f.length;p++)u.properties[d]===f[p]&&o(u,e)}}}s&&m(0,0,h.width,h.height,h)};v.exports=r},63307:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(20576),m=t(42573),a=function(r,n,e){r===void 0&&(r=!0),n===void 0&&(n=!0);for(var s=0;s<e.height;s++)for(var h=0;h<e.width;h++){var i=e.data[s][h];if(i){var l=i.getCollisionGroup();l&&l.objects&&l.objects.length>0&&o(i,r)}}n&&m(0,0,e.width,e.height,e)};v.exports=a},9589:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){var a=m.collideIndexes.indexOf(t);o&&a===-1?m.collideIndexes.push(t):!o&&a!==-1&&m.collideIndexes.splice(a,1)};v.exports=S},20576:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){o?t.setCollision(!0,!0,!0,!0,!1):t.resetCollision(!1)};v.exports=S},79583:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a){if(typeof t=="number")a.callbacks[t]=o!==null?{callback:o,callbackContext:m}:void 0;else for(var r=0,n=t.length;r<n;r++)a.callbacks[t[r]]=o!==null?{callback:o,callbackContext:m}:void 0};v.exports=S},93254:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),m=function(a,r,n,e,s,h,i){for(var l=o(a,r,n,e,null,i),u=0;u<l.length;u++)l[u].setCollisionCallback(s,h)};v.exports=m},32903:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),m=t(33680),a=function(r,n,e,s,h){var i=o(r,n,e,s,null,h),l=i.map(function(d){return d.index});m(l);for(var u=0;u<i.length;u++)i[u].index=l[u]};v.exports=a},61325:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(63448),m=t(56583),a=function(r,n){var e=r.tilemapLayer.tilemap,s=r.tilemapLayer,h=Math.floor(e.tileWidth*s.scaleX),i=Math.floor(e.tileHeight*s.scaleY),l=m(n.worldView.x-s.x,h,0,!0)-s.cullPaddingX,u=o(n.worldView.right-s.x,h,0,!0)+s.cullPaddingX,d=m(n.worldView.y-s.y,i/2,0,!0)-s.cullPaddingY,f=o(n.worldView.bottom-s.y,i/2,0,!0)+s.cullPaddingY;return{left:l,right:u,top:d,bottom:f}};v.exports=a},54503:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(61325),m=t(32483),a=function(r,n,e,s){e===void 0&&(e=[]),s===void 0&&(s=0),e.length=0;var h=r.tilemapLayer,i=o(r,n);return h.skipCull&&h.scrollFactorX===1&&h.scrollFactorY===1&&(i.left=0,i.right=r.width,i.top=0,i.bottom=r.height),m(r,i,s,e),e};v.exports=a},97202:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),m=function(a,r,n,e,s){n||(n=new o);var h=s.baseTileWidth,i=s.baseTileHeight,l=s.tilemapLayer,u=0,d=0;l&&(e||(e=l.scene.cameras.main),u=l.x+e.scrollX*(1-l.scrollFactorX),h*=l.scaleX,d=l.y+e.scrollY*(1-l.scrollFactorY),i*=l.scaleY);var f=u+a*h+r%2*(h/2),p=d+r*(i/2);return n.set(f,p)};v.exports=m},28054:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){var a=m.baseTileHeight,r=m.tilemapLayer,n=0;return r&&(o===void 0&&(o=r.scene.cameras.main),n=r.y+o.scrollY*(1-r.scrollFactorY),a*=r.scaleY),n+t*(a/2)+a};v.exports=S},15108:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),m=function(a,r,n,e,s,h){e||(e=new o);var i=h.baseTileWidth,l=h.baseTileHeight,u=h.tilemapLayer;u&&(s||(s=u.scene.cameras.main),r=r-(u.y+s.scrollY*(1-u.scrollFactorY)),l*=u.scaleY,a=a-(u.x+s.scrollX*(1-u.scrollFactorX)),i*=u.scaleX);var d=n?Math.floor(r/(l/2)):r/(l/2),f=n?Math.floor((a+d%2*.5*i)/i):(a+d%2*.5*i)/i;return e.set(f,d)};v.exports=m},51900:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a){var r=a.baseTileHeight,n=a.tilemapLayer;return n&&(m||(m=n.scene.cameras.main),t=t-(n.y+m.scrollY*(1-n.scrollFactorY)),r*=n.scaleY),o?Math.floor(t/(r/2)):t/(r/2)};v.exports=S},86560:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),m=function(a,r,n,e,s,h,i){for(var l=o(n,e,s,h,null,i),u=0;u<l.length;u++)l[u]&&(l[u].index===a?l[u].index=r:l[u].index===r&&(l[u].index=a))};v.exports=m},97281:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){var a=m.baseTileWidth,r=m.tilemapLayer,n=0;return r&&(o||(o=r.scene.cameras.main),n=r.x+o.scrollX*(1-r.scrollFactorX),a*=r.scaleX),n+t*a};v.exports=S},70326:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(97281),m=t(29650),a=t(26099),r=function(n,e,s,h,i){return s||(s=new a(0,0)),s.x=o(n,h,i),s.y=m(e,h,i),s};v.exports=r},29650:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){var a=m.baseTileHeight,r=m.tilemapLayer,n=0;return r&&(o||(o=r.scene.cameras.main),n=r.y+o.scrollY*(1-r.scrollFactorY),a*=r.scaleY),n+t*a};v.exports=S},77366:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(7386),m=t(75508),a=function(r,n,e,s,h,i){if(h){var l,u=o(r,n,e,s,null,i),d=0;for(l=0;l<h.length;l++)d+=h[l].weight;if(!(d<=0))for(l=0;l<u.length;l++){for(var f=m.RND.frac()*d,p=0,g=-1,x=0;x<h.length;x++)if(p+=h[x].weight,f<=p){var T=h[x].index;g=Array.isArray(T)?T[Math.floor(m.RND.frac()*T.length)]:T;break}u[l].index=g}}};v.exports=a},10095:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(85896),m=t(26099),a=new m,r=function(n,e,s,h){return o(n,0,e,a,s,h),a.x};v.exports=r},85896:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(26099),m=function(a,r,n,e,s,h){n===void 0&&(n=!0),e||(e=new o);var i=h.baseTileWidth,l=h.baseTileHeight,u=h.tilemapLayer;u&&(s||(s=u.scene.cameras.main),a=a-(u.x+s.scrollX*(1-u.scrollFactorX)),r=r-(u.y+s.scrollY*(1-u.scrollFactorY)),i*=u.scaleX,l*=u.scaleY);var d=a/i,f=r/l;return n&&(d=Math.floor(d),f=Math.floor(f)),e.set(d,f)};v.exports=m},63288:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(85896),m=t(26099),a=new m,r=function(n,e,s,h){return o(0,n,e,a,s,h),a.y};v.exports=r},81086:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CalculateFacesAt:t(72023),CalculateFacesWithin:t(42573),CheckIsoBounds:t(33528),Copy:t(1785),CreateFromTiles:t(78419),CullBounds:t(19545),CullTiles:t(30003),Fill:t(35137),FilterTiles:t(40253),FindByIndex:t(52692),FindTile:t(66151),ForEachTile:t(97560),GetCullTilesFunction:t(43305),GetTileAt:t(7423),GetTileAtWorldXY:t(60540),GetTileCorners:t(55826),GetTileCornersFunction:t(11758),GetTilesWithin:t(7386),GetTilesWithinShape:t(91141),GetTilesWithinWorldXY:t(96523),GetTileToWorldXFunction:t(39167),GetTileToWorldXYFunction:t(62e3),GetTileToWorldYFunction:t(5984),GetWorldToTileXFunction:t(96113),GetWorldToTileXYFunction:t(16926),GetWorldToTileYFunction:t(55762),HasTileAt:t(45091),HasTileAtWorldXY:t(24152),HexagonalCullBounds:t(90454),HexagonalCullTiles:t(9474),HexagonalGetTileCorners:t(27229),HexagonalTileToWorldXY:t(19951),HexagonalWorldToTileXY:t(86625),IsInLayerBounds:t(62991),IsometricCullTiles:t(14018),IsometricTileToWorldXY:t(14127),IsometricWorldToTileXY:t(96897),PutTileAt:t(71558),PutTileAtWorldXY:t(26303),PutTilesAt:t(14051),Randomize:t(77389),RemoveTileAt:t(63557),RemoveTileAtWorldXY:t(94178),RenderDebug:t(15533),ReplaceByIndex:t(27987),RunCull:t(32483),SetCollision:t(57068),SetCollisionBetween:t(37266),SetCollisionByExclusion:t(75661),SetCollisionByProperty:t(64740),SetCollisionFromCollisionGroup:t(63307),SetLayerCollisionIndex:t(9589),SetTileCollision:t(20576),SetTileIndexCallback:t(79583),SetTileLocationCallback:t(93254),Shuffle:t(32903),StaggeredCullBounds:t(61325),StaggeredCullTiles:t(54503),StaggeredTileToWorldXY:t(97202),StaggeredTileToWorldY:t(28054),StaggeredWorldToTileXY:t(15108),StaggeredWorldToTileY:t(51900),SwapByIndex:t(86560),TileToWorldX:t(97281),TileToWorldXY:t(70326),TileToWorldY:t(29650),WeightedRandomize:t(77366),WorldToTileX:t(10095),WorldToTileXY:t(85896),WorldToTileY:t(63288)}},91907:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={ORIENTATION:t(91907)};v.exports=o},62501:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(79291),m=t(21829),a={Components:t(81086),Parsers:t(57442),Formats:t(80341),ImageCollection:t(16536),ParseToTilemap:t(31989),Tile:t(23029),Tilemap:t(49075),TilemapCreator:t(45939),TilemapFactory:t(46029),Tileset:t(33629),TilemapLayer:t(20442),Orientation:t(91907),LayerData:t(14977),MapData:t(87010),ObjectLayer:t(48700)};a=o(!1,a,m.ORIENTATION),v.exports=a},14977:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(91907),a=t(95540),r=new o({initialize:function(e){e===void 0&&(e={}),this.name=a(e,"name","layer"),this.id=a(e,"id",0),this.x=a(e,"x",0),this.y=a(e,"y",0),this.width=a(e,"width",0),this.height=a(e,"height",0),this.tileWidth=a(e,"tileWidth",0),this.tileHeight=a(e,"tileHeight",0),this.baseTileWidth=a(e,"baseTileWidth",this.tileWidth),this.baseTileHeight=a(e,"baseTileHeight",this.tileHeight),this.orientation=a(e,"orientation",m.ORTHOGONAL),this.widthInPixels=a(e,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=a(e,"heightInPixels",this.height*this.baseTileHeight),this.alpha=a(e,"alpha",1),this.visible=a(e,"visible",!0),this.properties=a(e,"properties",[]),this.indexes=a(e,"indexes",[]),this.collideIndexes=a(e,"collideIndexes",[]),this.callbacks=a(e,"callbacks",[]),this.bodies=a(e,"bodies",[]),this.data=a(e,"data",[]),this.tilemapLayer=a(e,"tilemapLayer",null),this.hexSideLength=a(e,"hexSideLength",0),this.staggerAxis=a(e,"staggerAxis","y"),this.staggerIndex=a(e,"staggerIndex","odd")}});v.exports=r},87010:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(91907),a=t(95540),r=new o({initialize:function(e){e===void 0&&(e={}),this.name=a(e,"name","map"),this.width=a(e,"width",0),this.height=a(e,"height",0),this.infinite=a(e,"infinite",!1),this.tileWidth=a(e,"tileWidth",0),this.tileHeight=a(e,"tileHeight",0),this.widthInPixels=a(e,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=a(e,"heightInPixels",this.height*this.tileHeight),this.format=a(e,"format",null),this.orientation=a(e,"orientation",m.ORTHOGONAL),this.renderOrder=a(e,"renderOrder","right-down"),this.version=a(e,"version","1"),this.properties=a(e,"properties",{}),this.layers=a(e,"layers",[]),this.images=a(e,"images",[]),this.objects=a(e,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=a(e,"collision",{}),this.tilesets=a(e,"tilesets",[]),this.imageCollections=a(e,"imageCollections",[]),this.tiles=a(e,"tiles",[]),this.hexSideLength=a(e,"hexSideLength",0),this.staggerAxis=a(e,"staggerAxis","y"),this.staggerIndex=a(e,"staggerIndex","odd")}});v.exports=r},48700:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(95540),a=new o({initialize:function(n){n===void 0&&(n={}),this.name=m(n,"name","object layer"),this.id=m(n,"id",0),this.opacity=m(n,"opacity",1),this.properties=m(n,"properties",{}),this.propertyTypes=m(n,"propertytypes",{}),this.type=m(n,"type","objectgroup"),this.visible=m(n,"visible",!0),this.objects=m(n,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});v.exports=a},6641:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(91907),m=function(a){return a=a.toLowerCase(),a==="isometric"?o.ISOMETRIC:a==="staggered"?o.STAGGERED:a==="hexagonal"?o.HEXAGONAL:o.ORTHOGONAL};v.exports=m},46177:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(80341),m=t(2342),a=t(82593),r=t(46594),n=t(87021),e=function(s,h,i,l,u,d){var f;switch(h){case o.ARRAY_2D:f=m(s,i,l,u,d);break;case o.CSV:f=a(s,i,l,u,d);break;case o.TILED_JSON:f=r(s,i,d);break;case o.WELTMEISTER:f=n(s,i,d);break;default:console.warn("Unrecognized tilemap data format: "+h),f=null}return f};v.exports=e},2342:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(80341),m=t(14977),a=t(87010),r=t(23029),n=function(e,s,h,i,l){for(var u=new m({tileWidth:h,tileHeight:i}),d=new a({name:e,tileWidth:h,tileHeight:i,format:o.ARRAY_2D,layers:[u]}),f=[],p=s.length,g=0,x=0;x<s.length;x++){f[x]=[];for(var T=s[x],E=0;E<T.length;E++){var C=parseInt(T[E],10);isNaN(C)||C===-1?f[x][E]=l?null:new r(u,-1,E,x,h,i):f[x][E]=new r(u,C,E,x,h,i)}g===0&&(g=T.length)}return d.width=u.width=g,d.height=u.height=p,d.widthInPixels=u.widthInPixels=g*h,d.heightInPixels=u.heightInPixels=p*i,u.data=f,d};v.exports=n},82593:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(80341),m=t(2342),a=function(r,n,e,s,h){var i=n.trim().split(`
`).map(function(u){return u.split(",")}),l=m(r,i,e,s,h);return l.format=o.CSV,l};v.exports=a},6656:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(14977),m=t(23029),a=function(r,n){for(var e=[],s=0;s<r.layer.length;s++){for(var h=r.layer[s],i=new o({name:h.name,width:h.width,height:h.height,tileWidth:h.tilesize,tileHeight:h.tilesize,visible:h.visible===1}),l=[],u=[],d=0;d<h.data.length;d++){for(var f=0;f<h.data[d].length;f++){var p=h.data[d][f]-1,g;p>-1?g=new m(i,p,f,d,h.tilesize,h.tilesize):g=n?null:new m(i,-1,f,d,h.tilesize,h.tilesize),l.push(g)}u.push(l),l=[]}i.data=u,e.push(i)}return e};v.exports=a},96483:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(33629),m=function(a){for(var r=[],n=[],e=0;e<a.layer.length;e++){var s=a.layer[e],h=s.tilesetName;h!==""&&n.indexOf(h)===-1&&(n.push(h),r.push(new o(h,0,s.tilesize,s.tilesize,0,0)))}return r};v.exports=m},87021:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(80341),m=t(87010),a=t(6656),r=t(96483),n=function(e,s,h){if(s.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+e),null;for(var i=0,l=0,u=0;u<s.layer.length;u++)s.layer[u].width>i&&(i=s.layer[u].width),s.layer[u].height>l&&(l=s.layer[u].height);var d=new m({width:i,height:l,name:e,tileWidth:s.layer[0].tilesize,tileHeight:s.layer[0].tilesize,format:o.WELTMEISTER});return d.layers=a(s,h),d.tilesets=r(s),d};v.exports=n},52833:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ParseTileLayers:t(6656),ParseTilesets:t(96483),ParseWeltmeister:t(87021)}},57442:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={FromOrientationString:t(6641),Parse:t(46177),Parse2DArray:t(2342),ParseCSV:t(82593),Impact:t(52833),Tiled:t(96761)}},51233:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(79291),m=function(a){for(var r,n,e,s,h,i=0;i<a.layers.length;i++){r=a.layers[i],s=null;for(var l=0;l<r.data.length;l++){h=r.data[l];for(var u=0;u<h.length;u++)n=h[u],!(n===null||n.index<0)&&(e=a.tiles[n.index][2],s=a.tilesets[e],n.width=s.tileWidth,n.height=s.tileHeight,s.tileProperties&&s.tileProperties[n.index-s.firstgid]&&(n.properties=o(n.properties,s.tileProperties[n.index-s.firstgid])))}}};v.exports=m},41868:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var o=window.atob(t),m=o.length,a=new Array(m/4),r=0;r<m;r+=4)a[r/4]=(o.charCodeAt(r)|o.charCodeAt(r+1)<<8|o.charCodeAt(r+2)<<16|o.charCodeAt(r+3)<<24)>>>0;return a};v.exports=S},84101:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(33629),m=function(a){var r,n,e=[];for(r=0;r<a.imageCollections.length;r++)for(var s=a.imageCollections[r],h=s.images,i=0;i<h.length;i++){var l=h[i],u={x:0,y:l.height-a.tileHeight};n=new o(l.image,l.gid,l.width,l.height,0,0,null,null,u),n.updateTileData(l.width,l.height),a.tilesets.push(n)}for(r=0;r<a.tilesets.length;r++){n=a.tilesets[r];for(var d=n.tileMargin,f=n.tileMargin,p=0,g=0,x=0,T=n.firstgid;T<n.firstgid+n.total&&(e[T]=[d,f,r],d+=n.tileWidth+n.tileSpacing,p++,!(p===n.total||(g++,g===n.columns&&(d=n.tileMargin,f+=n.tileHeight+n.tileSpacing,g=0,x++,x===n.rows))));T++);}return e};v.exports=m},79677:(v,S,t)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),m=function(a,r,n){if(!r)return{i:0,layers:a.layers,name:"",opacity:1,visible:!0,x:0,y:0};var e=r.x+o(r,"startx",0)*a.tilewidth+o(r,"offsetx",0),s=r.y+o(r,"starty",0)*a.tileheight+o(r,"offsety",0);return{i:0,layers:r.layers,name:n.name+r.name+"/",opacity:n.opacity*r.opacity,visible:n.visible&&r.visible,x:n.x+e,y:n.y+s}};v.exports=m},29920:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=2147483648,t=1073741824,o=536870912,m=function(a){var r=!!(a&S),n=!!(a&t),e=!!(a&o);a=a&536870911;var s=0,h=!1;return r&&n&&e?(s=Math.PI/2,h=!0):r&&n&&!e?(s=Math.PI,h=!1):r&&!n&&e?(s=Math.PI/2,h=!1):r&&!n&&!e?(s=0,h=!0):!r&&n&&e?(s=3*Math.PI/2,h=!1):!r&&n&&!e?(s=Math.PI,h=!0):!r&&!n&&e?(s=3*Math.PI/2,h=!0):!r&&!n&&!e&&(s=0,h=!1),{gid:a,flippedHorizontal:r,flippedVertical:n,flippedAntiDiagonal:e,rotation:s,flipped:h}};v.exports=m},12635:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),m=t(79677),a=function(r){for(var n=[],e=[],s=m(r);s.i<s.layers.length||e.length>0;){if(s.i>=s.layers.length){if(e.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}s=e.pop();continue}var h=s.layers[s.i];if(s.i++,h.type!=="imagelayer"){if(h.type==="group"){var i=m(r,h,s);e.push(s),s=i}continue}var l=o(h,"offsetx",0)+o(h,"startx",0),u=o(h,"offsety",0)+o(h,"starty",0);n.push({name:s.name+h.name,image:h.image,x:s.x+l+h.x,y:s.y+u+h.y,alpha:s.opacity*h.opacity,visible:s.visible&&h.visible,properties:o(h,"properties",{})})}return n};v.exports=a},46594:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(51233),m=t(84101),a=t(91907),r=t(62644),n=t(80341),e=t(6641),s=t(87010),h=t(12635),i=t(22611),l=t(28200),u=t(24619),d=function(f,p,g){var x=r(p),T=new s({width:x.width,height:x.height,name:f,tileWidth:x.tilewidth,tileHeight:x.tileheight,orientation:e(x.orientation),format:n.TILED_JSON,version:x.version,properties:x.properties,renderOrder:x.renderorder,infinite:x.infinite});if(T.orientation===a.HEXAGONAL)if(T.hexSideLength=x.hexsidelength,T.staggerAxis=x.staggeraxis,T.staggerIndex=x.staggerindex,T.staggerAxis==="y"){var E=(T.tileHeight-T.hexSideLength)/2;T.widthInPixels=T.tileWidth*(T.width+.5),T.heightInPixels=T.height*(T.hexSideLength+E)+E}else{var C=(T.tileWidth-T.hexSideLength)/2;T.widthInPixels=T.width*(T.hexSideLength+C)+C,T.heightInPixels=T.tileHeight*(T.height+.5)}T.layers=l(x,g),T.images=h(x);var R=u(x);return T.tilesets=R.tilesets,T.imageCollections=R.imageCollections,T.objects=i(x),T.tiles=m(T),o(T),T};v.exports=d},52205:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(18254),m=t(29920),a=function(e){return{x:e.x,y:e.y}},r=["id","name","type","rotation","properties","visible","x","y","width","height"],n=function(e,s,h){s===void 0&&(s=0),h===void 0&&(h=0);var i=o(e,r);if(i.x+=s,i.y+=h,e.gid){var l=m(e.gid);i.gid=l.gid,i.flippedHorizontal=l.flippedHorizontal,i.flippedVertical=l.flippedVertical,i.flippedAntiDiagonal=l.flippedAntiDiagonal}else e.polyline?i.polyline=e.polyline.map(a):e.polygon?i.polygon=e.polygon.map(a):e.ellipse?i.ellipse=e.ellipse:e.text?i.text=e.text:e.point?i.point=!0:i.rectangle=!0;return i};v.exports=n},22611:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95540),m=t(52205),a=t(48700),r=t(79677),n=function(e){for(var s=[],h=[],i=r(e);i.i<i.layers.length||h.length>0;){if(i.i>=i.layers.length){if(h.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}i=h.pop();continue}var l=i.layers[i.i];if(i.i++,l.opacity*=i.opacity,l.visible=i.visible&&l.visible,l.type!=="objectgroup"){if(l.type==="group"){var u=r(e,l,i);h.push(i),i=u}continue}l.name=i.name+l.name;for(var d=i.x+o(l,"startx",0)+o(l,"offsetx",0),f=i.y+o(l,"starty",0)+o(l,"offsety",0),p=[],g=0;g<l.objects.length;g++){var x=m(l.objects[g],d,f);p.push(x)}var T=new a(l);T.objects=p,s.push(T)}return s};v.exports=n},28200:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(41868),m=t(91907),a=t(79677),r=t(6641),n=t(95540),e=t(14977),s=t(29920),h=t(23029),i=function(l,u){for(var d=n(l,"infinite",!1),f=[],p=[],g=a(l);g.i<g.layers.length||p.length>0;){if(g.i>=g.layers.length){if(p.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}g=p.pop();continue}var x=g.layers[g.i];if(g.i++,x.type!=="tilelayer"){if(x.type==="group"){var T=a(l,x,g);p.push(g),g=T}continue}if(x.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+x.name+"'");continue}else if(x.encoding&&x.encoding==="base64"){if(x.chunks)for(var E=0;E<x.chunks.length;E++)x.chunks[E].data=o(x.chunks[E].data);x.data&&(x.data=o(x.data)),delete x.encoding}var C,R,w,F,I,L,D=[],B=0;if(d){var U=n(x,"startx",0)+x.x,W=n(x,"starty",0)+x.y;C=new e({name:g.name+x.name,id:x.id,x:g.x+n(x,"offsetx",0)+U*l.tilewidth,y:g.y+n(x,"offsety",0)+W*l.tileheight,width:x.width,height:x.height,tileWidth:l.tilewidth,tileHeight:l.tileheight,alpha:g.opacity*x.opacity,visible:g.visible&&x.visible,properties:n(x,"properties",[]),orientation:r(l.orientation)}),C.orientation===m.HEXAGONAL&&(C.hexSideLength=l.hexsidelength,C.staggerAxis=l.staggeraxis,C.staggerIndex=l.staggerindex,C.staggerAxis==="y"?(I=(C.tileHeight-C.hexSideLength)/2,C.widthInPixels=C.tileWidth*(C.width+.5),C.heightInPixels=C.height*(C.hexSideLength+I)+I):(L=(C.tileWidth-C.hexSideLength)/2,C.widthInPixels=C.width*(C.hexSideLength+L)+L,C.heightInPixels=C.tileHeight*(C.height+.5)));for(var K=0;K<x.height;K++){D[K]=[null];for(var Y=0;Y<x.width;Y++)D[K][Y]=null}for(K=0,_=x.chunks.length;K<_;K++)for(var G=x.chunks[K],X=G.x-U,V=G.y-W,b=0,z=0,k=G.data.length;z<k;z++){var $=B+X,J=b+V;R=s(G.data[z]),R.gid>0?(w=new h(C,R.gid,$,J,l.tilewidth,l.tileheight),w.rotation=R.rotation,w.flipX=R.flipped,D[J][$]=w):(F=u?null:new h(C,-1,$,J,l.tilewidth,l.tileheight),D[J][$]=F),B++,B===G.width&&(b++,B=0)}}else{C=new e({name:g.name+x.name,id:x.id,x:g.x+n(x,"offsetx",0)+x.x,y:g.y+n(x,"offsety",0)+x.y,width:x.width,height:x.height,tileWidth:l.tilewidth,tileHeight:l.tileheight,alpha:g.opacity*x.opacity,visible:g.visible&&x.visible,properties:n(x,"properties",[]),orientation:r(l.orientation)}),C.orientation===m.HEXAGONAL&&(C.hexSideLength=l.hexsidelength,C.staggerAxis=l.staggeraxis,C.staggerIndex=l.staggerindex,C.staggerAxis==="y"?(I=(C.tileHeight-C.hexSideLength)/2,C.widthInPixels=C.tileWidth*(C.width+.5),C.heightInPixels=C.height*(C.hexSideLength+I)+I):(L=(C.tileWidth-C.hexSideLength)/2,C.widthInPixels=C.width*(C.hexSideLength+L)+L,C.heightInPixels=C.tileHeight*(C.height+.5)));for(var j=[],q=0,_=x.data.length;q<_;q++)R=s(x.data[q]),R.gid>0?(w=new h(C,R.gid,B,D.length,l.tilewidth,l.tileheight),w.rotation=R.rotation,w.flipX=R.flipped,j.push(w)):(F=u?null:new h(C,-1,B,D.length,l.tilewidth,l.tileheight),j.push(F)),B++,B===x.width&&(D.push(j),B=0,j=[])}C.data=D,f.push(C)}return f};v.exports=i},24619:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(33629),m=t(16536),a=t(52205),r=t(57880),n=function(e){for(var s=[],h=[],i=null,l,u=0;u<e.tilesets.length;u++){var d=e.tilesets[u];if(d.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(d.image){var f=new o(d.name,d.firstgid,d.tilewidth,d.tileheight,d.margin,d.spacing,void 0,void 0,d.tileoffset);if(e.version>1){var p=void 0,g=void 0;if(Array.isArray(d.tiles)){p=p||{},g=g||{};for(var x=0;x<d.tiles.length;x++){var T=d.tiles[x];if(T.properties){var E={};T.properties.forEach(function(K){E[K.name]=K.value}),g[T.id]=E}if(T.objectgroup&&((p[T.id]||(p[T.id]={})).objectgroup=T.objectgroup,T.objectgroup.objects)){var C=T.objectgroup.objects.map(function(K){return a(K)});p[T.id].objectgroup.objects=C}T.animation&&((p[T.id]||(p[T.id]={})).animation=T.animation),T.type&&((p[T.id]||(p[T.id]={})).type=T.type)}}Array.isArray(d.wangsets)&&(p=p||{},g=g||{},r(d.wangsets,p)),p&&(f.tileData=p,f.tileProperties=g)}else if(d.tileproperties&&(f.tileProperties=d.tileproperties),d.tiles){f.tileData=d.tiles;for(l in f.tileData){var R=f.tileData[l].objectgroup;if(R&&R.objects){var w=R.objects.map(function(K){return a(K)});f.tileData[l].objectgroup.objects=w}}}f.updateTileData(d.imagewidth,d.imageheight),s.push(f)}else{var F=new m(d.name,d.firstgid,d.tilewidth,d.tileheight,d.margin,d.spacing,d.properties),I=0;for(x=0;x<d.tiles.length;x++){T=d.tiles[x];var L=T.image,D=parseInt(T.id,10),B=d.firstgid+D,U=T.imagewidth,W=T.imageheight;F.addImage(B,L,U,W),I=Math.max(D,I)}F.maxId=I,h.push(F)}i&&(i.lastgid=d.firstgid-1),i=d}return{tilesets:s,imageCollections:h}};v.exports=n},57880:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){for(var m=0;m<t.length;m++){var a=t[m],r=m;if(a.name&&a.name!==""&&(r=a.name),Array.isArray(a.wangtiles)&&a.wangtiles.length>0){var n={},e={},s,h,i;if(Array.isArray(a.edgecolors))for(s=0;s<a.edgecolors.length;s++)i=1+s,h=a.edgecolors[s],h.name!==""&&(n[i]=h.name);if(Array.isArray(a.cornercolors))for(s=0;s<a.cornercolors.length;s++)i=1+s,h=a.cornercolors[s],h.name!==""&&(e[i]=h.name);if(Array.isArray(a.colors))for(s=0;s<a.colors.length;s++)h=a.colors[s],i=1+s,h.name!==""&&(n[i]=e[i]=h.name);for(var l=[n,e,n,e,n,e,n,e],u=0;u<a.wangtiles.length;u++){var d=a.wangtiles[u],f=o[d.tileid]||(o[d.tileid]={});f=f.wangid||(f.wangid={});for(var p=[],g=0;g<Math.min(l.length,d.wangid.length);g++){if(h=d.wangid[g],h===0){p.push(void 0);continue}var x=l[g][h];if(x!==void 0){p.push(x);continue}p.push(h)}f[r]=p}}}};v.exports=S},96761:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={AssignTileProperties:t(51233),Base64Decode:t(41868),BuildTilesetIndex:t(84101),CreateGroupLayer:t(79677),ParseGID:t(29920),ParseImageLayers:t(12635),ParseJSONTiled:t(46594),ParseObject:t(52205),ParseObjectLayers:t(22611),ParseTileLayers:t(28200),ParseTilesets:t(24619)}},33385:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(37277),a=t(44594),r=t(94880),n=t(72905),e=new o({initialize:function(h){this.scene=h,this.systems=h.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],h.sys.events.once(a.BOOT,this.boot,this),h.sys.events.on(a.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(a.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var s=this.systems.events;s.on(a.PRE_UPDATE,this.preUpdate,this),s.on(a.UPDATE,this.update,this),s.once(a.SHUTDOWN,this.shutdown,this)},addEvent:function(s){var h;if(s instanceof r){if(h=s,this.removeEvent(h),h.elapsed=h.startAt,h.hasDispatched=!1,h.repeatCount=h.repeat===-1||h.loop?999999999999:h.repeat,h.delay<=0&&h.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay")}else h=new r(s);return this._pendingInsertion.push(h),h},delayedCall:function(s,h,i,l){return this.addEvent({delay:s,callback:h,args:i,callbackScope:l})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(s){Array.isArray(s)||(s=[s]);for(var h=0;h<s.length;h++){var i=s[h];n(this._pendingRemoval,i),n(this._pendingInsertion,i),n(this._active,i)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var s=this._pendingRemoval.length,h=this._pendingInsertion.length;if(!(s===0&&h===0)){var i,l;for(i=0;i<s;i++){l=this._pendingRemoval[i];var u=this._active.indexOf(l);u>-1&&this._active.splice(u,1),l.destroy()}for(i=0;i<h;i++)l=this._pendingInsertion[i],this._active.push(l);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(s,h){if(this.now=s,!this.paused){h*=this.timeScale;for(var i=0;i<this._active.length;i++){var l=this._active[i];if(!l.paused&&(l.elapsed+=h*l.timeScale,l.elapsed>=l.delay)){var u=l.elapsed-l.delay;if(l.elapsed=l.delay,!l.hasDispatched&&l.callback&&(l.hasDispatched=!0,l.callback.apply(l.callbackScope,l.args)),l.repeatCount>0){if(l.repeatCount--,u>=l.delay)for(;u>=l.delay&&l.repeatCount>0;)l.callback&&l.callback.apply(l.callbackScope,l.args),u-=l.delay,l.repeatCount--;l.elapsed=u,l.hasDispatched=!1}else l.hasDispatched&&this._pendingRemoval.push(l)}}}},shutdown:function(){var s;for(s=0;s<this._pendingInsertion.length;s++)this._pendingInsertion[s].destroy();for(s=0;s<this._active.length;s++)this._active[s].destroy();for(s=0;s<this._pendingRemoval.length;s++)this._pendingRemoval[s].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var h=this.systems.events;h.off(a.PRE_UPDATE,this.preUpdate,this),h.off(a.UPDATE,this.update,this),h.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});m.register("Clock",e,"time"),v.exports=e},96120:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(50792),a=t(39429),r=t(95540),n=t(44594),e=t(89809),s=new o({Extends:m,initialize:function(i,l){m.call(this),this.scene=i,this.systems=i.sys,this.elapsed=0,this.timeScale=1,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var u=this.systems.events;u.on(n.PRE_UPDATE,this.preUpdate,this),u.on(n.UPDATE,this.update,this),u.once(n.SHUTDOWN,this.destroy,this),l&&this.add(l)},preUpdate:function(h,i){this.paused||(this.elapsed+=i*this.timeScale)},update:function(){if(!(this.paused||this.complete)){var h,i=this.events,l=!1,u=this.systems,d;for(h=0;h<i.length;h++){var f=i[h];if(!f.complete&&f.time<=this.elapsed){if(f.complete=!0,this.totalComplete++,d=f.target?f.target:this,f.if&&!f.if.call(d,f))continue;if(f.once&&(l=!0),f.set&&f.target)for(var p in f.set)f.target[p]=f.set[p];this.iteration&&f.repeat++,f.loop&&f.repeat&&f.loop.call(d),f.tween&&(f.tweenInstance=u.tweens.add(f.tween)),f.sound&&(typeof f.sound=="string"?u.sound.play(f.sound):u.sound.play(f.sound.key,f.sound.config)),f.event&&this.emit(f.event,d),f.run&&f.run.call(d),f.stop&&this.stop()}}if(l)for(h=0;h<i.length;h++)i[h].complete&&i[h].once&&(i.splice(h,1),h--);this.totalComplete>=i.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(e.COMPLETE,this)}},play:function(h){return h===void 0&&(h=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,h&&this.reset(),this},pause:function(){this.paused=!0;for(var h=this.events,i=0;i<h.length;i++){var l=h[i];l.tweenInstance&&(l.tweenInstance.paused=!0)}return this},repeat:function(h){return(h===void 0||h===!0)&&(h=-1),h===!1&&(h=0),this.loop=h,this},resume:function(){this.paused=!1;for(var h=this.events,i=0;i<h.length;i++){var l=h[i];l.tweenInstance&&(l.tweenInstance.paused=!1)}return this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(h){h===void 0&&(h=!1),this.elapsed=0,h||(this.iteration=0);for(var i=this.events,l=0;l<i.length;l++){var u=i[l];u.complete=!1,h||(u.repeat=0),u.tweenInstance&&u.tweenInstance.stop()}return this.play(!1)},add:function(h){Array.isArray(h)||(h=[h]);var i=this.events,l=0;i.length>0&&(l=i[i.length-1].time);for(var u=0;u<h.length;u++){var d=h[u],f=r(d,"at",0),p=r(d,"in",null);p!==null&&(f=this.elapsed+p);var g=r(d,"from",null);g!==null&&(f=l+g),i.push({complete:!1,time:f,repeat:0,if:r(d,"if",null),run:r(d,"run",null),loop:r(d,"loop",null),event:r(d,"event",null),target:r(d,"target",null),set:r(d,"set",null),tween:r(d,"tween",null),sound:r(d,"sound",null),once:r(d,"once",!1),stop:r(d,"stop",!1)}),l=f}return this.complete=!1,this},clear:function(){for(var h=this.events,i=0;i<h.length;i++){var l=h[i];l.tweenInstance&&l.tweenInstance.stop()}return h=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var h=Math.min(this.totalComplete,this.events.length);return h/this.events.length},destroy:function(){var h=this.systems.events;h.off(n.PRE_UPDATE,this.preUpdate,this),h.off(n.UPDATE,this.update,this),h.off(n.SHUTDOWN,this.destroy,this),this.clear(),this.scene=null,this.systems=null}});a.register("timeline",function(h){return new s(this.scene,h)}),v.exports=s},94880:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(95540),a=new o({initialize:function(n){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(n)},reset:function(r){if(this.delay=m(r,"delay",0),this.repeat=m(r,"repeat",0),this.loop=m(r,"loop",!1),this.callback=m(r,"callback",void 0),this.callbackScope=m(r,"callbackScope",this),this.args=m(r,"args",[]),this.timeScale=m(r,"timeScale",1),this.startAt=m(r,"startAt",0),this.paused=m(r,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay<=0&&this.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var r=this.delay+this.delay*this.repeat,n=this.elapsed+this.delay*(this.repeat-this.repeatCount);return n/r}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(r){r===void 0&&(r=!1),this.elapsed=this.delay,this.hasDispatched=!r,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});v.exports=a},35945:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="complete"},89809:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={COMPLETE:t(35945)}},90291:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Clock:t(33385),Events:t(89809),Timeline:t(96120),TimerEvent:t(94880)}},40382:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(72905),m=t(83419),a=t(43491),r=t(88032),n=t(37277),e=t(44594),s=t(93109),h=t(86081),i=t(8357),l=t(43960),u=t(26012),d=new m({initialize:function(p){this.scene=p,this.events=p.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(e.BOOT,this.boot,this),this.events.on(e.START,this.start,this)},boot:function(){this.events.once(e.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(e.UPDATE,this.update,this),this.events.once(e.SHUTDOWN,this.shutdown,this)},create:function(f){Array.isArray(f)||(f=[f]);for(var p=[],g=0;g<f.length;g++){var x=f[g];x instanceof h||x instanceof l?p.push(x):Array.isArray(x.tweens)?p.push(u(this,x)):p.push(i(this,x))}return p.length===1?p[0]:p},add:function(f){var p=f,g=this.tweens;return p instanceof h||p instanceof l||(Array.isArray(p.tweens)?p=u(this,p):p=i(this,p)),g.push(p.reset()),p},addMultiple:function(f){for(var p,g=[],x=this.tweens,T=0;T<f.length;T++)p=f[T],p instanceof h||p instanceof l||(Array.isArray(p.tweens)?p=u(this,p):p=i(this,p)),x.push(p.reset()),g.push(p);return g},chain:function(f){var p=u(this,f);return this.tweens.push(p.init()),p},getChainedTweens:function(f){return f.getChainedTweens()},has:function(f){return this.tweens.indexOf(f)>-1},existing:function(f){return this.has(f)||this.tweens.push(f.reset()),this},addCounter:function(f){var p=r(this,f);return this.tweens.push(p.reset()),p},stagger:function(f,p){return s(f,p)},setLagSmooth:function(f,p){return f===void 0&&(f=1/1e-8),p===void 0&&(p=0),this.maxLag=f,this.lagSkip=Math.min(p,this.maxLag),this},setFps:function(f){return f===void 0&&(f=240),this.gap=1e3/f,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(f){var p=Date.now()-this.prevTime;p>this.maxLag&&(this.startTime+=p-this.lagSkip),this.prevTime+=p;var g=this.prevTime-this.startTime,x=g-this.nextTime,T=g-this.time*1e3;return x>0||f?(g/=1e3,this.time=g,this.nextTime+=x+(x>=this.gap?4:this.gap-x)):T=0,T},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(f){f===void 0&&(f=!1);var p=this.getDelta(f);if(!(p<=0)){this.processing=!0;var g,x,T=[],E=this.tweens;for(g=0;g<E.length;g++)x=E[g],x.update(p)&&T.push(x);var C=T.length;if(C&&E.length>0){for(g=0;g<C;g++){x=T[g];var R=E.indexOf(x);R>-1&&(x.isPendingRemove()||x.isDestroyed())&&(E.splice(R,1),x.destroy())}T.length=0}this.processing=!1}},remove:function(f){return this.processing?f.setPendingRemoveState():(o(this.tweens,f),f.setRemovedState()),this},reset:function(f){return this.existing(f),f.seek(),f.setActiveState(),this},makeActive:function(f){return this.existing(f),f.setActiveState(),this},each:function(f,p){var g,x=[null];for(g=1;g<arguments.length;g++)x.push(arguments[g]);return this.tweens.forEach(function(T){x[0]=T,f.apply(p,x)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(f){var p=[],g=this.tweens;Array.isArray(f)?f=a(f):f=[f];for(var x=f.length,T=0;T<g.length;T++)for(var E=g[T],C=0;C<x;C++)!E.isDestroyed()&&E.hasTarget(f[C])&&p.push(E);return p},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(f){return this.timeScale=f,this},isTweening:function(f){for(var p=this.tweens,g,x=0;x<p.length;x++)if(g=p[x],g.isPlaying()&&g.hasTarget(f))return!0;return!1},killAll:function(){for(var f=this.processing?this.getTweens():this.tweens,p=0;p<f.length;p++)f[p].destroy();return this.processing||(f.length=0),this},killTweensOf:function(f){for(var p=this.getTweensOf(f),g=0;g<p.length;g++)p[g].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(e.UPDATE,this.update,this),this.events.off(e.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(e.START,this.start,this),this.scene=null,this.events=null}});n.register("TweenManager",d,"tweens"),v.exports=d},57355:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){return t&&t.hasOwnProperty(o)?t[o]:m};v.exports=S},6113:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(62640),m=t(35355),a=function(r,n){var e=o.Power0;if(typeof r=="string")if(o.hasOwnProperty(r))e=o[r];else{var s="";if(r.indexOf(".")){s=r.substring(r.indexOf(".")+1);var h=s.toLowerCase();h==="in"?s="easeIn":h==="out"?s="easeOut":h==="inout"&&(s="easeInOut")}r=m(r.substring(0,r.indexOf(".")+1)+s),o.hasOwnProperty(r)&&(e=o[r])}else typeof r=="function"&&(e=r);if(!n)return e;var i=n.slice(0);return i.unshift(0),function(l){return i[0]=l,e.apply(this,i)}};v.exports=a},91389:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(89318),m=t(77259),a=t(28392),r={bezier:o,catmull:m,catmullrom:m,linear:a},n=function(e){if(e===null)return null;var s=r.linear;return typeof e=="string"?r.hasOwnProperty(e)&&(s=r[e]):typeof e=="function"&&(s=e),s};v.exports=n},55292:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){var a;if(t.hasOwnProperty(o)){var r=typeof t[o];r==="function"?a=function(n,e,s,h,i,l){return t[o](n,e,s,h,i,l)}:a=function(){return t[o]}}else typeof m=="function"?a=m:a=function(){return m};return a};v.exports=S},82985:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(81076),m=function(a){var r,n=[];if(a.hasOwnProperty("props"))for(r in a.props)r.substring(0,1)!=="_"&&n.push({key:r,value:a.props[r]});else for(r in a)o.indexOf(r)===-1&&r.substring(0,1)!=="_"&&n.push({key:r,value:a[r]});return n};v.exports=m},62329:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35154),m=function(a){var r=o(a,"targets",null);return r===null||(typeof r=="function"&&(r=r.call()),Array.isArray(r)||(r=[r])),r};v.exports=m},17777:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(30976),m=t(99472);function a(h){return!!h.getActive&&typeof h.getActive=="function"}function r(h){return!!h.getStart&&typeof h.getStart=="function"}function n(h){return!!h.getEnd&&typeof h.getEnd=="function"}function e(h){return r(h)||n(h)||a(h)}var s=function(h,i){var l,u=function(K,Y,G){return G},d=function(K,Y,G){return G},f=null,p=typeof i;if(p==="number")u=function(){return i};else if(Array.isArray(i))d=function(){return i[0]},u=function(){return i[i.length-1]};else if(p==="string"){var g=i.toLowerCase(),x=g.substring(0,6)==="random",T=g.substring(0,3)==="int";if(x||T){var E=g.indexOf("("),C=g.indexOf(")"),R=g.indexOf(",");if(E&&C&&R){var w=parseFloat(g.substring(E+1,R)),F=parseFloat(g.substring(R+1,C));x?u=function(){return m(w,F)}:u=function(){return o(w,F)}}else throw new Error("invalid random() format")}else{g=g[0];var I=parseFloat(i.substr(2));switch(g){case"+":u=function(K,Y,G){return G+I};break;case"-":u=function(K,Y,G){return G-I};break;case"*":u=function(K,Y,G){return G*I};break;case"/":u=function(K,Y,G){return G/I};break;default:u=function(){return parseFloat(i)}}}}else if(p==="function")u=i;else if(p==="object")if(e(i))a(i)&&(f=i.getActive),n(i)&&(u=i.getEnd),r(i)&&(d=i.getStart);else if(i.hasOwnProperty("value"))l=s(h,i.value);else{var L=i.hasOwnProperty("to"),D=i.hasOwnProperty("from"),B=i.hasOwnProperty("start");if(L&&(D||B)){if(l=s(h,i.to),B){var U=s(h,i.start);l.getActive=U.getEnd}if(D){var W=s(h,i.from);l.getStart=W.getEnd}}}return l||(l={getActive:f,getEnd:u,getStart:d}),l};v.exports=s},88032:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70402),m=t(69902),a=t(23568),r=t(57355),n=t(6113),e=t(95540),s=t(55292),h=t(35154),i=t(17777),l=t(269),u=t(86081),d=function(f,p,g){if(p instanceof u)return p.parent=f,p;g===void 0?g=m:g=l(m,g);var x=e(p,"from",0),T=e(p,"to",1),E=[{value:x}],C=e(p,"delay",g.delay),R=e(p,"easeParams",g.easeParams),w=e(p,"ease",g.ease),F=i("value",T),I=new u(f,E),L=I.add(0,"value",F.getEnd,F.getStart,F.getActive,n(e(p,"ease",w),e(p,"easeParams",R)),s(p,"delay",C),e(p,"duration",g.duration),r(p,"yoyo",g.yoyo),e(p,"hold",g.hold),e(p,"repeat",g.repeat),e(p,"repeatDelay",g.repeatDelay),!1,!1);L.start=x,L.current=x,I.completeDelay=a(p,"completeDelay",0),I.loop=Math.round(a(p,"loop",0)),I.loopDelay=Math.round(a(p,"loopDelay",0)),I.paused=r(p,"paused",!1),I.persist=r(p,"persist",!1),I.isNumberTween=!0,I.callbackScope=h(p,"callbackScope",I);for(var D=o.TYPES,B=0;B<D.length;B++){var U=D[B],W=h(p,U,!1);if(W){var K=h(p,U+"Params",[]);I.setCallback(U,W,K)}}return I};v.exports=d},93109:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(6113),m=t(35154),a=t(36383),r=function(n,e){e===void 0&&(e={});var s,h=m(e,"start",0),i=m(e,"ease",null),l=m(e,"grid",null),u=m(e,"from",0),d=u==="first",f=u==="center",p=u==="last",g=typeof u=="number",x=Array.isArray(n),T=parseFloat(x?n[0]:n),E=x?parseFloat(n[1]):0,C=Math.max(T,E);if(x&&(h+=T),l){var R=l[0],w=l[1],F=0,I=0,L=0,D=0,B=[];p?(F=R-1,I=w-1):g?(F=u%R,I=Math.floor(u/R)):f&&(F=(R-1)/2,I=(w-1)/2);for(var U=a.MIN_SAFE_INTEGER,W=0;W<w;W++){B[W]=[];for(var K=0;K<R;K++){L=F-K,D=I-W;var Y=Math.sqrt(L*L+D*D);Y>U&&(U=Y),B[W][K]=Y}}}var G=i?o(i):null;return l?s=function(X,V,b,z){var k=0,$=z%R,J=Math.floor(z/R);$>=0&&$<R&&J>=0&&J<w&&(k=B[J][$]);var j;if(x){var q=E-T;G?j=k/U*q*G(k/U):j=k/U*q}else G?j=k*T*G(k/U):j=k*T;return j+h}:s=function(X,V,b,z,k){k--;var $;d?$=z:f?$=Math.abs(k/2-z):p?$=k-z:g&&($=Math.abs(u-z));var J;if(x){var j;f?j=(E-T)/k*($*2):j=(E-T)/k*$,G?J=j*G($/k):J=j}else G?J=k*C*G($/k):J=$*T;return J+h},s};v.exports=r},8357:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70402),m=t(69902),a=t(23568),r=t(57355),n=t(6113),e=t(95540),s=t(91389),h=t(55292),i=t(82985),l=t(62329),u=t(35154),d=t(17777),f=t(269),p=t(86081),g=function(x,T,E){if(T instanceof p)return T.parent=x,T;E===void 0?E=m:E=f(m,E);var C=l(T);!C&&E.targets&&(C=E.targets);for(var R=i(T),w=e(T,"delay",E.delay),F=e(T,"duration",E.duration),I=e(T,"easeParams",E.easeParams),L=e(T,"ease",E.ease),D=e(T,"hold",E.hold),B=e(T,"repeat",E.repeat),U=e(T,"repeatDelay",E.repeatDelay),W=r(T,"yoyo",E.yoyo),K=r(T,"flipX",E.flipX),Y=r(T,"flipY",E.flipY),G=e(T,"interpolation",E.interpolation),X=function(et,at,ot,nt){if(ot==="texture"){var vt=nt,pt=void 0;Array.isArray(nt)?(vt=nt[0],pt=nt[1]):nt.hasOwnProperty("value")?(vt=nt.value,Array.isArray(nt.value)?(vt=nt.value[0],pt=nt.value[1]):typeof nt.value=="string"&&(vt=nt.value)):typeof nt=="string"&&(vt=nt),et.addFrame(at,vt,pt,h(nt,"delay",w),e(nt,"duration",F),e(nt,"hold",D),e(nt,"repeat",B),e(nt,"repeatDelay",U),r(nt,"flipX",K),r(nt,"flipY",Y))}else{var gt=d(ot,nt),rt=s(e(nt,"interpolation",G));et.add(at,ot,gt.getEnd,gt.getStart,gt.getActive,n(e(nt,"ease",L),e(nt,"easeParams",I)),h(nt,"delay",w),e(nt,"duration",F),r(nt,"yoyo",W),e(nt,"hold",D),e(nt,"repeat",B),e(nt,"repeatDelay",U),r(nt,"flipX",K),r(nt,"flipY",Y),rt,rt?nt:null)}},V=new p(x,C),b=0;b<R.length;b++)for(var z=R[b].key,k=R[b].value,$=0;$<C.length;$++)z==="scale"&&!C[$].hasOwnProperty("scale")?(X(V,$,"scaleX",k),X(V,$,"scaleY",k)):X(V,$,z,k);V.completeDelay=a(T,"completeDelay",0),V.loop=Math.round(a(T,"loop",0)),V.loopDelay=Math.round(a(T,"loopDelay",0)),V.paused=r(T,"paused",!1),V.persist=r(T,"persist",!1),V.callbackScope=e(T,"callbackScope",V);for(var J=o.TYPES,j=0;j<J.length;j++){var q=J[j],_=u(T,q,!1);if(_){var tt=u(T,q+"Params",[]);V.setCallback(q,_,tt)}}return V};v.exports=g},26012:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70402),m=t(23568),a=t(57355),r=t(62329),n=t(35154),e=t(8357),s=t(43960),h=function(i,l){if(l instanceof s)return l.parent=i,l;var u=new s(i);u.startDelay=n(l,"delay",0),u.completeDelay=m(l,"completeDelay",0),u.loop=Math.round(m(l,"loop",n(l,"repeat",0))),u.loopDelay=Math.round(m(l,"loopDelay",n(l,"repeatDelay",0))),u.paused=a(l,"paused",!1),u.persist=a(l,"persist",!1),u.callbackScope=n(l,"callbackScope",u);var d,f=o.TYPES;for(d=0;d<f.length;d++){var p=f[d],g=n(l,p,!1);if(g){var x=n(l,p+"Params",[]);u.setCallback(p,g,x)}}var T=n(l,"tweens",null);if(Array.isArray(T)){var E=[],C=r(l),R=void 0;for(C&&(R={targets:C}),d=0;d<T.length;d++)E.push(e(u,T[d],R));u.add(E)}return u};v.exports=h},30231:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={GetBoolean:t(57355),GetEaseFunction:t(6113),GetInterpolationFunction:t(91389),GetNewValue:t(55292),GetProps:t(82985),GetTargets:t(62329),GetValueOp:t(17777),NumberTweenBuilder:t(88032),StaggerBuilder:t(93109),TweenBuilder:t(8357)}},73685:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="active"},98540:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="complete"},67233:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="loop"},2859:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="pause"},98336:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="repeat"},25764:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="resume"},32193:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="start"},84371:v=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="stop"},70766:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="update"},55659:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports="yoyo"},842:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={TWEEN_ACTIVE:t(73685),TWEEN_COMPLETE:t(98540),TWEEN_LOOP:t(67233),TWEEN_PAUSE:t(2859),TWEEN_RESUME:t(25764),TWEEN_REPEAT:t(98336),TWEEN_START:t(32193),TWEEN_STOP:t(84371),TWEEN_UPDATE:t(70766),TWEEN_YOYO:t(55659)}},43066:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={States:t(86353),Builders:t(30231),Events:t(842),TweenManager:t(40382),Tween:t(86081),TweenData:t(48177),TweenFrameData:t(42220),BaseTween:t(70402),TweenChain:t(43960)};v.exports=o},70402:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(50792),a=t(842),r=t(86353),n=new o({Extends:m,initialize:function(s){m.call(this),this.parent=s,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=r.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(e){return this.timeScale=e,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(a.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(a.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(a.TWEEN_COMPLETE,"onComplete")},complete:function(e){return e===void 0&&(e=0),e?(this.setCompleteDelayState(),this.countdown=e):this.onCompleteHandler(),this},completeAfterLoop:function(e){return e===void 0&&(e=0),this.loopCounter>e&&(this.loopCounter=e),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(a.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(e){this.countdown-=e,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(a.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(e){return this.countdown-=e,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(a.TWEEN_START,"onStart"),e=0),e},updateCompleteDelay:function(e){this.countdown-=e,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(e,s,h){return h===void 0&&(h=[]),this.callbacks.hasOwnProperty(e)&&(this.callbacks[e]={func:s,params:h}),this},setPendingState:function(){this.state=r.PENDING},setActiveState:function(){this.state=r.ACTIVE,this.hasStarted=!1},setLoopDelayState:function(){this.state=r.LOOP_DELAY},setCompleteDelayState:function(){this.state=r.COMPLETE_DELAY},setStartDelayState:function(){this.state=r.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=r.PENDING_REMOVE},setRemovedState:function(){this.state=r.REMOVED},setFinishedState:function(){this.state=r.FINISHED},setDestroyedState:function(){this.state=r.DESTROYED},isPending:function(){return this.state===r.PENDING},isActive:function(){return this.state===r.ACTIVE},isLoopDelayed:function(){return this.state===r.LOOP_DELAY},isCompleteDelayed:function(){return this.state===r.COMPLETE_DELAY},isStartDelayed:function(){return this.state===r.START_DELAY},isPendingRemove:function(){return this.state===r.PENDING_REMOVE},isRemoved:function(){return this.state===r.REMOVED},isFinished:function(){return this.state===r.FINISHED},isDestroyed:function(){return this.state===r.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(e){e.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});n.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],v.exports=n},95042:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(83419),m=t(842),a=t(86353),r=new o({initialize:function(e,s,h,i,l,u,d,f,p,g){this.tween=e,this.targetIndex=s,this.duration=i<=0?.01:i,this.totalDuration=0,this.delay=0,this.getDelay=h,this.yoyo=l,this.hold=u,this.repeat=d,this.repeatDelay=f,this.repeatCounter=0,this.flipX=p,this.flipY=g,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(n){n===void 0&&(n=this.current),this.tween.targets[this.targetIndex][this.key]=n},setCreatedState:function(){this.state=a.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=a.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=a.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=a.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=a.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=a.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=a.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=a.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===a.CREATED},isDelayed:function(){return this.state===a.DELAY},isPendingRender:function(){return this.state===a.PENDING_RENDER},isPlayingForward:function(){return this.state===a.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===a.PLAYING_BACKWARD},isHolding:function(){return this.state===a.HOLD_DELAY},isRepeating:function(){return this.state===a.REPEAT_DELAY},isComplete:function(){return this.state===a.COMPLETE},setStateFromEnd:function(n){this.yoyo?this.onRepeat(n,!0,!0):this.repeatCounter>0?this.onRepeat(n,!0,!1):this.setCompleteState()},setStateFromStart:function(n){this.repeatCounter>0?this.onRepeat(n,!1):this.setCompleteState()},reset:function(){var n=this.tween,e=n.totalTargets,s=this.targetIndex,h=n.targets[s],i=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(h,i,0,s,e,n),this.repeatCounter=this.repeat===-1?a.MAX:this.repeat,this.setPendingRenderState();var l=this.duration+this.hold;this.yoyo&&(l+=this.duration);var u=l+this.repeatDelay;this.totalDuration=this.delay+l,this.repeat===-1?(this.totalDuration+=u*a.MAX,n.isInfinite=!0):this.repeat>0&&(this.totalDuration+=u*this.repeat),this.totalDuration>n.duration&&(n.duration=this.totalDuration),this.delay<n.startDelay&&(n.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(n,e,s){var h=this.tween,i=h.totalTargets,l=this.targetIndex,u=h.targets[l],d=this.key,f=d!=="texture";if(this.elapsed=n,this.progress=n/this.duration,this.flipX&&u.toggleFlipX(),this.flipY&&u.toggleFlipY(),f&&(e||s)&&(this.start=this.getStartValue(u,d,this.start,l,i,h)),s){this.setPlayingBackwardState(),this.dispatchEvent(m.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,f&&(this.end=this.getEndValue(u,d,this.start,l,i,h)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-n,f&&(this.current=this.start,u[d]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(m.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});v.exports=r},69902:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};v.exports=S},81076:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(70402),m=t(83419),a=t(842),r=t(44603),n=t(39429),e=t(36383),s=t(86353),h=t(48177),i=t(42220),l=new m({Extends:o,initialize:function(d,f){o.call(this,d),this.targets=f,this.totalTargets=f.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.isNumberTween=!1},add:function(u,d,f,p,g,x,T,E,C,R,w,F,I,L,D,B){var U=new h(this,u,d,f,p,g,x,T,E,C,R,w,F,I,L,D,B);return this.totalData=this.data.push(U),U},addFrame:function(u,d,f,p,g,x,T,E,C,R){var w=new i(this,u,d,f,p,g,x,T,E,C,R);return this.totalData=this.data.push(w),w},getValue:function(u){u===void 0&&(u=0);var d=null;return this.data&&(d=this.data[u].current),d},hasTarget:function(u){return this.targets&&this.targets.indexOf(u)!==-1},updateTo:function(u,d,f){if(f===void 0&&(f=!1),u!=="texture")for(var p=0;p<this.totalData;p++){var g=this.data[p];g.key===u&&(g.isPlayingForward()||g.isPlayingBackward())&&(g.end=d,f&&(g.start=g.current))}return this},restart:function(){switch(this.state){case s.REMOVED:case s.FINISHED:this.seek(),this.parent.makeActive(this);break;case s.PENDING:case s.PENDING_REMOVE:this.parent.reset(this);break;case s.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(a.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,o.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(u,d,f){if(u===void 0&&(u=0),d===void 0&&(d=16.6),f===void 0&&(f=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;f||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive");var p=this.paused;if(this.paused=!1,u>0){for(var g=Math.floor(u/d),x=u-g*d,T=0;T<g;T++)this.update(d);x>0&&this.update(x)}return this.paused=p,this.isSeeking=!1,this},initTweenData:function(u){u===void 0&&(u=!1),this.duration=0,this.startDelay=e.MAX_SAFE_INTEGER;for(var d=this.data,f=0;f<this.totalData;f++)d[f].reset(u);this.duration=Math.max(this.duration,.01);var p=this.duration,g=this.completeDelay,x=this.loopCounter,T=this.loopDelay;x>0?this.totalDuration=p+g+(p+T)*x:this.totalDuration=p+g},reset:function(u){return u===void 0&&(u=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=s.MAX),u||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(a.TWEEN_ACTIVE,"onActive")),this},update:function(u){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.paused||this.isFinished())return!1;if(u*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(u),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(u),!1;this.hasStarted||(this.startDelay-=u,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(a.TWEEN_START,"onStart"),u=0));var d=!1;if(this.isActive())for(var f=this.data,p=0;p<this.totalData;p++)f[p].update(u)&&(d=!0);this.elapsed+=u,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=u,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),d||this.nextState();var g=this.isPendingRemove();return g&&this.persist&&(this.setFinishedState(),g=!1),g},forward:function(u){return this.update(u),this},rewind:function(u){return this.update(-u),this},dispatchEvent:function(u,d){if(!this.isSeeking){if(this.emit(u,this,this.targets),!this.callbacks)return;var f=this.callbacks[d];f&&f.func.apply(this.callbackScope,[this,this.targets].concat(f.params))}},destroy:function(){o.prototype.destroy.call(this),this.targets=null}});n.register("tween",function(u){return this.scene.sys.tweens.add(u)}),r.register("tween",function(u){return this.scene.sys.tweens.create(u)}),v.exports=l},43960:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(72905),m=t(70402),a=t(83419),r=t(842),n=t(44603),e=t(39429),s=t(86353),h=new a({Extends:m,initialize:function(l){m.call(this,l),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?s.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this},add:function(i){var l=this.parent.create(i);Array.isArray(l)||(l=[l]);for(var u=this.data,d=0;d<l.length;d++){var f=l[d];f.parent=this,u.push(f.reset())}return this.totalData=u.length,this},remove:function(i){return o(this.data,i),i.setRemovedState(),i===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(i){for(var l=this.data,u=0;u<this.totalData;u++)if(l[u].hasTarget(i))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(i){return i.seek(),i.setActiveState(),this},makeActive:function(i){return i.reset(),i.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(r.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var i=this.data,l=this.totalData,u=0;u<l;u++)i[u].reset(!1);this.setCurrentTween(0)},update:function(i){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;if(i*=this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(i),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(i),!1;this.hasStarted||(this.startDelay-=i,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(r.TWEEN_START,"onStart"),i=0));var l=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(i)&&this.nextTween()&&this.nextState(),l=this.isPendingRemove(),l&&this.persist&&(this.setFinishedState(),l=!1)),l},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(i){this.currentIndex=i,this.currentTween=this.data[i],this.currentTween.setActiveState()},dispatchEvent:function(i,l){this.emit(i,this);var u=this.callbacks[l];u&&u.func.apply(this.callbackScope,[this].concat(u.params))},destroy:function(){m.prototype.destroy.call(this),this.currentTween=null}});e.register("tweenchain",function(i){return this.scene.sys.tweens.chain(i)}),n.register("tweenchain",function(i){return this.scene.sys.tweens.create(i)}),v.exports=h},48177:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95042),m=t(45319),a=t(83419),r=t(842),n=new a({Extends:o,initialize:function(s,h,i,l,u,d,f,p,g,x,T,E,C,R,w,F,I){o.call(this,s,h,p,g,x,T,E,C,R,w),this.key=i,this.getActiveValue=d,this.getEndValue=l,this.getStartValue=u,this.ease=f,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=F,this.interpolationData=I},reset:function(e){o.prototype.reset.call(this);var s=this.tween.targets[this.targetIndex],h=this.key;e&&(s[h]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(s[h]=this.getActiveValue(s,h,0))},update:function(e){var s=this.tween,h=s.totalTargets,i=this.targetIndex,l=s.targets[i],u=this.key;if(!l)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(r.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(l,u,l[u],i,h,s),this.end=this.getEndValue(l,u,this.start,i,h,s),this.current=this.start,l[u]=this.start,this.setPlayingForwardState(),!0;var d=this.isPlayingForward(),f=this.isPlayingBackward();if(d||f){var p=this.elapsed,g=this.duration,x=0,T=!1;p+=e,p>=g?(x=p-g,p=g,T=!0):p<0&&(p=0);var E=m(p/g,0,1);this.elapsed=p,this.progress=E,this.previous=this.current,d||(E=1-E);var C=this.ease(E);this.interpolation?this.current=this.interpolation(this.interpolationData,C):this.current=this.start+(this.end-this.start)*C,l[u]=this.current,T&&(d?(s.isNumberTween&&(this.current=this.end,l[u]=this.current),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(x)):(s.isNumberTween&&(this.current=this.start,l[u]=this.current),this.setStateFromStart(x))),this.dispatchEvent(r.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,s){var h=this.tween;if(!h.isSeeking){var i=h.targets[this.targetIndex],l=this.key,u=this.current,d=this.previous;h.emit(e,h,l,i,u,d);var f=h.callbacks[s];f&&f.func.apply(h.callbackScope,[h,i,l,u,d].concat(f.params))}},destroy:function(){o.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});v.exports=n},42220:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(95042),m=t(45319),a=t(83419),r=t(842),n=new a({Extends:o,initialize:function(s,h,i,l,u,d,f,p,g,x,T){o.call(this,s,h,u,d,!1,f,p,g,x,T),this.key="texture",this.startTexture=null,this.endTexture=i,this.startFrame=null,this.endFrame=l,this.yoyo=p!==0},reset:function(e){o.prototype.reset.call(this);var s=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=s.texture.key,this.startFrame=s.frame.name),e&&s.setTexture(this.startTexture,this.startFrame)},update:function(e){var s=this.tween,h=this.targetIndex,i=s.targets[h];if(!i)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=e,this.elapsed<=0&&(this.elapsed=0,e=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(r.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&i.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var l=this.isPlayingForward(),u=this.isPlayingBackward();if(l||u){var d=this.elapsed,f=this.duration,p=0,g=!1;d+=e,d>=f?(p=d-f,d=f,g=!0):d<0&&(d=0);var x=m(d/f,0,1);this.elapsed=d,this.progress=x,g&&(l?(i.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(p)):(i.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(p))),this.dispatchEvent(r.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(e,s){var h=this.tween;if(!h.isSeeking){var i=h.targets[this.targetIndex],l=this.key;h.emit(e,h,l,i);var u=h.callbacks[s];u&&u.func.apply(h.callbackScope,[h,i,l].concat(u.params))}},destroy:function(){o.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});v.exports=n},86353:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};v.exports=S},83419:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(n){return!!n.get&&typeof n.get=="function"||!!n.set&&typeof n.set=="function"}function t(n,e,s){var h=s?n[e]:Object.getOwnPropertyDescriptor(n,e);return!s&&h.value&&typeof h.value=="object"&&(h=h.value),h&&S(h)?(typeof h.enumerable>"u"&&(h.enumerable=!0),typeof h.configurable>"u"&&(h.configurable=!0),h):!1}function o(n,e){var s=Object.getOwnPropertyDescriptor(n,e);return s?(s.value&&typeof s.value=="object"&&(s=s.value),s.configurable===!1):!1}function m(n,e,s,h){for(var i in e)if(e.hasOwnProperty(i)){var l=t(e,i,s);if(l!==!1){var u=h||n;if(o(u.prototype,i)){if(r.ignoreFinals)continue;throw new Error("cannot override final property '"+i+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(n.prototype,i,l)}else n.prototype[i]=e[i]}}function a(n,e){if(e){Array.isArray(e)||(e=[e]);for(var s=0;s<e.length;s++)m(n,e[s].prototype||e[s])}}function r(n){n||(n={});var e,s;if(n.initialize){if(typeof n.initialize!="function")throw new Error("initialize must be a function");e=n.initialize,delete n.initialize}else if(n.Extends){var h=n.Extends;e=function(){h.apply(this,arguments)}}else e=function(){};n.Extends?(e.prototype=Object.create(n.Extends.prototype),e.prototype.constructor=e,s=n.Extends,delete n.Extends):e.prototype.constructor=e;var i=null;return n.Mixins&&(i=n.Mixins,delete n.Mixins),a(e,i),m(e,n,!0,s),e}r.extend=m,r.mixin=a,r.ignoreFinals=!1,v.exports=r},29747:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){};v.exports=S},20242:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){return null};v.exports=S},71146:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a,r){if(r===void 0&&(r=t),m>0){var n=m-t.length;if(n<=0)return null}if(!Array.isArray(o))return t.indexOf(o)===-1?(t.push(o),a&&a.call(r,o),o):null;for(var e=o.length-1;e>=0;)t.indexOf(o[e])!==-1&&o.splice(e,1),e--;if(e=o.length,e===0)return null;m>0&&e>n&&(o.splice(n),e=n);for(var s=0;s<e;s++){var h=o[s];t.push(h),a&&a.call(r,h)}return o};v.exports=S},51067:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a,r,n){if(m===void 0&&(m=0),n===void 0&&(n=t),a>0){var e=a-t.length;if(e<=0)return null}if(!Array.isArray(o))return t.indexOf(o)===-1?(t.splice(m,0,o),r&&r.call(n,o),o):null;for(var s=o.length-1;s>=0;)t.indexOf(o[s])!==-1&&o.pop(),s--;if(s=o.length,s===0)return null;a>0&&s>e&&(o.splice(e),s=e);for(var h=s-1;h>=0;h--){var i=o[h];t.splice(m,0,i),r&&r.call(n,i)}return o};v.exports=S},66905:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){var m=t.indexOf(o);return m!==-1&&m<t.length&&(t.splice(m,1),t.push(o)),o};v.exports=S},21612:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(82011),m=function(a,r,n,e,s){e===void 0&&(e=0),s===void 0&&(s=a.length);var h=0;if(o(a,e,s))for(var i=e;i<s;i++){var l=a[i];l[r]===n&&h++}return h};v.exports=m},95428:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){var a,r=[null];for(a=3;a<arguments.length;a++)r.push(arguments[a]);for(a=0;a<t.length;a++)r[0]=t[a],o.apply(m,r);return t};v.exports=S},36914:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(82011),m=function(a,r,n,e,s){if(e===void 0&&(e=0),s===void 0&&(s=a.length),o(a,e,s)){var h,i=[null];for(h=5;h<arguments.length;h++)i.push(arguments[h]);for(h=e;h<s;h++)i[0]=a[h],r.apply(n,i)}return a};v.exports=m},81957:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){if(o.length){if(o.length===1)return o[0]}else return NaN;var a=1,r,n;if(m){if(t<o[0][m])return o[0];for(;o[a][m]<t;)a++}else for(;o[a]<t;)a++;return a>o.length&&(a=o.length),m?(r=o[a-1][m],n=o[a][m],n-t<=t-r?o[a]:o[a-1]):(r=o[a-1],n=o[a],n-t<=t-r?n:r)};v.exports=S},43491:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){o===void 0&&(o=[]);for(var m=0;m<t.length;m++)Array.isArray(t[m])?S(t[m],o):o.push(t[m]);return o};v.exports=S},46710:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(82011),m=function(a,r,n,e,s){e===void 0&&(e=0),s===void 0&&(s=a.length);var h=[];if(o(a,e,s))for(var i=e;i<s;i++){var l=a[i];(!r||r&&n===void 0&&l.hasOwnProperty(r)||r&&n!==void 0&&l[r]===n)&&h.push(l)}return h};v.exports=m},58731:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(82011),m=function(a,r,n,e,s){if(e===void 0&&(e=0),s===void 0&&(s=a.length),e!==-1){if(o(a,e,s))for(var h=e;h<s;h++){var i=a[h];if(!r||r&&n===void 0&&i.hasOwnProperty(r)||r&&n!==void 0&&i[r]===n)return i}}else if(o(a,0,s))for(var h=s;h>=0;h--){var i=a[h];if(!r||r&&n===void 0&&i.hasOwnProperty(r)||r&&n!==void 0&&i[r]===n)return i}return null};v.exports=m},26546:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){o===void 0&&(o=0),m===void 0&&(m=t.length);var a=o+Math.floor(Math.random()*m);return t[a]===void 0?null:t[a]};v.exports=S},85835:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){if(o===m)return t;var a=t.indexOf(o),r=t.indexOf(m);if(a<0||r<0)throw new Error("Supplied items must be elements of the same array");return a>r||(t.splice(a,1),r=t.indexOf(m),t.splice(r+1,0,o)),t};v.exports=S},83371:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){if(o===m)return t;var a=t.indexOf(o),r=t.indexOf(m);if(a<0||r<0)throw new Error("Supplied items must be elements of the same array");return a<r||(t.splice(a,1),r===0?t.unshift(o):t.splice(r,0,o)),t};v.exports=S},70864:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){var m=t.indexOf(o);if(m>0){var a=t[m-1],r=t.indexOf(a);t[m]=a,t[r]=o}return t};v.exports=S},69693:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){var a=t.indexOf(o);if(a===-1||m<0||m>=t.length)throw new Error("Supplied index out of bounds");return a!==m&&(t.splice(a,1),t.splice(m,0,o)),o};v.exports=S},40853:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){var m=t.indexOf(o);if(m!==-1&&m<t.length-1){var a=t[m+1],r=t.indexOf(a);t[m]=a,t[r]=o}return t};v.exports=S},20283:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a){var r=[],n,e=!1;if((m||a)&&(e=!0,m||(m=""),a||(a="")),o<t)for(n=t;n>=o;n--)e?r.push(m+n.toString()+a):r.push(n);else for(n=t;n<=o;n++)e?r.push(m+n.toString()+a):r.push(n);return r};v.exports=S},593:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(2284),m=function(a,r,n){a===void 0&&(a=0),r===void 0&&(r=null),n===void 0&&(n=1),r===null&&(r=a,a=0);for(var e=[],s=Math.max(o((r-a)/(n||1)),0),h=0;h<s;h++)e.push(a),a+=n;return e};v.exports=m},43886:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function S(m,a,r){var n=m[a];m[a]=m[r],m[r]=n}function t(m,a){return m<a?-1:m>a?1:0}var o=function(m,a,r,n,e){for(r===void 0&&(r=0),n===void 0&&(n=m.length-1),e===void 0&&(e=t);n>r;){if(n-r>600){var s=n-r+1,h=a-r+1,i=Math.log(s),l=.5*Math.exp(2*i/3),u=.5*Math.sqrt(i*l*(s-l)/s)*(h-s/2<0?-1:1),d=Math.max(r,Math.floor(a-h*l/s+u)),f=Math.min(n,Math.floor(a+(s-h)*l/s+u));o(m,a,d,f,e)}var p=m[a],g=r,x=n;for(S(m,r,a),e(m[n],p)>0&&S(m,r,n);g<x;){for(S(m,g,x),g++,x--;e(m[g],p)<0;)g++;for(;e(m[x],p)>0;)x--}e(m[r],p)===0?S(m,r,x):(x++,S(m,x,n)),x<=a&&(r=x+1),a<=x&&(n=x-1)}};v.exports=o},88492:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35154),m=t(33680),a=function(n,e,s){for(var h=[],i=0;i<n.length;i++)for(var l=0;l<e.length;l++)for(var u=0;u<s;u++)h.push({a:n[i],b:e[l]});return h},r=function(n,e,s){var h=o(s,"max",0),i=o(s,"qty",1),l=o(s,"random",!1),u=o(s,"randomB",!1),d=o(s,"repeat",0),f=o(s,"yoyo",!1),p=[];if(u&&m(e),d===-1)if(h===0)d=0;else{var g=n.length*e.length*i;f&&(g*=2),d=Math.ceil(h/g)}for(var x=0;x<=d;x++){var T=a(n,e,i);l&&m(T),p=p.concat(T),f&&(T.reverse(),p=p.concat(T))}return h&&p.splice(h),p};v.exports=r},72905:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(19133),m=function(a,r,n,e){e===void 0&&(e=a);var s;if(!Array.isArray(r))return s=a.indexOf(r),s!==-1?(o(a,s),n&&n.call(e,r),r):null;for(var h=r.length-1,i=[];h>=0;){var l=r[h];s=a.indexOf(l),s!==-1&&(o(a,s),i.push(l),n&&n.call(e,l)),h--}return i};v.exports=m},60248:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(19133),m=function(a,r,n,e){if(e===void 0&&(e=a),r<0||r>a.length-1)throw new Error("Index out of bounds");var s=o(a,r);return n&&n.call(e,s),s};v.exports=m},81409:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(82011),m=function(a,r,n,e,s){if(r===void 0&&(r=0),n===void 0&&(n=a.length),s===void 0&&(s=a),o(a,r,n)){var h=n-r,i=a.splice(r,h);if(e)for(var l=0;l<i.length;l++){var u=i[l];e.call(s,u)}return i}else return[]};v.exports=m},31856:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(19133),m=function(a,r,n){r===void 0&&(r=0),n===void 0&&(n=a.length);var e=r+Math.floor(Math.random()*n);return o(a,e)};v.exports=m},42169:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){var a=t.indexOf(o),r=t.indexOf(m);return a!==-1&&r===-1?(t[a]=m,!0):!1};v.exports=S},86003:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){o===void 0&&(o=1);for(var m=null,a=0;a<o;a++)m=t.shift(),t.push(m);return m};v.exports=S},49498:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){o===void 0&&(o=1);for(var m=null,a=0;a<o;a++)m=t.pop(),t.unshift(m);return m};v.exports=S},82011:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a){var r=t.length;if(o<0||o>=r||o>=m||m>r){if(a)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};v.exports=S},89545:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){var m=t.indexOf(o);return m!==-1&&m>0&&(t.splice(m,1),t.unshift(o)),o};v.exports=S},17810:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(82011),m=function(a,r,n,e,s){if(e===void 0&&(e=0),s===void 0&&(s=a.length),o(a,e,s))for(var h=e;h<s;h++){var i=a[h];i.hasOwnProperty(r)&&(i[r]=n)}return a};v.exports=m},33680:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var o=t.length-1;o>0;o--){var m=Math.floor(Math.random()*(o+1)),a=t[o];t[o]=t[m],t[m]=a}return t};v.exports=S},90126:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var o=/\D/g;return t.sort(function(m,a){return parseInt(m.replace(o,""),10)-parseInt(a.replace(o,""),10)}),t};v.exports=S},19133:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){if(!(o>=t.length)){for(var m=t.length-1,a=t[o],r=o;r<m;r++)t[r]=t[r+1];return t.length=m,a}};v.exports=S},19186:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(82264);function m(e,s){return String(e).localeCompare(s)}function a(e,s){var h=e.length;if(h<=1)return e;for(var i=new Array(h),l=1;l<h;l*=2){r(e,s,l,i);var u=e;e=i,i=u}return e}function r(e,s,h,i){var l=e.length,u=0,d=h*2,f,p,g,x,T;for(f=0;f<l;f+=d)for(p=f+h,g=p+h,p>l&&(p=l),g>l&&(g=l),x=f,T=p;;)if(x<p&&T<g)s(e[x],e[T])<=0?i[u++]=e[x++]:i[u++]=e[T++];else if(x<p)i[u++]=e[x++];else if(T<g)i[u++]=e[T++];else break}var n=function(e,s){if(s===void 0&&(s=m),!e||e.length<2)return e;if(o.features.stableSort)return e.sort(s);var h=a(e,s);return h!==e&&r(h,null,e.length,e),e};v.exports=n},25630:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){if(o===m)return t;var a=t.indexOf(o),r=t.indexOf(m);if(a<0||r<0)throw new Error("Supplied items must be elements of the same array");return t[a]=m,t[r]=o,t};v.exports=S},37105:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Matrix:t(54915),Add:t(71146),AddAt:t(51067),BringToTop:t(66905),CountAllMatching:t(21612),Each:t(95428),EachInRange:t(36914),FindClosestInSorted:t(81957),Flatten:t(43491),GetAll:t(46710),GetFirst:t(58731),GetRandom:t(26546),MoveDown:t(70864),MoveTo:t(69693),MoveUp:t(40853),MoveAbove:t(85835),MoveBelow:t(83371),NumberArray:t(20283),NumberArrayStep:t(593),QuickSelect:t(43886),Range:t(88492),Remove:t(72905),RemoveAt:t(60248),RemoveBetween:t(81409),RemoveRandomElement:t(31856),Replace:t(42169),RotateLeft:t(86003),RotateRight:t(49498),SafeRange:t(82011),SendToBack:t(89545),SetAll:t(17810),Shuffle:t(33680),SortByDigits:t(90126),SpliceOne:t(19133),StableSort:t(19186),Swap:t(25630)}},86922:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(!Array.isArray(t)||!Array.isArray(t[0]))return!1;for(var o=t[0].length,m=1;m<t.length;m++)if(t[m].length!==o)return!1;return!0};v.exports=S},63362:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(41836),m=t(86922),a=function(r){var n="";if(!m(r))return n;for(var e=0;e<r.length;e++){for(var s=0;s<r[e].length;s++){var h=r[e][s].toString();h!=="undefined"?n+=o(h,2):n+="?",s<r[e].length-1&&(n+=" |")}if(e<r.length-1){n+=`
`;for(var i=0;i<r[e].length;i++)n+="---",i<r[e].length-1&&(n+="+");n+=`
`}}return n};v.exports=a},92598:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.reverse()};v.exports=S},21224:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var o=0;o<t.length;o++)t[o].reverse();return t};v.exports=S},98717:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37829),m=function(a){return o(a,180)};v.exports=m},44657:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37829),m=function(a,r){r===void 0&&(r=1);for(var n=0;n<r;n++)a=o(a,90);return a};v.exports=m},37829:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(86922),m=t(2429),a=function(r,n){if(n===void 0&&(n=90),!o(r))return null;if(typeof n!="string"&&(n=(n%360+360)%360),n===90||n===-270||n==="rotateLeft")r=m(r),r.reverse();else if(n===-90||n===270||n==="rotateRight")r.reverse(),r=m(r);else if(Math.abs(n)===180||n==="rotate180"){for(var e=0;e<r.length;e++)r[e].reverse();r.reverse()}return r};v.exports=a},92632:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(37829),m=function(a,r){r===void 0&&(r=1);for(var n=0;n<r;n++)a=o(a,-90);return a};v.exports=m},69512:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(86003),m=t(49498),a=function(r,n,e){if(n===void 0&&(n=0),e===void 0&&(e=0),e!==0&&(e<0?o(r,Math.abs(e)):m(r,e)),n!==0)for(var s=0;s<r.length;s++){var h=r[s];n<0?o(h,Math.abs(n)):m(h,n)}return r};v.exports=a},2429:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){for(var o=t.length,m=t[0].length,a=new Array(m),r=0;r<m;r++){a[r]=new Array(o);for(var n=o-1;n>-1;n--)a[r][n]=t[n][r]}return a};v.exports=S},54915:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={CheckMatrix:t(86922),MatrixToString:t(63362),ReverseColumns:t(92598),ReverseRows:t(21224),Rotate180:t(98717),RotateLeft:t(44657),RotateMatrix:t(37829),RotateRight:t(92632),Translate:t(69512),TransposeMatrix:t(2429)}},71334:v=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=function(o,m){for(var a=new Uint8Array(o),r=a.length,n=m?"data:"+m+";base64,":"",e=0;e<r;e+=3)n+=S[a[e]>>2],n+=S[(a[e]&3)<<4|a[e+1]>>4],n+=S[(a[e+1]&15)<<2|a[e+2]>>6],n+=S[a[e+2]&63];return r%3===2?n=n.substring(0,n.length-1)+"=":r%3===1&&(n=n.substring(0,n.length-2)+"=="),n};v.exports=t},53134:v=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),o=0;o<S.length;o++)t[S.charCodeAt(o)]=o;var m=function(a){a=a.substr(a.indexOf(",")+1);var r=a.length,n=r*.75,e=0,s,h,i,l;a[r-1]==="="&&(n--,a[r-2]==="="&&n--);for(var u=new ArrayBuffer(n),d=new Uint8Array(u),f=0;f<r;f+=4)s=t[a.charCodeAt(f)],h=t[a.charCodeAt(f+1)],i=t[a.charCodeAt(f+2)],l=t[a.charCodeAt(f+3)],d[e++]=s<<2|h>>4,d[e++]=(h&15)<<4|i>>2,d[e++]=(i&3)<<6|l&63;return u};v.exports=m},65839:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={ArrayBufferToBase64:t(71334),Base64ToArrayBuffer:t(53134)}},91799:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Array:t(37105),Base64:t(65839),Objects:t(1183),String:t(31749),NOOP:t(29747),NULL:t(20242)}},41786:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var o={};for(var m in t)Array.isArray(t[m])?o[m]=t[m].slice(0):o[m]=t[m];return o};v.exports=S},62644:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){var o,m,a;if(typeof t!="object"||t===null)return t;o=Array.isArray(t)?[]:{};for(a in t)m=t[a],o[a]=S(m);return o};v.exports=S},79291:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(41212),m=function(){var a,r,n,e,s,h,i=arguments[0]||{},l=1,u=arguments.length,d=!1;for(typeof i=="boolean"&&(d=i,i=arguments[1]||{},l=2),u===l&&(i=this,--l);l<u;l++)if((a=arguments[l])!=null)for(r in a)n=i[r],e=a[r],i!==e&&(d&&e&&(o(e)||(s=Array.isArray(e)))?(s?(s=!1,h=n&&Array.isArray(n)?n:[]):h=n&&o(n)?n:{},i[r]=m(d,h,e)):e!==void 0&&(i[r]=e));return i};v.exports=m},23568:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(75508),m=t(35154),a=function(r,n,e){var s=m(r,n,null);if(s===null)return e;if(Array.isArray(s))return o.RND.pick(s);if(typeof s=="object"){if(s.hasOwnProperty("randInt"))return o.RND.integerInRange(s.randInt[0],s.randInt[1]);if(s.hasOwnProperty("randFloat"))return o.RND.realInRange(s.randFloat[0],s.randFloat[1])}else if(typeof s=="function")return s(n);return s};v.exports=a},95540:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){var a=typeof t;return!t||a==="number"||a==="string"?m:t.hasOwnProperty(o)&&t[o]!==void 0?t[o]:m};v.exports=S},82840:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(35154),m=t(45319),a=function(r,n,e,s,h){h===void 0&&(h=e);var i=o(r,n,h);return m(i,e,s)};v.exports=a},35154:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a){if(!t&&!a||typeof t=="number")return m;if(t&&t.hasOwnProperty(o))return t[o];if(a&&a.hasOwnProperty(o))return a[o];if(o.indexOf(".")!==-1){for(var r=o.split("."),n=t,e=a,s=m,h=m,i=!0,l=!0,u=0;u<r.length;u++)n&&n.hasOwnProperty(r[u])?(s=n[r[u]],n=n[r[u]]):i=!1,e&&e.hasOwnProperty(r[u])?(h=e[r[u]],e=e[r[u]]):l=!1;return i?s:l?h:m}else return m};v.exports=S},69036:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){for(var m=0;m<o.length;m++)if(!t.hasOwnProperty(o[m]))return!1;return!0};v.exports=S},1985:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){for(var m=0;m<o.length;m++)if(t.hasOwnProperty(o[m]))return!0;return!1};v.exports=S},97022:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return t.hasOwnProperty(o)};v.exports=S},41212:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){if(!t||typeof t!="object"||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};v.exports=S},46975:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(41786),m=function(a,r){var n=o(a);for(var e in r)n.hasOwnProperty(e)||(n[e]=r[e]);return n};v.exports=m},269:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(41786),m=function(a,r){var n=o(a);for(var e in r)n.hasOwnProperty(e)&&(n[e]=r[e]);return n};v.exports=m},18254:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=t(97022),m=function(a,r){for(var n={},e=0;e<r.length;e++){var s=r[e];o(a,s)&&(n[s]=a[s])}return n};v.exports=m},61622:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m){if(!t||typeof t=="number")return!1;if(t.hasOwnProperty(o))return t[o]=m,!0;if(o.indexOf(".")!==-1){for(var a=o.split("."),r=t,n=t,e=0;e<a.length;e++)if(r.hasOwnProperty(a[e]))n=r,r=r[a[e]];else return!1;return n[a[a.length-1]]=m,!0}return!1};v.exports=S},1183:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Clone:t(41786),DeepCopy:t(62644),Extend:t(79291),GetAdvancedValue:t(23568),GetFastValue:t(95540),GetMinMaxValue:t(82840),GetValue:t(35154),HasAll:t(69036),HasAny:t(1985),HasValue:t(97022),IsPlainObject:t(41212),Merge:t(46975),MergeRight:t(269),Pick:t(18254),SetValue:t(61622)}},27902:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return t.replace(/%([0-9]+)/g,function(m,a){return o[Number(a)-1]})};v.exports=S},41836:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o,m,a){o===void 0&&(o=0),m===void 0&&(m=" "),a===void 0&&(a=3),t=t.toString();var r=0;if(o+1>=t.length)switch(a){case 1:t=new Array(o+1-t.length).join(m)+t;break;case 3:var n=Math.ceil((r=o-t.length)/2),e=r-n;t=new Array(e+1).join(m)+t+new Array(n+1).join(m);break;default:t=t+new Array(o+1-t.length).join(m);break}return t};v.exports=S},33628:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t,o){return o===0?t.slice(1):t.slice(0,o)+t.slice(o+1)};v.exports=S},27671:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t.split("").reverse().join("")};v.exports=S},45650:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var o=Math.random()*16|0,m=t==="x"?o:o&3|8;return m.toString(16)})};v.exports=S},35355:v=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var S=function(t){return t&&t[0].toUpperCase()+t.slice(1)};v.exports=S},31749:(v,S,t)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */v.exports={Format:t(27902),Pad:t(41836),RemoveAt:t(33628),Reverse:t(27671),UppercaseFirst:t(35355),UUID:t(45650)}}},P={};function M(v){var S=P[v];if(S!==void 0)return S.exports;var t=P[v]={exports:{}};return y[v](t,t.exports,M),t.exports}M.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var O=M(85454);return O})())}(Nn)),Nn.exports}var ox=ax();const ct=nx(ox);class hx extends ct.Scene{constructor(){super("titleScene")}preload(){}create(){this.cameras.main.setBackgroundColor("#000000"),this.cameras.main.fadeOut(0),this.time.delayedCall(500,()=>{this.cameras.main.fadeIn(1e3,0,0,0)});const c=this.cameras.main.centerX,y=this.cameras.main.centerY,P=700,M=300,O=30,v=11913603,S=10,t=this.add.graphics();t.lineStyle(S,v,1),t.strokeRoundedRect(c-P/2,y-M/2,P,M,O),t.fillStyle(14608074,1),t.fillRoundedRect(c-P/2,y-M/2,P,M,O),t.setDepth(0),this.add.text(c,y-110,"StackDew Valley",{fontFamily:"VT323",fontSize:"64px",fill:"#1f451c"}).setOrigin(.5),this.add.text(c,y-60,"made by a group of enthusiasts called",{fontFamily:"VT323",fontSize:"20px",fill:"#1f451c"}).setOrigin(.5);const o=[{label:"Ken'Terria",url:"https://github.com/MuseOfCode"},{label:"Paul",url:"https://github.com/testmango-sudo"},{label:"Tymur",url:"https://github.com/papaparadox"},{label:"Chris",url:"https://github.com/slightly76"},{label:"Sophie",url:"https://github.com/sophtompa"},{label:"Dean",url:"https://github.com/notyourimaginarycoder"}],m=70,a=(o.length-1)*m;o.forEach((r,n)=>{const e=c-a/2+n*m,s=this.add.text(e,y,r.label,{fontFamily:"VT323",fontSize:"22px",fill:"#3b5b2c"}).setOrigin(.5).setInteractive();s.on("pointerdown",()=>{window.open(r.url,"_blank")}),s.on("pointerover",()=>s.setFill("#FF984D")),s.on("pointerout",()=>s.setFill("#3b5b2c"))}),this.add.text(c,y+20,"(click our names for GitHub links)",{fontFamily:"VT323",fontSize:"14px",fill:"#1f451c"}).setOrigin(.5),this.add.text(c,y+100,"Press SPACE to Start",{fontFamily:"VT323",fontSize:"28px",fill:"#1f451c"}).setOrigin(.5),this.input.keyboard.on("keydown-SPACE",()=>{this.scene.start("loreScene")})}}class Ce{constructor(c){this.scene=c,this.panels=[],this.shadows=[],this.pointers=[],this.textObjects=[],this.currentLine=0,this.soundVolume=.1,this.activeTimers=[],this.typingTimer=null}startDialogue(c,y,P,M){this.currentLine>0&&this.currentLine<this.lines.length&&this.isDialogueRunning()||(this.resetDialogue(),this.lines=c,this.onComplete=y,this.dialogueX=P,this.dialogueY=M,this.currentLine=0,this.showNextLine())}finishDialogue(){this.onComplete&&(this.onComplete(),this.onComplete=null)}isDialogueRunning(){return Array.isArray(this.lines)&&this.currentLine<this.lines.length}showNextLine(){const c=this.lines[this.currentLine],y=c.x!==void 0?c.x:this.dialogueX,P=c.y!==void 0?c.y:this.dialogueY;if(this.currentLine<this.lines.length){let O=this.lines[this.currentLine].text;this.createPanel(P,O,this.lines[this.currentLine].color,y,this.lines[this.currentLine].speaker);const v=this.currentLine,S=this.textObjects[v],t=this.panels[v],o=this.shadows[v],m=this.pointers[v];O===O.toUpperCase()?(this.soundVolume=.2,this.shoutTween=this.scene.tweens.add({targets:S,x:{from:S.x-2,to:S.x+2},duration:50,yoyo:!0,repeat:-1})):this.soundVolume=.1,S.setStyle({color:this.lines[v].color}),S.setText(""),this.typeText(S,O,()=>{if(this.lines[v].persist)return;const r=this.scene.time.delayedCall(1250,()=>{this.scene.tweens.add({targets:[t,S,o,m],alpha:0,duration:1e3,ease:"Power2",onComplete:()=>{t.destroy(),o.destroy(),this.currentLine++,this.currentLine<this.lines.length?this.showNextLine():this.finishDialogue()}})});this.activeTimers.push(r)})}}createPanel(c,y,P,M=50,O="tutorial"){const{add:v}=this.scene;console.log("Creating dialogue panel:",y);const S=20,t=7,o=20,m=11913603,a=8,r=20,n=350,e=1e3,s=v.text(0,0,y,{fontFamily:"VT323",fontSize:"20px"});let h=Math.min(s.width+t*2+r*2+10,n);s.destroy();const i=v.text(0,0,y,{fontFamily:"VT323",fontSize:"20px",wordWrap:{width:h-t*2-r*2}}),l=i.height+t*2;i.destroy();const u=v.graphics();u.setDepth(e),u.fillStyle(0,.5),u.fillRoundedRect(S+10+M,c+10,h,l,o),this.shadows.push(u);const d=v.graphics();d.setDepth(e+1),d.lineStyle(a,m,1),d.strokeRoundedRect(S+M,c,h,l,o),d.fillStyle(14608074,1),d.fillRoundedRect(S+M,c,h,l,o),this.panels.push(d);const f=v.graphics();f.setDepth(e+2),f.fillStyle(11913603,1);const p=c+l-5;O==="left"?f.fillTriangle(S-25+M,p+10,S+M,p-15,S+M,p):O==="right"?f.fillTriangle(S+h+25+M,p+10,S+h+M,p-15,S+h+M,p):O===""&&f.setVisible(!1),this.pointers.push(f);const g=v.text(S+t+r+M,c+t,"",{fontFamily:"VT323",fontSize:"20px",color:P,wordWrap:{width:h-t*2-r*2}});g.setDepth(e+3),this.textObjects.push(g)}getWrappedText(c,y,P){const M=c.split(/(\s+)/);let O="",v="";const S=this.scene.add.text(0,0,"",y);for(let t=0;t<M.length;t++){const o=O+M[t];S.setText(o),S.width>P&&O!==""?(v+=`
`+M[t].trimStart(),O=M[t].trimStart()):(v+=M[t],O=o)}return S.destroy(),v}typeText(c,y,P,M=40){const O=this.lines[this.currentLine].speaker,v={player:"speechSound",npc:"speechSound",narrator:"narratorSound",tutorial:"tutorialSound"}[O]||"speechSound",S=this.scene.sound.add(v),t={fontFamily:c.style.fontFamily,fontSize:c.style.fontSize},o=this.getWrappedText(y,t,c.style.wordWrapWidth);let m=0,a="";const r=()=>{if(!(!c||!o))if(m<o.length){a+=o[m],c.setText(a),m++;let n=O===""?1:Phaser.Math.FloatBetween(.7,1.3);S.play({volume:this.soundVolume,rate:n}),this.typingTimer=this.scene.time.delayedCall(M,r)}else P&&P()};r()}resetDialogue(){this.shoutTween&&(this.shoutTween.stop(),this.shoutTween=null),this.panels.forEach(c=>c.destroy()),this.shadows.forEach(c=>c.destroy()),this.pointers.forEach(c=>c.destroy()),this.textObjects.forEach(c=>c.destroy()),this.panels=[],this.shadows=[],this.pointers=[],this.textObjects=[]}stopDialogue(){this.shoutTween&&(this.shoutTween.stop(),this.shoutTween=null),this.typingTimer&&(this.typingTimer.remove(),this.typingTimer=null),this.panels.forEach(c=>c.destroy()),this.shadows.forEach(c=>c.destroy()),this.pointers.forEach(c=>c.destroy()),this.textObjects.forEach(c=>c.destroy()),this.panels=[],this.shadows=[],this.pointers=[],this.textObjects=[],this.lines=[],this.currentLine=0,this.onComplete=null}}class lx extends ct.Scene{constructor(){super("loreScene")}preload(){this.load.audio("speechSound","../assets/speechSound.wav"),this.load.spritesheet("playerSheet","assets/rose.png",{frameWidth:32,frameHeight:65})}create(){this.dialogue=new Ce(this),this.spaceKey=this.input.keyboard.addKey(ct.Input.Keyboard.KeyCodes.SPACE),this.anims.create({key:"roseIdle",frames:this.anims.generateFrameNumbers("playerSheet",{start:130,end:135}),frameRate:3,repeat:-1});const c=this.add.sprite(200,170,"playerSheet");c.setScale(2.5),c.play("roseIdle"),this.sound.volume=.2,this.dialogue.startDialogue([{text:"You are Rose, a tutor at coding bootcamp CorthNoders. Your work from home job involves imparting knowledge to your bootcamp students, affectionately known as Devlings.",speaker:"",color:"#1f451c",x:350,y:120},{text:"Welcome ... to StackDew Valley.",speaker:"",color:"#1f451c",x:350,y:160}],()=>{this.time.delayedCall(1e3,()=>{this.moveScene("firstFloor")})},350,160)}update(){ct.Input.Keyboard.JustDown(this.spaceKey)&&this.moveScene("firstFloor")}moveScene(c){this.input.keyboard.enabled=!1,this.cameras.main.fadeOut(1e3,0,0,0),this.time.delayedCall(1e3,()=>{this.scene.start(c),this.input.keyboard.enabled=!0})}}class Te extends ct.Physics.Arcade.Sprite{constructor(c,y,P,M){super(c,y,P,M),c.add.existing(this),c.physics.add.existing(this),this.setSize(24,20).setOffset(4,45),this.cursors=c.input.keyboard.createCursorKeys(),this.spacebar=c.input.keyboard.addKey(ct.Input.Keyboard.KeyCodes.SPACE),this.lastDirection="down",this.createAnimations(c)}createAnimations(c){c.anims.exists("walk-left")||(c.anims.create({key:"walk-left",frames:this.anims.generateFrameNumbers("playerSheet",{start:124,end:129}),frameRate:7,repeat:-1}),c.anims.create({key:"walk-right",frames:this.anims.generateFrameNumbers("playerSheet",{start:112,end:117}),frameRate:7,repeat:-1}),c.anims.create({key:"walk-up",frames:this.anims.generateFrameNumbers("playerSheet",{start:118,end:123}),frameRate:7,repeat:-1}),c.anims.create({key:"walk-down",frames:this.anims.generateFrameNumbers("playerSheet",{start:130,end:135}),frameRate:7,repeat:-1}),c.anims.create({key:"disappointed",frames:this.anims.generateFrameNumbers("playerSheet",{start:200,end:206}),frameRate:7,repeat:-1}),c.anims.create({key:"standing",frames:this.anims.generateFrameNumbers("playerSheet",{start:56,end:60}),frameRate:7,repeat:-1}),c.anims.create({key:"mitchStanding",frames:this.anims.generateFrameNumbers("mitchSheet",{start:56,end:60}),frameRate:7,repeat:-1}),c.anims.create({key:"turning-forward",frames:this.anims.generateFrameNumbers("playerSheet",{start:79,end:75}),frameRate:7,repeat:-1}),c.anims.create({key:"bossStanding",frames:this.anims.generateFrameNumbers("bossSheet",{start:79,end:75}),frameRate:7,repeat:-1}),c.anims.create({key:"celebrating",frames:this.anims.generateFrameNumbers("playerSheet",{start:510,end:520}),frameRate:7,repeat:-1}),c.lastDirection="down")}update(){this.body.setVelocity(0);let y=null;if(this.cursors.left.isDown)this.body.setVelocityX(-300),this.anims.play("walk-left",!0),y="left";else if(this.cursors.right.isDown)this.body.setVelocityX(300),this.anims.play("walk-right",!0),y="right";else if(this.cursors.up.isDown)this.body.setVelocityY(-300),this.anims.play("walk-up",!0),y="up";else if(this.cursors.down.isDown)this.body.setVelocityY(300),this.anims.play("walk-down",!0),y="down";else switch(this.anims.stop(),this.lastDirection){case"left":this.setFrame(2);break;case"right":this.setFrame(0);break;case"up":this.setFrame(1);break;case"down":this.setFrame(3);break}y&&(this.lastDirection=y),this.body.velocity.normalize().scale(300)}}class en{constructor(c){this.scene=c,this.devlingSprites={},this.devlingShadowSprites={},this.devlingWateredSprites={},this.plantedDevlingSprites={},this.plotOffset=0}render(c,y){const{add:P}=this.scene;this.plotOffset=0,Object.values(this.devlingSprites).forEach(t=>t.destroy()),Object.values(this.devlingShadowSprites).forEach(t=>t.destroy()),Object.values(this.plantedDevlingSprites).forEach(t=>t.destroy()),this.devlingSprites={},this.devlingShadowSprites={},this.plantedDevlingSprites={};let M=50,O=50,v=500,S=70;c.forEach(t=>{if(!t.isPlanted||t.isGrown){const o=P.sprite(M,O,t.name),m=P.sprite(M+4,O+4,t.name);m.setTint(0),m.setAlpha(.5),o.setDepth(1002),m.setDepth(1001),this.devlingSprites[t.name]=o,this.devlingShadowSprites[t.name]=m,M+=40}if(this.scene.scene.key==="farmScene"){if(t.isPlanted&&!t.isGrown){if(t.plantX===void 0||t.plantY===void 0){const m=Math.floor(this.plotOffset/3),a=this.plotOffset%3;t.plantX=v+a*62,t.plantY=S+m*65}this.plotOffset++;const o=P.sprite(t.plantX,t.plantY,t.name);o.setDepth(6),this.plantedDevlingSprites[t.name]=o}if(t.isPlanted&&t.isWatered&&!t.isGrown&&!t.isWateredTweenActive){const o=P.sprite(t.plantX,t.plantY,t.name);o.setTint(0),o.setAlpha(.5),o.setDepth(4),o.setScale(1.5),this.devlingWateredSprites[t.name]=o,t.isWateredTweenActive=!0,this.scene.tweens.add({targets:o,alpha:0,duration:5e3,ease:"Sine.easeInOut",onComplete:()=>{t.isWatered=!0,t.isWateredTweenActive=!1,o.destroy(),delete this.devlingWateredSprites[t.name]}})}}})}jiggleSprite(c){const y=this.devlingSprites[c];this.scene.tweens.add({targets:y,x:y.x+3,yoyo:!0,repeat:3,duration:50,ease:"Sine.easeInOut"});const P=this.devlingShadowSprites[c];P&&this.scene.tweens.addCounter({from:0,to:100,duration:200,yoyo:!0,ease:"Sine.easeInOut",onUpdate:M=>{const O=M.getValue(),v=Phaser.Display.Color.Interpolate.ColorWithColor(Phaser.Display.Color.ValueToColor(0),Phaser.Display.Color.ValueToColor(16777215),100,O);P.setTint(Phaser.Display.Color.GetColor(v.r,v.g,v.b))},onComplete:()=>{P.setTint(0)}})}}function co(A){A.scene.isPaused(A)?(A.scene.stop("pauseScene"),A.scene.resume(A.scene.key)):(A.scene.pause(),A.scene.launch("pauseScene",{returnScene:A.scene.key}))}const Ge=[{name:"James",frontend:1,backend:4,"dev ego":2,commits:2,debugging:3,Resilience:5,sprite:"../assets/battleHeads/James.png",nameSound:"../assets/sounds/james.mp3",isPlanted:!1,isWatered:!1,isGrown:!1,hasBattled:!1},{name:"kai",frontend:3,backend:2,"dev ego":5,commits:4,debugging:1,Resilience:1,sprite:"../assets/battleHeads/Claire.png",nameSound:"../assets/sounds/kai.mp3",isPlanted:!1,isWatered:!1,isGrown:!1,hasBattled:!1},{name:"evie",frontend:5,backend:4,"dev ego":1,commits:0,debugging:4,Resilience:0,sprite:"../assets/battleHeads/Evie.png",nameSound:"../assets/sounds/james.mp3",isPlanted:!1,isWatered:!1,isGrown:!1,hasBattled:!1},{name:"Noah",frontend:5,backend:1,"dev ego":4,commits:3,debugging:0,Resilience:3,sprite:"../assets/battleHeads/Noah.png",nameSound:"../assets/sounds/james.mp3",isPlanted:!1,isWatered:!1,isGrown:!1,hasBattled:!1},{name:"penny",frontend:4,backend:0,"dev ego":2,commits:4,debugging:5,Resilience:2,sprite:"../assets/battleHeads/Penny.png",nameSound:"../assets/sounds/james.mp3",isPlanted:!1,isWatered:!1,isGrown:!1,hasBattled:!1},{name:"steve",frontend:2,backend:4,"dev ego":3,commits:4,debugging:5,Resilience:4,sprite:"../assets/battleHeads/steve.png",nameSound:"../assets/sounds/steve.mp3",isPlanted:!1,isWatered:!1,isGrown:!1,hasBattled:!1}];let Wt=[];class ux extends ct.Scene{constructor(){super("farmScene")}init(c){this.from=c.from;const P={firstFloor:{x:275,y:300},overworldScene:{x:700,y:340}}[this.from]||{x:275,y:300};this.spawnX=P.x,this.spawnY=P.y}preload(){this.load.tilemapTiledJSON("theFarmMap","../assets/chrisfarm.json"),this.load.image("1_Terrains_32x32","../assets/1_Terrains_32x32.png"),this.load.image("2_Fences_32x32","../assets/2_Fences_32x32.png"),this.load.image("3_Props_and_Buildings_32x32","../assets/3_Props_and_Buildings_32x32.png"),this.load.image("6_Trees_32x32","../assets/6_Trees_32x32.png"),this.load.spritesheet("playerSheet","assets/rose.png",{frameWidth:64,frameHeight:64}),this.load.spritesheet("devlingImage","../assets/devlingSpritesheet.png",{frameWidth:64,frameHeight:64}),this.load.audio("plantingSound","../assets/planting.wav"),this.load.audio("wateringSound","../assets/watering.wav"),this.load.audio("harvestingSound","../assets/harvest.wav"),this.load.audio("birdsSound","../assets/birds.wav"),this.load.audio("speechSound","../assets/speechSound.wav"),this.load.audio("doorSound","../assets/door.wav"),this.load.audio("levelUpSound","../assets/levelup.wav")}create(){this.input.keyboard.enabled=!0,this.spaceKey=this.input.keyboard.addKey(ct.Input.Keyboard.KeyCodes.SPACE),this.pKey=this.input.keyboard.addKey(ct.Input.Keyboard.KeyCodes.P),this.dialogue=new Ce(this),this.isDialogueRunning=!1,this.renderInventory=new en(this),this.renderInventory.render(Wt),this.registry.get("farmSceneTutorial")||(this.registry.set("farmSceneTutorial",!0),this.time.delayedCall(700,()=>{this.dialogue.startDialogue([{text:"Tip: Use this plot by the troughs to nurture your devlings.",speaker:"",color:"#1f451c"},{text:"Press Space to interact with it.",speaker:"",color:"#1f451c",x:370,y:20},{text:"Devlings need to be planted, watered then harvested.",speaker:"",color:"#1f451c"},{text:"You can also head back into the farmhouse or into StackDew Valley.",speaker:"",color:"#1f451c"}],null,360,20)})),this.plantingSound=this.sound.add("plantingSound"),this.wateringSound=this.sound.add("wateringSound"),this.harvestingSound=this.sound.add("harvestingSound"),this.birdSound=this.sound.add("birdsSound"),this.doorSound=this.sound.add("doorSound"),this.levelUpSound=this.sound.add("levelUpSound"),this.doorSoundPlayed=!1,this.frontDoorTrigger=this.physics.add.sprite(273,260,null),this.frontDoorTrigger.setSize(45,60),this.frontDoorTrigger.setVisible(!1),this.frontDoorTriggered=!1,this.toOverworldTrigger=this.physics.add.sprite(775,365,null),this.toOverworldTrigger.setSize(40,110),this.toOverworldTrigger.setVisible(!1),this.toOverworldTriggered=!1,this.plantTrigger=this.physics.add.sprite(560,215,null),this.plantTrigger.setSize(150,40),this.plantTrigger.setVisible(!1),this.plantTriggered=!1,this.devlingSprites={},this.devlingShadowSprites={},this.plantedDevlingSprites={},this.cameras.main.fadeIn(1e3,0,0,0);const c=this.make.tilemap({key:"theFarmMap"}),y=c.addTilesetImage("1_Terrains_32x32"),P=c.addTilesetImage("2_Fences_32x32"),M=c.addTilesetImage("3_Props_and_Buildings_32x32"),O=c.addTilesetImage("6_Trees_32x32"),v=[y,P,M,O];c.createLayer("base",v,0,0),c.createLayer("trees",v,0,0),c.createLayer("trees2",v,0,0);const S=c.createLayer("props",v,0,0),t=c.createLayer("plots",v,0,0);S.setCollisionByProperty({collide:!0}),t.setCollisionByProperty({collide:!0}),this.player=new Te(this,this.spawnX,this.spawnY,"playerSheet"),this.physics.add.collider(this.player,S),this.physics.add.collider(this.player,t),this.cameras.main.setBounds(0,0,c.widthInPixels,c.heightInPixels),this.input.keyboard.enabled=!0,this.debugGraphics=this.add.graphics(),this.debugGraphics.lineStyle(1,65280),this.renderInventory.render(Wt),this.birdSound.play(),this.scarecrowMessagePlayed=!1;const o=ct.Math.Between(21e3,24e3);this.time.delayedCall(o,()=>{this.tryTriggerScarecrowMessage()}),this.events.on("wake",()=>{this.isDialogueRunning=!1,this.weedsEatenFromBySnake?console.log("wtf"):(console.log("Returning from snake game with weeds eaten:",this.weedsEatenBySnake),this.applyWeedBonus(this.weedsEatenBySnake),delete this.weedsEatenBySnake)})}update(){this.player.update(),ct.Input.Keyboard.JustDown(this.pKey)&&co(this);const c=this.player.height*.25,y=new ct.Geom.Rectangle(this.player.x-this.player.width/6,this.player.y-this.player.height/4+c,this.player.width/3,c);if(ct.Geom.Intersects.RectangleToRectangle(y,this.frontDoorTrigger.getBounds())){this.player.body.moves=!1;const v=this.add.rectangle(272,257,33,45,3355443).setOrigin(.5);v.setDepth(500),v.setAlpha(0),this.tweens.add({targets:v,alpha:.3,duration:500,ease:"Power1"}),this.tweens.add({targets:this.player,alpha:0,duration:200,ease:"Power1"}),this.time.delayedCall(100,()=>{this.doorSoundPlayed||(this.sound.play("doorSound",{volume:.3}),this.doorSoundPlayed=!0),this.moveScene("firstFloor")})}const P=this.toOverworldTrigger.body;ct.Geom.Intersects.RectangleToRectangle(y,new ct.Geom.Rectangle(P.x,P.y,P.width,P.height))&&(this.input.keyboard.enabled=!1,this.moveSceneToOverworld("overworldScene"));const M=this.plantTrigger.body;if(ct.Geom.Intersects.RectangleToRectangle(y,new ct.Geom.Rectangle(M.x,M.y,M.width,M.height))&&ct.Input.Keyboard.JustDown(this.spaceKey)&&!this.isDialogueRunning){const v=Wt.find(t=>!t.isPlanted&&!t.isGrown),S=Wt.find(t=>t.isPlanted&&!t.isWatered&&!t.isGrown);if(Wt.findIndex(t=>t.isPlanted&&t.isWatered&&!t.isGrown),v)v.isPlanted=!0,localStorage.setItem("userInventory",JSON.stringify(Wt)),this.plantingSound.play(),console.log("planting",v.name),this.renderInventory.render(Wt);else if(S)S.isWatered=!0,S.isWateredTweenActive=!1,this.wateringSound.play({volume:.5}),console.log("watering",S.name),this.renderInventory.render(Wt);else if(Wt.some(t=>t.isPlanted&&t.isWatered&&!t.isGrown)){this.dialogue&&this.dialogue.stopDialogue&&this.dialogue.stopDialogue(),this.scene.launch("minigameSnake"),this.scene.sleep("farmScene");const t=[];Wt.forEach(o=>{o.isPlanted&&o.isWatered&&!o.isGrown&&(o.isGrown=!0,o.isPlanted=!1,o.isWatered=!1,t.push(o.name))}),t.length>0&&(console.log("Harvested devlings:",t.join(", ")),this.harvestingSound.play(),this.renderInventory.render(Wt))}else this.dialogue&&this.dialogue.stopDialogue&&(this.dialogue.stopDialogue(),this.dialogue.startDialogue([{text:"Nothing to do here right now...",speaker:"",color:"#1f451c"}],()=>{this.isDialogueRunning=!1},385,20),this.isDialogueRunning=!0)}}moveScene(c){this.input.keyboard.enabled=!1,this.cameras.main.fadeOut(500,0,0,0),this.time.delayedCall(500,()=>{this.scene.start(c)})}moveSceneToOverworld(c){this.input.keyboard.enabled=!1,this.cameras.main.fadeOut(500,0,0,0),this.time.delayedCall(500,()=>{this.scene.start(c,{from:"farmScene"})})}tryTriggerScarecrowMessage(){if(!this.scarecrowMessagePlayed)if(this.isDialogueRunning)this.time.delayedCall(3e3,()=>{this.tryTriggerScarecrowMessage()});else{this.scarecrowMessagePlayed=!0,this.isDialogueRunning=!0;const c=this.getScarecrowMessage();console.log(c),this.dialogue.startDialogue([{text:c,speaker:"right",color:"#1f451c"}],()=>{this.isDialogueRunning=!1},310,70)}}getScarecrowMessage(){const c=["Ah, lazy Sunday. The most chill day of all.","Happy Monday Coders! Did you have a nice weekend?","Tuesday is a great day to learn new code!","Wednesday! Its all downhill to the weekend from here...","Thursday is like Friday for Friday. Thats syntactic sugar baby!","Fri-YAY! Amirite?","Its the weekend. Make the most of it!"],y=new Date().getDay();return c[y]}applyWeedBonus(c){let y=c*10;y>90&&(y=90),console.log(`bonus chance of ${y} derived from ${c} weeds eaten...`);const P=["frontend","backend","dev ego","commits","debugging","Resilience"];let M=0;Wt.forEach((O,v)=>{this.time.delayedCall(M,()=>{const S=P[ct.Math.Between(0,P.length-1)],t=ct.Math.Between(0,99);console.log(`Devling is ${O.name}, d100 = ${t}, increaseChance is ${y}`),t<y?(O[S]+=1,this.renderInventory.jiggleSprite(O.name),this.sound.play("levelUpSound",{volume:.3,detune:ct.Math.Between(-50,50)}),this.isDialogueRunning=!0,this.dialogue.startDialogue([{text:`${O.name}'s ${S} increased to ${O[S]}`,speaker:"",color:"#1f451c",x:380,y:20}],null,380,20)):this.dialogue.startDialogue([{text:`Sadly, ${O.name} did not improve their skills this time.`,speaker:"",color:"#1f451c",x:365,y:20}],null,365,20)}),M+=2750})}}class fx extends ct.Scene{constructor(){super("officeScene")}preload(){this.load.image("dummyOfficeMap","assets/dummyOfficeMap.png"),this.load.audio("speechSound","../assets/speechSound.wav")}create(){this.dialogue=new Ce(this),this.renderInventory=new en(this),this.renderInventory.render(Wt);const c=this.cameras.main.centerX,y=this.cameras.main.centerY,P=this.add.image(c,y+120,"dummyOfficeMap").setOrigin(.5),M=this.cameras.main.width/P.width,O=this.cameras.main.height/P.height,v=Math.min(M*2.2,O*1.6);P.setScale(v),this.cameras.main.fadeIn(1e3,0,0,0),this.spaceKey=this.input.keyboard.addKey(ct.Input.Keyboard.KeyCodes.SPACE),this.dialogue.startDialogue([{text:"This feature is under construction.",speaker:"",color:"#1f451c"},{text:"Please come back at a later date to see how your Devlings have flourished.",speaker:"",color:"#1f451c"},{text:"I love my job.",speaker:"left",color:"#1f451c",x:260,y:40},{text:"Thanks CorthNoders!",speaker:"left",color:"#1f451c",x:260,y:40}],null,220,365)}update(){ct.Input.Keyboard.JustDown(this.spaceKey)&&this.moveScene()}moveScene(){this.input.keyboard.enabled=!1,this.cameras.main.fadeOut(1e3,0,0,0),this.time.delayedCall(1e3,()=>{this.scene.start("overworldScene",{from:"officeScene"}),this.input.keyboard.enabled=!0})}}class dx extends ct.Scene{constructor(){super("overworldScene")}init(c){this.from=c.from,console.log(this.from);const P={farmScene:{x:200,y:220},officeScene:{x:490,y:130},battleScene:{x:200,y:275},dungeonScene:{x:500,y:320},trumpScene:{x:200,y:275}}[this.from]||{x:275,y:300};this.spawnX=P.x,this.spawnY=P.y}preload(){this.load.image("mapImage","../assets/overworldsophienew.png"),this.load.spritesheet("playerSheet","../assets/rose.png",{frameWidth:64,frameHeight:64}),this.load.spritesheet("devlingImage","../assets/devlingSpritesheet.png",{frameWidth:64,frameHeight:64})}create(){this.input.keyboard.enabled=!0,this.cameras.main.fadeIn(1e3,0,0,0),this.add.image(400,221,"mapImage"),this.farmTrigger=this.physics.add.sprite(200,150,null),this.farmTrigger.setSize(125,80),this.farmTrigger.setVisible(!1),this.farmTriggered=!1,this.arenaTrigger=this.physics.add.sprite(150,350,null),this.arenaTrigger.setSize(150,60),this.arenaTrigger.setVisible(!1),this.arenaTriggered=!1,this.jobMarketTrigger=this.physics.add.sprite(450,70,null),this.jobMarketTrigger.setSize(150,100),this.jobMarketTrigger.setVisible(!1),this.jobMarketTriggered=!1,this.dungeonTrigger=this.physics.add.sprite(550,375,null),this.dungeonTrigger.setSize(150,100),this.dungeonTrigger.setVisible(!1),this.dungeonTriggered=!1,this.player=new Te(this,this.spawnX,this.spawnY,"playerSheet"),this.renderInventory=new en(this),this.from==="trumpScene"&&console.log("Refreshing inventory after trumpScene"),this.renderInventory.render(Wt),this.spaceKey=this.input.keyboard.addKey(ct.Input.Keyboard.KeyCodes.SPACE),this.dialogue=new Ce(this),this.isDialogueRunning=!1,this.registry.get("overworldTutorialShown")||(this.dialogue.startDialogue([{text:"Harvested Devlings need to be taken South West to the ...",speaker:"",color:"#1f451c",x:200,y:350},{text:"JOB MARKET!!!",speaker:"",color:"#1f451c",x:250,y:350},{text:"The StackDew Valley Farm is to the North West.",speaker:"",color:"#1f451c",x:200,y:350},{text:"To the North East you can visit Devlings who have acquired Gainful Employment.",speaker:"",color:"#1f451c",x:200,y:350},{text:"Other visitable areas may appear in future updates...",speaker:"",color:"#1f451c",x:200,y:350}],null,0,0),this.registry.set("overworldTutorialShown",!0))}update(){this.player.update();const c=new ct.Geom.Rectangle(this.player.x-this.player.width/2+24,this.player.y-this.player.height/2+38,15,8),y=80,P=530,M=80,O=350;this.player.x=ct.Math.Clamp(this.player.x,y,P),this.player.y=ct.Math.Clamp(this.player.y,M,O),ct.Geom.Intersects.RectangleToRectangle(c,this.farmTrigger.getBounds())&&!this.farmTriggered&&(console.log("go to farm!"),this.moveSceneNew("farmScene"),this.farmTriggered=!0);const S=Wt.some(a=>a.isGrown===!0);ct.Geom.Intersects.RectangleToRectangle(c,this.arenaTrigger.getBounds())&&!this.arenaTriggered&&(S?(console.log("go to j.a!"),this.moveSceneNew("battleScene"),this.arenaTriggered=!0):console.log("no")),ct.Geom.Intersects.RectangleToRectangle(c,this.jobMarketTrigger.getBounds())&&!this.jobMarketTriggered&&(console.log("go to job market!"),this.moveSceneNew("officeScene"),this.jobMarketTriggered=!0),ct.Geom.Intersects.RectangleToRectangle(c,this.dungeonTrigger.getBounds())&&!this.dungeonTriggered&&(console.log("go to dungeon!"),this.moveSceneNew("dungeonScene"),this.dungeonTriggered=!0)}moveScene(c){this.input.keyboard.enabled=!1,this.cameras.main.fadeOut(500,0,0,0),this.time.delayedCall(500,()=>{this.scene.start(c)})}moveSceneNew(c){this.input.keyboard.enabled=!1,this.cameras.main.fadeOut(500,0,0,0),this.time.delayedCall(500,()=>{this.scene.start(c,{from:"overworldScene"})})}}class cx extends ct.Scene{constructor(){super("preloadScene")}preload(){this.load.image("logo","./assets/CN logo.png")}create(){this.add.image(400,300,"logo"),this.add.text(20,550,"Overworld Test Project",{fontSize:"32px",fill:"#fff"}),this.spaceKey=this.input.keyboard.addKey(ct.Input.Keyboard.KeyCodes.SPACE)}update(){ct.Input.Keyboard.JustDown(this.spaceKey)&&(this.time.delayedCall(1e3),this.moveScene())}moveScene(){this.cameras.main.fadeOut(1e3,0,0,0),this.cameras.main.once("camerafadeoutcomplete",()=>{this.scene.start("battleCardScene")})}}class vx extends ct.Scene{constructor(){super("firstFloor")}preload(){this.load.tilemapTiledJSON("firstFloorHouseMapData","../assets/chrishouseMap.json"),this.load.image("firstFloorHouseMap","../assets/chrishouseMap.png"),this.load.spritesheet("playerSheet","assets/rose.png",{frameWidth:32,frameHeight:65}),this.load.spritesheet("mitchSheet","assets/mitchSprite.png",{frameWidth:32,frameHeight:65}),this.load.spritesheet("bossSheet","assets/theboss.png",{frameWidth:32,frameHeight:65}),Ge.forEach(c=>{this.load.spritesheet(c.name,c.sprite,{frameWidth:64,frameHeight:64})}),this.load.image("emailIcon","assets/email.png"),this.load.image("newMailIcon","assets/mail.png"),this.load.audio("mailSound","assets/yougotmail.mp3"),this.load.audio("harvestingSound","../assets/harvest.wav"),this.load.audio("speechSound","../assets/speechSound.wav")}create(){this.sound.volume=.7,this.dialogue=new Ce(this),this.renderInventory=new en(this),this.renderInventory.render(Wt),this.harvestingSound=this.sound.add("harvestingSound");const{ENTER:c,SPACE:y}=ct.Input.Keyboard.KeyCodes;this.enterKey=this.input.keyboard.addKey(c),this.spaceKey=this.input.keyboard.addKey(y),this.pKey=this.input.keyboard.addKey(ct.Input.Keyboard.KeyCodes.P);const P=this.make.tilemap({key:"firstFloorHouseMapData"}),M=P.addTilesetImage("houseMap","firstFloorHouseMap"),O=P.createLayer("Tile Layer 1",M).setCollisionByProperty({collide:!0});O.setPosition(0,0);const v=P.createLayer("Tile Layer 2",M);v.setPosition(0,0),v.setDepth(10),this.registry.get("firstFloorSceneTutorial")?(this.player=new Te(this,545,370,"playerSheet"),this.player.anims.isPlaying&&this.player.anims.stop(),this.player.lastDirection="up",this.player.setTexture("playerSheet").setFrame(1),this.player.setFrame(1)):this.player=new Te(this,130,120,"playerSheet"),this.physics.add.collider(this.player,O),this.registry.get("firstFloorSceneTutorial")||(this.registry.set("firstFloorSceneTutorial",!0),this.time.delayedCall(700,()=>{this.dialogue.startDialogue([{text:"Tip: Use arrow keys to move and spacebar to interact.",speaker:"",color:"#1f451c"},{text:"It's almost 8:45 and time for the morning lecture.",speaker:"",color:"#1f451c"},{text:"RISE AND SHINE CODERS!!!",speaker:"",color:"#1f451c"},{text:"Tip: As a tutor, CorthNoders may contact you on your laptop.",speaker:"",color:"#1f451c"},{text:"Alternatively, why not pop outside to touch grass?",speaker:"",color:"#1f451c"}],null,30,345)})),this.emailIcon=this.physics.add.staticSprite(274,90,"emailIcon").setVisible(!1),this.floatingMail=this.add.image(400,650,"emailIcon").setVisible(!1).setScale(.5),this.mailSound=this.sound.add("mailSound"),this.nearEmail=!1,this.bobTween=this.tweens.add({targets:this.floatingMail,y:"-=10",duration:600,yoyo:!0,repeat:-1,ease:"Sine.easeInOut",paused:!0}),this.physics.add.overlap(this.player,this.emailIcon,()=>{this.nearEmail=!0}),this.input.keyboard.on("keydown-ENTER",()=>{this.nearEmail&&this.emailIcon.visible&&this.scene.start("ComputerScene")}),this.mailTimer=this.time.addEvent({delay:12e3,callback:this.spawnEmail,callbackScope:this,loop:!0}),this.createTriggers(),this.computerTrigger=this.physics.add.sprite(265,130,null),this.computerTrigger.setSize(60,60),this.computerTrigger.setVisible(!1),this.computerTriggered=!1,this.devlingSprites={},this.cameras.main.setBounds(0,0,P.widthInPixels,P.heightInPixels),this.cameras.main.startFollow(this.player,!0,.1,.1),this.cameras.main.fadeIn(1e3,0,0,0)}spawnEmail(){this.emailIcon.setVisible(),this.floatingMail.setVisible(!0),this.floatingMail.setPosition(this.emailIcon.x,this.emailIcon.y-20),this.nearEmail=!1,this.mailSound.play(),this.bobTween&&(this.bobTween.stop(),this.bobTween.remove()),this.bobTween=this.tweens.add({targets:this.floatingMail,y:this.floatingMail.y-10,duration:600,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"})}update(){this.player.update(),this.renderInventory.render(Wt),ct.Input.Keyboard.JustDown(this.pKey)&&co(this);const c=new ct.Geom.Rectangle(this.player.x-this.player.width/2,this.player.y-this.player.height/2,this.player.width,this.player.height);this.handleTriggers(c),this.nearEmail=ct.Geom.Intersects.RectangleToRectangle(c,this.emailIcon.getBounds());const y=ct.Geom.Intersects.RectangleToRectangle(c,this.computerTrigger.getBounds());if(y&&!this.computerTriggered&&ct.Input.Keyboard.JustDown(this.spaceKey)){if(this.computerTriggered=!0,this.harvestingSound.play(),Ge.length>0&&Wt.length===0){for(let P=0;P<Ge.length;P++){const M=Ge[P];Wt.push(M),this.renderInventory.render(Wt)}console.log("devlings collected",Wt)}}else!y&&this.computerTriggered&&(this.computerTriggered=!1)}createTriggers(){this.doorTrigger=this.physics.add.sprite(560,440).setSize(110,53).setVisible(!1),this.doorTriggered=!1,this.kitchenTrigger=this.physics.add.sprite(555,290).setSize(170,70).setVisible(!1),this.kitchenTriggered=!1}handleTriggers(c){const y=ct.Geom.Intersects.RectangleToRectangle(c,this.doorTrigger.getBounds());y&&!this.doorTriggered?(this.doorTriggered=!0,this.moveScene("farmScene")):y||(this.doorTriggered=!1);const P=ct.Geom.Intersects.RectangleToRectangle(c,this.kitchenTrigger.getBounds());P&&!this.kitchenTriggered&&!this.dialogue.isDialogueRunning()?(this.kitchenTriggered=!0,this.dialogue.startDialogue([{text:"The kitchen is being renovated right now and will have fun things to do in future versions.",speaker:"",color:"#1f451c"}],null,350,125)):P||(this.kitchenTriggered=!1)}moveScene(c){this.input.keyboard.enabled=!1,this.cameras.main.fadeOut(1e3,0,0,0),this.time.delayedCall(1e3,()=>{this.scene.start(c),this.input.keyboard.enabled=!0})}}class px extends ct.Scene{constructor(){super("secondFloor")}preload(){this.load.tilemapTiledJSON("secondFloorSceneMap","assets/secondFloorSceneMap.json"),this.load.image("secondFloorSceneMap","assets/secondFloorSceneMap.png"),this.load.spritesheet("playerSheet","assets/dummy.png",{frameWidth:32,frameHeight:61})}create(){this.doorTrigger=this.physics.add.sprite(350,640,null),this.doorTrigger.setSize(110,25),this.doorTrigger.setVisible(!1),this.doorTriggered=!1;const c=this.make.tilemap({key:"secondFloorSceneMap"}),y=c.addTilesetImage("secondFloorSceneMap","secondFloorSceneMap"),P=c.createLayer("Tile Layer 1",y,0,0);P.setCollisionByProperty({collide:!0}),P.renderDebug(this.add.graphics(),{tileColor:null,collidingTileColor:new ct.Display.Color(255,0,0,100)}),this.player=new Te(this,300,300,"playerSheet"),this.physics.add.collider(this.player,P),this.cameras.main.setBounds(0,0,c.widthInPixels,c.heightInPixels),this.cameras.main.startFollow(this.player,!0,.1,.1)}moveScene(){this.cameras.main.fadeOut(1e3,0,0,0),this.time.delayedCall(1e3,()=>{this.scene.start("firstFloor")})}update(){this.player.update();const c=new ct.Geom.Rectangle(this.player.x-this.player.width/2,this.player.y-this.player.height/2,this.player.width,this.player.height),y=ct.Geom.Intersects.RectangleToRectangle(c,this.doorTrigger.getBounds());y&&!this.doorTriggered?(this.doorTriggered=!0,this.moveScene()):!y&&this.doorTriggered&&(this.doorTriggered=!1)}}class mx extends ct.Scene{constructor(){super("ComputerScene")}create(){this.add.text(50,50,"ZE COMPUTER",{fontSize:"32px",fill:"#0f0"});const c=this.add.dom(400,300,"input",{type:"text",fontSize:"20px",width:"400px"});c.setOrigin(.5),c.node.focus(),this.input.keyboard.enabled=!1,c.node.addEventListener("keydown",y=>{y.key==="Enter"&&(c.node.value.trim()==="haha"?this.scene.start("firstFloor"):c.node.value="")})}}class gx extends ct.Scene{constructor(){super("battleScene")}preload(){this.load.image("jobApproach","../assets/battlewithapproach.png"),this.load.spritesheet("playerSheet","assets/dummy.png",{frameWidth:32,frameHeight:61}),this.load.spritesheet("fire","../assets/burning_loop_3.png",{frameWidth:15,frameHeight:24}),this.load.image("grafitti","../assets/grafitti.png"),this.load.audio("speechSound","../assets/speechSound.wav"),this.load.audio("footStepSound","../assets/footStepSound.wav"),this.load.audio("citySound","../assets/cityweird.wav"),this.input.keyboard.enabled=!0}create(){this.add.image(0,0,"jobApproach").setOrigin(0,0),this.add.sprite(300,1e3,"playerSheet"),this.cameras.main.setScroll(0,4030),this.anims.create({key:"flame",frames:this.anims.generateFrameNumbers("fire",{start:0,end:5}),frameRate:10,repeat:-1});const c=this.add.sprite(47,329,"fire"),y=this.add.sprite(750,41,"fire");c.play("flame").setScale(2.5).setFrame(3),y.play("flame").setScale(2.5),this.add.sprite(350,1600,"grafitti").setScale(.35,.65).setTint(11184810).setAngle(-5);const P=this.sound.add("citySound",{volume:.7,loop:3});P.play(),this.tweens.add({targets:P,volume:.1,duration:6500,ease:"Linear"}),this.doCutScene(),this.input.keyboard.on("keydown-SPACE",this.skipConversation,this),this.pKey=this.input.keyboard.addKey(ct.Input.Keyboard.KeyCodes.P)}skipConversation(){this.moveScene("devlingSelection")}moveScene(){this.sound.stopAll(),this.input.keyboard.enabled=!1,this.cameras.main.fadeOut(1e3,0,0,0),this.time.delayedCall(1e3,()=>{this.scene.start("devlingSelection",{from:"battleScene"}),this.input.keyboard.enabled=!0})}update(){ct.Input.Keyboard.JustDown(this.pKey)&&co(this)}doCutScene(){this.dialogue=new Ce(this),this.cameras.main.pan(400,3400,7e3,"Sine.easeInOut",!1,(c,y)=>{y===1&&this.dialogue.startDialogue([{text:`"Hello. I'm here about the job?"`,speaker:"left",color:"#2c3e50",x:260,y:3345},{text:'"Ah yes. Right this way!"',speaker:"right",color:"#502c2c",x:0,y:3340},{text:'"Uh ... thanks!"',speaker:"left",color:"#2c3e50",x:260,y:3345}],()=>{this.cameras.main.pan(400,224,11e3,"Cubic.easeInOut",!1,(P,M)=>{M===1&&this.moveSceneTrump("devlingSelection")}),this.doFootSteps()},50,3200)})}doFootSteps(){const c=this.sound.add("footStepSound",{volume:.3,loop:!1});let y=500,P=90,M=null;const O=()=>{c.play(),M=this.time.delayedCall(y,O,null,this)};this.time.delayedCall(50,()=>{O()});const v=this.time.addEvent({delay:700,callback:()=>{y>130&&(y-=P,P-=10)},loop:!0});this.time.delayedCall(6200,()=>{this.tweens.add({targets:c,volume:0,duration:1e3,ease:"Linear"})}),this.time.delayedCall(7e3,()=>{c.stop(),v.remove(),M&&M.remove()})}moveScene(){this.sound.stopAll(),this.input.keyboard.enabled=!1,this.cameras.main.fadeOut(500,0,0,0),this.time.delayedCall(500,()=>{this.scene.start("devlingSelection",{from:"battleScene"})})}moveSceneTrump(){this.sound.stopAll(),this.input.keyboard.enabled=!1,this.cameras.main.fadeOut(500,0,0,0),this.time.delayedCall(500,()=>{this.scene.start("devlingSelection",{from:"battleScene"})})}}class yx extends Phaser.Scene{constructor(){super("pauseScene")}create(c){const{returnScene:y}=c;this.dialogue=new Ce(this),this.isDialogueRunning=!1,this.add.rectangle(400,300,800,600,0,.5).setScrollFactor(0),this.dialogue.startDialogue([{text:"Paused.",speaker:"",color:"#1f451c",persist:!0}],()=>{},320,221),this.pKey=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.P),this.input.keyboard.on("keydown-P",()=>{this.scene.stop(),this.scene.resume(y)})}}const tr=[{name:"Norbion",stats:{frontend:1,backend:4,"dev ego":2,commits:2,debugging:3,Resilience:5},sprite:"../assets/battleHeads/Noah.png",nameSound:"../assets/sounds/norbion.mp3"},{name:"flyor",stats:{frontend:1,backend:5,"dev ego":3,commits:3,debugging:4,Resilience:2},sprite:"../assets/battleHeads/Flyor.png",nameSound:"../assets/sounds/norbion.mp3"},{name:"Becca",stats:{frontend:5,backend:1,"dev ego":4,commits:3,debugging:0,Resilience:3},sprite:"../assets/battleHeads/soph.png",nameSound:"../assets/sounds/beccaSound.mp3",isPlanted:!1,isWatered:!1,isGrown:!1},{name:"Zeke",stats:{frontend:5,backend:1,"dev ego":4,commits:3,debugging:0,Resilience:3},sprite:"../assets/battleHeads/Zeke.png",nameSound:"../assets/sounds/beccaSound.mp3",isPlanted:!1,isWatered:!1,isGrown:!1}];class Wi extends Phaser.GameObjects.Sprite{constructor(c,y,P,M){super(c,y,P,M.name),this.scene=c,this.devling=M,c.add.existing(this);const O=M.name,v=M.sprite;c.textures.exists(O)?(this.createAnimations(),this.playAnimation("idle")):(c.load.spritesheet(O,v,{frameWidth:64,frameHeight:64,endFrame:30}),c.load.once("complete",()=>{this.createAnimations(),this.playAnimation("idle")}),c.load.start())}createAnimations(){const c=this.devling.name;[{key:"idle",start:0,end:3},{key:"talk",start:0,end:9},{key:"win",start:10,end:19},{key:"lose",start:20,end:29}].forEach(P=>{const M=`${c}-${P.key}`;if(!this.scene.anims.exists(M)){const O=this.scene.textures.get(c).frameTotal;if(P.end>O-1){console.error(`End frame (${P.end}) exceeds total frames.`);return}this.scene.anims.create({key:M,frames:this.scene.anims.generateFrameNumbers(c,{start:P.start,end:P.end}),frameRate:10,repeat:0})}})}playAnimation(c){const y=`${this.devling.name}-${c}`;(!this.anims.currentAnim||this.anims.currentAnim.key!==y)&&(this.play(y,!0),c&&this.once(Phaser.Animations.Events.ANIMATION_COMPLETE,()=>{this.stop(),this.setFrame(0)}))}}let Bl=[];class xx extends Phaser.Scene{constructor(){super("devlingSelection")}preload(){this.load.image("background","../assets/battlewithapproach.png"),this.load.image("playerCard","../assets/cardDesign/cardFront.png"),this.load.image("front","../assets/cardDesign/cardFront.png"),this.load.image("enemyfront","../assets/cardDesign/redCardFront.png"),this.load.image("enemyback","../assets/cardDesign/redCardBack.png"),this.load.audio("nav","../assets/sounds/keypad.mp3"),this.load.audio("select","../assets/sounds/select1.mp3"),this.load.audio("error","../assets/sounds/keypadReject.mp3"),this.load.audio("roundOne","../assets/sounds/roundOne.mp3"),this.load.audio("roundTwo","../assets/sounds/roundtwo.mp3"),this.load.audio("finalRound","../assets/sounds/finalRound.mp3"),this.load.image("healthFull","../assets/health_full.png"),this.load.image("healthMid","../assets/health_mid.png"),this.load.image("healthLow","../assets/health_low.png"),this.load.image("playerDevling","../assets/heads/standingSprite.png"),this.load.image("enemyDevling","../assets/heads/standingSprite.png"),this.load.image("vsImage","../assets/vsimg.png"),this.load.audio("vsSound","../assets/sounds/vssound.mp3"),this.load.audio("playerNameSound","../assets/sounds/beccaSound.mp3"),this.load.audio("enemyNameSound","../assets/sounds/norbion.mp3"),this.load.image("roundOneImg","../assets/roundOneImg.png"),this.load.image("roundTwoImg","../assets/roundTwoImg.png"),this.load.image("finalRoundImg","../assets/finalRoundImg.png"),this.load.image("QuestionMarks","../assets/cardQuestionMarks.png"),this.load.audio("speechSound","../assets/speechSound.wav"),this.load.audio("backgroundMusic","../assets/sounds/backgroundMusic.mp3"),Ge.forEach(c=>{!c.sprite||!c.nameSound||this.load.audio(`${c.name}Sound`,c.nameSound)}),tr.forEach(c=>{!c.sprite||!c.nameSound||this.load.audio(`${c.name}Sound`,c.nameSound)}),this.load.audio("backgroundMusic","../assets/sounds/backgroundMusic.mp3")}create(){this.dialogue=new Ce(this),this.isDialogueRunning=!1,this.hasSelectedDevling=!1,this.backgroundMusic=this.sound.add("backgroundMusic",{loop:!0,volume:.2});const c=this.cameras.main,y=c.centerX,P=c.centerY;this.enemyDevling=tr[2],this.anims.create({key:"flame",frames:this.anims.generateFrameNumbers("fire",{start:0,end:5}),frameRate:10,repeat:-1});const M=this.add.sprite(47,329,"fire"),O=this.add.sprite(750,41,"fire");M.play("flame").setScale(2.5).setFrame(3),O.play("flame").setScale(2.5),this.playerSprite=new Te(this,y-20,P-10,"playerSheet",!1),this.add.image(0,0,"background").setOrigin(0).setDepth(-1),this.playerSprite.anims.play("standing"),this.playerSprite.anims.setCurrentFrame(this.playerSprite.anims.currentAnim.frames[2]),this.mitchSprite=new Te(this,y+80,P-10,"mitchSheet",!1),this.mitchSprite.flipX=!0,this.mitchSprite.anims.play("mitchStanding"),this.mitchSprite.anims.setCurrentFrame(this.mitchSprite.anims.currentAnim.frames[3]),this.bossSprite=new Te(this,y+30,P-200,"bossSheet",!1),this.bossSprite.flipX=!0,this.bossSprite.play("bossStanding"),this.questionMarks=this.add.image(y+209,P+117,"QuestionMarks").setScale(.6).setDepth(3),this.grownDevlings=Ge.filter(S=>S.isGrown===!0&&S.hasBattled===!1),this.currentDevlingIndex=0,this.playerDevling=this.grownDevlings[this.currentDevlingIndex],this.playerHead=new Wi(this,y-155,P-6,this.playerDevling).setScale(2),this.playerHealthBar=this.createHealthBar(100,50),this.enemyHealthBar=this.createHealthBar(c.width-100,50),this.enemyHealthBar.flipX=!0,this.playerHealthBar.originalX=this.playerHealthBar.x,this.playerHealthBar.originalY=this.playerHealthBar.y,this.enemyHealthBar.originalX=this.enemyHealthBar.x,this.enemyHealthBar.originalY=this.enemyHealthBar.y;let v=P+73;this.add.image(y-160,P+50,"front").setScale(.9),this.playerHead=new Wi(this,y-155,P-6,this.playerDevling).setScale(2),this.playerCardName=this.playerDevling.name,console.log(this.devlingName),this.playerCardName=this.add.text(y-158,P+55,this.playerDevling.name.toUpperCase(),this.cardTextStyle()).setOrigin(.5),this.enemyCard=this.add.image(y+210,P+50,"enemyfront").setScale(.9).setOrigin(.5),this.enemyHead=new Wi(this,y+205,P-6,this.enemyDevling).setScale(2).setFlipX(!0).setDepth(1),this.enemyCardName=this.add.text(y+210,P+55,this.enemyDevling.name.toUpperCase(),this.cardTextStyle()).setOrigin(.5),this.enemyCardStat=this.add.text(y+210,P+100,"",this.cardStatStyle()).setOrigin(.5).setAlpha(0),this.nameSounds={playerName:this.sound.add(`${this.playerDevling.name}Sound`),vsSound:this.sound.add("vsSound"),enemyName:this.sound.add(`${this.enemyDevling.name}Sound`)},this.statKeys=Object.keys(this.playerDevling).filter(S=>typeof this.playerDevling[S]=="number"&&S!=="plantX"&&S!=="plantY"),this.statTextList=[],this.currentStatIndex=0,this.statKeys.forEach((S,t)=>{const o=this.add.text(y/2.4,v,S.toUpperCase(),{fontSize:"10px",fontFamily:'"Press Start 2P"',fill:"black"}),m=this.add.text(y-152,v,`   LVL${this.playerDevling[S]}`,{fontSize:"10px",fontFamily:'"Press Start 2P"',fill:"black"});this.statTextList.push({name:o,lvl:m}),v+=15}),this.input.keyboard.on("keydown-LEFT",()=>{this.sound.play("nav"),this.switchDevling(-1)}),this.input.keyboard.on("keydown-RIGHT",()=>{this.sound.play("nav"),this.switchDevling(1)}),this.input.keyboard.on("keydown-ENTER",()=>{this.sound.play("select"),this.startBattle()}),this.updatePlayerDevlingInfo=(S,t)=>{this.playerHead.destroy(),this.playerHead=new Wi(this,S-155,t-6,this.playerDevling).setScale(2),this.playerCardName.setText(this.playerDevling.name.toUpperCase()),this.statTextList.forEach((o,m)=>{o.lvl.setText(`   LVL${this.playerDevling[this.statKeys[m]]}`)})},this.switchDevling=S=>{this.currentDevlingIndex+=S,console.log(this.currentDevlingIndex),this.currentDevlingIndex<0?this.currentDevlingIndex=this.grownDevlings.length-1:this.currentDevlingIndex>=this.grownDevlings.length&&(this.currentDevlingIndex=0),this.playerDevling=this.grownDevlings[this.currentDevlingIndex],this.updatePlayerDevlingInfo(y,P)},this.startBattle=()=>{if(this.hasSelectedDevling)return;if(!this.playerDevling){console.warn("No player devling selected!");return}this.hasSelectedDevling=!0;const S=this.playerDevling.name,t=Wt.findIndex(m=>m.name===S);if(t!==-1){const m=Wt.splice(t,1)[0];Bl.push(m),console.log("Retired Inventory:",Bl)}const o=Ge.findIndex(m=>m.name===S);o!==-1&&(Ge[o].hasBattled=!0,console.log("ok")),this.time.delayedCall(2e3,()=>{this.scene.start("trumpBattle",{playerDevling:this.playerDevling})})}}cardTextStyle(){return{fontSize:"15px",fontFamily:'"Press Start 2P"',fill:"black"}}cardStatStyle(){return{fontSize:"25px",fontFamily:'"Press Start 2P"',fill:"black"}}statTextStyle(c){return{fontSize:"60px",fontFamily:'"Press Start 2P"',fill:c}}createHealthBar(c,y){return this.add.image(c,y,"healthFull").setOrigin(.5).setScale(.6)}}class Tx extends Phaser.Scene{constructor(){super("trumpBattle")}preload(){this.load.image("background","../assets/battlewithapproach.png"),this.load.image("playerCard","../assets/cardDesign/cardFront.png"),this.load.image("front","../assets/cardDesign/cardFront.png"),this.load.image("enemyfront","../assets/cardDesign/redCardFront.png"),this.load.image("enemyback","../assets/cardDesign/redCardBack.png"),this.load.audio("nav","../assets/sounds/keypad.mp3"),this.load.audio("select","../assets/sounds/select1.mp3"),this.load.audio("error","../assets/sounds/keypadReject.mp3"),this.load.audio("roundOne","../assets/sounds/roundOne.mp3"),this.load.audio("roundTwo","../assets/sounds/roundtwo.mp3"),this.load.audio("finalRound","../assets/sounds/finalRound.mp3"),this.load.image("healthFull","../assets/health_full.png"),this.load.image("healthMid","../assets/health_mid.png"),this.load.image("healthLow","../assets/health_low.png"),this.load.image("playerDevling","../assets/heads/standingSprite.png"),this.load.image("enemyDevling","../assets/heads/standingSprite.png"),this.load.image("vsImage","../assets/vsimg.png"),this.load.audio("vsSound","../assets/sounds/vssound.mp3"),this.load.audio("playerNameSound","../assets/sounds/beccaSound.mp3"),this.load.audio("enemyNameSound","../assets/sounds/norbion.mp3"),this.load.image("roundOneImg","../assets/roundOneImg.png"),this.load.image("roundTwoImg","../assets/roundTwoImg.png"),this.load.image("finalRoundImg","../assets/finalRoundImg.png"),this.load.image("QuestionMarks","../assets/cardQuestionMarks.png"),this.load.audio("speechSound","../assets/speechSound.wav"),Ge.forEach(c=>{!c.sprite||!c.nameSound||this.load.audio(`${c.name}Sound`,c.nameSound)}),tr.forEach(c=>{!c.sprite||!c.nameSound||this.load.audio(`${c.name}Sound`,c.nameSound)}),this.load.audio("backgroundMusic","../assets/sounds/backgroundMusic.mp3")}init(c){this.playerDevling=c.playerDevling,console.log(this.playerDevling)}create(){this.dialogue=new Ce(this),this.isDialogueRunning=!1,this.input.keyboard.enabled=!0,this.anims.create({key:"flame",frames:this.anims.generateFrameNumbers("fire",{start:0,end:5}),frameRate:10,repeat:-1});const c=this.add.sprite(47,329,"fire"),y=this.add.sprite(750,41,"fire");c.play("flame").setScale(2.5).setFrame(3),y.play("flame").setScale(2.5);const P=this.cameras.main,M=P.centerX,O=P.centerY;this.add.image(0,0,"background").setOrigin(0).setDepth(-1).setDisplaySize(P.width,P.height),this.backgroundMusic=this.sound.add("backgroundMusic",{loop:!0,volume:.2}),this.backgroundMusic.play(),this.playerSprite=new Te(this,M-20,O-10,"playerSheet",!1),this.add.image(0,0,"background").setOrigin(0).setDepth(-1),this.playerSprite.anims.play("standing"),this.playerSprite.anims.setCurrentFrame(this.playerSprite.anims.currentAnim.frames[2]),this.mitchSprite=new Te(this,M+80,O-10,"mitchSheet",!1),this.mitchSprite.flipX=!0,this.mitchSprite.anims.play("mitchStanding"),this.mitchSprite.anims.setCurrentFrame(this.mitchSprite.anims.currentAnim.frames[3]),this.bossSprite=new Te(this,M+30,O-200,"bossSheet",!1),this.bossSprite.flipX=!0,this.bossSprite.play("bossStanding"),this.questionMarks=this.add.image(M+209,O+117,"QuestionMarks").setScale(.6).setDepth(3),this.vsImage=this.add.image(M+30,O+30,"vsImage"),this.vsImage.setAlpha(0),this.vsImage.setDepth(100),this.usedStats=[],this.playerLives=3,this.enemyLives=3,this.isRoundActive=!1,this.isFirstRound=!0,this.isFlipping=!1,this.enemyDevling=tr[2],console.log(this.playerDevling),this.playerHealthBar=this.createHealthBar(100,50),this.enemyHealthBar=this.createHealthBar(P.width-100,50),this.enemyHealthBar.flipX=!0,this.playerHealthBar.originalX=this.playerHealthBar.x,this.playerHealthBar.originalY=this.playerHealthBar.y,this.enemyHealthBar.originalX=this.enemyHealthBar.x,this.enemyHealthBar.originalY=this.enemyHealthBar.y;let v=O+73;this.add.image(M-160,O+50,"front").setScale(.9),this.playerHead=new Wi(this,M-155,O-6,this.playerDevling),this.playerHead.setScale(2),this.enemyHead=new Wi(this,M+205,O-6,this.enemyDevling).setScale(2).setFlipX(!0).setDepth(1),this.playerCardName=this.playerDevling.name,console.log(this.devlingName),this.playerCardName=this.add.text(M-158,O+55,this.playerDevling.name.toUpperCase(),this.cardTextStyle()).setOrigin(.5),this.enemyCard=this.add.image(M+210,O+50,"enemyfront").setScale(.9).setOrigin(.5),this.enemyCardName=this.add.text(M+210,O+55,this.enemyDevling.name.toUpperCase(),this.cardTextStyle()).setOrigin(.5),this.enemyCardStat=this.add.text(M+210,O+100,"",this.cardStatStyle()).setOrigin(.5).setAlpha(0),this.nameSounds={playerName:this.sound.add(`${this.playerDevling.name}Sound`),vsSound:this.sound.add("vsSound"),enemyName:this.sound.add(`${this.enemyDevling.name}Sound`)},this.statKeys=Object.keys(this.playerDevling).filter(S=>typeof this.playerDevling[S]=="number"&&S!=="plantX"&&S!=="plantY"),this.statTextList=[],this.currentStatIndex=0,this.statKeys.forEach((S,t)=>{const o=this.add.text(M/2.4,v,S.toUpperCase(),{fontSize:"10px",fontFamily:'"Press Start 2P"',fill:t===this.currentStatIndex?"green":"black"}),m=this.add.text(M-152,v,`   LVL${this.playerDevling[S]}`,{fontSize:"10px",fontFamily:'"Press Start 2P"',fill:t===this.currentStatIndex?"green":"black"});this.statTextList.push({name:o,lvl:m}),v+=15}),this.input.keyboard.on("keydown-UP",()=>{this.isRoundActive||this.navigateStat(-1)}),this.input.keyboard.on("keydown-DOWN",()=>{this.isRoundActive||this.navigateStat(1)}),this.input.keyboard.on("keydown-ENTER",()=>{this.isRoundActive||this.compareStatValues()}),this.roundCounterText=this.add.text(M,20,"ROUND ONE",{fontSize:"16px",fontFamily:'"Press Start 2P"',fill:"#fff"}).setOrigin(.5,0).setAlpha(0),this.roundSounds={1:this.sound.add("roundOne"),2:this.sound.add("roundTwo"),3:this.sound.add("finalRound")},this.startNextRound()}startNextRound(){const c=this.usedStats.length+1,y=this.roundSounds[c];if(!y)return;this.isRoundActive=!0;const M={1:"roundOneImg",2:"roundTwoImg",3:"finalRoundImg"}[c];if(this.isFirstRound){this.isFirstRound=!1;const{playerName:O,vsSound:v,enemyName:S}=this.nameSounds;O.play(),this.playerHead.playAnimation("win"),this.time.delayedCall(O.duration*1e3,()=>{this.vsImage.setAlpha(1),v.play(),this.tweens.add({targets:this.vsImage,scale:1.5,alpha:0,duration:1e3,onComplete:()=>this.vsImage.setAlpha(0)}),this.time.delayedCall(v.duration*1e3,()=>{S.play(),this.enemyHead.playAnimation("win"),this.time.delayedCall(S.duration*1e3,()=>{this.showRoundTransition(M,y.key),y.play(),this.time.delayedCall(y.duration*1e3,()=>{this.flipEnemyCardToBack(),this.isRoundActive=!1})})})})}else this.showRoundTransition(M,y.key),y.play(),this.time.delayedCall(y.duration*1e3,()=>{this.isRoundActive=!1})}cardTextStyle(){return{fontSize:"15px",fontFamily:'"Press Start 2P"',fill:"black"}}cardStatStyle(){return{fontSize:"25px",fontFamily:'"Press Start 2P"',fill:"black"}}statTextStyle(c){return{fontSize:"60px",fontFamily:'"Press Start 2P"',fill:c}}showRoundTransition(c,y){const P=this.cameras.main.centerX,M=this.cameras.main.centerY,O=this.add.image(P,M+10,c).setAlpha(0).setDepth(2);this.sound.play(y),this.tweens.add({targets:O,alpha:1,scale:1.5,duration:500,ease:"Power2",delay:500,onComplete:()=>{this.time.delayedCall(1e3,()=>{this.tweens.add({targets:O,alpha:0,scale:1,duration:500,ease:"Power2",onComplete:()=>O.destroy()})})}})}navigateStat(c){this.sound.play("nav");const y=this.statKeys.length;this.currentStatIndex=(this.currentStatIndex+c+y)%y,this.statTextList.forEach((P,M)=>{const O=M===this.currentStatIndex;P.name.setColor(O?"green":"black"),P.lvl.setColor(O?"green":"black")})}compareStatValues(){const c=this.statKeys[this.currentStatIndex];if(this.usedStats.includes(c))return this.sound.play("error");this.sound.play("select"),this.usedStats.push(c),this.isRoundActive=!0,this.flipCard(c,()=>{const y=this.playerDevling[c],P=this.enemyDevling.stats[c];let M="draw";y>P?(this.playerHead.playAnimation("win"),this.enemyHead.playAnimation("lose"),M=`  ${this.playerDevling.name} wins!`,this.enemyLives--,this.shakeHealthBar(this.enemyHealthBar)):y<P&&(this.playerHead.playAnimation("lose"),this.enemyHead.playAnimation("win"),M=`${this.enemyDevling.name} wins!`,this.playerLives--,this.shakeHealthBar(this.playerHealthBar),this.cameras.main.shake(100,.005));const O=this.statTextList[this.currentStatIndex];O.name.setColor("gray").setTint(8947848).setAlpha(.5),O.lvl.setColor("gray").setTint(8947848).setAlpha(.5),this.dialogue.startDialogue([{text:`${c.toUpperCase()} — ${M}`,speaker:"",color:"#1f451c"}],null,270,350),this.updateHealthBars();const v=3-this.enemyLives,S=3-this.playerLives;v===2||S===2||this.usedStats.length>=3?this.time.delayedCall(2500,()=>{if(this.playerLives>this.enemyLives){const o=this.playerDevling.name.toUpperCase();this.dialogue.startDialogue([{text:`  YAY! ${o} GOT THE JOB!!!`,speaker:"",color:"#1f451c",X:230,Y:350}],null,260,350)}else this.dialogue.startDialogue([{text:`Unfortunately, ${this.enemyDevling.name} has been hired!`,speaker:"",color:"#1f451c"}],null,200,350);this.time.delayedCall(2e3,()=>this.moveScene("overworldScene"))}):this.time.delayedCall(4e3,()=>{this.flipCardBack(()=>this.startNextRound())})})}shakeHealthBar(c){this.tweens.add({targets:c,x:c.x+Phaser.Math.Between(-5,5),y:c.y+Phaser.Math.Between(-5,5),duration:50,yoyo:!0,repeat:4,ease:"Sine.easeInOut",onComplete:()=>{c.setPosition(c.originalX,c.originalY)}})}flipCard(c,y){this.isFlipping=!0,this.enemyHead.setAlpha(0),this.enemyCardStat.setAlpha(0),this.enemyCardName.setAlpha(0),this.tweens.add({targets:this.enemyCard,scaleX:0,duration:300,onComplete:()=>{this.enemyCard.setTexture("enemyfront"),this.enemyCardName.setText(this.enemyDevling.name.toUpperCase()),this.enemyCardStat.setText(`${this.enemyDevling.stats[c]}`),this.enemyHead.setAlpha(0),this.tweens.add({targets:this.enemyCard,scaleX:.9,duration:300,onComplete:()=>{this.tweens.add({targets:[this.enemyCardStat,this.enemyCardName,this.enemyHead],alpha:1,duration:300,onComplete:()=>{this.isFlipping=!1,y()}})}})}})}flipCardBack(c){this.tweens.add({targets:[this.enemyHead,this.enemyCardStat,this.enemyCardName,this.questionMarks],alpha:0,duration:200,ease:"Power1"}),this.tweens.add({targets:this.enemyCard,scaleX:0,duration:300,ease:"Power2",onComplete:()=>{this.enemyCard.setTexture("enemyback"),this.enemyCardStat.setText(""),this.tweens.add({targets:this.enemyCard,scaleX:.9,duration:300,ease:"Power2",onComplete:()=>{c==null||c(),this.roundCounterText.setText(`Round: ${this.usedStats.length+1}`)}})}})}flipEnemyCardToBack(){this.tweens.add({targets:[this.enemyHead,this.enemyCardStat,this.enemyCardName,this.questionMarks],alpha:0,duration:200,ease:"Power1"}),this.tweens.add({targets:this.enemyCard,scaleX:0,duration:300,ease:"Power2",onComplete:()=>{this.enemyCard.setTexture("enemyback"),this.tweens.add({targets:this.enemyCard,scaleX:.9,duration:300,ease:"Power2"})}})}createHealthBar(c,y){return this.add.image(c,y,"healthFull").setOrigin(.5).setScale(.6)}updateHealthBars(){const c=y=>y===3?"healthFull":y===2?"healthMid":"healthLow";this.playerHealthBar.setTexture(c(this.playerLives)),this.enemyHealthBar.setTexture(c(this.enemyLives))}moveScene(){this.sound.stopAll(),this.input.keyboard.enabled=!1,this.cameras.main.fadeOut(1e3,0,0,0),this.time.delayedCall(1e3,()=>{this.scene.start("overworldScene",{from:"trumpScene"})})}}class Sx extends ct.Scene{constructor(){super("minigameSnake"),this.snakeSprites=[],this.activeGrowthTweens=[],this.activeGrowthTimers=[],this.lumps=[],this.hasDied=!1}preload(){this.load.image("snakemud","../assets/minigames/snake/snakemud.png"),this.load.image("snakeSegment","../assets/minigames/snake/snakeSegment.png"),this.load.image("weed","../assets/minigames/snake/weed.png"),this.load.image("lump","../assets/minigames/snake/lump.png"),this.load.audio("foodSound","../assets/minigames/snake/food.wav"),this.load.audio("dieSound","../assets/minigames/snake/die.wav"),this.load.audio("growSound","../assets/minigames/snake/grow.wav"),this.load.audio("endgrowSound","../assets/minigames/snake/endgrow.wav"),this.load.audio("youdiedSound","../assets/minigames/snake/youdied.wav"),this.load.audio("lumpSound","../assets/planting.wav"),this.load.audio("snekMoveSound","../assets/minigames/snake/snekMoveSound.wav"),this.load.audio("speechSound","../assets/speechSound.wav")}create(){this.input.keyboard.enabled=!0,this.cellSize=32,this.gridWidth=this.scale.width/this.cellSize,this.gridHeight=this.scale.height/this.cellSize,this.add.image(400,224,"snakemud"),this.foodSound=this.sound.add("foodSound"),this.dieSound=this.sound.add("dieSound"),this.growSound=this.sound.add("growSound"),this.endgrowSound=this.sound.add("endgrowSound"),this.youdiedSound=this.sound.add("youdiedSound"),this.lumpSound=this.sound.add("lumpSound"),this.snekMoveSound=this.sound.add("snekMoveSound"),this.dialogue=new Ce(this),this.isDialogueRunning=!1,this.dialogue.startDialogue([{text:" Hey there Danger Noodle!",speaker:"",color:"#1f451c",x:250,y:20},{text:"Be a good Snek and eat up all of the tasty weeds. Nom. Nom. Nom.",speaker:"",color:"#1f451c",x:200,y:20},{text:"Don't eat the Devlings as they start to sprout because that would make Rose a sad Panda.",speaker:"",color:"#1f451c",x:200,y:20},{text:"Also the DfE would start asking difficult questions , but I digress ...",speaker:"",color:"#1f451c",x:225,y:20},{text:"Arrow keys to move, press Space to start.",speaker:"",color:"#1f451c",x:220,y:20}],null,240,20),this.input.keyboard.once("keydown-SPACE",()=>{this.dialogue&&this.dialogue.stopDialogue(),this.startCountdown(),this.time.delayedCall(4e3,()=>{this.spawnFoodTimer(),this.spawnLumpTimer()})}),this.initialiseSnake(),this.nextDirection=null,this.directionChangedThisStep=!1,this.food=null,this.justAteFood=!1,this.cursors=this.input.keyboard.createCursorKeys(),this.weedsEaten=0,this.weedCounterText=this.add.text(10,5,"Weeds: 0",{fontFamily:"VT323",fontSize:"20px",color:"#ffffff"}).setShadow(3,3,"#000000",2,!1,!0).setDepth(10),this.input.keyboard.on("keydown-S",()=>{this.time.timeScale=this.time.timeScale===1?.25:1})}update(){this.sceneIsFrozen||this.directionChangedThisStep||(this.cursors.left.isDown&&this.direction.x!==1?(this.nextDirection={x:-1,y:0},this.directionChangedThisStep=!0):this.cursors.right.isDown&&this.direction.x!==-1?(this.nextDirection={x:1,y:0},this.directionChangedThisStep=!0):this.cursors.up.isDown&&this.direction.y!==1?(this.nextDirection={x:0,y:-1},this.directionChangedThisStep=!0):this.cursors.down.isDown&&this.direction.y!==-1&&(this.nextDirection={x:0,y:1},this.directionChangedThisStep=!0),this.nextDirection&&!this.isOpposite(this.nextDirection,this.direction)&&(this.direction=this.nextDirection))}initialiseSnake(){this.snake=[{x:13,y:9},{x:12,y:9},{x:11,y:9}],this.direction={x:1,y:0},this.newDirection={x:1,y:0},this.snakeSprites=[],this.snake.forEach((c,y)=>{const P=c.x*this.cellSize+this.cellSize/2,M=c.y*this.cellSize+this.cellSize/2,O=this.add.sprite(P,M,"snakeSegment"),v=this.add.sprite(P-2,M+2,"snakeSegment");v.setTint(0).setAlpha(.3).setDepth(4),O.setDepth(5),O.setScale(y===0?1.2:.8),v.setScale(y===0?1.1:.7),this.snakeSprites.push({sprite:O,shadow:v})}),this.snakeHead=this.snakeSprites[0]}renderSnake(){this.hasDied||this.snake.forEach((c,y)=>{const P=c.x*this.cellSize+this.cellSize/2,M=c.y*this.cellSize+this.cellSize/2;let O=this.snakeSprites[y];if(!O){const t=this.add.sprite(P,M,"snakeSegment"),o=this.add.sprite(P-2,M+2,"snakeSegment");o.setTint(0).setAlpha(.5).setDepth(4),t.setDepth(5),t.setScale(y===0?1:.7),o.setScale(y===0?.9:.6),this.snakeSprites[y]={sprite:t,shadow:o},O=this.snakeSprites[y]}const{sprite:v,shadow:S}=O;this.tweens.add({targets:S,x:P-2,y:M+2,duration:150,ease:"Linear"}),this.tweens.add({targets:v,x:P,y:M,duration:150,ease:"Linear"}),y===0?(v.setScale(1),v.setDepth(6)):(v.setScale(.7),v.setDepth(5))})}moveSnake(){if(this.hasDied||this.sceneIsFrozen)return;this.nextDirection&&!this.isOpposite(this.nextDirection,this.direction)&&(this.direction=this.nextDirection),this.nextDirection=null,this.directionChangedThisStep=!1;const c=this.snake[0],y={x:c.x+this.direction.x,y:c.y+this.direction.y},P=c.x*this.cellSize+this.cellSize/2,M=c.y*this.cellSize+this.cellSize/2;if(!this.hasDied&&!this.sceneIsFrozen&&this.leaveTrailSegment(P,M),y.x<0||y.x>=this.gridWidth||y.y<0||y.y>=this.gridHeight){this.snake.unshift(y),this.snake.pop(),this.ensureSpriteListLength(),this.renderSnake(),this.endGame();return}this.snake.unshift(y);const O=ct.Math.FloatBetween(.3,.6),v=ct.Math.Between(500,600),S=ct.Math.FloatBetween(.1,.3);this.time.delayedCall(v,()=>{this.snekMoveSound.setVolume(S).play({rate:O})});for(let m=1;m<this.snake.length;m++)if(y.x===this.snake[m].x&&y.y===this.snake[m].y){this.ensureSpriteListLength(),this.renderSnake(),this.endGame();return}for(const m of this.lumps)if(y.x===m.gridX&&y.y===m.gridY){this.ensureSpriteListLength(),this.renderSnake(),this.endGame();return}const t=this.food&&y.x===this.food.gridX&&y.y===this.food.gridY,o={...this.snake[this.snake.length-1]};this.snake.pop(),t?(this.food.destroy(),this.foodShadow.destroy(),this.food=null,this.weedsEaten++,this.weedCounterText.setText(`Weeds: ${this.weedsEaten}`),this.renderSnake(),this.animateSnakeGrowth(o)):this.renderSnake()}isOpposite(c,y){return c.x===-y.x&&c.y===-y.y}ensureSpriteListLength(){for(;this.snakeSprites.length<this.snake.length;)this.snakeSprites.push(null)}spawnFoodTimer(){const c=ct.Math.Between(2e3,4e3);this.time.delayedCall(c,()=>{this.food||this.spawnFood(),this.spawnFoodTimer()})}spawnLumpTimer(){const c=ct.Math.Between(3e3,7e3);this.time.delayedCall(c,()=>{this.spawnLump(),this.spawnLumpTimer()})}spawnFood(){if(this.hasDied)return;this.food&&(this.food.destroy(),this.foodShadow.destroy());const c=[];for(let a=0;a<this.gridHeight;a++)for(let r=0;r<this.gridWidth;r++)c.push({x:r,y:a});const y=this.snake.map(a=>`${a.x},${a.y}`),P=this.lumps.map(a=>`${a.gridX},${a.gridY}`),M=new Set([...y,...P]),O=a=>{const r=[{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:-1,y:0}];let n=0;for(const e of r){const s=a.x+e.x,h=a.y+e.y,i=`${s},${h}`;s>=0&&s<this.gridWidth&&h>=0&&h<this.gridHeight&&!M.has(i)&&n++}return n>=2},v=c.filter(a=>{const r=`${a.x},${a.y}`,n=this.snake[0],e=Math.abs(a.x-n.x)+Math.abs(a.y-n.y);return!M.has(r)&&e>3&&O(a)});if(v.length===0)return;const S=ct.Utils.Array.GetRandom(v),t=S.x*this.cellSize+this.cellSize/2,o=S.y*this.cellSize+this.cellSize/2;this.food=this.add.image(t,o,"weed").setDepth(4).setScale(1),this.foodShadow=this.add.image(t-2,o+2,"weed").setDepth(3).setScale(1.5).setAlpha(.4).setTint(0),this.food.gridX=S.x,this.food.gridY=S.y;const m=ct.Math.FloatBetween(.8,1.2);this.foodSound.play({rate:m}),this.tweens.add({targets:this.food,duration:400,yoyo:!0,repeat:-1,tint:16777215,scale:{from:1,to:1.7},ease:"Sine.easeInOut"}),this.tweens.add({targets:this.foodShadow,duration:400,yoyo:!0,repeat:-1,scale:{from:1,to:1.5},ease:"Sine.easeInOut"})}spawnLump(){if(this.hasDied)return;const c=[];for(let n=0;n<this.gridHeight;n++)for(let e=0;e<this.gridWidth;e++)c.push({x:e,y:n});const y=this.snake.map(n=>`${n.x},${n.y}`),P=this.lumps.map(n=>`${n.gridX},${n.gridY}`),M=this.food?[`${this.food.gridX},${this.food.gridY}`]:[],O=new Set([...y,...P,...M]),v=n=>{const e=[{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:-1,y:0}];let s=0;for(const h of e){const i=n.x+h.x,l=n.y+h.y,u=`${i},${l}`;i>=0&&i<this.gridWidth&&l>=0&&l<this.gridHeight&&!O.has(u)&&s++}return s>=2},S=c.filter(n=>{const e=`${n.x},${n.y}`,s=this.snake[0],h=Math.abs(n.x-s.x)+Math.abs(n.y-s.y);return!O.has(e)&&h>3&&v(n)});if(S.length===0)return;const t=ct.Utils.Array.GetRandom(S),o=t.x*this.cellSize+this.cellSize/2,m=t.y*this.cellSize+this.cellSize/2,a=this.add.image(o,m,"lump").setDepth(4).setScale(1),r=this.add.image(o-2,m+2,"lump").setDepth(3).setScale(1.1).setAlpha(.4).setTint(0);this.lumpSound.play(),this.tweens.add({targets:a,x:{from:o-2,to:o+2},duration:100,yoyo:!0,repeat:4,ease:"Sine.easeInOut"}),this.lumps.push({sprite:a,shadow:r,gridX:t.x,gridY:t.y})}animateSnakeGrowth(c){if(this.hasDied)return;this.activeGrowthTweens=[],this.activeGrowthTimers=[],this.snake.forEach((M,O)=>{const v=this.snakeSprites[O];if(!v||!v.sprite||!v.shadow)return;const{sprite:S,shadow:t}=v,o=this.time.delayedCall(O*75,()=>{this.growSound.setDetune(O*75).play()});this.activeGrowthTimers.push(o);const m=this.tweens.add({targets:S,scaleX:S.scaleX*1.5,scaleY:S.scaleY*1.5,duration:100,yoyo:!0,delay:O*50,ease:"Sine.easeInOut"});this.activeGrowthTweens.push(m);const a=this.tweens.add({targets:t,scaleX:t.scaleX*1.2,scaleY:t.scaleY*1.2,duration:100,yoyo:!0,delay:O*50,ease:"Sine.easeInOut"});this.activeGrowthTweens.push(a)});const y=(this.snake.length-1)*75,P=this.time.delayedCall(y,()=>{if(this.hasDied)return;const M=this.snake[this.snake.length-1];this.snake.push({...M});const O=this.add.sprite(M.x*this.cellSize+this.cellSize/2,M.y*this.cellSize+this.cellSize/2,"snakeSegment").setScale(1).setAlpha(0).setDepth(4),v=this.add.sprite(M.x*this.cellSize+this.cellSize/2-2,M.y*this.cellSize+this.cellSize/2+2,"snakeSegment").setTint(0).setAlpha(0).setDepth(3).setScale(.7);this.endgrowSound.play({rate:1.2}),this.snakeSprites.push({sprite:O,shadow:v}),this.activeGrowthTweens.push(this.tweens.add({targets:O,alpha:1,scale:.7,duration:300,delay:0,ease:"Back.Out"})),this.activeGrowthTweens.push(this.tweens.add({targets:v,alpha:.5,scale:.7,duration:300,delay:0,ease:"Back.Out"}))});this.activeGrowthTimers.push(P)}leaveTrailSegment(c,y){const P=[{x:-3,y:0},{x:0,y:-3},{x:3,y:0},{x:0,y:3}],M=ct.Math.Between(-4,4),O=ct.Math.Between(-4,4),S=1750+this.snake.length*75;P.forEach((t,o)=>{const m=this.add.image(c+t.x+M,y+t.y+O,"snakeSegment").setAlpha(o===0?.45:.3).setDepth(2).setTint(4203037).setScale(.7+o*.15);this.tweens.add({targets:m,alpha:0,duration:S+100*o,ease:"Linear",onComplete:()=>m.destroy()})})}startGameLoop(){this.snakeMoveTimer=this.time.addEvent({delay:150,loop:!0,callback:this.moveSnake,callbackScope:this})}startCountdown(){const c=["3","2","1","GO!"];let y=0;const P=this.add.text(400,224,"",{fontFamily:"VT323",fontSize:"84px",color:"#ff0000"}).setOrigin(.5).setDepth(20);this.sceneIsFrozen=!0,c.forEach((M,O)=>{this.time.delayedCall(y,()=>{P.setText(M),P.setAlpha(0),P.setScale(.5),P.setShadow(3,3,"#000000",4,!1,!0),this.tweens.add({targets:P,alpha:1,scale:1,duration:400,yoyo:!0,ease:"Sine.easeInOut"}),M!=="GO!"?this.foodSound.play({rate:.8}):this.endgrowSound.play()}),y+=1e3}),this.time.delayedCall(y,()=>{P.destroy(),this.sceneIsFrozen=!1,this.startGameLoop()})}endGame(){this.hasDied||(this.hasDied=!0,this.activeGrowthTweens&&(this.activeGrowthTweens.forEach(c=>c.stop()),this.activeGrowthTweens=[]),this.activeGrowthTimers&&(this.activeGrowthTimers.forEach(c=>c.remove()),this.activeGrowthTimers=[]),this.cameras.main.shake(100,.01),this.time.delayedCall(75,()=>{this.tweens.killAll(),this.dieSound.setVolume(.3).play();const c=this.add.rectangle(400,224,800,448,0).setAlpha(0).setDepth(10),y=this.add.text(400,224,"YOU DIED.",{fontFamily:"VT323",fontSize:"32px",color:"#ff0000"}).setOrigin(.5).setAlpha(0).setDepth(11).setScale(1.6);this.tweens.add({targets:c,alpha:1,duration:1800,ease:"Linear",onComplete:()=>{this.youdiedSound.setVolume(.6).play(),this.tweens.add({targets:y,alpha:1,duration:2500,scale:{from:1.6,to:2},ease:"Cubic.easeOut",onComplete:()=>{this.input.keyboard.once("keydown-SPACE",()=>{const P=this.scene.get("farmScene");P.weedsEatenBySnake=this.weedsEaten,this.scene.stop("minigameSnake"),this.scene.wake("farmScene")})}})}})}))}}class Ex extends ct.Scene{constructor(){super("dungeonScene")}preload(){this.load.image("dungeon","../assets/newdungeon.png"),this.load.spritesheet("playerSheet","../assets/rose.png",{frameWidth:64,frameHeight:64}),this.load.spritesheet("devlingImage","../assets/devlingSpritesheet.png",{frameWidth:64,frameHeight:64})}create(){this.spaceKey=this.input.keyboard.addKey(ct.Input.Keyboard.KeyCodes.SPACE),this.pKey=this.input.keyboard.addKey(ct.Input.Keyboard.KeyCodes.P),this.cameras.main.fadeIn(1e3,0,0,0),this.dialogue=new Ce(this),this.isDialogueRunning=!1,this.renderInventory=new en(this),this.renderInventory.render(Wt),this.add.image(400,221,"dungeon"),this.dialogue.startDialogue([{text:`"Wicked Mitch of the West's Tech Dungeon"(tm) is not safe to be visited right now.`,speaker:"",color:"#1f451c"},{text:"Please come back at a later date to see how your Devlings have suffered.",speaker:"",color:"#1f451c"},{text:"An infinite loop of...",speaker:"left",color:"#1f451c",x:330,y:135},{text:"PAIN!!!",speaker:"left",color:"#1f451c",x:330,y:135},{text:"Trapped in development hell!",speaker:"left",color:"#1f451c",x:460,y:165},{text:"Thanks CorthNoders!",speaker:"left",color:"#1f451c",x:395,y:60}],null,220,365)}update(){ct.Input.Keyboard.JustDown(this.spaceKey)&&this.moveScene()}moveScene(){this.input.keyboard.enabled=!1,this.cameras.main.fadeOut(1e3,0,0,0),this.time.delayedCall(1e3,()=>{this.scene.start("overworldScene",{from:"dungeonScene"}),this.input.keyboard.enabled=!0})}}let $i=null;const Cx={type:ct.AUTO,width:800,height:448,backgroundColor:"#2d2d2d",parent:"stackdew-valley",scene:[hx,lx,vx,Sx,ux,Ex,dx,cx,px,mx,fx,xx,Tx,gx,yx],scale:{mode:ct.Scale.FIT,autoCenter:ct.Scale.CENTER_BOTH},physics:{default:"arcade",arcade:{debug:!1}}},Ax=()=>{$i||($i=new ct.Game(Cx))},Px=()=>{$i&&($i.destroy(!0),$i=null)},Rx=()=>$i,wx=()=>{const A={};for(let c=0;c<6;c++)A[`slot${c}`]={item:null};return A},Mx=async(A,c,y)=>{if(c!==y)throw new Error("Passwords do not match!");const P=`${A}@example.com`;try{const O=(await gp(Tr,P,c)).user,v=wx(),S=id(fo,"users",O.uid);await tx(S,{username:A,email:O.email,inventory:v,created_at:Dl(),last_login_at:Dl(),user_id:O.uid,position:{x:0,y:0,map:"StartZone"}})}catch(M){throw new Error(`Signup failed: ${M.message}`)}},Ix=async(A,c)=>{try{const y=await _y(ky(Oy(fo,"users"),$y("username","==",A)));if(y.empty)throw new Error("User not found!");const P=y.docs[0].data().email;await yp(Tr,P,c)}catch(y){throw new Error(`Login failed: ${y.message}`)}},Lx=async A=>{const c=document.getElementById("user-display"),y=document.getElementById("login-btn"),P=document.getElementById("logout-btn");if(A)try{const M=id(fo,"users",A.uid),O=await qy(M);if(O.exists()){const v=O.data();c.textContent=`Logged in as: ${v.username}`}y.style.display="none",P.style.display="inline-block",Rx()||Ax()}catch(M){console.error("Error fetching user data:",M)}else c.textContent="",y.style.display="inline-block",P.style.display="none",Px()},Fx=()=>{const A=document.getElementById("theme-toggle"),c=window.matchMedia("(prefers-color-scheme: dark)").matches;(localStorage.getItem("theme")==="dark"||!localStorage.getItem("theme")&&c)&&(document.documentElement.setAttribute("data-theme","dark"),A&&(A.textContent="🌙")),A&&A.addEventListener("click",()=>{document.documentElement.getAttribute("data-theme")==="dark"?(document.documentElement.setAttribute("data-theme","light"),localStorage.setItem("theme","light"),A.textContent="🌞"):(document.documentElement.setAttribute("data-theme","dark"),localStorage.setItem("theme","dark"),A.textContent="🌙")})},Ox=()=>{const A=`
        <div id="auth-modal" class="modal">
            <div class="modal-content">
                <span id="close-modal" class="close-btn">&times;</span>
                <div id="auth-forms">
                    <div id="login-form">
                        <h2>Login</h2>
                        <form id="login">
                            <label for="username">Username:</label>
                            <input type="text" id="username" name="username" required />
                            <label for="password">Password:</label>
                            <input type="password" id="password" name="password" required />
                            <button type="submit">Login</button>
                        </form>
                        <p>Don't have an account? <span id="show-signup">Sign up here</span></p>
                    </div>
                    <div id="signup-form" style="display: none;">
                        <h2>Sign Up</h2>
                        <form id="signup">
                            <label for="new-username">Username:</label>
                            <input type="text" id="new-username" name="new-username" required />
                            <label for="new-password">Password:</label>
                            <input type="password" id="new-password" name="new-password" required />
                            <label for="confirm-password">Confirm Password:</label>
                            <input type="password" id="confirm-password" name="confirm-password" required />
                            <button type="submit">Sign Up</button>
                        </form>
                        <p>Already have an account? <span id="show-login">Login here</span></p>
                    </div>
                </div>
            </div>
        </div>
    `,c=document.getElementById("app");c.innerHTML+=A;const y=document.getElementById("auth-modal"),P=document.getElementById("close-modal"),M=document.getElementById("login-btn"),O=document.getElementById("login"),v=document.getElementById("signup"),S=document.getElementById("show-signup"),t=document.getElementById("show-login");M.addEventListener("click",()=>{y.style.display="block"}),P.addEventListener("click",()=>{y.style.display="none"}),window.addEventListener("click",o=>{o.target===y&&(y.style.display="none")}),O.addEventListener("submit",async function(o){o.preventDefault();const m=document.getElementById("username").value,a=document.getElementById("password").value;try{await Ix(m,a),alert("Logged in successfully!"),y.style.display="none"}catch(r){alert(r.message)}}),v.addEventListener("submit",async function(o){o.preventDefault();const m=document.getElementById("new-username").value,a=document.getElementById("new-password").value,r=document.getElementById("confirm-password").value;if(a!==r){alert("Passwords do not match!");return}try{await Mx(m,a,r),alert("Signed up successfully!"),y.style.display="none"}catch(n){alert(`Signup failed: ${n.message}`)}}),S.addEventListener("click",()=>{document.getElementById("login-form").style.display="none",document.getElementById("signup-form").style.display="block"}),t.addEventListener("click",()=>{document.getElementById("signup-form").style.display="none",document.getElementById("login-form").style.display="block"})},Dx=A=>A.map(c=>`
      <div class="team-member">
        <img src="https://avatars.githubusercontent.com/${c.github}" alt="${c.name}" class="avatar" />
        <h3>${c.name}</h3>
        <a href="https://github.com/${c.github}" target="_blank">GitHub</a>
      </div>
    `).join(""),Nx=()=>{const A=`
  <div id="about-modal" class="modal">
    <div class="modal-content">
      <span id="close-about-modal" class="close-btn">&times;</span>
      <div id="about-content">
        
        <section class="about-section">
          <h2>Meet the Team</h2>
          <div class="team-grid">
            ${Dx([{name:"Chris Askew",github:"slightly76"},{name:"Tymur Holovko",github:"papaparadox"},{name:"Sophie Thompson",github:"sophtompa"},{name:"Paul McDonagh",github:"testmango-sudo"},{name:"Ken'Terria Reaves",github:"MuseOfCode"},{name:"Dean Wilson",github:"notyourimaginarycoder"}])}
          </div>
        </section>

        <br/>
        <hr/>

        <section class="about-section">
          <h2>Tech Stack</h2>
          <div class="logo-grid">
            <div class="logo-item">
              <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/javascript/javascript-original.svg" alt="JavaScript">
              <span>JavaScript</span>
            </div>
            <div class="logo-item">
              <img src="https://cdn.phaser.io/images/logo/logo-download-vector.png" alt="Phaser">
              <span>Phaser</span>
            </div>
            <div class="logo-item">
              <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/vite/vite-original.svg" alt="Vite">
              <span>Vite</span>
            </div>
            <div class="logo-item">
              <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/html5/html5-original.svg" alt="HTML5">
              <span>HTML5</span>
            </div>
            <div class="logo-item">
              <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/firebase/firebase-plain.svg" alt="Firebase">
              <span>Firebase</span>
            </div>
          </div>
        </section>

      </div>
    </div>
  </div>
`;document.body.insertAdjacentHTML("beforeend",A);const c=document.getElementById("about-modal");document.getElementById("close-about-modal").addEventListener("click",()=>{c.style.display="none"}),window.addEventListener("click",M=>{M.target===c&&(c.style.display="none")});const P=document.querySelector('a[href="#about"]');P&&P.addEventListener("click",M=>{M.preventDefault(),c.style.display="block"})},Bx=()=>{document.body.insertAdjacentHTML("beforeend",`
  <div id="instructions-section">
    <div id="instructions-modal" class="modal">
      <div class="modal-content">
        <span id="close-instructions-modal" class="close-btn">&times;</span>
        <div id="instructions-content">
          <section class="instructions-section">
            <h2>Instructions</h2>
            <p>
              Welcome to <strong>Stack Dew Valley</strong>.<br><br>
              You have been given a lucrative job working for the Southcoders Coding School in the countryside.
              Your mission, should you choose to accept it, is to receive a new intake of devlings thirsting for knowledge. 
              Plant the devlings in your devling patch and water them with all the knowledge of coding they will need in order to succeed in the job market. 
              Once your devlings have learned all they can, you must harvest and take them to the dreaded job arena where they will battle it out 
              with devlings from the insidious Eastcoders Bootcamp to win the ultimate prize: a job in the tech industry—spending their days tapping 
              away at a keyboard in the pursuit of the most noble goal: creating the ultimate piece of code. 
              <br><br>
              <strong>Gameplay:</strong><br>
              - When the game starts, go to your laptop and collect the first intake of devlings.<br>
              - Take them to the devling patch.<br>
              - Move your player using the <strong>arrow keys</strong>.<br>
              - Interact with the laptop using the <strong>space bar</strong>.<br>
              - Once planted, water your devlings with knowledge.<br><br>
              Be careful! If your devlings use AI too many times, they will be sent to the <em>Tech Dungeon</em>, where they can only be freed by solving coding tests 
              without AI or by discovering the identity of the eternal "Mitch".<br><br>
              Once your devlings have been harvested, take them to the job market and battle against the Eastcoders.<br><br>
              <strong>Good Luck!</strong><br><br>
              <em>Upcoming Features:</em><br>
              - Programming problems for devlings to solve<br>
              - More complex game mechanics for fight sequences<br>
              - Customisable characters
            </p>
          </section>
        </div>
      </div>
    </div>
  </div>
`);const c=document.getElementById("instructions-modal");document.getElementById("close-instructions-modal").addEventListener("click",()=>{c.style.display="none"}),window.addEventListener("click",M=>{M.target===c&&(c.style.display="none")});const P=document.querySelector('a[href="#instructions"]');P&&P.addEventListener("click",M=>{M.preventDefault(),c.style.display="block"})};document.addEventListener("DOMContentLoaded",()=>{const A=document.createElement("nav");A.classList.add("navbar"),A.innerHTML=`
    <ul class="navbar-left">
      <li><a href="#home">Home</a></li>
      <li><a href="#about">About</a></li>
      <li><a href="#instructions">Instructions</a></li>
  </ul>
  <ul class="navbar-right">
      <li><span id="user-display" style="color:white;"></span></li>
      <li><button id="login-btn">Login</button></li>
      <li><button id="logout-btn" style="display: none;">Logout</button></li>
      <li><button id="theme-toggle" aria-label="Toggle dark mode">🌞</button></li>
  </ul>
    `,document.getElementById("app").appendChild(A),Ox(),Nx(),Bx(),Sp(Tr,y=>{Lx(y)}),Fx()});document.addEventListener("click",async A=>{if(A.target.id==="logout-btn")try{await Ep(Tr),document.getElementById("user-display").textContent="",alert("Successfully logged out")}catch(c){console.error("Logout error:",c),alert(`Logout failed: ${c.message}`)}});
